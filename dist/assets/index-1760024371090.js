function eC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ms(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var tC={exports:{}},fh={},nC={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jc=Symbol.for("react.element"),nM=Symbol.for("react.portal"),rM=Symbol.for("react.fragment"),iM=Symbol.for("react.strict_mode"),sM=Symbol.for("react.profiler"),oM=Symbol.for("react.provider"),aM=Symbol.for("react.context"),lM=Symbol.for("react.forward_ref"),cM=Symbol.for("react.suspense"),uM=Symbol.for("react.memo"),dM=Symbol.for("react.lazy"),$_=Symbol.iterator;function hM(e){return e===null||typeof e!="object"?null:(e=$_&&e[$_]||e["@@iterator"],typeof e=="function"?e:null)}var rC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iC=Object.assign,sC={};function Ta(e,t,n){this.props=e,this.context=t,this.refs=sC,this.updater=n||rC}Ta.prototype.isReactComponent={};Ta.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ta.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oC(){}oC.prototype=Ta.prototype;function Rv(e,t,n){this.props=e,this.context=t,this.refs=sC,this.updater=n||rC}var Lv=Rv.prototype=new oC;Lv.constructor=Rv;iC(Lv,Ta.prototype);Lv.isPureReactComponent=!0;var F_=Array.isArray,aC=Object.prototype.hasOwnProperty,Ov={current:null},lC={key:!0,ref:!0,__self:!0,__source:!0};function cC(e,t,n){var r,i={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)aC.call(t,r)&&!lC.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var u=Array(c),h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:jc,type:e,key:o,ref:l,props:i,_owner:Ov.current}}function fM(e,t){return{$$typeof:jc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mv(e){return typeof e=="object"&&e!==null&&e.$$typeof===jc}function mM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var B_=/\/+/g;function cm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mM(""+e.key):t.toString(36)}function Xu(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case jc:case nM:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+cm(l,0):r,F_(i)?(n="",e!=null&&(n=e.replace(B_,"$&/")+"/"),Xu(i,t,n,"",function(h){return h})):i!=null&&(Mv(i)&&(i=fM(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(B_,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",F_(e))for(var c=0;c<e.length;c++){o=e[c];var u=r+cm(o,c);l+=Xu(o,t,n,u,i)}else if(u=hM(e),typeof u=="function")for(e=u.call(e),c=0;!(o=e.next()).done;)o=o.value,u=r+cm(o,c++),l+=Xu(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function du(e,t,n){if(e==null)return e;var r=[],i=0;return Xu(e,r,"","",function(o){return t.call(n,o,i++)}),r}function pM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cn={current:null},Qu={transition:null},gM={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:Qu,ReactCurrentOwner:Ov};function uC(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:du,forEach:function(e,t,n){du(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return du(e,function(){t++}),t},toArray:function(e){return du(e,function(t){return t})||[]},only:function(e){if(!Mv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=Ta;Me.Fragment=rM;Me.Profiler=sM;Me.PureComponent=Rv;Me.StrictMode=iM;Me.Suspense=cM;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gM;Me.act=uC;Me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=iC({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Ov.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)aC.call(t,u)&&!lC.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:jc,type:e.type,key:i,ref:o,props:r,_owner:l}};Me.createContext=function(e){return e={$$typeof:aM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oM,_context:e},e.Consumer=e};Me.createElement=cC;Me.createFactory=function(e){var t=cC.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:lM,render:e}};Me.isValidElement=Mv;Me.lazy=function(e){return{$$typeof:dM,_payload:{_status:-1,_result:e},_init:pM}};Me.memo=function(e,t){return{$$typeof:uM,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=Qu.transition;Qu.transition={};try{e()}finally{Qu.transition=t}};Me.unstable_act=uC;Me.useCallback=function(e,t){return cn.current.useCallback(e,t)};Me.useContext=function(e){return cn.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return cn.current.useDeferredValue(e)};Me.useEffect=function(e,t){return cn.current.useEffect(e,t)};Me.useId=function(){return cn.current.useId()};Me.useImperativeHandle=function(e,t,n){return cn.current.useImperativeHandle(e,t,n)};Me.useInsertionEffect=function(e,t){return cn.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return cn.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return cn.current.useMemo(e,t)};Me.useReducer=function(e,t,n){return cn.current.useReducer(e,t,n)};Me.useRef=function(e){return cn.current.useRef(e)};Me.useState=function(e){return cn.current.useState(e)};Me.useSyncExternalStore=function(e,t,n){return cn.current.useSyncExternalStore(e,t,n)};Me.useTransition=function(){return cn.current.useTransition()};Me.version="18.3.1";nC.exports=Me;var m=nC.exports;const se=ms(m),Cc=eC({__proto__:null,default:se},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vM=m,yM=Symbol.for("react.element"),xM=Symbol.for("react.fragment"),_M=Object.prototype.hasOwnProperty,wM=vM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bM={key:!0,ref:!0,__self:!0,__source:!0};function dC(e,t,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)_M.call(t,r)&&!bM.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:yM,type:e,key:o,ref:l,props:i,_owner:wM.current}}fh.Fragment=xM;fh.jsx=dC;fh.jsxs=dC;tC.exports=fh;var s=tC.exports,Tp={},hC={exports:{}},Un={},fC={exports:{}},mC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,H){var W=D.length;D.push(H);e:for(;0<W;){var Q=W-1>>>1,B=D[Q];if(0<i(B,H))D[Q]=H,D[W]=B,W=Q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var H=D[0],W=D.pop();if(W!==H){D[0]=W;e:for(var Q=0,B=D.length,q=B>>>1;Q<q;){var Z=2*(Q+1)-1,X=D[Z],ie=Z+1,ne=D[ie];if(0>i(X,W))ie<B&&0>i(ne,X)?(D[Q]=ne,D[ie]=W,Q=ie):(D[Q]=X,D[Z]=W,Q=Z);else if(ie<B&&0>i(ne,W))D[Q]=ne,D[ie]=W,Q=ie;else break e}}return H}function i(D,H){var W=D.sortIndex-H.sortIndex;return W!==0?W:D.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var u=[],h=[],f=1,p=null,v=3,x=!1,w=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(D){for(var H=n(h);H!==null;){if(H.callback===null)r(h);else if(H.startTime<=D)r(h),H.sortIndex=H.expirationTime,t(u,H);else break;H=n(h)}}function N(D){if(y=!1,C(D),!w)if(n(u)!==null)w=!0,O(P);else{var H=n(h);H!==null&&F(N,H.startTime-D)}}function P(D,H){w=!1,y&&(y=!1,j(I),I=-1),x=!0;var W=v;try{for(C(H),p=n(u);p!==null&&(!(p.expirationTime>H)||D&&!G());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,v=p.priorityLevel;var B=Q(p.expirationTime<=H);H=e.unstable_now(),typeof B=="function"?p.callback=B:p===n(u)&&r(u),C(H)}else r(u);p=n(u)}if(p!==null)var q=!0;else{var Z=n(h);Z!==null&&F(N,Z.startTime-H),q=!1}return q}finally{p=null,v=W,x=!1}}var A=!1,T=null,I=-1,M=5,U=-1;function G(){return!(e.unstable_now()-U<M)}function z(){if(T!==null){var D=e.unstable_now();U=D;var H=!0;try{H=T(!0,D)}finally{H?J():(A=!1,T=null)}}else A=!1}var J;if(typeof b=="function")J=function(){b(z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,k=$.port2;$.port1.onmessage=z,J=function(){k.postMessage(null)}}else J=function(){S(z,0)};function O(D){T=D,A||(A=!0,J())}function F(D,H){I=S(function(){D(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,O(P))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var W=v;v=H;try{return D()}finally{v=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,H){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=v;v=D;try{return H()}finally{v=W}},e.unstable_scheduleCallback=function(D,H,W){var Q=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Q+W:Q):W=Q,D){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=W+B,D={id:f++,callback:H,priorityLevel:D,startTime:W,expirationTime:B,sortIndex:-1},W>Q?(D.sortIndex=W,t(h,D),n(u)===null&&D===n(h)&&(y?(j(I),I=-1):y=!0,F(N,W-Q))):(D.sortIndex=B,t(u,D),w||x||(w=!0,O(P))),D},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(D){var H=v;return function(){var W=v;v=H;try{return D.apply(this,arguments)}finally{v=W}}}})(mC);fC.exports=mC;var jM=fC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CM=m,Dn=jM;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pC=new Set,Wl={};function oo(e,t){ua(e,t),ua(e+"Capture",t)}function ua(e,t){for(Wl[e]=t,e=0;e<t.length;e++)pC.add(t[e])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ap=Object.prototype.hasOwnProperty,SM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U_={},z_={};function EM(e){return Ap.call(z_,e)?!0:Ap.call(U_,e)?!1:SM.test(e)?z_[e]=!0:(U_[e]=!0,!1)}function NM(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function PM(e,t,n,r){if(t===null||typeof t>"u"||NM(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function un(e,t,n,r,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gt[e]=new un(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gt[t]=new un(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gt[e]=new un(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gt[e]=new un(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gt[e]=new un(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gt[e]=new un(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gt[e]=new un(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gt[e]=new un(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gt[e]=new un(e,5,!1,e.toLowerCase(),null,!1,!1)});var Iv=/[\-:]([a-z])/g;function Dv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Iv,Dv);Gt[t]=new un(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Iv,Dv);Gt[t]=new un(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Iv,Dv);Gt[t]=new un(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gt[e]=new un(e,1,!1,e.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gt[e]=new un(e,1,!1,e.toLowerCase(),null,!0,!0)});function $v(e,t,n,r){var i=Gt.hasOwnProperty(t)?Gt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(PM(t,n,i,r)&&(n=null),r||i===null?EM(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bi=CM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hu=Symbol.for("react.element"),Do=Symbol.for("react.portal"),$o=Symbol.for("react.fragment"),Fv=Symbol.for("react.strict_mode"),kp=Symbol.for("react.profiler"),gC=Symbol.for("react.provider"),vC=Symbol.for("react.context"),Bv=Symbol.for("react.forward_ref"),Rp=Symbol.for("react.suspense"),Lp=Symbol.for("react.suspense_list"),Uv=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),yC=Symbol.for("react.offscreen"),V_=Symbol.iterator;function nl(e){return e===null||typeof e!="object"?null:(e=V_&&e[V_]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,um;function _l(e){if(um===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);um=t&&t[1]||""}return`
`+um+e}var dm=!1;function hm(e,t){if(!e||dm)return"";dm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,c=o.length-1;1<=l&&0<=c&&i[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(i[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||i[l]!==o[c]){var u=`
`+i[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=c);break}}}finally{dm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_l(e):""}function TM(e){switch(e.tag){case 5:return _l(e.type);case 16:return _l("Lazy");case 13:return _l("Suspense");case 19:return _l("SuspenseList");case 0:case 2:case 15:return e=hm(e.type,!1),e;case 11:return e=hm(e.type.render,!1),e;case 1:return e=hm(e.type,!0),e;default:return""}}function Op(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $o:return"Fragment";case Do:return"Portal";case kp:return"Profiler";case Fv:return"StrictMode";case Rp:return"Suspense";case Lp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vC:return(e.displayName||"Context")+".Consumer";case gC:return(e._context.displayName||"Context")+".Provider";case Bv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Uv:return t=e.displayName||null,t!==null?t:Op(e.type)||"Memo";case Mi:t=e._payload,e=e._init;try{return Op(e(t))}catch{}}return null}function AM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Op(t);case 8:return t===Fv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ns(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kM(e){var t=xC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fu(e){e._valueTracker||(e._valueTracker=kM(e))}function _C(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mp(e,t){var n=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function H_(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ns(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wC(e,t){t=t.checked,t!=null&&$v(e,"checked",t,!1)}function Ip(e,t){wC(e,t);var n=ns(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Dp(e,t.type,ns(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function W_(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Dp(e,t,n){(t!=="number"||vd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wl=Array.isArray;function Qo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ns(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $p(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G_(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(oe(92));if(wl(n)){if(1<n.length)throw Error(oe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ns(n)}}function bC(e,t){var n=ns(t.value),r=ns(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Z_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mu,CC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mu=mu||document.createElement("div"),mu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RM=["Webkit","ms","Moz","O"];Object.keys(Nl).forEach(function(e){RM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nl[t]=Nl[e]})});function SC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nl.hasOwnProperty(e)&&Nl[e]?(""+t).trim():t+"px"}function EC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=SC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var LM=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bp(e,t){if(t){if(LM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function Up(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=null;function zv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vp=null,ea=null,ta=null;function q_(e){if(e=Nc(e)){if(typeof Vp!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=yh(t),Vp(e.stateNode,e.type,t))}}function NC(e){ea?ta?ta.push(e):ta=[e]:ea=e}function PC(){if(ea){var e=ea,t=ta;if(ta=ea=null,q_(e),t)for(e=0;e<t.length;e++)q_(t[e])}}function TC(e,t){return e(t)}function AC(){}var fm=!1;function kC(e,t,n){if(fm)return e(t,n);fm=!0;try{return TC(e,t,n)}finally{fm=!1,(ea!==null||ta!==null)&&(AC(),PC())}}function Zl(e,t){var n=e.stateNode;if(n===null)return null;var r=yh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(oe(231,t,typeof n));return n}var Hp=!1;if(fi)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){Hp=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{Hp=!1}function OM(e,t,n,r,i,o,l,c,u){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(f){this.onError(f)}}var Pl=!1,yd=null,xd=!1,Wp=null,MM={onError:function(e){Pl=!0,yd=e}};function IM(e,t,n,r,i,o,l,c,u){Pl=!1,yd=null,OM.apply(MM,arguments)}function DM(e,t,n,r,i,o,l,c,u){if(IM.apply(this,arguments),Pl){if(Pl){var h=yd;Pl=!1,yd=null}else throw Error(oe(198));xd||(xd=!0,Wp=h)}}function ao(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function RC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function K_(e){if(ao(e)!==e)throw Error(oe(188))}function $M(e){var t=e.alternate;if(!t){if(t=ao(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return K_(i),e;if(o===r)return K_(i),t;o=o.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,c=i.child;c;){if(c===n){l=!0,n=i,r=o;break}if(c===r){l=!0,r=i,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,r=i;break}if(c===r){l=!0,r=o,n=i;break}c=c.sibling}if(!l)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?e:t}function LC(e){return e=$M(e),e!==null?OC(e):null}function OC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=OC(e);if(t!==null)return t;e=e.sibling}return null}var MC=Dn.unstable_scheduleCallback,J_=Dn.unstable_cancelCallback,FM=Dn.unstable_shouldYield,BM=Dn.unstable_requestPaint,jt=Dn.unstable_now,UM=Dn.unstable_getCurrentPriorityLevel,Vv=Dn.unstable_ImmediatePriority,IC=Dn.unstable_UserBlockingPriority,_d=Dn.unstable_NormalPriority,zM=Dn.unstable_LowPriority,DC=Dn.unstable_IdlePriority,mh=null,Fr=null;function VM(e){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(mh,e,void 0,(e.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:GM,HM=Math.log,WM=Math.LN2;function GM(e){return e>>>=0,e===0?32:31-(HM(e)/WM|0)|0}var pu=64,gu=4194304;function bl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~i;c!==0?r=bl(c):(o&=l,o!==0&&(r=bl(o)))}else l=n&~i,l!==0?r=bl(l):o!==0&&(r=bl(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gr(t),i=1<<n,r|=e[n],t&=~i;return r}function ZM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-gr(o),c=1<<l,u=i[l];u===-1?(!(c&n)||c&r)&&(i[l]=ZM(c,t)):u<=t&&(e.expiredLanes|=c),o&=~c}}function Gp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $C(){var e=pu;return pu<<=1,!(pu&4194240)&&(pu=64),e}function mm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gr(t),e[t]=n}function KM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-gr(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Hv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ge=0;function FC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var BC,Wv,UC,zC,VC,Zp=!1,vu=[],Vi=null,Hi=null,Wi=null,ql=new Map,Kl=new Map,$i=[],JM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y_(e,t){switch(e){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(t.pointerId)}}function il(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Nc(t),t!==null&&Wv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function YM(e,t,n,r,i){switch(t){case"focusin":return Vi=il(Vi,e,t,n,r,i),!0;case"dragenter":return Hi=il(Hi,e,t,n,r,i),!0;case"mouseover":return Wi=il(Wi,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ql.set(o,il(ql.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Kl.set(o,il(Kl.get(o)||null,e,t,n,r,i)),!0}return!1}function HC(e){var t=Us(e.target);if(t!==null){var n=ao(t);if(n!==null){if(t=n.tag,t===13){if(t=RC(n),t!==null){e.blockedOn=t,VC(e.priority,function(){UC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ed(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zp=r,n.target.dispatchEvent(r),zp=null}else return t=Nc(n),t!==null&&Wv(t),e.blockedOn=n,!1;t.shift()}return!0}function X_(e,t,n){ed(e)&&n.delete(t)}function XM(){Zp=!1,Vi!==null&&ed(Vi)&&(Vi=null),Hi!==null&&ed(Hi)&&(Hi=null),Wi!==null&&ed(Wi)&&(Wi=null),ql.forEach(X_),Kl.forEach(X_)}function sl(e,t){e.blockedOn===t&&(e.blockedOn=null,Zp||(Zp=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,XM)))}function Jl(e){function t(i){return sl(i,e)}if(0<vu.length){sl(vu[0],e);for(var n=1;n<vu.length;n++){var r=vu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vi!==null&&sl(Vi,e),Hi!==null&&sl(Hi,e),Wi!==null&&sl(Wi,e),ql.forEach(t),Kl.forEach(t),n=0;n<$i.length;n++)r=$i[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$i.length&&(n=$i[0],n.blockedOn===null);)HC(n),n.blockedOn===null&&$i.shift()}var na=bi.ReactCurrentBatchConfig,bd=!0;function QM(e,t,n,r){var i=Ge,o=na.transition;na.transition=null;try{Ge=1,Gv(e,t,n,r)}finally{Ge=i,na.transition=o}}function eI(e,t,n,r){var i=Ge,o=na.transition;na.transition=null;try{Ge=4,Gv(e,t,n,r)}finally{Ge=i,na.transition=o}}function Gv(e,t,n,r){if(bd){var i=qp(e,t,n,r);if(i===null)Cm(e,t,r,jd,n),Y_(e,r);else if(YM(i,e,t,n,r))r.stopPropagation();else if(Y_(e,r),t&4&&-1<JM.indexOf(e)){for(;i!==null;){var o=Nc(i);if(o!==null&&BC(o),o=qp(e,t,n,r),o===null&&Cm(e,t,r,jd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Cm(e,t,r,null,n)}}var jd=null;function qp(e,t,n,r){if(jd=null,e=zv(r),e=Us(e),e!==null)if(t=ao(e),t===null)e=null;else if(n=t.tag,n===13){if(e=RC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jd=e,null}function WC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UM()){case Vv:return 1;case IC:return 4;case _d:case zM:return 16;case DC:return 536870912;default:return 16}default:return 16}}var Bi=null,Zv=null,td=null;function GC(){if(td)return td;var e,t=Zv,n=t.length,r,i="value"in Bi?Bi.value:Bi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[o-r];r++);return td=i.slice(e,1<r?1-r:void 0)}function nd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yu(){return!0}function Q_(){return!1}function zn(e){function t(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yu:Q_,this.isPropagationStopped=Q_,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yu)},persist:function(){},isPersistent:yu}),t}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qv=zn(Aa),Ec=pt({},Aa,{view:0,detail:0}),tI=zn(Ec),pm,gm,ol,ph=pt({},Ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ol&&(ol&&e.type==="mousemove"?(pm=e.screenX-ol.screenX,gm=e.screenY-ol.screenY):gm=pm=0,ol=e),pm)},movementY:function(e){return"movementY"in e?e.movementY:gm}}),ew=zn(ph),nI=pt({},ph,{dataTransfer:0}),rI=zn(nI),iI=pt({},Ec,{relatedTarget:0}),vm=zn(iI),sI=pt({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),oI=zn(sI),aI=pt({},Aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lI=zn(aI),cI=pt({},Aa,{data:0}),tw=zn(cI),uI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hI[e])?!!t[e]:!1}function Kv(){return fI}var mI=pt({},Ec,{key:function(e){if(e.key){var t=uI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kv,charCode:function(e){return e.type==="keypress"?nd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pI=zn(mI),gI=pt({},ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nw=zn(gI),vI=pt({},Ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kv}),yI=zn(vI),xI=pt({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),_I=zn(xI),wI=pt({},ph,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bI=zn(wI),jI=[9,13,27,32],Jv=fi&&"CompositionEvent"in window,Tl=null;fi&&"documentMode"in document&&(Tl=document.documentMode);var CI=fi&&"TextEvent"in window&&!Tl,ZC=fi&&(!Jv||Tl&&8<Tl&&11>=Tl),rw=String.fromCharCode(32),iw=!1;function qC(e,t){switch(e){case"keyup":return jI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fo=!1;function SI(e,t){switch(e){case"compositionend":return KC(t);case"keypress":return t.which!==32?null:(iw=!0,rw);case"textInput":return e=t.data,e===rw&&iw?null:e;default:return null}}function EI(e,t){if(Fo)return e==="compositionend"||!Jv&&qC(e,t)?(e=GC(),td=Zv=Bi=null,Fo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ZC&&t.locale!=="ko"?null:t.data;default:return null}}var NI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NI[e.type]:t==="textarea"}function JC(e,t,n,r){NC(r),t=Cd(t,"onChange"),0<t.length&&(n=new qv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Al=null,Yl=null;function PI(e){aS(e,0)}function gh(e){var t=zo(e);if(_C(t))return e}function TI(e,t){if(e==="change")return t}var YC=!1;if(fi){var ym;if(fi){var xm="oninput"in document;if(!xm){var ow=document.createElement("div");ow.setAttribute("oninput","return;"),xm=typeof ow.oninput=="function"}ym=xm}else ym=!1;YC=ym&&(!document.documentMode||9<document.documentMode)}function aw(){Al&&(Al.detachEvent("onpropertychange",XC),Yl=Al=null)}function XC(e){if(e.propertyName==="value"&&gh(Yl)){var t=[];JC(t,Yl,e,zv(e)),kC(PI,t)}}function AI(e,t,n){e==="focusin"?(aw(),Al=t,Yl=n,Al.attachEvent("onpropertychange",XC)):e==="focusout"&&aw()}function kI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gh(Yl)}function RI(e,t){if(e==="click")return gh(t)}function LI(e,t){if(e==="input"||e==="change")return gh(t)}function OI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yr=typeof Object.is=="function"?Object.is:OI;function Xl(e,t){if(yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ap.call(t,i)||!yr(e[i],t[i]))return!1}return!0}function lw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cw(e,t){var n=lw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lw(n)}}function QC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?QC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eS(){for(var e=window,t=vd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vd(e.document)}return t}function Yv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function MI(e){var t=eS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&QC(n.ownerDocument.documentElement,n)){if(r!==null&&Yv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cw(n,o);var l=cw(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var II=fi&&"documentMode"in document&&11>=document.documentMode,Bo=null,Kp=null,kl=null,Jp=!1;function uw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jp||Bo==null||Bo!==vd(r)||(r=Bo,"selectionStart"in r&&Yv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kl&&Xl(kl,r)||(kl=r,r=Cd(Kp,"onSelect"),0<r.length&&(t=new qv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bo)))}function xu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Uo={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},_m={},tS={};fi&&(tS=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function vh(e){if(_m[e])return _m[e];if(!Uo[e])return e;var t=Uo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tS)return _m[e]=t[n];return e}var nS=vh("animationend"),rS=vh("animationiteration"),iS=vh("animationstart"),sS=vh("transitionend"),oS=new Map,dw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(e,t){oS.set(e,t),oo(t,[e])}for(var wm=0;wm<dw.length;wm++){var bm=dw[wm],DI=bm.toLowerCase(),$I=bm[0].toUpperCase()+bm.slice(1);ps(DI,"on"+$I)}ps(nS,"onAnimationEnd");ps(rS,"onAnimationIteration");ps(iS,"onAnimationStart");ps("dblclick","onDoubleClick");ps("focusin","onFocus");ps("focusout","onBlur");ps(sS,"onTransitionEnd");ua("onMouseEnter",["mouseout","mouseover"]);ua("onMouseLeave",["mouseout","mouseover"]);ua("onPointerEnter",["pointerout","pointerover"]);ua("onPointerLeave",["pointerout","pointerover"]);oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FI=new Set("cancel close invalid load scroll toggle".split(" ").concat(jl));function hw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,DM(r,t,void 0,e),e.currentTarget=null}function aS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var c=r[l],u=c.instance,h=c.currentTarget;if(c=c.listener,u!==o&&i.isPropagationStopped())break e;hw(i,c,h),o=u}else for(l=0;l<r.length;l++){if(c=r[l],u=c.instance,h=c.currentTarget,c=c.listener,u!==o&&i.isPropagationStopped())break e;hw(i,c,h),o=u}}}if(xd)throw e=Wp,xd=!1,Wp=null,e}function nt(e,t){var n=t[tg];n===void 0&&(n=t[tg]=new Set);var r=e+"__bubble";n.has(r)||(lS(t,e,2,!1),n.add(r))}function jm(e,t,n){var r=0;t&&(r|=4),lS(n,e,r,t)}var _u="_reactListening"+Math.random().toString(36).slice(2);function Ql(e){if(!e[_u]){e[_u]=!0,pC.forEach(function(n){n!=="selectionchange"&&(FI.has(n)||jm(n,!1,e),jm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_u]||(t[_u]=!0,jm("selectionchange",!1,t))}}function lS(e,t,n,r){switch(WC(t)){case 1:var i=QM;break;case 4:i=eI;break;default:i=Gv}n=i.bind(null,t,n,e),i=void 0,!Hp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Cm(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;c!==null;){if(l=Us(c),l===null)return;if(u=l.tag,u===5||u===6){r=o=l;continue e}c=c.parentNode}}r=r.return}kC(function(){var h=o,f=zv(n),p=[];e:{var v=oS.get(e);if(v!==void 0){var x=qv,w=e;switch(e){case"keypress":if(nd(n)===0)break e;case"keydown":case"keyup":x=pI;break;case"focusin":w="focus",x=vm;break;case"focusout":w="blur",x=vm;break;case"beforeblur":case"afterblur":x=vm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=ew;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=rI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=yI;break;case nS:case rS:case iS:x=oI;break;case sS:x=_I;break;case"scroll":x=tI;break;case"wheel":x=bI;break;case"copy":case"cut":case"paste":x=lI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=nw}var y=(t&4)!==0,S=!y&&e==="scroll",j=y?v!==null?v+"Capture":null:v;y=[];for(var b=h,C;b!==null;){C=b;var N=C.stateNode;if(C.tag===5&&N!==null&&(C=N,j!==null&&(N=Zl(b,j),N!=null&&y.push(ec(b,N,C)))),S)break;b=b.return}0<y.length&&(v=new x(v,w,null,n,f),p.push({event:v,listeners:y}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",v&&n!==zp&&(w=n.relatedTarget||n.fromElement)&&(Us(w)||w[mi]))break e;if((x||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,x?(w=n.relatedTarget||n.toElement,x=h,w=w?Us(w):null,w!==null&&(S=ao(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(x=null,w=h),x!==w)){if(y=ew,N="onMouseLeave",j="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=nw,N="onPointerLeave",j="onPointerEnter",b="pointer"),S=x==null?v:zo(x),C=w==null?v:zo(w),v=new y(N,b+"leave",x,n,f),v.target=S,v.relatedTarget=C,N=null,Us(f)===h&&(y=new y(j,b+"enter",w,n,f),y.target=C,y.relatedTarget=S,N=y),S=N,x&&w)t:{for(y=x,j=w,b=0,C=y;C;C=Eo(C))b++;for(C=0,N=j;N;N=Eo(N))C++;for(;0<b-C;)y=Eo(y),b--;for(;0<C-b;)j=Eo(j),C--;for(;b--;){if(y===j||j!==null&&y===j.alternate)break t;y=Eo(y),j=Eo(j)}y=null}else y=null;x!==null&&fw(p,v,x,y,!1),w!==null&&S!==null&&fw(p,S,w,y,!0)}}e:{if(v=h?zo(h):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var P=TI;else if(sw(v))if(YC)P=LI;else{P=kI;var A=AI}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(P=RI);if(P&&(P=P(e,h))){JC(p,P,n,f);break e}A&&A(e,v,h),e==="focusout"&&(A=v._wrapperState)&&A.controlled&&v.type==="number"&&Dp(v,"number",v.value)}switch(A=h?zo(h):window,e){case"focusin":(sw(A)||A.contentEditable==="true")&&(Bo=A,Kp=h,kl=null);break;case"focusout":kl=Kp=Bo=null;break;case"mousedown":Jp=!0;break;case"contextmenu":case"mouseup":case"dragend":Jp=!1,uw(p,n,f);break;case"selectionchange":if(II)break;case"keydown":case"keyup":uw(p,n,f)}var T;if(Jv)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Fo?qC(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(ZC&&n.locale!=="ko"&&(Fo||I!=="onCompositionStart"?I==="onCompositionEnd"&&Fo&&(T=GC()):(Bi=f,Zv="value"in Bi?Bi.value:Bi.textContent,Fo=!0)),A=Cd(h,I),0<A.length&&(I=new tw(I,e,null,n,f),p.push({event:I,listeners:A}),T?I.data=T:(T=KC(n),T!==null&&(I.data=T)))),(T=CI?SI(e,n):EI(e,n))&&(h=Cd(h,"onBeforeInput"),0<h.length&&(f=new tw("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=T))}aS(p,t)})}function ec(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Zl(e,n),o!=null&&r.unshift(ec(e,o,i)),o=Zl(e,t),o!=null&&r.push(ec(e,o,i))),e=e.return}return r}function Eo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fw(e,t,n,r,i){for(var o=t._reactName,l=[];n!==null&&n!==r;){var c=n,u=c.alternate,h=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&h!==null&&(c=h,i?(u=Zl(n,o),u!=null&&l.unshift(ec(n,u,c))):i||(u=Zl(n,o),u!=null&&l.push(ec(n,u,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var BI=/\r\n?/g,UI=/\u0000|\uFFFD/g;function mw(e){return(typeof e=="string"?e:""+e).replace(BI,`
`).replace(UI,"")}function wu(e,t,n){if(t=mw(t),mw(e)!==t&&n)throw Error(oe(425))}function Sd(){}var Yp=null,Xp=null;function Qp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eg=typeof setTimeout=="function"?setTimeout:void 0,zI=typeof clearTimeout=="function"?clearTimeout:void 0,pw=typeof Promise=="function"?Promise:void 0,VI=typeof queueMicrotask=="function"?queueMicrotask:typeof pw<"u"?function(e){return pw.resolve(null).then(e).catch(HI)}:eg;function HI(e){setTimeout(function(){throw e})}function Sm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Jl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jl(t)}function Gi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ka=Math.random().toString(36).slice(2),Or="__reactFiber$"+ka,tc="__reactProps$"+ka,mi="__reactContainer$"+ka,tg="__reactEvents$"+ka,WI="__reactListeners$"+ka,GI="__reactHandles$"+ka;function Us(e){var t=e[Or];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[Or]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gw(e);e!==null;){if(n=e[Or])return n;e=gw(e)}return t}e=n,n=e.parentNode}return null}function Nc(e){return e=e[Or]||e[mi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function yh(e){return e[tc]||null}var ng=[],Vo=-1;function gs(e){return{current:e}}function it(e){0>Vo||(e.current=ng[Vo],ng[Vo]=null,Vo--)}function Xe(e,t){Vo++,ng[Vo]=e.current,e.current=t}var rs={},Qt=gs(rs),_n=gs(!1),Ks=rs;function da(e,t){var n=e.type.contextTypes;if(!n)return rs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wn(e){return e=e.childContextTypes,e!=null}function Ed(){it(_n),it(Qt)}function vw(e,t,n){if(Qt.current!==rs)throw Error(oe(168));Xe(Qt,t),Xe(_n,n)}function cS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(oe(108,AM(e)||"Unknown",i));return pt({},n,r)}function Nd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rs,Ks=Qt.current,Xe(Qt,e),Xe(_n,_n.current),!0}function yw(e,t,n){var r=e.stateNode;if(!r)throw Error(oe(169));n?(e=cS(e,t,Ks),r.__reactInternalMemoizedMergedChildContext=e,it(_n),it(Qt),Xe(Qt,e)):it(_n),Xe(_n,n)}var si=null,xh=!1,Em=!1;function uS(e){si===null?si=[e]:si.push(e)}function ZI(e){xh=!0,uS(e)}function vs(){if(!Em&&si!==null){Em=!0;var e=0,t=Ge;try{var n=si;for(Ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}si=null,xh=!1}catch(i){throw si!==null&&(si=si.slice(e+1)),MC(Vv,vs),i}finally{Ge=t,Em=!1}}return null}var Ho=[],Wo=0,Pd=null,Td=0,Jn=[],Yn=0,Js=null,oi=1,ai="";function Ls(e,t){Ho[Wo++]=Td,Ho[Wo++]=Pd,Pd=e,Td=t}function dS(e,t,n){Jn[Yn++]=oi,Jn[Yn++]=ai,Jn[Yn++]=Js,Js=e;var r=oi;e=ai;var i=32-gr(r)-1;r&=~(1<<i),n+=1;var o=32-gr(t)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,oi=1<<32-gr(t)+i|n<<i|r,ai=o+e}else oi=1<<o|n<<i|r,ai=e}function Xv(e){e.return!==null&&(Ls(e,1),dS(e,1,0))}function Qv(e){for(;e===Pd;)Pd=Ho[--Wo],Ho[Wo]=null,Td=Ho[--Wo],Ho[Wo]=null;for(;e===Js;)Js=Jn[--Yn],Jn[Yn]=null,ai=Jn[--Yn],Jn[Yn]=null,oi=Jn[--Yn],Jn[Yn]=null}var Mn=null,On=null,lt=!1,mr=null;function hS(e,t){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mn=e,On=Gi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mn=e,On=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Js!==null?{id:oi,overflow:ai}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mn=e,On=null,!0):!1;default:return!1}}function rg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ig(e){if(lt){var t=On;if(t){var n=t;if(!xw(e,t)){if(rg(e))throw Error(oe(418));t=Gi(n.nextSibling);var r=Mn;t&&xw(e,t)?hS(r,n):(e.flags=e.flags&-4097|2,lt=!1,Mn=e)}}else{if(rg(e))throw Error(oe(418));e.flags=e.flags&-4097|2,lt=!1,Mn=e}}}function _w(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mn=e}function bu(e){if(e!==Mn)return!1;if(!lt)return _w(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qp(e.type,e.memoizedProps)),t&&(t=On)){if(rg(e))throw fS(),Error(oe(418));for(;t;)hS(e,t),t=Gi(t.nextSibling)}if(_w(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){On=Gi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}On=null}}else On=Mn?Gi(e.stateNode.nextSibling):null;return!0}function fS(){for(var e=On;e;)e=Gi(e.nextSibling)}function ha(){On=Mn=null,lt=!1}function ey(e){mr===null?mr=[e]:mr.push(e)}var qI=bi.ReactCurrentBatchConfig;function al(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var c=i.refs;l===null?delete c[o]:c[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,e))}return e}function ju(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ww(e){var t=e._init;return t(e._payload)}function mS(e){function t(j,b){if(e){var C=j.deletions;C===null?(j.deletions=[b],j.flags|=16):C.push(b)}}function n(j,b){if(!e)return null;for(;b!==null;)t(j,b),b=b.sibling;return null}function r(j,b){for(j=new Map;b!==null;)b.key!==null?j.set(b.key,b):j.set(b.index,b),b=b.sibling;return j}function i(j,b){return j=Ji(j,b),j.index=0,j.sibling=null,j}function o(j,b,C){return j.index=C,e?(C=j.alternate,C!==null?(C=C.index,C<b?(j.flags|=2,b):C):(j.flags|=2,b)):(j.flags|=1048576,b)}function l(j){return e&&j.alternate===null&&(j.flags|=2),j}function c(j,b,C,N){return b===null||b.tag!==6?(b=Lm(C,j.mode,N),b.return=j,b):(b=i(b,C),b.return=j,b)}function u(j,b,C,N){var P=C.type;return P===$o?f(j,b,C.props.children,N,C.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Mi&&ww(P)===b.type)?(N=i(b,C.props),N.ref=al(j,b,C),N.return=j,N):(N=cd(C.type,C.key,C.props,null,j.mode,N),N.ref=al(j,b,C),N.return=j,N)}function h(j,b,C,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==C.containerInfo||b.stateNode.implementation!==C.implementation?(b=Om(C,j.mode,N),b.return=j,b):(b=i(b,C.children||[]),b.return=j,b)}function f(j,b,C,N,P){return b===null||b.tag!==7?(b=Zs(C,j.mode,N,P),b.return=j,b):(b=i(b,C),b.return=j,b)}function p(j,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Lm(""+b,j.mode,C),b.return=j,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case hu:return C=cd(b.type,b.key,b.props,null,j.mode,C),C.ref=al(j,null,b),C.return=j,C;case Do:return b=Om(b,j.mode,C),b.return=j,b;case Mi:var N=b._init;return p(j,N(b._payload),C)}if(wl(b)||nl(b))return b=Zs(b,j.mode,C,null),b.return=j,b;ju(j,b)}return null}function v(j,b,C,N){var P=b!==null?b.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return P!==null?null:c(j,b,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case hu:return C.key===P?u(j,b,C,N):null;case Do:return C.key===P?h(j,b,C,N):null;case Mi:return P=C._init,v(j,b,P(C._payload),N)}if(wl(C)||nl(C))return P!==null?null:f(j,b,C,N,null);ju(j,C)}return null}function x(j,b,C,N,P){if(typeof N=="string"&&N!==""||typeof N=="number")return j=j.get(C)||null,c(b,j,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case hu:return j=j.get(N.key===null?C:N.key)||null,u(b,j,N,P);case Do:return j=j.get(N.key===null?C:N.key)||null,h(b,j,N,P);case Mi:var A=N._init;return x(j,b,C,A(N._payload),P)}if(wl(N)||nl(N))return j=j.get(C)||null,f(b,j,N,P,null);ju(b,N)}return null}function w(j,b,C,N){for(var P=null,A=null,T=b,I=b=0,M=null;T!==null&&I<C.length;I++){T.index>I?(M=T,T=null):M=T.sibling;var U=v(j,T,C[I],N);if(U===null){T===null&&(T=M);break}e&&T&&U.alternate===null&&t(j,T),b=o(U,b,I),A===null?P=U:A.sibling=U,A=U,T=M}if(I===C.length)return n(j,T),lt&&Ls(j,I),P;if(T===null){for(;I<C.length;I++)T=p(j,C[I],N),T!==null&&(b=o(T,b,I),A===null?P=T:A.sibling=T,A=T);return lt&&Ls(j,I),P}for(T=r(j,T);I<C.length;I++)M=x(T,j,I,C[I],N),M!==null&&(e&&M.alternate!==null&&T.delete(M.key===null?I:M.key),b=o(M,b,I),A===null?P=M:A.sibling=M,A=M);return e&&T.forEach(function(G){return t(j,G)}),lt&&Ls(j,I),P}function y(j,b,C,N){var P=nl(C);if(typeof P!="function")throw Error(oe(150));if(C=P.call(C),C==null)throw Error(oe(151));for(var A=P=null,T=b,I=b=0,M=null,U=C.next();T!==null&&!U.done;I++,U=C.next()){T.index>I?(M=T,T=null):M=T.sibling;var G=v(j,T,U.value,N);if(G===null){T===null&&(T=M);break}e&&T&&G.alternate===null&&t(j,T),b=o(G,b,I),A===null?P=G:A.sibling=G,A=G,T=M}if(U.done)return n(j,T),lt&&Ls(j,I),P;if(T===null){for(;!U.done;I++,U=C.next())U=p(j,U.value,N),U!==null&&(b=o(U,b,I),A===null?P=U:A.sibling=U,A=U);return lt&&Ls(j,I),P}for(T=r(j,T);!U.done;I++,U=C.next())U=x(T,j,I,U.value,N),U!==null&&(e&&U.alternate!==null&&T.delete(U.key===null?I:U.key),b=o(U,b,I),A===null?P=U:A.sibling=U,A=U);return e&&T.forEach(function(z){return t(j,z)}),lt&&Ls(j,I),P}function S(j,b,C,N){if(typeof C=="object"&&C!==null&&C.type===$o&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case hu:e:{for(var P=C.key,A=b;A!==null;){if(A.key===P){if(P=C.type,P===$o){if(A.tag===7){n(j,A.sibling),b=i(A,C.props.children),b.return=j,j=b;break e}}else if(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Mi&&ww(P)===A.type){n(j,A.sibling),b=i(A,C.props),b.ref=al(j,A,C),b.return=j,j=b;break e}n(j,A);break}else t(j,A);A=A.sibling}C.type===$o?(b=Zs(C.props.children,j.mode,N,C.key),b.return=j,j=b):(N=cd(C.type,C.key,C.props,null,j.mode,N),N.ref=al(j,b,C),N.return=j,j=N)}return l(j);case Do:e:{for(A=C.key;b!==null;){if(b.key===A)if(b.tag===4&&b.stateNode.containerInfo===C.containerInfo&&b.stateNode.implementation===C.implementation){n(j,b.sibling),b=i(b,C.children||[]),b.return=j,j=b;break e}else{n(j,b);break}else t(j,b);b=b.sibling}b=Om(C,j.mode,N),b.return=j,j=b}return l(j);case Mi:return A=C._init,S(j,b,A(C._payload),N)}if(wl(C))return w(j,b,C,N);if(nl(C))return y(j,b,C,N);ju(j,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,b!==null&&b.tag===6?(n(j,b.sibling),b=i(b,C),b.return=j,j=b):(n(j,b),b=Lm(C,j.mode,N),b.return=j,j=b),l(j)):n(j,b)}return S}var fa=mS(!0),pS=mS(!1),Ad=gs(null),kd=null,Go=null,ty=null;function ny(){ty=Go=kd=null}function ry(e){var t=Ad.current;it(Ad),e._currentValue=t}function sg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ra(e,t){kd=e,ty=Go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xn=!0),e.firstContext=null)}function nr(e){var t=e._currentValue;if(ty!==e)if(e={context:e,memoizedValue:t,next:null},Go===null){if(kd===null)throw Error(oe(308));Go=e,kd.dependencies={lanes:0,firstContext:e}}else Go=Go.next=e;return t}var zs=null;function iy(e){zs===null?zs=[e]:zs.push(e)}function gS(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,iy(t)):(n.next=i.next,i.next=n),t.interleaved=n,pi(e,r)}function pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ii=!1;function sy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ci(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pi(e,n)}return i=r.interleaved,i===null?(t.next=t,iy(r)):(t.next=i.next,i.next=t),r.interleaved=t,pi(e,n)}function rd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hv(e,n)}}function bw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Rd(e,t,n,r){var i=e.updateQueue;Ii=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,h=u.next;u.next=null,l===null?o=h:l.next=h,l=u;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==l&&(c===null?f.firstBaseUpdate=h:c.next=h,f.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;l=0,f=h=u=null,c=o;do{var v=c.lane,x=c.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:x,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=e,y=c;switch(v=t,x=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){p=w.call(x,p,v);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,v=typeof w=="function"?w.call(x,p,v):w,v==null)break e;p=pt({},p,v);break e;case 2:Ii=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[c]:v.push(c))}else x={eventTime:x,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(h=f=x,u=p):f=f.next=x,l|=v;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;v=c,c=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Xs|=l,e.lanes=l,e.memoizedState=p}}function jw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var Pc={},Br=gs(Pc),nc=gs(Pc),rc=gs(Pc);function Vs(e){if(e===Pc)throw Error(oe(174));return e}function oy(e,t){switch(Xe(rc,t),Xe(nc,e),Xe(Br,Pc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fp(t,e)}it(Br),Xe(Br,t)}function ma(){it(Br),it(nc),it(rc)}function yS(e){Vs(rc.current);var t=Vs(Br.current),n=Fp(t,e.type);t!==n&&(Xe(nc,e),Xe(Br,n))}function ay(e){nc.current===e&&(it(Br),it(nc))}var ut=gs(0);function Ld(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nm=[];function ly(){for(var e=0;e<Nm.length;e++)Nm[e]._workInProgressVersionPrimary=null;Nm.length=0}var id=bi.ReactCurrentDispatcher,Pm=bi.ReactCurrentBatchConfig,Ys=0,mt=null,kt=null,It=null,Od=!1,Rl=!1,ic=0,KI=0;function qt(){throw Error(oe(321))}function cy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yr(e[n],t[n]))return!1;return!0}function uy(e,t,n,r,i,o){if(Ys=o,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,id.current=e===null||e.memoizedState===null?QI:eD,e=n(r,i),Rl){o=0;do{if(Rl=!1,ic=0,25<=o)throw Error(oe(301));o+=1,It=kt=null,t.updateQueue=null,id.current=tD,e=n(r,i)}while(Rl)}if(id.current=Md,t=kt!==null&&kt.next!==null,Ys=0,It=kt=mt=null,Od=!1,t)throw Error(oe(300));return e}function dy(){var e=ic!==0;return ic=0,e}function Rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?mt.memoizedState=It=e:It=It.next=e,It}function rr(){if(kt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=It===null?mt.memoizedState:It.next;if(t!==null)It=t,kt=e;else{if(e===null)throw Error(oe(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},It===null?mt.memoizedState=It=e:It=It.next=e}return It}function sc(e,t){return typeof t=="function"?t(e):t}function Tm(e){var t=rr(),n=t.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=e;var r=kt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var c=l=null,u=null,h=o;do{var f=h.lane;if((Ys&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(c=u=p,l=r):u=u.next=p,mt.lanes|=f,Xs|=f}h=h.next}while(h!==null&&h!==o);u===null?l=r:u.next=c,yr(r,t.memoizedState)||(xn=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,mt.lanes|=o,Xs|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Am(e){var t=rr(),n=t.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);yr(o,t.memoizedState)||(xn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xS(){}function _S(e,t){var n=mt,r=rr(),i=t(),o=!yr(r.memoizedState,i);if(o&&(r.memoizedState=i,xn=!0),r=r.queue,hy(jS.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,oc(9,bS.bind(null,n,r,i,t),void 0,null),Ft===null)throw Error(oe(349));Ys&30||wS(n,t,i)}return i}function wS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bS(e,t,n,r){t.value=n,t.getSnapshot=r,CS(t)&&SS(e)}function jS(e,t,n){return n(function(){CS(t)&&SS(e)})}function CS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yr(e,n)}catch{return!0}}function SS(e){var t=pi(e,1);t!==null&&vr(t,e,1,-1)}function Cw(e){var t=Rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sc,lastRenderedState:e},t.queue=e,e=e.dispatch=XI.bind(null,mt,e),[t.memoizedState,e]}function oc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ES(){return rr().memoizedState}function sd(e,t,n,r){var i=Rr();mt.flags|=e,i.memoizedState=oc(1|t,n,void 0,r===void 0?null:r)}function _h(e,t,n,r){var i=rr();r=r===void 0?null:r;var o=void 0;if(kt!==null){var l=kt.memoizedState;if(o=l.destroy,r!==null&&cy(r,l.deps)){i.memoizedState=oc(t,n,o,r);return}}mt.flags|=e,i.memoizedState=oc(1|t,n,o,r)}function Sw(e,t){return sd(8390656,8,e,t)}function hy(e,t){return _h(2048,8,e,t)}function NS(e,t){return _h(4,2,e,t)}function PS(e,t){return _h(4,4,e,t)}function TS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function AS(e,t,n){return n=n!=null?n.concat([e]):null,_h(4,4,TS.bind(null,t,e),n)}function fy(){}function kS(e,t){var n=rr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function RS(e,t){var n=rr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function LS(e,t,n){return Ys&21?(yr(n,t)||(n=$C(),mt.lanes|=n,Xs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xn=!0),e.memoizedState=n)}function JI(e,t){var n=Ge;Ge=n!==0&&4>n?n:4,e(!0);var r=Pm.transition;Pm.transition={};try{e(!1),t()}finally{Ge=n,Pm.transition=r}}function OS(){return rr().memoizedState}function YI(e,t,n){var r=Ki(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MS(e))IS(t,n);else if(n=gS(e,t,n,r),n!==null){var i=an();vr(n,e,r,i),DS(n,t,r)}}function XI(e,t,n){var r=Ki(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MS(e))IS(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,c=o(l,n);if(i.hasEagerState=!0,i.eagerState=c,yr(c,l)){var u=t.interleaved;u===null?(i.next=i,iy(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=gS(e,t,i,r),n!==null&&(i=an(),vr(n,e,r,i),DS(n,t,r))}}function MS(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function IS(e,t){Rl=Od=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function DS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hv(e,n)}}var Md={readContext:nr,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},QI={readContext:nr,useCallback:function(e,t){return Rr().memoizedState=[e,t===void 0?null:t],e},useContext:nr,useEffect:Sw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sd(4194308,4,TS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sd(4194308,4,e,t)},useInsertionEffect:function(e,t){return sd(4,2,e,t)},useMemo:function(e,t){var n=Rr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=YI.bind(null,mt,e),[r.memoizedState,e]},useRef:function(e){var t=Rr();return e={current:e},t.memoizedState=e},useState:Cw,useDebugValue:fy,useDeferredValue:function(e){return Rr().memoizedState=e},useTransition:function(){var e=Cw(!1),t=e[0];return e=JI.bind(null,e[1]),Rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mt,i=Rr();if(lt){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=t(),Ft===null)throw Error(oe(349));Ys&30||wS(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Sw(jS.bind(null,r,o,e),[e]),r.flags|=2048,oc(9,bS.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Rr(),t=Ft.identifierPrefix;if(lt){var n=ai,r=oi;n=(r&~(1<<32-gr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ic++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=KI++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eD={readContext:nr,useCallback:kS,useContext:nr,useEffect:hy,useImperativeHandle:AS,useInsertionEffect:NS,useLayoutEffect:PS,useMemo:RS,useReducer:Tm,useRef:ES,useState:function(){return Tm(sc)},useDebugValue:fy,useDeferredValue:function(e){var t=rr();return LS(t,kt.memoizedState,e)},useTransition:function(){var e=Tm(sc)[0],t=rr().memoizedState;return[e,t]},useMutableSource:xS,useSyncExternalStore:_S,useId:OS,unstable_isNewReconciler:!1},tD={readContext:nr,useCallback:kS,useContext:nr,useEffect:hy,useImperativeHandle:AS,useInsertionEffect:NS,useLayoutEffect:PS,useMemo:RS,useReducer:Am,useRef:ES,useState:function(){return Am(sc)},useDebugValue:fy,useDeferredValue:function(e){var t=rr();return kt===null?t.memoizedState=e:LS(t,kt.memoizedState,e)},useTransition:function(){var e=Am(sc)[0],t=rr().memoizedState;return[e,t]},useMutableSource:xS,useSyncExternalStore:_S,useId:OS,unstable_isNewReconciler:!1};function dr(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function og(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wh={isMounted:function(e){return(e=e._reactInternals)?ao(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=an(),i=Ki(e),o=ci(r,i);o.payload=t,n!=null&&(o.callback=n),t=Zi(e,o,i),t!==null&&(vr(t,e,i,r),rd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=an(),i=Ki(e),o=ci(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Zi(e,o,i),t!==null&&(vr(t,e,i,r),rd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=an(),r=Ki(e),i=ci(n,r);i.tag=2,t!=null&&(i.callback=t),t=Zi(e,i,r),t!==null&&(vr(t,e,r,n),rd(t,e,r))}};function Ew(e,t,n,r,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!Xl(n,r)||!Xl(i,o):!0}function $S(e,t,n){var r=!1,i=rs,o=t.contextType;return typeof o=="object"&&o!==null?o=nr(o):(i=wn(t)?Ks:Qt.current,r=t.contextTypes,o=(r=r!=null)?da(e,i):rs),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Nw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wh.enqueueReplaceState(t,t.state,null)}function ag(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},sy(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=nr(o):(o=wn(t)?Ks:Qt.current,i.context=da(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(og(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&wh.enqueueReplaceState(i,i.state,null),Rd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function pa(e,t){try{var n="",r=t;do n+=TM(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function km(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function lg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var nD=typeof WeakMap=="function"?WeakMap:Map;function FS(e,t,n){n=ci(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Dd||(Dd=!0,yg=r),lg(e,t)},n}function BS(e,t,n){n=ci(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){lg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){lg(e,t),typeof r!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Pw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new nD;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=gD.bind(null,e,t,n),t.then(e,e))}function Tw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Aw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ci(-1,1),t.tag=2,Zi(n,t,1))),n.lanes|=1),e)}var rD=bi.ReactCurrentOwner,xn=!1;function on(e,t,n,r){t.child=e===null?pS(t,null,n,r):fa(t,e.child,n,r)}function kw(e,t,n,r,i){n=n.render;var o=t.ref;return ra(t,i),r=uy(e,t,n,r,o,i),n=dy(),e!==null&&!xn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gi(e,t,i)):(lt&&n&&Xv(t),t.flags|=1,on(e,t,r,i),t.child)}function Rw(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!wy(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,US(e,t,o,r,i)):(e=cd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xl,n(l,r)&&e.ref===t.ref)return gi(e,t,i)}return t.flags|=1,e=Ji(o,r),e.ref=t.ref,e.return=t,t.child=e}function US(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Xl(o,r)&&e.ref===t.ref)if(xn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(xn=!0);else return t.lanes=e.lanes,gi(e,t,i)}return cg(e,t,n,r,i)}function zS(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(qo,Rn),Rn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xe(qo,Rn),Rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Xe(qo,Rn),Rn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Xe(qo,Rn),Rn|=r;return on(e,t,i,n),t.child}function VS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function cg(e,t,n,r,i){var o=wn(n)?Ks:Qt.current;return o=da(t,o),ra(t,i),n=uy(e,t,n,r,o,i),r=dy(),e!==null&&!xn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gi(e,t,i)):(lt&&r&&Xv(t),t.flags|=1,on(e,t,n,i),t.child)}function Lw(e,t,n,r,i){if(wn(n)){var o=!0;Nd(t)}else o=!1;if(ra(t,i),t.stateNode===null)od(e,t),$S(t,n,r),ag(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var u=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=nr(h):(h=wn(n)?Ks:Qt.current,h=da(t,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||u!==h)&&Nw(t,l,r,h),Ii=!1;var v=t.memoizedState;l.state=v,Rd(t,r,l,i),u=t.memoizedState,c!==r||v!==u||_n.current||Ii?(typeof f=="function"&&(og(t,n,f,r),u=t.memoizedState),(c=Ii||Ew(t,n,c,r,v,u,h))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=h,r=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,vS(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:dr(t.type,c),l.props=h,p=t.pendingProps,v=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=nr(u):(u=wn(n)?Ks:Qt.current,u=da(t,u));var x=n.getDerivedStateFromProps;(f=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==p||v!==u)&&Nw(t,l,r,u),Ii=!1,v=t.memoizedState,l.state=v,Rd(t,r,l,i);var w=t.memoizedState;c!==p||v!==w||_n.current||Ii?(typeof x=="function"&&(og(t,n,x,r),w=t.memoizedState),(h=Ii||Ew(t,n,h,r,v,w,u)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,w,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,w,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),l.props=r,l.state=w,l.context=u,r=h):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return ug(e,t,n,r,o,i)}function ug(e,t,n,r,i,o){VS(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&yw(t,n,!1),gi(e,t,o);r=t.stateNode,rD.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=fa(t,e.child,null,o),t.child=fa(t,null,c,o)):on(e,t,c,o),t.memoizedState=r.state,i&&yw(t,n,!0),t.child}function HS(e){var t=e.stateNode;t.pendingContext?vw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vw(e,t.context,!1),oy(e,t.containerInfo)}function Ow(e,t,n,r,i){return ha(),ey(i),t.flags|=256,on(e,t,n,r),t.child}var dg={dehydrated:null,treeContext:null,retryLane:0};function hg(e){return{baseLanes:e,cachePool:null,transitions:null}}function WS(e,t,n){var r=t.pendingProps,i=ut.current,o=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Xe(ut,i&1),e===null)return ig(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Ch(l,r,0,null),e=Zs(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=hg(n),t.memoizedState=dg,e):my(t,l));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return iD(e,t,l,r,c,i,n);if(o){o=r.fallback,l=t.mode,i=e.child,c=i.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Ji(i,u),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=Ji(c,o):(o=Zs(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?hg(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=dg,r}return o=e.child,e=o.sibling,r=Ji(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function my(e,t){return t=Ch({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cu(e,t,n,r){return r!==null&&ey(r),fa(t,e.child,null,n),e=my(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iD(e,t,n,r,i,o,l){if(n)return t.flags&256?(t.flags&=-257,r=km(Error(oe(422))),Cu(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ch({mode:"visible",children:r.children},i,0,null),o=Zs(o,i,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&fa(t,e.child,null,l),t.child.memoizedState=hg(l),t.memoizedState=dg,o);if(!(t.mode&1))return Cu(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(oe(419)),r=km(o,r,void 0),Cu(e,t,l,r)}if(c=(l&e.childLanes)!==0,xn||c){if(r=Ft,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,pi(e,i),vr(r,e,i,-1))}return _y(),r=km(Error(oe(421))),Cu(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=vD.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,On=Gi(i.nextSibling),Mn=t,lt=!0,mr=null,e!==null&&(Jn[Yn++]=oi,Jn[Yn++]=ai,Jn[Yn++]=Js,oi=e.id,ai=e.overflow,Js=t),t=my(t,r.children),t.flags|=4096,t)}function Mw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sg(e.return,t,n)}function Rm(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function GS(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(on(e,t,r.children,n),r=ut.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mw(e,n,t);else if(e.tag===19)Mw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xe(ut,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ld(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Rm(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ld(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Rm(t,!0,n,null,o);break;case"together":Rm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function od(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,n=Ji(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ji(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sD(e,t,n){switch(t.tag){case 3:HS(t),ha();break;case 5:yS(t);break;case 1:wn(t.type)&&Nd(t);break;case 4:oy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Xe(Ad,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xe(ut,ut.current&1),t.flags|=128,null):n&t.child.childLanes?WS(e,t,n):(Xe(ut,ut.current&1),e=gi(e,t,n),e!==null?e.sibling:null);Xe(ut,ut.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return GS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(ut,ut.current),r)break;return null;case 22:case 23:return t.lanes=0,zS(e,t,n)}return gi(e,t,n)}var ZS,fg,qS,KS;ZS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fg=function(){};qS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Vs(Br.current);var o=null;switch(n){case"input":i=Mp(e,i),r=Mp(e,r),o=[];break;case"select":i=pt({},i,{value:void 0}),r=pt({},r,{value:void 0}),o=[];break;case"textarea":i=$p(e,i),r=$p(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Sd)}Bp(n,r);var l;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var c=i[h];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Wl.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(c=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(u!=null||c!=null))if(h==="style")if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Wl.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&nt("scroll",e),o||c===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};KS=function(e,t,n,r){n!==r&&(t.flags|=4)};function ll(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function oD(e,t,n){var r=t.pendingProps;switch(Qv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(t),null;case 1:return wn(t.type)&&Ed(),Kt(t),null;case 3:return r=t.stateNode,ma(),it(_n),it(Qt),ly(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mr!==null&&(wg(mr),mr=null))),fg(e,t),Kt(t),null;case 5:ay(t);var i=Vs(rc.current);if(n=t.type,e!==null&&t.stateNode!=null)qS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(oe(166));return Kt(t),null}if(e=Vs(Br.current),bu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Or]=t,r[tc]=o,e=(t.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<jl.length;i++)nt(jl[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":H_(r,o),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nt("invalid",r);break;case"textarea":G_(r,o),nt("invalid",r)}Bp(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&wu(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&wu(r.textContent,c,e),i=["children",""+c]):Wl.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&nt("scroll",r)}switch(n){case"input":fu(r),W_(r,o,!0);break;case"textarea":fu(r),Z_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Sd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Or]=t,e[tc]=r,ZS(e,t,!1,!1),t.stateNode=e;e:{switch(l=Up(n,r),n){case"dialog":nt("cancel",e),nt("close",e),i=r;break;case"iframe":case"object":case"embed":nt("load",e),i=r;break;case"video":case"audio":for(i=0;i<jl.length;i++)nt(jl[i],e);i=r;break;case"source":nt("error",e),i=r;break;case"img":case"image":case"link":nt("error",e),nt("load",e),i=r;break;case"details":nt("toggle",e),i=r;break;case"input":H_(e,r),i=Mp(e,r),nt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pt({},r,{value:void 0}),nt("invalid",e);break;case"textarea":G_(e,r),i=$p(e,r),nt("invalid",e);break;default:i=r}Bp(n,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var u=c[o];o==="style"?EC(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&CC(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Gl(e,u):typeof u=="number"&&Gl(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Wl.hasOwnProperty(o)?u!=null&&o==="onScroll"&&nt("scroll",e):u!=null&&$v(e,o,u,l))}switch(n){case"input":fu(e),W_(e,r,!1);break;case"textarea":fu(e),Z_(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ns(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Qo(e,!!r.multiple,o,!1):r.defaultValue!=null&&Qo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Sd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kt(t),null;case 6:if(e&&t.stateNode!=null)KS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(oe(166));if(n=Vs(rc.current),Vs(Br.current),bu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Or]=t,(o=r.nodeValue!==n)&&(e=Mn,e!==null))switch(e.tag){case 3:wu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Or]=t,t.stateNode=r}return Kt(t),null;case 13:if(it(ut),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&On!==null&&t.mode&1&&!(t.flags&128))fS(),ha(),t.flags|=98560,o=!1;else if(o=bu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(oe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(oe(317));o[Or]=t}else ha(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kt(t),o=!1}else mr!==null&&(wg(mr),mr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ut.current&1?Rt===0&&(Rt=3):_y())),t.updateQueue!==null&&(t.flags|=4),Kt(t),null);case 4:return ma(),fg(e,t),e===null&&Ql(t.stateNode.containerInfo),Kt(t),null;case 10:return ry(t.type._context),Kt(t),null;case 17:return wn(t.type)&&Ed(),Kt(t),null;case 19:if(it(ut),o=t.memoizedState,o===null)return Kt(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)ll(o,!1);else{if(Rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ld(e),l!==null){for(t.flags|=128,ll(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xe(ut,ut.current&1|2),t.child}e=e.sibling}o.tail!==null&&jt()>ga&&(t.flags|=128,r=!0,ll(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ld(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!lt)return Kt(t),null}else 2*jt()-o.renderingStartTime>ga&&n!==1073741824&&(t.flags|=128,r=!0,ll(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=jt(),t.sibling=null,n=ut.current,Xe(ut,r?n&1|2:n&1),t):(Kt(t),null);case 22:case 23:return xy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Rn&1073741824&&(Kt(t),t.subtreeFlags&6&&(t.flags|=8192)):Kt(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function aD(e,t){switch(Qv(t),t.tag){case 1:return wn(t.type)&&Ed(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ma(),it(_n),it(Qt),ly(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ay(t),null;case 13:if(it(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(ut),null;case 4:return ma(),null;case 10:return ry(t.type._context),null;case 22:case 23:return xy(),null;case 24:return null;default:return null}}var Su=!1,Yt=!1,lD=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Zo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(e,t,r)}else n.current=null}function mg(e,t,n){try{n()}catch(r){gt(e,t,r)}}var Iw=!1;function cD(e,t){if(Yp=bd,e=eS(),Yv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,c=-1,u=-1,h=0,f=0,p=e,v=null;t:for(;;){for(var x;p!==n||i!==0&&p.nodeType!==3||(c=l+i),p!==o||r!==0&&p.nodeType!==3||(u=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(x=p.firstChild)!==null;)v=p,p=x;for(;;){if(p===e)break t;if(v===n&&++h===i&&(c=l),v===o&&++f===r&&(u=l),(x=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=x}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xp={focusedElem:e,selectionRange:n},bd=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,S=w.memoizedState,j=t.stateNode,b=j.getSnapshotBeforeUpdate(t.elementType===t.type?y:dr(t.type,y),S);j.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(N){gt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return w=Iw,Iw=!1,w}function Ll(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&mg(t,n,o)}i=i.next}while(i!==r)}}function bh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function JS(e){var t=e.alternate;t!==null&&(e.alternate=null,JS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Or],delete t[tc],delete t[tg],delete t[WI],delete t[GI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YS(e){return e.tag===5||e.tag===3||e.tag===4}function Dw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||YS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sd));else if(r!==4&&(e=e.child,e!==null))for(gg(e,t,n),e=e.sibling;e!==null;)gg(e,t,n),e=e.sibling}function vg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vg(e,t,n),e=e.sibling;e!==null;)vg(e,t,n),e=e.sibling}var Ut=null,hr=!1;function Pi(e,t,n){for(n=n.child;n!==null;)XS(e,t,n),n=n.sibling}function XS(e,t,n){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(mh,n)}catch{}switch(n.tag){case 5:Yt||Zo(n,t);case 6:var r=Ut,i=hr;Ut=null,Pi(e,t,n),Ut=r,hr=i,Ut!==null&&(hr?(e=Ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(hr?(e=Ut,n=n.stateNode,e.nodeType===8?Sm(e.parentNode,n):e.nodeType===1&&Sm(e,n),Jl(e)):Sm(Ut,n.stateNode));break;case 4:r=Ut,i=hr,Ut=n.stateNode.containerInfo,hr=!0,Pi(e,t,n),Ut=r,hr=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&mg(n,t,l),i=i.next}while(i!==r)}Pi(e,t,n);break;case 1:if(!Yt&&(Zo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){gt(n,t,c)}Pi(e,t,n);break;case 21:Pi(e,t,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,Pi(e,t,n),Yt=r):Pi(e,t,n);break;default:Pi(e,t,n)}}function $w(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new lD),t.forEach(function(r){var i=yD.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:Ut=c.stateNode,hr=!1;break e;case 3:Ut=c.stateNode.containerInfo,hr=!0;break e;case 4:Ut=c.stateNode.containerInfo,hr=!0;break e}c=c.return}if(Ut===null)throw Error(oe(160));XS(o,l,i),Ut=null,hr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){gt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)QS(t,e),t=t.sibling}function QS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cr(t,e),kr(e),r&4){try{Ll(3,e,e.return),bh(3,e)}catch(y){gt(e,e.return,y)}try{Ll(5,e,e.return)}catch(y){gt(e,e.return,y)}}break;case 1:cr(t,e),kr(e),r&512&&n!==null&&Zo(n,n.return);break;case 5:if(cr(t,e),kr(e),r&512&&n!==null&&Zo(n,n.return),e.flags&32){var i=e.stateNode;try{Gl(i,"")}catch(y){gt(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&wC(i,o),Up(c,l);var h=Up(c,o);for(l=0;l<u.length;l+=2){var f=u[l],p=u[l+1];f==="style"?EC(i,p):f==="dangerouslySetInnerHTML"?CC(i,p):f==="children"?Gl(i,p):$v(i,f,p,h)}switch(c){case"input":Ip(i,o);break;case"textarea":bC(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?Qo(i,!!o.multiple,x,!1):v!==!!o.multiple&&(o.defaultValue!=null?Qo(i,!!o.multiple,o.defaultValue,!0):Qo(i,!!o.multiple,o.multiple?[]:"",!1))}i[tc]=o}catch(y){gt(e,e.return,y)}}break;case 6:if(cr(t,e),kr(e),r&4){if(e.stateNode===null)throw Error(oe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){gt(e,e.return,y)}}break;case 3:if(cr(t,e),kr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jl(t.containerInfo)}catch(y){gt(e,e.return,y)}break;case 4:cr(t,e),kr(e);break;case 13:cr(t,e),kr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(vy=jt())),r&4&&$w(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Yt=(h=Yt)||f,cr(t,e),Yt=h):cr(t,e),kr(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!f&&e.mode&1)for(fe=e,f=e.child;f!==null;){for(p=fe=f;fe!==null;){switch(v=fe,x=v.child,v.tag){case 0:case 11:case 14:case 15:Ll(4,v,v.return);break;case 1:Zo(v,v.return);var w=v.stateNode;if(typeof w.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){gt(r,n,y)}}break;case 5:Zo(v,v.return);break;case 22:if(v.memoizedState!==null){Bw(p);continue}}x!==null?(x.return=v,fe=x):Bw(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=p.stateNode,u=p.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=SC("display",l))}catch(y){gt(e,e.return,y)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(y){gt(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:cr(t,e),kr(e),r&4&&$w(e);break;case 21:break;default:cr(t,e),kr(e)}}function kr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(YS(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gl(i,""),r.flags&=-33);var o=Dw(e);vg(e,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,c=Dw(e);gg(e,c,l);break;default:throw Error(oe(161))}}catch(u){gt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uD(e,t,n){fe=e,eE(e)}function eE(e,t,n){for(var r=(e.mode&1)!==0;fe!==null;){var i=fe,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Su;if(!l){var c=i.alternate,u=c!==null&&c.memoizedState!==null||Yt;c=Su;var h=Yt;if(Su=l,(Yt=u)&&!h)for(fe=i;fe!==null;)l=fe,u=l.child,l.tag===22&&l.memoizedState!==null?Uw(i):u!==null?(u.return=l,fe=u):Uw(i);for(;o!==null;)fe=o,eE(o),o=o.sibling;fe=i,Su=c,Yt=h}Fw(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,fe=o):Fw(e)}}function Fw(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yt||bh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:dr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&jw(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jw(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Jl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Yt||t.flags&512&&pg(t)}catch(v){gt(t,t.return,v)}}if(t===e){fe=null;break}if(n=t.sibling,n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Bw(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Uw(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bh(4,t)}catch(u){gt(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){gt(t,i,u)}}var o=t.return;try{pg(t)}catch(u){gt(t,o,u)}break;case 5:var l=t.return;try{pg(t)}catch(u){gt(t,l,u)}}}catch(u){gt(t,t.return,u)}if(t===e){fe=null;break}var c=t.sibling;if(c!==null){c.return=t.return,fe=c;break}fe=t.return}}var dD=Math.ceil,Id=bi.ReactCurrentDispatcher,py=bi.ReactCurrentOwner,Qn=bi.ReactCurrentBatchConfig,Ue=0,Ft=null,Pt=null,Vt=0,Rn=0,qo=gs(0),Rt=0,ac=null,Xs=0,jh=0,gy=0,Ol=null,vn=null,vy=0,ga=1/0,ni=null,Dd=!1,yg=null,qi=null,Eu=!1,Ui=null,$d=0,Ml=0,xg=null,ad=-1,ld=0;function an(){return Ue&6?jt():ad!==-1?ad:ad=jt()}function Ki(e){return e.mode&1?Ue&2&&Vt!==0?Vt&-Vt:qI.transition!==null?(ld===0&&(ld=$C()),ld):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:WC(e.type)),e):1}function vr(e,t,n,r){if(50<Ml)throw Ml=0,xg=null,Error(oe(185));Sc(e,n,r),(!(Ue&2)||e!==Ft)&&(e===Ft&&(!(Ue&2)&&(jh|=n),Rt===4&&Fi(e,Vt)),bn(e,r),n===1&&Ue===0&&!(t.mode&1)&&(ga=jt()+500,xh&&vs()))}function bn(e,t){var n=e.callbackNode;qM(e,t);var r=wd(e,e===Ft?Vt:0);if(r===0)n!==null&&J_(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&J_(n),t===1)e.tag===0?ZI(zw.bind(null,e)):uS(zw.bind(null,e)),VI(function(){!(Ue&6)&&vs()}),n=null;else{switch(FC(r)){case 1:n=Vv;break;case 4:n=IC;break;case 16:n=_d;break;case 536870912:n=DC;break;default:n=_d}n=lE(n,tE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tE(e,t){if(ad=-1,ld=0,Ue&6)throw Error(oe(327));var n=e.callbackNode;if(ia()&&e.callbackNode!==n)return null;var r=wd(e,e===Ft?Vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fd(e,r);else{t=r;var i=Ue;Ue|=2;var o=rE();(Ft!==e||Vt!==t)&&(ni=null,ga=jt()+500,Gs(e,t));do try{mD();break}catch(c){nE(e,c)}while(1);ny(),Id.current=o,Ue=i,Pt!==null?t=0:(Ft=null,Vt=0,t=Rt)}if(t!==0){if(t===2&&(i=Gp(e),i!==0&&(r=i,t=_g(e,i))),t===1)throw n=ac,Gs(e,0),Fi(e,r),bn(e,jt()),n;if(t===6)Fi(e,r);else{if(i=e.current.alternate,!(r&30)&&!hD(i)&&(t=Fd(e,r),t===2&&(o=Gp(e),o!==0&&(r=o,t=_g(e,o))),t===1))throw n=ac,Gs(e,0),Fi(e,r),bn(e,jt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(oe(345));case 2:Os(e,vn,ni);break;case 3:if(Fi(e,r),(r&130023424)===r&&(t=vy+500-jt(),10<t)){if(wd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){an(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=eg(Os.bind(null,e,vn,ni),t);break}Os(e,vn,ni);break;case 4:if(Fi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-gr(r);o=1<<l,l=t[l],l>i&&(i=l),r&=~o}if(r=i,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dD(r/1960))-r,10<r){e.timeoutHandle=eg(Os.bind(null,e,vn,ni),r);break}Os(e,vn,ni);break;case 5:Os(e,vn,ni);break;default:throw Error(oe(329))}}}return bn(e,jt()),e.callbackNode===n?tE.bind(null,e):null}function _g(e,t){var n=Ol;return e.current.memoizedState.isDehydrated&&(Gs(e,t).flags|=256),e=Fd(e,t),e!==2&&(t=vn,vn=n,t!==null&&wg(t)),e}function wg(e){vn===null?vn=e:vn.push.apply(vn,e)}function hD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fi(e,t){for(t&=~gy,t&=~jh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gr(t),r=1<<n;e[n]=-1,t&=~r}}function zw(e){if(Ue&6)throw Error(oe(327));ia();var t=wd(e,0);if(!(t&1))return bn(e,jt()),null;var n=Fd(e,t);if(e.tag!==0&&n===2){var r=Gp(e);r!==0&&(t=r,n=_g(e,r))}if(n===1)throw n=ac,Gs(e,0),Fi(e,t),bn(e,jt()),n;if(n===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e,vn,ni),bn(e,jt()),null}function yy(e,t){var n=Ue;Ue|=1;try{return e(t)}finally{Ue=n,Ue===0&&(ga=jt()+500,xh&&vs())}}function Qs(e){Ui!==null&&Ui.tag===0&&!(Ue&6)&&ia();var t=Ue;Ue|=1;var n=Qn.transition,r=Ge;try{if(Qn.transition=null,Ge=1,e)return e()}finally{Ge=r,Qn.transition=n,Ue=t,!(Ue&6)&&vs()}}function xy(){Rn=qo.current,it(qo)}function Gs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zI(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(Qv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ed();break;case 3:ma(),it(_n),it(Qt),ly();break;case 5:ay(r);break;case 4:ma();break;case 13:it(ut);break;case 19:it(ut);break;case 10:ry(r.type._context);break;case 22:case 23:xy()}n=n.return}if(Ft=e,Pt=e=Ji(e.current,null),Vt=Rn=t,Rt=0,ac=null,gy=jh=Xs=0,vn=Ol=null,zs!==null){for(t=0;t<zs.length;t++)if(n=zs[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}zs=null}return e}function nE(e,t){do{var n=Pt;try{if(ny(),id.current=Md,Od){for(var r=mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Od=!1}if(Ys=0,It=kt=mt=null,Rl=!1,ic=0,py.current=null,n===null||n.return===null){Rt=1,ac=t,Pt=null;break}e:{var o=e,l=n.return,c=n,u=t;if(t=Vt,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=Tw(l);if(x!==null){x.flags&=-257,Aw(x,l,c,o,t),x.mode&1&&Pw(o,h,t),t=x,u=h;var w=t.updateQueue;if(w===null){var y=new Set;y.add(u),t.updateQueue=y}else w.add(u);break e}else{if(!(t&1)){Pw(o,h,t),_y();break e}u=Error(oe(426))}}else if(lt&&c.mode&1){var S=Tw(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Aw(S,l,c,o,t),ey(pa(u,c));break e}}o=u=pa(u,c),Rt!==4&&(Rt=2),Ol===null?Ol=[o]:Ol.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var j=FS(o,u,t);bw(o,j);break e;case 1:c=u;var b=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(qi===null||!qi.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var N=BS(o,c,t);bw(o,N);break e}}o=o.return}while(o!==null)}sE(n)}catch(P){t=P,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(1)}function rE(){var e=Id.current;return Id.current=Md,e===null?Md:e}function _y(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Ft===null||!(Xs&268435455)&&!(jh&268435455)||Fi(Ft,Vt)}function Fd(e,t){var n=Ue;Ue|=2;var r=rE();(Ft!==e||Vt!==t)&&(ni=null,Gs(e,t));do try{fD();break}catch(i){nE(e,i)}while(1);if(ny(),Ue=n,Id.current=r,Pt!==null)throw Error(oe(261));return Ft=null,Vt=0,Rt}function fD(){for(;Pt!==null;)iE(Pt)}function mD(){for(;Pt!==null&&!FM();)iE(Pt)}function iE(e){var t=aE(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?sE(e):Pt=t,py.current=null}function sE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=aD(n,t),n!==null){n.flags&=32767,Pt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rt=6,Pt=null;return}}else if(n=oD(n,t,Rn),n!==null){Pt=n;return}if(t=t.sibling,t!==null){Pt=t;return}Pt=t=e}while(t!==null);Rt===0&&(Rt=5)}function Os(e,t,n){var r=Ge,i=Qn.transition;try{Qn.transition=null,Ge=1,pD(e,t,n,r)}finally{Qn.transition=i,Ge=r}return null}function pD(e,t,n,r){do ia();while(Ui!==null);if(Ue&6)throw Error(oe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(KM(e,o),e===Ft&&(Pt=Ft=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eu||(Eu=!0,lE(_d,function(){return ia(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qn.transition,Qn.transition=null;var l=Ge;Ge=1;var c=Ue;Ue|=4,py.current=null,cD(e,n),QS(n,e),MI(Xp),bd=!!Yp,Xp=Yp=null,e.current=n,uD(n),BM(),Ue=c,Ge=l,Qn.transition=o}else e.current=n;if(Eu&&(Eu=!1,Ui=e,$d=i),o=e.pendingLanes,o===0&&(qi=null),VM(n.stateNode),bn(e,jt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dd)throw Dd=!1,e=yg,yg=null,e;return $d&1&&e.tag!==0&&ia(),o=e.pendingLanes,o&1?e===xg?Ml++:(Ml=0,xg=e):Ml=0,vs(),null}function ia(){if(Ui!==null){var e=FC($d),t=Qn.transition,n=Ge;try{if(Qn.transition=null,Ge=16>e?16:e,Ui===null)var r=!1;else{if(e=Ui,Ui=null,$d=0,Ue&6)throw Error(oe(331));var i=Ue;for(Ue|=4,fe=e.current;fe!==null;){var o=fe,l=o.child;if(fe.flags&16){var c=o.deletions;if(c!==null){for(var u=0;u<c.length;u++){var h=c[u];for(fe=h;fe!==null;){var f=fe;switch(f.tag){case 0:case 11:case 15:Ll(8,f,o)}var p=f.child;if(p!==null)p.return=f,fe=p;else for(;fe!==null;){f=fe;var v=f.sibling,x=f.return;if(JS(f),f===h){fe=null;break}if(v!==null){v.return=x,fe=v;break}fe=x}}}var w=o.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}fe=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,fe=l;else e:for(;fe!==null;){if(o=fe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ll(9,o,o.return)}var j=o.sibling;if(j!==null){j.return=o.return,fe=j;break e}fe=o.return}}var b=e.current;for(fe=b;fe!==null;){l=fe;var C=l.child;if(l.subtreeFlags&2064&&C!==null)C.return=l,fe=C;else e:for(l=b;fe!==null;){if(c=fe,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:bh(9,c)}}catch(P){gt(c,c.return,P)}if(c===l){fe=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,fe=N;break e}fe=c.return}}if(Ue=i,vs(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(mh,e)}catch{}r=!0}return r}finally{Ge=n,Qn.transition=t}}return!1}function Vw(e,t,n){t=pa(n,t),t=FS(e,t,1),e=Zi(e,t,1),t=an(),e!==null&&(Sc(e,1,t),bn(e,t))}function gt(e,t,n){if(e.tag===3)Vw(e,e,n);else for(;t!==null;){if(t.tag===3){Vw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qi===null||!qi.has(r))){e=pa(n,e),e=BS(t,e,1),t=Zi(t,e,1),e=an(),t!==null&&(Sc(t,1,e),bn(t,e));break}}t=t.return}}function gD(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=an(),e.pingedLanes|=e.suspendedLanes&n,Ft===e&&(Vt&n)===n&&(Rt===4||Rt===3&&(Vt&130023424)===Vt&&500>jt()-vy?Gs(e,0):gy|=n),bn(e,t)}function oE(e,t){t===0&&(e.mode&1?(t=gu,gu<<=1,!(gu&130023424)&&(gu=4194304)):t=1);var n=an();e=pi(e,t),e!==null&&(Sc(e,t,n),bn(e,n))}function vD(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),oE(e,n)}function yD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(t),oE(e,n)}var aE;aE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_n.current)xn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xn=!1,sD(e,t,n);xn=!!(e.flags&131072)}else xn=!1,lt&&t.flags&1048576&&dS(t,Td,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;od(e,t),e=t.pendingProps;var i=da(t,Qt.current);ra(t,n),i=uy(null,t,r,e,i,n);var o=dy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wn(r)?(o=!0,Nd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sy(t),i.updater=wh,t.stateNode=i,i._reactInternals=t,ag(t,r,e,n),t=ug(null,t,r,!0,o,n)):(t.tag=0,lt&&o&&Xv(t),on(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(od(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=_D(r),e=dr(r,e),i){case 0:t=cg(null,t,r,e,n);break e;case 1:t=Lw(null,t,r,e,n);break e;case 11:t=kw(null,t,r,e,n);break e;case 14:t=Rw(null,t,r,dr(r.type,e),n);break e}throw Error(oe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dr(r,i),cg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dr(r,i),Lw(e,t,r,i,n);case 3:e:{if(HS(t),e===null)throw Error(oe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,vS(e,t),Rd(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=pa(Error(oe(423)),t),t=Ow(e,t,r,n,i);break e}else if(r!==i){i=pa(Error(oe(424)),t),t=Ow(e,t,r,n,i);break e}else for(On=Gi(t.stateNode.containerInfo.firstChild),Mn=t,lt=!0,mr=null,n=pS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ha(),r===i){t=gi(e,t,n);break e}on(e,t,r,n)}t=t.child}return t;case 5:return yS(t),e===null&&ig(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,Qp(r,i)?l=null:o!==null&&Qp(r,o)&&(t.flags|=32),VS(e,t),on(e,t,l,n),t.child;case 6:return e===null&&ig(t),null;case 13:return WS(e,t,n);case 4:return oy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fa(t,null,r,n):on(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dr(r,i),kw(e,t,r,i,n);case 7:return on(e,t,t.pendingProps,n),t.child;case 8:return on(e,t,t.pendingProps.children,n),t.child;case 12:return on(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,Xe(Ad,r._currentValue),r._currentValue=l,o!==null)if(yr(o.value,l)){if(o.children===i.children&&!_n.current){t=gi(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=ci(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),sg(o.return,n,t),c.lanes|=n;break}u=u.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(oe(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),sg(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}on(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ra(t,n),i=nr(i),r=r(i),t.flags|=1,on(e,t,r,n),t.child;case 14:return r=t.type,i=dr(r,t.pendingProps),i=dr(r.type,i),Rw(e,t,r,i,n);case 15:return US(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:dr(r,i),od(e,t),t.tag=1,wn(r)?(e=!0,Nd(t)):e=!1,ra(t,n),$S(t,r,i),ag(t,r,i,n),ug(null,t,r,!0,e,n);case 19:return GS(e,t,n);case 22:return zS(e,t,n)}throw Error(oe(156,t.tag))};function lE(e,t){return MC(e,t)}function xD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(e,t,n,r){return new xD(e,t,n,r)}function wy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _D(e){if(typeof e=="function")return wy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bv)return 11;if(e===Uv)return 14}return 2}function Ji(e,t){var n=e.alternate;return n===null?(n=Xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cd(e,t,n,r,i,o){var l=2;if(r=e,typeof e=="function")wy(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case $o:return Zs(n.children,i,o,t);case Fv:l=8,i|=8;break;case kp:return e=Xn(12,n,t,i|2),e.elementType=kp,e.lanes=o,e;case Rp:return e=Xn(13,n,t,i),e.elementType=Rp,e.lanes=o,e;case Lp:return e=Xn(19,n,t,i),e.elementType=Lp,e.lanes=o,e;case yC:return Ch(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gC:l=10;break e;case vC:l=9;break e;case Bv:l=11;break e;case Uv:l=14;break e;case Mi:l=16,r=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=Xn(l,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Zs(e,t,n,r){return e=Xn(7,e,r,t),e.lanes=n,e}function Ch(e,t,n,r){return e=Xn(22,e,r,t),e.elementType=yC,e.lanes=n,e.stateNode={isHidden:!1},e}function Lm(e,t,n){return e=Xn(6,e,null,t),e.lanes=n,e}function Om(e,t,n){return t=Xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wD(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mm(0),this.expirationTimes=mm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function by(e,t,n,r,i,o,l,c,u){return e=new wD(e,t,n,c,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Xn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sy(o),e}function bD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cE(e){if(!e)return rs;e=e._reactInternals;e:{if(ao(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var n=e.type;if(wn(n))return cS(e,n,t)}return t}function uE(e,t,n,r,i,o,l,c,u){return e=by(n,r,!0,e,i,o,l,c,u),e.context=cE(null),n=e.current,r=an(),i=Ki(n),o=ci(r,i),o.callback=t??null,Zi(n,o,i),e.current.lanes=i,Sc(e,i,r),bn(e,r),e}function Sh(e,t,n,r){var i=t.current,o=an(),l=Ki(i);return n=cE(n),t.context===null?t.context=n:t.pendingContext=n,t=ci(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zi(i,t,l),e!==null&&(vr(e,i,l,o),rd(e,i,l)),l}function Bd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jy(e,t){Hw(e,t),(e=e.alternate)&&Hw(e,t)}function jD(){return null}var dE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cy(e){this._internalRoot=e}Eh.prototype.render=Cy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));Sh(e,t,null,null)};Eh.prototype.unmount=Cy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qs(function(){Sh(null,e,null,null)}),t[mi]=null}};function Eh(e){this._internalRoot=e}Eh.prototype.unstable_scheduleHydration=function(e){if(e){var t=zC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$i.length&&t!==0&&t<$i[n].priority;n++);$i.splice(n,0,e),n===0&&HC(e)}};function Sy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ww(){}function CD(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=Bd(l);o.call(h)}}var l=uE(t,r,e,0,null,!1,!1,"",Ww);return e._reactRootContainer=l,e[mi]=l.current,Ql(e.nodeType===8?e.parentNode:e),Qs(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var h=Bd(u);c.call(h)}}var u=by(e,0,!1,null,null,!1,!1,"",Ww);return e._reactRootContainer=u,e[mi]=u.current,Ql(e.nodeType===8?e.parentNode:e),Qs(function(){Sh(t,u,n,r)}),u}function Ph(e,t,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var c=i;i=function(){var u=Bd(l);c.call(u)}}Sh(t,l,e,i)}else l=CD(n,t,e,i,r);return Bd(l)}BC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=bl(t.pendingLanes);n!==0&&(Hv(t,n|1),bn(t,jt()),!(Ue&6)&&(ga=jt()+500,vs()))}break;case 13:Qs(function(){var r=pi(e,1);if(r!==null){var i=an();vr(r,e,1,i)}}),jy(e,1)}};Wv=function(e){if(e.tag===13){var t=pi(e,134217728);if(t!==null){var n=an();vr(t,e,134217728,n)}jy(e,134217728)}};UC=function(e){if(e.tag===13){var t=Ki(e),n=pi(e,t);if(n!==null){var r=an();vr(n,e,t,r)}jy(e,t)}};zC=function(){return Ge};VC=function(e,t){var n=Ge;try{return Ge=e,t()}finally{Ge=n}};Vp=function(e,t,n){switch(t){case"input":if(Ip(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yh(r);if(!i)throw Error(oe(90));_C(r),Ip(r,i)}}}break;case"textarea":bC(e,n);break;case"select":t=n.value,t!=null&&Qo(e,!!n.multiple,t,!1)}};TC=yy;AC=Qs;var SD={usingClientEntryPoint:!1,Events:[Nc,zo,yh,NC,PC,yy]},cl={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ED={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=LC(e),e===null?null:e.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||jD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{mh=Nu.inject(ED),Fr=Nu}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SD;Un.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sy(t))throw Error(oe(200));return bD(e,t,null,n)};Un.createRoot=function(e,t){if(!Sy(e))throw Error(oe(299));var n=!1,r="",i=dE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=by(e,1,!1,null,null,n,!1,r,i),e[mi]=t.current,Ql(e.nodeType===8?e.parentNode:e),new Cy(t)};Un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=LC(t),e=e===null?null:e.stateNode,e};Un.flushSync=function(e){return Qs(e)};Un.hydrate=function(e,t,n){if(!Nh(t))throw Error(oe(200));return Ph(null,e,t,!0,n)};Un.hydrateRoot=function(e,t,n){if(!Sy(e))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=dE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=uE(t,null,e,1,n??null,i,!1,o,l),e[mi]=t.current,Ql(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Eh(t)};Un.render=function(e,t,n){if(!Nh(t))throw Error(oe(200));return Ph(null,e,t,!1,n)};Un.unmountComponentAtNode=function(e){if(!Nh(e))throw Error(oe(40));return e._reactRootContainer?(Qs(function(){Ph(null,null,e,!1,function(){e._reactRootContainer=null,e[mi]=null})}),!0):!1};Un.unstable_batchedUpdates=yy;Un.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Nh(n))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return Ph(e,t,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function hE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hE)}catch(e){console.error(e)}}hE(),hC.exports=Un;var Gr=hC.exports;const Ey=ms(Gr);var Gw=Gr;Tp.createRoot=Gw.createRoot,Tp.hydrateRoot=Gw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lc.apply(this,arguments)}var zi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zi||(zi={}));const Zw="popstate";function ND(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:l,hash:c}=r.location;return bg("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ud(i)}return TD(t,n,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function PD(){return Math.random().toString(36).substr(2,8)}function qw(e,t){return{usr:e.state,key:e.key,idx:t}}function bg(e,t,n,r){return n===void 0&&(n=null),lc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ra(t):t,{state:n,key:t&&t.key||r||PD()})}function Ud(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ra(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function TD(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c=zi.Pop,u=null,h=f();h==null&&(h=0,l.replaceState(lc({},l.state,{idx:h}),""));function f(){return(l.state||{idx:null}).idx}function p(){c=zi.Pop;let S=f(),j=S==null?null:S-h;h=S,u&&u({action:c,location:y.location,delta:j})}function v(S,j){c=zi.Push;let b=bg(y.location,S,j);n&&n(b,S),h=f()+1;let C=qw(b,h),N=y.createHref(b);try{l.pushState(C,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(N)}o&&u&&u({action:c,location:y.location,delta:1})}function x(S,j){c=zi.Replace;let b=bg(y.location,S,j);n&&n(b,S),h=f();let C=qw(b,h),N=y.createHref(b);l.replaceState(C,"",N),o&&u&&u({action:c,location:y.location,delta:0})}function w(S){let j=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof S=="string"?S:Ud(S);return b=b.replace(/ $/,"%20"),_t(j,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,j)}let y={get action(){return c},get location(){return e(i,l)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Zw,p),u=S,()=>{i.removeEventListener(Zw,p),u=null}},createHref(S){return t(i,S)},createURL:w,encodeLocation(S){let j=w(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:x,go(S){return l.go(S)}};return y}var Kw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kw||(Kw={}));function AD(e,t,n){return n===void 0&&(n="/"),kD(e,t,n,!1)}function kD(e,t,n,r){let i=typeof t=="string"?Ra(t):t,o=va(i.pathname||"/",n);if(o==null)return null;let l=mE(e);RD(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let h=VD(o);c=UD(l[u],h,r)}return c}function mE(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};u.relativePath.startsWith("/")&&(_t(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=Yi([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(_t(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),mE(o.children,t,f,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:FD(h,o.index),routesMeta:f})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of pE(o.path))i(o,l,u)}),t}function pE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=pE(r.join("/")),c=[];return c.push(...l.map(u=>u===""?o:[o,u].join("/"))),i&&c.push(...l),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function RD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:BD(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const LD=/^:[\w-]+$/,OD=3,MD=2,ID=1,DD=10,$D=-2,Jw=e=>e==="*";function FD(e,t){let n=e.split("/"),r=n.length;return n.some(Jw)&&(r+=$D),t&&(r+=MD),n.filter(i=>!Jw(i)).reduce((i,o)=>i+(LD.test(o)?OD:o===""?ID:DD),r)}function BD(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function UD(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},o="/",l=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,f=o==="/"?t:t.slice(o.length)||"/",p=zd({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),v=u.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=zd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Yi([o,p.pathname]),pathnameBase:ZD(Yi([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=Yi([o,p.pathnameBase]))}return l}function zd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=zD(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,f,p)=>{let{paramName:v,isOptional:x}=f;if(v==="*"){let y=c[p]||"";l=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const w=c[p];return x&&!w?h[v]=void 0:h[v]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function zD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),fE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function VD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function va(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function HD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ra(e):e;return{pathname:n?n.startsWith("/")?n:WD(n,t):t,search:qD(r),hash:KD(i)}}function WD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gE(e,t){let n=GD(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vE(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ra(e):(i=lc({},e),_t(!i.pathname||!i.pathname.includes("?"),Mm("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),Mm("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),Mm("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let p=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}c=p>=0?t[p]:"/"}let u=HD(i,c),h=l&&l!=="/"&&l.endsWith("/"),f=(o||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const Yi=e=>e.join("/").replace(/\/\/+/g,"/"),ZD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function JD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const yE=["post","put","patch","delete"];new Set(yE);const YD=["get",...yE];new Set(YD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cc.apply(this,arguments)}const Th=m.createContext(null),xE=m.createContext(null),ys=m.createContext(null),Ah=m.createContext(null),xs=m.createContext({outlet:null,matches:[],isDataRoute:!1}),_E=m.createContext(null);function XD(e,t){let{relative:n}=t===void 0?{}:t;Tc()||_t(!1);let{basename:r,navigator:i}=m.useContext(ys),{hash:o,pathname:l,search:c}=Rh(e,{relative:n}),u=l;return r!=="/"&&(u=l==="/"?r:Yi([r,l])),i.createHref({pathname:u,search:c,hash:o})}function Tc(){return m.useContext(Ah)!=null}function La(){return Tc()||_t(!1),m.useContext(Ah).location}function wE(e){m.useContext(ys).static||m.useLayoutEffect(e)}function Pn(){let{isDataRoute:e}=m.useContext(xs);return e?d$():QD()}function QD(){Tc()||_t(!1);let e=m.useContext(Th),{basename:t,future:n,navigator:r}=m.useContext(ys),{matches:i}=m.useContext(xs),{pathname:o}=La(),l=JSON.stringify(gE(i,n.v7_relativeSplatPath)),c=m.useRef(!1);return wE(()=>{c.current=!0}),m.useCallback(function(h,f){if(f===void 0&&(f={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let p=vE(h,JSON.parse(l),o,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Yi([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,l,o,e])}function kh(){let{matches:e}=m.useContext(xs),t=e[e.length-1];return t?t.params:{}}function Rh(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(ys),{matches:i}=m.useContext(xs),{pathname:o}=La(),l=JSON.stringify(gE(i,r.v7_relativeSplatPath));return m.useMemo(()=>vE(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function e$(e,t){return t$(e,t)}function t$(e,t,n,r){Tc()||_t(!1);let{navigator:i}=m.useContext(ys),{matches:o}=m.useContext(xs),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let h=La(),f;if(t){var p;let S=typeof t=="string"?Ra(t):t;u==="/"||(p=S.pathname)!=null&&p.startsWith(u)||_t(!1),f=S}else f=h;let v=f.pathname||"/",x=v;if(u!=="/"){let S=u.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=AD(e,{pathname:x}),y=o$(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Yi([u,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:Yi([u,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return t&&y?m.createElement(Ah.Provider,{value:{location:cc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:zi.Pop}},y):y}function n$(){let e=u$(),t=JD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,o)}const r$=m.createElement(n$,null);class i$ extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(xs.Provider,{value:this.props.routeContext},m.createElement(_E.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s$(e){let{routeContext:t,match:n,children:r}=e,i=m.useContext(Th);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(xs.Provider,{value:t},r)}function o$(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=(i=n)==null?void 0:i.errors;if(c!=null){let f=l.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);f>=0||_t(!1),l=l.slice(0,Math.min(l.length,f+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<l.length;f++){let p=l[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:v,errors:x}=n,w=p.route.loader&&v[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((f,p,v)=>{let x,w=!1,y=null,S=null;n&&(x=c&&p.route.id?c[p.route.id]:void 0,y=p.route.errorElement||r$,u&&(h<0&&v===0?(h$("route-fallback",!1),w=!0,S=null):h===v&&(w=!0,S=p.route.hydrateFallbackElement||null)));let j=t.concat(l.slice(0,v+1)),b=()=>{let C;return x?C=y:w?C=S:p.route.Component?C=m.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,m.createElement(s$,{match:p,routeContext:{outlet:f,matches:j,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?m.createElement(i$,{location:n.location,revalidation:n.revalidation,component:y,error:x,children:b(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):b()},null)}var bE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(bE||{}),Vd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vd||{});function a$(e){let t=m.useContext(Th);return t||_t(!1),t}function l$(e){let t=m.useContext(xE);return t||_t(!1),t}function c$(e){let t=m.useContext(xs);return t||_t(!1),t}function jE(e){let t=c$(),n=t.matches[t.matches.length-1];return n.route.id||_t(!1),n.route.id}function u$(){var e;let t=m.useContext(_E),n=l$(Vd.UseRouteError),r=jE(Vd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function d$(){let{router:e}=a$(bE.UseNavigateStable),t=jE(Vd.UseNavigateStable),n=m.useRef(!1);return wE(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,cc({fromRouteId:t},o)))},[e,t])}const Yw={};function h$(e,t,n){!t&&!Yw[e]&&(Yw[e]=!0)}function f$(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function rt(e){_t(!1)}function m$(e){let{basename:t="/",children:n=null,location:r,navigationType:i=zi.Pop,navigator:o,static:l=!1,future:c}=e;Tc()&&_t(!1);let u=t.replace(/^\/*/,"/"),h=m.useMemo(()=>({basename:u,navigator:o,static:l,future:cc({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);typeof r=="string"&&(r=Ra(r));let{pathname:f="/",search:p="",hash:v="",state:x=null,key:w="default"}=r,y=m.useMemo(()=>{let S=va(f,u);return S==null?null:{location:{pathname:S,search:p,hash:v,state:x,key:w},navigationType:i}},[u,f,p,v,x,w,i]);return y==null?null:m.createElement(ys.Provider,{value:h},m.createElement(Ah.Provider,{children:n,value:y}))}function p$(e){let{children:t,location:n}=e;return e$(jg(t),n)}new Promise(()=>{});function jg(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,i)=>{if(!m.isValidElement(r))return;let o=[...t,i];if(r.type===m.Fragment){n.push.apply(n,jg(r.props.children,o));return}r.type!==rt&&_t(!1),!r.props.index||!r.props.children||_t(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=jg(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hd.apply(this,arguments)}function CE(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function g$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function v$(e,t){return e.button===0&&(!t||t==="_self")&&!g$(e)}const y$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],x$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],_$="6";try{window.__reactRouterVersion=_$}catch{}const w$=m.createContext({isTransitioning:!1}),b$="startTransition",Xw=Cc[b$];function j$(e){let{basename:t,children:n,future:r,window:i}=e,o=m.useRef();o.current==null&&(o.current=ND({window:i,v5Compat:!0}));let l=o.current,[c,u]=m.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},f=m.useCallback(p=>{h&&Xw?Xw(()=>u(p)):u(p)},[u,h]);return m.useLayoutEffect(()=>l.listen(f),[l,f]),m.useEffect(()=>f$(r),[r]),m.createElement(m$,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const C$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uc=m.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:c,target:u,to:h,preventScrollReset:f,viewTransition:p}=t,v=CE(t,y$),{basename:x}=m.useContext(ys),w,y=!1;if(typeof h=="string"&&S$.test(h)&&(w=h,C$))try{let C=new URL(window.location.href),N=h.startsWith("//")?new URL(C.protocol+h):new URL(h),P=va(N.pathname,x);N.origin===C.origin&&P!=null?h=P+N.search+N.hash:y=!0}catch{}let S=XD(h,{relative:i}),j=N$(h,{replace:l,state:c,target:u,preventScrollReset:f,relative:i,viewTransition:p});function b(C){r&&r(C),C.defaultPrevented||j(C)}return m.createElement("a",Hd({},v,{href:w||S,onClick:y||o?r:b,ref:n,target:u}))}),Im=m.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:l=!1,style:c,to:u,viewTransition:h,children:f}=t,p=CE(t,x$),v=Rh(u,{relative:p.relative}),x=La(),w=m.useContext(xE),{navigator:y,basename:S}=m.useContext(ys),j=w!=null&&P$(v)&&h===!0,b=y.encodeLocation?y.encodeLocation(v).pathname:v.pathname,C=x.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(C=C.toLowerCase(),N=N?N.toLowerCase():null,b=b.toLowerCase()),N&&S&&(N=va(N,S)||N);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let A=C===b||!l&&C.startsWith(b)&&C.charAt(P)==="/",T=N!=null&&(N===b||!l&&N.startsWith(b)&&N.charAt(b.length)==="/"),I={isActive:A,isPending:T,isTransitioning:j},M=A?r:void 0,U;typeof o=="function"?U=o(I):U=[o,A?"active":null,T?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let G=typeof c=="function"?c(I):c;return m.createElement(uc,Hd({},p,{"aria-current":M,className:U,ref:n,style:G,to:u,viewTransition:h}),typeof f=="function"?f(I):f)});var Cg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cg||(Cg={}));var Qw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qw||(Qw={}));function E$(e){let t=m.useContext(Th);return t||_t(!1),t}function N$(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:c}=t===void 0?{}:t,u=Pn(),h=La(),f=Rh(e,{relative:l});return m.useCallback(p=>{if(v$(p,n)){p.preventDefault();let v=r!==void 0?r:Ud(h)===Ud(f);u(e,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[h,u,f,r,i,n,e,o,l,c])}function P$(e,t){t===void 0&&(t={});let n=m.useContext(w$);n==null&&_t(!1);let{basename:r}=E$(Cg.useViewTransitionState),i=Rh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=va(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=va(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zd(i.pathname,l)!=null||zd(i.pathname,o)!=null}var SE={exports:{}},T$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",A$=T$,k$=A$;function EE(){}function NE(){}NE.resetWarningCache=EE;var R$=function(){function e(r,i,o,l,c,u){if(u!==k$){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:NE,resetWarningCache:EE};return n.PropTypes=n,n};SE.exports=R$();var L$=SE.exports;const ot=ms(L$);function O$(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var PE=m,M$=O$(PE);function eb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I$(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var D$=!!(typeof window<"u"&&window.document&&window.document.createElement);function $$(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var l=[],c;function u(){c=e(l.map(function(f){return f.props})),h.canUseDOM?t(c):n&&(c=n(c))}var h=function(f){I$(p,f);function p(){return f.apply(this,arguments)||this}p.peek=function(){return c},p.rewind=function(){if(p.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var w=c;return c=void 0,l=[],w};var v=p.prototype;return v.UNSAFE_componentWillMount=function(){l.push(this),u()},v.componentDidUpdate=function(){u()},v.componentWillUnmount=function(){var w=l.indexOf(this);l.splice(w,1),u()},v.render=function(){return M$.createElement(o,this.props)},p}(PE.PureComponent);return eb(h,"displayName","SideEffect("+r(o)+")"),eb(h,"canUseDOM",D$),h}}var F$=$$;const B$=ms(F$);var U$=typeof Element<"u",z$=typeof Map=="function",V$=typeof Set=="function",H$=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ud(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!ud(e[r],t[r]))return!1;return!0}var o;if(z$&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!ud(r.value[1],t.get(r.value[0])))return!1;return!0}if(V$&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(H$&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(U$&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!ud(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var W$=function(t,n){try{return ud(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const G$=ms(W$);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var tb=Object.getOwnPropertySymbols,Z$=Object.prototype.hasOwnProperty,q$=Object.prototype.propertyIsEnumerable;function K$(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function J$(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Y$=J$()?Object.assign:function(e,t){for(var n,r=K$(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var l in n)Z$.call(n,l)&&(r[l]=n[l]);if(tb){i=tb(n);for(var c=0;c<i.length;c++)q$.call(n,i[c])&&(r[i[c]]=n[i[c]])}}return r};const X$=ms(Y$);var qs={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},ke={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ke).map(function(e){return ke[e]});var at={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Wd={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},dc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Q$=Object.keys(Wd).reduce(function(e,t){return e[Wd[t]]=t,e},{}),e4=[ke.NOSCRIPT,ke.SCRIPT,ke.STYLE],pr="data-react-helmet",t4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n4=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r4=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i4=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},nb=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},s4=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Sg=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},o4=function(t){var n=sa(t,ke.TITLE),r=sa(t,dc.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=sa(t,dc.DEFAULT_TITLE);return n||i||void 0},a4=function(t){return sa(t,dc.ON_CHANGE_CLIENT_STATE)||function(){}},Dm=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return gn({},r,i)},{})},l4=function(t,n){return n.filter(function(r){return typeof r[ke.BASE]<"u"}).map(function(r){return r[ke.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var o=Object.keys(i),l=0;l<o.length;l++){var c=o[l],u=c.toLowerCase();if(t.indexOf(u)!==-1&&i[u])return r.concat(i)}return r},[])},ul=function(t,n,r){var i={};return r.filter(function(o){return Array.isArray(o[t])?!0:(typeof o[t]<"u"&&h4("Helmet: "+t+' should be of type "Array". Instead found type "'+t4(o[t])+'"'),!1)}).map(function(o){return o[t]}).reverse().reduce(function(o,l){var c={};l.filter(function(v){for(var x=void 0,w=Object.keys(v),y=0;y<w.length;y++){var S=w[y],j=S.toLowerCase();n.indexOf(j)!==-1&&!(x===at.REL&&v[x].toLowerCase()==="canonical")&&!(j===at.REL&&v[j].toLowerCase()==="stylesheet")&&(x=j),n.indexOf(S)!==-1&&(S===at.INNER_HTML||S===at.CSS_TEXT||S===at.ITEM_PROP)&&(x=S)}if(!x||!v[x])return!1;var b=v[x].toLowerCase();return i[x]||(i[x]={}),c[x]||(c[x]={}),i[x][b]?!1:(c[x][b]=!0,!0)}).reverse().forEach(function(v){return o.push(v)});for(var u=Object.keys(c),h=0;h<u.length;h++){var f=u[h],p=X$({},i[f],c[f]);i[f]=p}return o},[]).reverse()},sa=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},c4=function(t){return{baseTag:l4([at.HREF,at.TARGET],t),bodyAttributes:Dm(qs.BODY,t),defer:sa(t,dc.DEFER),encode:sa(t,dc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Dm(qs.HTML,t),linkTags:ul(ke.LINK,[at.REL,at.HREF],t),metaTags:ul(ke.META,[at.NAME,at.CHARSET,at.HTTPEQUIV,at.PROPERTY,at.ITEM_PROP],t),noscriptTags:ul(ke.NOSCRIPT,[at.INNER_HTML],t),onChangeClientState:a4(t),scriptTags:ul(ke.SCRIPT,[at.SRC,at.INNER_HTML],t),styleTags:ul(ke.STYLE,[at.CSS_TEXT],t),title:o4(t),titleAttributes:Dm(qs.TITLE,t)}},Eg=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Eg(t)},0)}}(),rb=function(t){return clearTimeout(t)},u4=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Eg:global.requestAnimationFrame||Eg,d4=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||rb:global.cancelAnimationFrame||rb,h4=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},dl=null,f4=function(t){dl&&d4(dl),t.defer?dl=u4(function(){ib(t,function(){dl=null})}):(ib(t),dl=null)},ib=function(t,n){var r=t.baseTag,i=t.bodyAttributes,o=t.htmlAttributes,l=t.linkTags,c=t.metaTags,u=t.noscriptTags,h=t.onChangeClientState,f=t.scriptTags,p=t.styleTags,v=t.title,x=t.titleAttributes;Ng(ke.BODY,i),Ng(ke.HTML,o),m4(v,x);var w={baseTag:No(ke.BASE,r),linkTags:No(ke.LINK,l),metaTags:No(ke.META,c),noscriptTags:No(ke.NOSCRIPT,u),scriptTags:No(ke.SCRIPT,f),styleTags:No(ke.STYLE,p)},y={},S={};Object.keys(w).forEach(function(j){var b=w[j],C=b.newTags,N=b.oldTags;C.length&&(y[j]=C),N.length&&(S[j]=w[j].oldTags)}),n&&n(),h(t,y,S)},TE=function(t){return Array.isArray(t)?t.join(""):t},m4=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=TE(t)),Ng(ke.TITLE,n)},Ng=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(pr),o=i?i.split(","):[],l=[].concat(o),c=Object.keys(n),u=0;u<c.length;u++){var h=c[u],f=n[h]||"";r.getAttribute(h)!==f&&r.setAttribute(h,f),o.indexOf(h)===-1&&o.push(h);var p=l.indexOf(h);p!==-1&&l.splice(p,1)}for(var v=l.length-1;v>=0;v--)r.removeAttribute(l[v]);o.length===l.length?r.removeAttribute(pr):r.getAttribute(pr)!==c.join(",")&&r.setAttribute(pr,c.join(","))}},No=function(t,n){var r=document.head||document.querySelector(ke.HEAD),i=r.querySelectorAll(t+"["+pr+"]"),o=Array.prototype.slice.call(i),l=[],c=void 0;return n&&n.length&&n.forEach(function(u){var h=document.createElement(t);for(var f in u)if(u.hasOwnProperty(f))if(f===at.INNER_HTML)h.innerHTML=u.innerHTML;else if(f===at.CSS_TEXT)h.styleSheet?h.styleSheet.cssText=u.cssText:h.appendChild(document.createTextNode(u.cssText));else{var p=typeof u[f]>"u"?"":u[f];h.setAttribute(f,p)}h.setAttribute(pr,"true"),o.some(function(v,x){return c=x,h.isEqualNode(v)})?o.splice(c,1):l.push(h)}),o.forEach(function(u){return u.parentNode.removeChild(u)}),l.forEach(function(u){return r.appendChild(u)}),{oldTags:o,newTags:l}},AE=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},p4=function(t,n,r,i){var o=AE(r),l=TE(n);return o?"<"+t+" "+pr+'="true" '+o+">"+Sg(l,i)+"</"+t+">":"<"+t+" "+pr+'="true">'+Sg(l,i)+"</"+t+">"},g4=function(t,n,r){return n.reduce(function(i,o){var l=Object.keys(o).filter(function(h){return!(h===at.INNER_HTML||h===at.CSS_TEXT)}).reduce(function(h,f){var p=typeof o[f]>"u"?f:f+'="'+Sg(o[f],r)+'"';return h?h+" "+p:p},""),c=o.innerHTML||o.cssText||"",u=e4.indexOf(t)===-1;return i+"<"+t+" "+pr+'="true" '+l+(u?"/>":">"+c+"</"+t+">")},"")},kE=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Wd[i]||i]=t[i],r},n)},v4=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Q$[i]||i]=t[i],r},n)},y4=function(t,n,r){var i,o=(i={key:n},i[pr]=!0,i),l=kE(r,o);return[se.createElement(ke.TITLE,l,n)]},x4=function(t,n){return n.map(function(r,i){var o,l=(o={key:i},o[pr]=!0,o);return Object.keys(r).forEach(function(c){var u=Wd[c]||c;if(u===at.INNER_HTML||u===at.CSS_TEXT){var h=r.innerHTML||r.cssText;l.dangerouslySetInnerHTML={__html:h}}else l[u]=r[c]}),se.createElement(t,l)})},Qr=function(t,n,r){switch(t){case ke.TITLE:return{toComponent:function(){return y4(t,n.title,n.titleAttributes)},toString:function(){return p4(t,n.title,n.titleAttributes,r)}};case qs.BODY:case qs.HTML:return{toComponent:function(){return kE(n)},toString:function(){return AE(n)}};default:return{toComponent:function(){return x4(t,n)},toString:function(){return g4(t,n,r)}}}},RE=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,o=t.htmlAttributes,l=t.linkTags,c=t.metaTags,u=t.noscriptTags,h=t.scriptTags,f=t.styleTags,p=t.title,v=p===void 0?"":p,x=t.titleAttributes;return{base:Qr(ke.BASE,n,i),bodyAttributes:Qr(qs.BODY,r,i),htmlAttributes:Qr(qs.HTML,o,i),link:Qr(ke.LINK,l,i),meta:Qr(ke.META,c,i),noscript:Qr(ke.NOSCRIPT,u,i),script:Qr(ke.SCRIPT,h,i),style:Qr(ke.STYLE,f,i),title:Qr(ke.TITLE,{title:v,titleAttributes:x},i)}},_4=function(t){var n,r;return r=n=function(i){i4(o,i);function o(){return n4(this,o),s4(this,i.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(c){return!G$(this.props,c)},o.prototype.mapNestedChildrenToProps=function(c,u){if(!u)return null;switch(c.type){case ke.SCRIPT:case ke.NOSCRIPT:return{innerHTML:u};case ke.STYLE:return{cssText:u}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(c){var u,h=c.child,f=c.arrayTypeChildren,p=c.newChildProps,v=c.nestedChildren;return gn({},f,(u={},u[h.type]=[].concat(f[h.type]||[],[gn({},p,this.mapNestedChildrenToProps(h,v))]),u))},o.prototype.mapObjectTypeChildren=function(c){var u,h,f=c.child,p=c.newProps,v=c.newChildProps,x=c.nestedChildren;switch(f.type){case ke.TITLE:return gn({},p,(u={},u[f.type]=x,u.titleAttributes=gn({},v),u));case ke.BODY:return gn({},p,{bodyAttributes:gn({},v)});case ke.HTML:return gn({},p,{htmlAttributes:gn({},v)})}return gn({},p,(h={},h[f.type]=gn({},v),h))},o.prototype.mapArrayTypeChildrenToProps=function(c,u){var h=gn({},u);return Object.keys(c).forEach(function(f){var p;h=gn({},h,(p={},p[f]=c[f],p))}),h},o.prototype.warnOnInvalidChildren=function(c,u){return!0},o.prototype.mapChildrenToProps=function(c,u){var h=this,f={};return se.Children.forEach(c,function(p){if(!(!p||!p.props)){var v=p.props,x=v.children,w=nb(v,["children"]),y=v4(w);switch(h.warnOnInvalidChildren(p,x),p.type){case ke.LINK:case ke.META:case ke.NOSCRIPT:case ke.SCRIPT:case ke.STYLE:f=h.flattenArrayTypeChildren({child:p,arrayTypeChildren:f,newChildProps:y,nestedChildren:x});break;default:u=h.mapObjectTypeChildren({child:p,newProps:u,newChildProps:y,nestedChildren:x});break}}}),u=this.mapArrayTypeChildrenToProps(f,u),u},o.prototype.render=function(){var c=this.props,u=c.children,h=nb(c,["children"]),f=gn({},h);return u&&(f=this.mapChildrenToProps(u,f)),se.createElement(t,f)},r4(o,null,[{key:"canUseDOM",set:function(c){t.canUseDOM=c}}]),o}(se.Component),n.propTypes={base:ot.object,bodyAttributes:ot.object,children:ot.oneOfType([ot.arrayOf(ot.node),ot.node]),defaultTitle:ot.string,defer:ot.bool,encodeSpecialCharacters:ot.bool,htmlAttributes:ot.object,link:ot.arrayOf(ot.object),meta:ot.arrayOf(ot.object),noscript:ot.arrayOf(ot.object),onChangeClientState:ot.func,script:ot.arrayOf(ot.object),style:ot.arrayOf(ot.object),title:ot.string,titleAttributes:ot.object,titleTemplate:ot.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=RE({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},w4=function(){return null},b4=B$(c4,f4,RE)(w4),wt=_4(b4);wt.renderStatic=wt.rewind;const j4=e=>s.jsx(wt,{...e});function LE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=LE(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function OE(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=LE(e))&&(r&&(r+=" "),r+=t);return r}function C4(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=ME(t))&&(r&&(r+=" "),r+=n);return r}function ME(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=ME(e[r]))&&(n&&(n+=" "),n+=t);return n}var Ny="-";function S4(e){var t=N4(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(c){var u=c.split(Ny);return u[0]===""&&u.length!==1&&u.shift(),IE(u,t)||E4(c)}function l(c,u){var h=n[c]||[];return u&&i[c]?[].concat(h,i[c]):h}return{getClassGroupId:o,getConflictingClassGroupIds:l}}function IE(e,t){var l;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),i=r?IE(e.slice(1),r):void 0;if(i)return i;if(t.validators.length!==0){var o=e.join(Ny);return(l=t.validators.find(function(c){var u=c.validator;return u(o)}))==null?void 0:l.classGroupId}}var sb=/^\[(.+)\]$/;function E4(e){if(sb.test(e)){var t=sb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function N4(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=T4(Object.entries(e.classGroups),n);return i.forEach(function(o){var l=o[0],c=o[1];Pg(c,r,l,t)}),r}function Pg(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var o=i===""?t:ob(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(P4(i)){Pg(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(l){var c=l[0],u=l[1];Pg(u,ob(t,c),n,r)})})}function ob(e,t){var n=e;return t.split(Ny).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function P4(e){return e.isThemeGetter}function T4(e,t){return t?e.map(function(n){var r=n[0],i=n[1],o=i.map(function(l){return typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(function(c){var u=c[0],h=c[1];return[t+u,h]})):l});return[r,o]}):e}function A4(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(o,l){n.set(o,l),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(l){var c=n.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return i(l,c),c},set:function(l,c){n.has(l)?n.set(l,c):i(l,c)}}}var DE="!";function k4(e){var t=e.separator||":",n=t.length===1,r=t[0],i=t.length;return function(l){for(var c=[],u=0,h=0,f,p=0;p<l.length;p++){var v=l[p];if(u===0){if(v===r&&(n||l.slice(p,p+i)===t)){c.push(l.slice(h,p)),h=p+i;continue}if(v==="/"){f=p;continue}}v==="["?u++:v==="]"&&u--}var x=c.length===0?l:l.substring(h),w=x.startsWith(DE),y=w?x.substring(1):x,S=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:S}}}function R4(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function L4(e){return{cache:A4(e.cacheSize),splitModifiers:k4(e),...S4(e)}}var O4=/\s+/;function M4(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(O4).map(function(l){var c=n(l),u=c.modifiers,h=c.hasImportantModifier,f=c.baseClassName,p=c.maybePostfixModifierPosition,v=r(p?f.substring(0,p):f),x=!!p;if(!v){if(!p)return{isTailwindClass:!1,originalClassName:l};if(v=r(f),!v)return{isTailwindClass:!1,originalClassName:l};x=!1}var w=R4(u).join(":"),y=h?w+DE:w;return{isTailwindClass:!0,modifierId:y,classGroupId:v,originalClassName:l,hasPostfixModifier:x}}).reverse().filter(function(l){if(!l.isTailwindClass)return!0;var c=l.modifierId,u=l.classGroupId,h=l.hasPostfixModifier,f=c+u;return o.has(f)?!1:(o.add(f),i(u,h).forEach(function(p){return o.add(c+p)}),!0)}).reverse().map(function(l){return l.originalClassName}).join(" ")}function I4(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,o,l=c;function c(h){var f=t[0],p=t.slice(1),v=p.reduce(function(x,w){return w(x)},f());return r=L4(v),i=r.cache.get,o=r.cache.set,l=u,u(h)}function u(h){var f=i(h);if(f)return f;var p=M4(h,r);return o(h,p),p}return function(){return l(C4.apply(null,arguments))}}function tt(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var $E=/^\[(?:([a-z-]+):)?(.+)\]$/i,D4=/^\d+\/\d+$/,$4=new Set(["px","full","screen"]),F4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,B4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,U4=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function ur(e){return Hs(e)||$4.has(e)||D4.test(e)||Tg(e)}function Tg(e){return lo(e,"length",Z4)}function z4(e){return lo(e,"size",FE)}function V4(e){return lo(e,"position",FE)}function H4(e){return lo(e,"url",q4)}function Pu(e){return lo(e,"number",Hs)}function Hs(e){return!Number.isNaN(Number(e))}function W4(e){return e.endsWith("%")&&Hs(e.slice(0,-1))}function hl(e){return ab(e)||lo(e,"number",ab)}function Ie(e){return $E.test(e)}function fl(){return!0}function Ti(e){return F4.test(e)}function G4(e){return lo(e,"",K4)}function lo(e,t,n){var r=$E.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function Z4(e){return B4.test(e)}function FE(){return!1}function q4(e){return e.startsWith("url(")}function ab(e){return Number.isInteger(Number(e))}function K4(e){return U4.test(e)}function J4(){var e=tt("colors"),t=tt("spacing"),n=tt("blur"),r=tt("brightness"),i=tt("borderColor"),o=tt("borderRadius"),l=tt("borderSpacing"),c=tt("borderWidth"),u=tt("contrast"),h=tt("grayscale"),f=tt("hueRotate"),p=tt("invert"),v=tt("gap"),x=tt("gradientColorStops"),w=tt("gradientColorStopPositions"),y=tt("inset"),S=tt("margin"),j=tt("opacity"),b=tt("padding"),C=tt("saturate"),N=tt("scale"),P=tt("sepia"),A=tt("skew"),T=tt("space"),I=tt("translate"),M=function(){return["auto","contain","none"]},U=function(){return["auto","hidden","clip","visible","scroll"]},G=function(){return["auto",Ie,t]},z=function(){return[Ie,t]},J=function(){return["",ur]},$=function(){return["auto",Hs,Ie]},k=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},O=function(){return["solid","dashed","dotted","double","none"]},F=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},D=function(){return["start","end","center","between","around","evenly","stretch"]},H=function(){return["","0",Ie]},W=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Q=function(){return[Hs,Pu]},B=function(){return[Hs,Ie]};return{cacheSize:500,theme:{colors:[fl],spacing:[ur],blur:["none","",Ti,Ie],brightness:Q(),borderColor:[e],borderRadius:["none","","full",Ti,Ie],borderSpacing:z(),borderWidth:J(),contrast:Q(),grayscale:H(),hueRotate:B(),invert:H(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[W4,Tg],inset:G(),margin:G(),opacity:Q(),padding:z(),saturate:Q(),scale:Q(),sepia:H(),skew:B(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[Ti]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(k(),[Ie])}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hl]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",hl]}],"grid-cols":[{"grid-cols":[fl]}],"col-start-end":[{col:["auto",{span:["full",hl]},Ie]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[fl]}],"row-start-end":[{row:["auto",{span:[hl]},Ie]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal"].concat(D())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(D(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(D(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ie,t]}],"min-w":[{"min-w":["min","max","fit",Ie,ur]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ti]},Ti,Ie]}],h:[{h:[Ie,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ie,ur]}],"max-h":[{"max-h":[Ie,t,"min","max","fit"]}],"font-size":[{text:["base",Ti,Tg]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pu]}],"font-family":[{font:[fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",Hs,Pu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ie,ur]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(O(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",ur]}],"underline-offset":[{"underline-offset":["auto",Ie,ur]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(k(),[V4])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",z4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},H4]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[].concat(O(),["hidden"])}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:O()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(O())}],"outline-offset":[{"outline-offset":[Ie,ur]}],"outline-w":[{outline:[ur]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[ur]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ti,G4]}],"shadow-color":[{shadow:[fl]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":F()}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Ti,Ie]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[hl,Ie]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ur,Pu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Y4=I4(J4),X4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Q4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ae=(e,t)=>{const n=m.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c,...u},h)=>m.createElement("svg",{ref:h,...X4,width:i,height:i,stroke:r,strokeWidth:l?Number(o)*24/Number(i):o,className:`lucide lucide-${Q4(e)}`,...u},[...t.map(([f,p])=>m.createElement(f,p)),...(Array.isArray(c)?c:[c])||[]]));return n.displayName=`${e}`,n},Py=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),e3=ae("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]),t3=ae("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),is=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),n3=ae("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Lh=ae("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),BE=ae("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]),Gd=ae("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Oh=ae("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]),r3=ae("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),i3=ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Oa=ae("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ty=ae("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ag=ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ay=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ky=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),s3=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),UE=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),o3=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),lb=ae("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),a3=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),zE=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),VE=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),cb=ae("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),HE=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ry=ae("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]),l3=ae("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),eo=ae("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),c3=ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ly=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),WE=ae("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Oy=ae("FileQuestion",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["path",{d:"M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"1umxtm"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),er=ae("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),GE=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),u3=ae("FolderHeart",[["path",{d:"M11 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v1.5",key:"6hud8k"}],["path",{d:"M13.9 17.45c-1.2-1.2-1.14-2.8-.2-3.73a2.43 2.43 0 0 1 3.44 0l.36.34.34-.34a2.43 2.43 0 0 1 3.45-.01v0c.95.95 1 2.53-.2 3.74L17.5 21Z",key:"vgq86i"}]]),My=ae("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),d3=ae("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),h3=ae("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Mh=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),f3=ae("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Ac=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),ya=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ZE=ae("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),qE=ae("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),xa=ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),KE=ae("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),$e=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),m3=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),p3=ae("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),g3=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),v3=ae("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]),JE=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Iy=ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),YE=ae("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),y3=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),x3=ae("MountainSnow",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}],["path",{d:"M4.14 15.08c2.62-1.57 5.24-1.43 7.86.42 2.74 1.94 5.49 2 8.23.19",key:"1pvmmp"}]]),XE=ae("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]),_3=ae("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]),Zr=ae("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),w3=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ma=ae("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),_a=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),QE=ae("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]),b3=ae("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),j3=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Ih=ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),vi=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),C3=ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),eN=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),tN=ae("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Dh=ae("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),nN=ae("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),S3=ae("Siren",[["path",{d:"M7 12a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v6H7v-6Z",key:"rmc51c"}],["path",{d:"M5 20a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v2H5v-2Z",key:"yyvmjy"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]),rN=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),br=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),iN=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ia=ae("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),sN=ae("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Dy=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Zd=ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),E3=ae("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),$y=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ui=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),$n=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),oN=ae("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),$m=ae("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),N3=ae("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),P3=ae("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),jr=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ub=ae("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function ce(...e){return Y4(OE(e))}function Ye(e,t,n=!1){if(!e)return t||"";if(!t)return e||"";const r=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();if(n){const o=t.toUpperCase();return`${r} ${o}`}const i=`${t.charAt(0).toUpperCase()}.`;return`${r} ${i}`}function db(e){if(!e)return"";const t=e.split(" ");if(t.length<2)return e;const n=t.slice(0,-1).join(" "),r=t[t.length-1];return Ye(n,r)}function ve(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function hb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $h(...e){return t=>{let n=!1;const r=e.map(i=>{const o=hb(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():hb(e[i],null)}}}}function st(...e){return m.useCallback($h(...e),e)}function T3(e,t){const n=m.createContext(t),r=o=>{const{children:l,...c}=o,u=m.useMemo(()=>c,Object.values(c));return s.jsx(n.Provider,{value:u,children:l})};r.displayName=e+"Provider";function i(o){const l=m.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function Vn(e,t=[]){let n=[];function r(o,l){const c=m.createContext(l),u=n.length;n=[...n,l];const h=p=>{var j;const{scope:v,children:x,...w}=p,y=((j=v==null?void 0:v[e])==null?void 0:j[u])||c,S=m.useMemo(()=>w,Object.values(w));return s.jsx(y.Provider,{value:S,children:x})};h.displayName=o+"Provider";function f(p,v){var y;const x=((y=v==null?void 0:v[e])==null?void 0:y[u])||c,w=m.useContext(x);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[h,f]}const i=()=>{const o=n.map(l=>m.createContext(l));return function(c){const u=(c==null?void 0:c[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return i.scopeName=e,[r,A3(i,...t)]}function A3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:u,scopeName:h})=>{const p=u(o)[`__scope${h}`];return{...c,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function wa(e){const t=R3(e),n=m.forwardRef((r,i)=>{const{children:o,...l}=r,c=m.Children.toArray(o),u=c.find(O3);if(u){const h=u.props.children,f=c.map(p=>p===u?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...l,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,f):null})}return s.jsx(t,{...l,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var k3=wa("Slot");function R3(e){const t=m.forwardRef((n,r)=>{const{children:i,...o}=n;if(m.isValidElement(i)){const l=I3(i),c=M3(o,i.props);return i.type!==m.Fragment&&(c.ref=r?$h(r,l):l),m.cloneElement(i,c)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var aN=Symbol("radix.slottable");function L3(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=aN,t}function O3(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===aN}function M3(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...c)=>{const u=o(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function I3(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Fh(e){const t=e+"CollectionProvider",[n,r]=Vn(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=y=>{const{scope:S,children:j}=y,b=se.useRef(null),C=se.useRef(new Map).current;return s.jsx(i,{scope:S,itemMap:C,collectionRef:b,children:j})};l.displayName=t;const c=e+"CollectionSlot",u=wa(c),h=se.forwardRef((y,S)=>{const{scope:j,children:b}=y,C=o(c,j),N=st(S,C.collectionRef);return s.jsx(u,{ref:N,children:b})});h.displayName=c;const f=e+"CollectionItemSlot",p="data-radix-collection-item",v=wa(f),x=se.forwardRef((y,S)=>{const{scope:j,children:b,...C}=y,N=se.useRef(null),P=st(S,N),A=o(f,j);return se.useEffect(()=>(A.itemMap.set(N,{ref:N,...C}),()=>void A.itemMap.delete(N))),s.jsx(v,{[p]:"",ref:P,children:b})});x.displayName=f;function w(y){const S=o(e+"CollectionConsumer",y);return se.useCallback(()=>{const b=S.collectionRef.current;if(!b)return[];const C=Array.from(b.querySelectorAll(`[${p}]`));return Array.from(S.itemMap.values()).sort((A,T)=>C.indexOf(A.ref.current)-C.indexOf(T.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:l,Slot:h,ItemSlot:x},w,r]}var D3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],je=D3.reduce((e,t)=>{const n=wa(`Primitive.${t}`),r=m.forwardRef((i,o)=>{const{asChild:l,...c}=i,u=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...c,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Fy(e,t){e&&Gr.flushSync(()=>e.dispatchEvent(t))}function jn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function $3(e,t=globalThis==null?void 0:globalThis.document){const n=jn(e);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var F3="DismissableLayer",kg="dismissableLayer.update",B3="dismissableLayer.pointerDownOutside",U3="dismissableLayer.focusOutside",fb,lN=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bh=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...u}=e,h=m.useContext(lN),[f,p]=m.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=m.useState({}),w=st(t,T=>p(T)),y=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),j=y.indexOf(S),b=f?y.indexOf(f):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,N=b>=j,P=V3(T=>{const I=T.target,M=[...h.branches].some(U=>U.contains(I));!N||M||(i==null||i(T),l==null||l(T),T.defaultPrevented||c==null||c())},v),A=H3(T=>{const I=T.target;[...h.branches].some(U=>U.contains(I))||(o==null||o(T),l==null||l(T),T.defaultPrevented||c==null||c())},v);return $3(T=>{b===h.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},v),m.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(fb=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),mb(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=fb)}},[f,v,n,h]),m.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),mb())},[f,h]),m.useEffect(()=>{const T=()=>x({});return document.addEventListener(kg,T),()=>document.removeEventListener(kg,T)},[]),s.jsx(je.div,{...u,ref:w,style:{pointerEvents:C?N?"auto":"none":void 0,...e.style},onFocusCapture:ve(e.onFocusCapture,A.onFocusCapture),onBlurCapture:ve(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ve(e.onPointerDownCapture,P.onPointerDownCapture)})});Bh.displayName=F3;var z3="DismissableLayerBranch",cN=m.forwardRef((e,t)=>{const n=m.useContext(lN),r=m.useRef(null),i=st(t,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(je.div,{...e,ref:i})});cN.displayName=z3;function V3(e,t=globalThis==null?void 0:globalThis.document){const n=jn(e),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let u=function(){uN(B3,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function H3(e,t=globalThis==null?void 0:globalThis.document){const n=jn(e),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&uN(U3,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mb(){const e=new CustomEvent(kg);document.dispatchEvent(e)}function uN(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Fy(i,o):i.dispatchEvent(o)}var W3=Bh,G3=cN,Fn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Z3="Portal",Uh=m.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[i,o]=m.useState(!1);Fn(()=>o(!0),[]);const l=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Ey.createPortal(s.jsx(je.div,{...r,ref:t}),l):null});Uh.displayName=Z3;function q3(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var sr=e=>{const{present:t,children:n}=e,r=K3(t),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=st(r.ref,J3(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};sr.displayName="Presence";function K3(e){const[t,n]=m.useState(),r=m.useRef(null),i=m.useRef(e),o=m.useRef("none"),l=e?"mounted":"unmounted",[c,u]=q3(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const h=Tu(r.current);o.current=c==="mounted"?h:"none"},[c]),Fn(()=>{const h=r.current,f=i.current;if(f!==e){const v=o.current,x=Tu(h);e?u("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(f&&v!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),Fn(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,p=x=>{const y=Tu(r.current).includes(CSS.escape(x.animationName));if(x.target===t&&y&&(u("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},v=x=>{x.target===t&&(o.current=Tu(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:m.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Tu(e){return(e==null?void 0:e.animationName)||"none"}function J3(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Y3=Cc[" useInsertionEffect ".trim().toString()]||Fn;function ji({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,l]=X3({defaultProp:t,onChange:n}),c=e!==void 0,u=c?e:i;{const f=m.useRef(e!==void 0);m.useEffect(()=>{const p=f.current;p!==c&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,r])}const h=m.useCallback(f=>{var p;if(c){const v=Q3(f)?f(e):f;v!==e&&((p=l.current)==null||p.call(l,v))}else o(f)},[c,e,o,l]);return[u,h]}function X3({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),i=m.useRef(n),o=m.useRef(t);return Y3(()=>{o.current=t},[t]),m.useEffect(()=>{var l;i.current!==n&&((l=o.current)==null||l.call(o,n),i.current=n)},[n,i]),[n,r,o]}function Q3(e){return typeof e=="function"}var e5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),t5="VisuallyHidden",By=m.forwardRef((e,t)=>s.jsx(je.span,{...e,ref:t,style:{...e5,...e.style}}));By.displayName=t5;var Uy="ToastProvider",[zy,n5,r5]=Fh("Toast"),[dN,rY]=Vn("Toast",[r5]),[i5,zh]=dN(Uy),hN=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:l}=e,[c,u]=m.useState(null),[h,f]=m.useState(0),p=m.useRef(!1),v=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Uy}\`. Expected non-empty \`string\`.`),s.jsx(zy.Provider,{scope:t,children:s.jsx(i5,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:h,viewport:c,onViewportChange:u,onToastAdd:m.useCallback(()=>f(x=>x+1),[]),onToastRemove:m.useCallback(()=>f(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:v,children:l})})};hN.displayName=Uy;var fN="ToastViewport",s5=["F8"],Rg="toast.viewportPause",Lg="toast.viewportResume",mN=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=s5,label:i="Notifications ({hotkey})",...o}=e,l=zh(fN,n),c=n5(n),u=m.useRef(null),h=m.useRef(null),f=m.useRef(null),p=m.useRef(null),v=st(t,p,l.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=l.toastCount>0;m.useEffect(()=>{const S=j=>{var C;r.length!==0&&r.every(N=>j[N]||j.code===N)&&((C=p.current)==null||C.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),m.useEffect(()=>{const S=u.current,j=p.current;if(w&&S&&j){const b=()=>{if(!l.isClosePausedRef.current){const A=new CustomEvent(Rg);j.dispatchEvent(A),l.isClosePausedRef.current=!0}},C=()=>{if(l.isClosePausedRef.current){const A=new CustomEvent(Lg);j.dispatchEvent(A),l.isClosePausedRef.current=!1}},N=A=>{!S.contains(A.relatedTarget)&&C()},P=()=>{S.contains(document.activeElement)||C()};return S.addEventListener("focusin",b),S.addEventListener("focusout",N),S.addEventListener("pointermove",b),S.addEventListener("pointerleave",P),window.addEventListener("blur",b),window.addEventListener("focus",C),()=>{S.removeEventListener("focusin",b),S.removeEventListener("focusout",N),S.removeEventListener("pointermove",b),S.removeEventListener("pointerleave",P),window.removeEventListener("blur",b),window.removeEventListener("focus",C)}}},[w,l.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:S})=>{const b=c().map(C=>{const N=C.ref.current,P=[N,...y5(N)];return S==="forwards"?P:P.reverse()});return(S==="forwards"?b.reverse():b).flat()},[c]);return m.useEffect(()=>{const S=p.current;if(S){const j=b=>{var P,A,T;const C=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!C){const I=document.activeElement,M=b.shiftKey;if(b.target===S&&M){(P=h.current)==null||P.focus();return}const z=y({tabbingDirection:M?"backwards":"forwards"}),J=z.findIndex($=>$===I);Fm(z.slice(J+1))?b.preventDefault():M?(A=h.current)==null||A.focus():(T=f.current)==null||T.focus()}};return S.addEventListener("keydown",j),()=>S.removeEventListener("keydown",j)}},[c,y]),s.jsxs(G3,{ref:u,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&s.jsx(Og,{ref:h,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"forwards"});Fm(S)}}),s.jsx(zy.Slot,{scope:n,children:s.jsx(je.ol,{tabIndex:-1,...o,ref:v})}),w&&s.jsx(Og,{ref:f,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"backwards"});Fm(S)}})]})});mN.displayName=fN;var pN="ToastFocusProxy",Og=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=zh(pN,n);return s.jsx(By,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{var h;const c=l.relatedTarget;!((h=o.viewport)!=null&&h.contains(c))&&r()}})});Og.displayName=pN;var kc="Toast",o5="toast.swipeStart",a5="toast.swipeMove",l5="toast.swipeCancel",c5="toast.swipeEnd",gN=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...l}=e,[c,u]=ji({prop:r,defaultProp:i??!0,onChange:o,caller:kc});return s.jsx(sr,{present:n||c,children:s.jsx(h5,{open:c,...l,ref:t,onClose:()=>u(!1),onPause:jn(e.onPause),onResume:jn(e.onResume),onSwipeStart:ve(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(e.onSwipeMove,h=>{const{x:f,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ve(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(e.onSwipeEnd,h=>{const{x:f,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});gN.displayName=kc;var[u5,d5]=dN(kc,{onClose(){}}),h5=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:l,onEscapeKeyDown:c,onPause:u,onResume:h,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:v,onSwipeEnd:x,...w}=e,y=zh(kc,n),[S,j]=m.useState(null),b=st(t,$=>j($)),C=m.useRef(null),N=m.useRef(null),P=i||y.duration,A=m.useRef(0),T=m.useRef(P),I=m.useRef(0),{onToastAdd:M,onToastRemove:U}=y,G=jn(()=>{var k;(S==null?void 0:S.contains(document.activeElement))&&((k=y.viewport)==null||k.focus()),l()}),z=m.useCallback($=>{!$||$===1/0||(window.clearTimeout(I.current),A.current=new Date().getTime(),I.current=window.setTimeout(G,$))},[G]);m.useEffect(()=>{const $=y.viewport;if($){const k=()=>{z(T.current),h==null||h()},O=()=>{const F=new Date().getTime()-A.current;T.current=T.current-F,window.clearTimeout(I.current),u==null||u()};return $.addEventListener(Rg,O),$.addEventListener(Lg,k),()=>{$.removeEventListener(Rg,O),$.removeEventListener(Lg,k)}}},[y.viewport,P,u,h,z]),m.useEffect(()=>{o&&!y.isClosePausedRef.current&&z(P)},[o,P,y.isClosePausedRef,z]),m.useEffect(()=>(M(),()=>U()),[M,U]);const J=m.useMemo(()=>S?jN(S):null,[S]);return y.viewport?s.jsxs(s.Fragment,{children:[J&&s.jsx(f5,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:J}),s.jsx(u5,{scope:n,onClose:G,children:Gr.createPortal(s.jsx(zy.ItemSlot,{scope:n,children:s.jsx(W3,{asChild:!0,onEscapeKeyDown:ve(c,()=>{y.isFocusedToastEscapeKeyDownRef.current||G(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(je.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ve(e.onKeyDown,$=>{$.key==="Escape"&&(c==null||c($.nativeEvent),$.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:ve(e.onPointerDown,$=>{$.button===0&&(C.current={x:$.clientX,y:$.clientY})}),onPointerMove:ve(e.onPointerMove,$=>{if(!C.current)return;const k=$.clientX-C.current.x,O=$.clientY-C.current.y,F=!!N.current,D=["left","right"].includes(y.swipeDirection),H=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,W=D?H(0,k):0,Q=D?0:H(0,O),B=$.pointerType==="touch"?10:2,q={x:W,y:Q},Z={originalEvent:$,delta:q};F?(N.current=q,Au(a5,p,Z,{discrete:!1})):pb(q,y.swipeDirection,B)?(N.current=q,Au(o5,f,Z,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(k)>B||Math.abs(O)>B)&&(C.current=null)}),onPointerUp:ve(e.onPointerUp,$=>{const k=N.current,O=$.target;if(O.hasPointerCapture($.pointerId)&&O.releasePointerCapture($.pointerId),N.current=null,C.current=null,k){const F=$.currentTarget,D={originalEvent:$,delta:k};pb(k,y.swipeDirection,y.swipeThreshold)?Au(c5,x,D,{discrete:!0}):Au(l5,v,D,{discrete:!0}),F.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),f5=e=>{const{__scopeToast:t,children:n,...r}=e,i=zh(kc,t),[o,l]=m.useState(!1),[c,u]=m.useState(!1);return g5(()=>l(!0)),m.useEffect(()=>{const h=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:s.jsx(Uh,{asChild:!0,children:s.jsx(By,{...r,children:o&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},m5="ToastTitle",vN=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(je.div,{...r,ref:t})});vN.displayName=m5;var p5="ToastDescription",yN=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(je.div,{...r,ref:t})});yN.displayName=p5;var xN="ToastAction",_N=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(bN,{altText:n,asChild:!0,children:s.jsx(Vy,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${xN}\`. Expected non-empty \`string\`.`),null)});_N.displayName=xN;var wN="ToastClose",Vy=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=d5(wN,n);return s.jsx(bN,{asChild:!0,children:s.jsx(je.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,i.onClose)})})});Vy.displayName=wN;var bN=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return s.jsx(je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function jN(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),v5(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...jN(r))}}),t}function Au(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Fy(i,o):i.dispatchEvent(o)}var pb=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function g5(e=()=>{}){const t=jn(e);Fn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function v5(e){return e.nodeType===e.ELEMENT_NODE}function y5(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Fm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var x5=hN,CN=mN,SN=gN,EN=vN,NN=yN,PN=_N,TN=Vy;const gb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,vb=OE,Vh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return vb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(h=>{const f=n==null?void 0:n[h],p=o==null?void 0:o[h];if(f===null)return null;const v=gb(f)||gb(p);return i[h][v]}),c=n&&Object.entries(n).reduce((h,f)=>{let[p,v]=f;return v===void 0||(h[p]=v),h},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,f)=>{let{class:p,className:v,...x}=f;return Object.entries(x).every(w=>{let[y,S]=w;return Array.isArray(S)?S.includes({...o,...c}[y]):{...o,...c}[y]===S})?[...h,p,v]:h},[]);return vb(e,l,u,n==null?void 0:n.class,n==null?void 0:n.className)},_5=x5,AN=se.forwardRef(({className:e,...t},n)=>s.jsx(CN,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));AN.displayName=CN.displayName;const w5=Vh("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kN=se.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(SN,{ref:r,className:ce(w5({variant:t}),e),...n}));kN.displayName=SN.displayName;const b5=se.forwardRef(({className:e,...t},n)=>s.jsx(PN,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));b5.displayName=PN.displayName;const RN=se.forwardRef(({className:e,...t},n)=>s.jsx(TN,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(jr,{className:"h-4 w-4"})}));RN.displayName=TN.displayName;const LN=se.forwardRef(({className:e,...t},n)=>s.jsx(EN,{ref:n,className:ce("text-sm font-semibold",e),...t}));LN.displayName=EN.displayName;const ON=se.forwardRef(({className:e,...t},n)=>s.jsx(NN,{ref:n,className:ce("text-sm opacity-90",e),...t}));ON.displayName=NN.displayName;const j5=1;let Bm=0;function C5(){return Bm=(Bm+1)%Number.MAX_VALUE,Bm.toString()}const rn={state:{toasts:[]},listeners:[],getState:()=>rn.state,setState:e=>{typeof e=="function"?rn.state=e(rn.state):rn.state={...rn.state,...e},rn.listeners.forEach(t=>t(rn.state))},subscribe:e=>(rn.listeners.push(e),()=>{rn.listeners=rn.listeners.filter(t=>t!==e)})},S5=({...e})=>{const t=C5(),n=i=>rn.setState(o=>({...o,toasts:o.toasts.map(l=>l.id===t?{...l,...i}:l)})),r=()=>rn.setState(i=>({...i,toasts:i.toasts.filter(o=>o.id!==t)}));return rn.setState(i=>({...i,toasts:[{...e,id:t,dismiss:r},...i.toasts].slice(0,j5)})),{id:t,dismiss:r,update:n}};function et(){const[e,t]=m.useState(rn.getState());return m.useEffect(()=>rn.subscribe(r=>{t(r)}),[]),m.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:S5,toasts:e.toasts}}function E5(){const{toasts:e}=et();return s.jsxs(_5,{children:[e.map(({id:t,title:n,description:r,action:i,...o})=>s.jsxs(kN,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(LN,{children:n}),r&&s.jsx(ON,{children:r})]}),i,s.jsx(RN,{})]},t)),s.jsx(AN,{})]})}const MN=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Hh=m.createContext({}),Wh=m.createContext(null),Gh=typeof document<"u",Hy=Gh?m.useLayoutEffect:m.useEffect,IN=m.createContext({strict:!1}),Wy=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),N5="framerAppearId",DN="data-"+Wy(N5);function P5(e,t,n,r){const{visualElement:i}=m.useContext(Hh),o=m.useContext(IN),l=m.useContext(Wh),c=m.useContext(MN).reducedMotion,u=m.useRef();r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=u.current;m.useInsertionEffect(()=>{h&&h.update(n,l)});const f=m.useRef(!!(n[DN]&&!window.HandoffComplete));return Hy(()=>{h&&(h.render(),f.current&&h.animationState&&h.animationState.animateChanges())}),m.useEffect(()=>{h&&(h.updateFeatures(),!f.current&&h.animationState&&h.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),h}function Ko(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function T5(e,t,n){return m.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ko(n)&&(n.current=r))},[t])}function hc(e){return typeof e=="string"||Array.isArray(e)}function Zh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Gy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zy=["initial",...Gy];function qh(e){return Zh(e.animate)||Zy.some(t=>hc(e[t]))}function $N(e){return!!(qh(e)||e.variants)}function A5(e,t){if(qh(e)){const{initial:n,animate:r}=e;return{initial:n===!1||hc(n)?n:void 0,animate:hc(r)?r:void 0}}return e.inherit!==!1?t:{}}function k5(e){const{initial:t,animate:n}=A5(e,m.useContext(Hh));return m.useMemo(()=>({initial:t,animate:n}),[yb(t),yb(n)])}function yb(e){return Array.isArray(e)?e.join(" "):e}const xb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fc={};for(const e in xb)fc[e]={isEnabled:t=>xb[e].some(n=>!!t[n])};function R5(e){for(const t in e)fc[t]={...fc[t],...e[t]}}const qy=m.createContext({}),FN=m.createContext({}),L5=Symbol.for("motionComponentSymbol");function O5({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&R5(e);function o(c,u){let h;const f={...m.useContext(MN),...c,layoutId:M5(c)},{isStatic:p}=f,v=k5(c),x=r(c,p);if(!p&&Gh){v.visualElement=P5(i,x,f,t);const w=m.useContext(FN),y=m.useContext(IN).strict;v.visualElement&&(h=v.visualElement.loadFeatures(f,y,e,w))}return m.createElement(Hh.Provider,{value:v},h&&v.visualElement?m.createElement(h,{visualElement:v.visualElement,...f}):null,n(i,c,T5(x,v.visualElement,u),x,p,v.visualElement))}const l=m.forwardRef(o);return l[L5]=i,l}function M5({layoutId:e}){const t=m.useContext(qy).id;return t&&e!==void 0?t+"-"+e:e}function I5(e){function t(r,i={}){return O5(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const D5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ky(e){return typeof e!="string"||e.includes("-")?!1:!!(D5.indexOf(e)>-1||/[A-Z]/.test(e))}const qd={};function $5(e){Object.assign(qd,e)}const Rc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],co=new Set(Rc);function BN(e,{layout:t,layoutId:n}){return co.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!qd[e]||e==="opacity")}const Cn=e=>!!(e&&e.getVelocity),F5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},B5=Rc.length;function U5(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let o="";for(let l=0;l<B5;l++){const c=Rc[l];if(e[c]!==void 0){const u=F5[c]||c;o+=`${u}(${e[c]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,r?"":o):n&&r&&(o="none"),o}const UN=e=>t=>typeof t=="string"&&t.startsWith(e),zN=UN("--"),Mg=UN("var(--"),z5=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,V5=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ss=(e,t,n)=>Math.min(Math.max(n,e),t),uo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Il={...uo,transform:e=>ss(0,1,e)},ku={...uo,default:1},Dl=e=>Math.round(e*1e5)/1e5,Kh=/(-)?([\d]*\.?[\d])+/g,VN=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,H5=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Lc(e){return typeof e=="string"}const Oc=e=>({test:t=>Lc(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ki=Oc("deg"),Ur=Oc("%"),Pe=Oc("px"),W5=Oc("vh"),G5=Oc("vw"),_b={...Ur,parse:e=>Ur.parse(e)/100,transform:e=>Ur.transform(e*100)},wb={...uo,transform:Math.round},HN={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,size:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,rotate:ki,rotateX:ki,rotateY:ki,rotateZ:ki,scale:ku,scaleX:ku,scaleY:ku,scaleZ:ku,skew:ki,skewX:ki,skewY:ki,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Il,originX:_b,originY:_b,originZ:Pe,zIndex:wb,fillOpacity:Il,strokeOpacity:Il,numOctaves:wb};function Jy(e,t,n,r){const{style:i,vars:o,transform:l,transformOrigin:c}=e;let u=!1,h=!1,f=!0;for(const p in t){const v=t[p];if(zN(p)){o[p]=v;continue}const x=HN[p],w=V5(v,x);if(co.has(p)){if(u=!0,l[p]=w,!f)continue;v!==(x.default||0)&&(f=!1)}else p.startsWith("origin")?(h=!0,c[p]=w):i[p]=w}if(t.transform||(u||r?i.transform=U5(e.transform,n,f,r):i.transform&&(i.transform="none")),h){const{originX:p="50%",originY:v="50%",originZ:x=0}=c;i.transformOrigin=`${p} ${v} ${x}`}}const Yy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WN(e,t,n){for(const r in t)!Cn(t[r])&&!BN(r,n)&&(e[r]=t[r])}function Z5({transformTemplate:e},t,n){return m.useMemo(()=>{const r=Yy();return Jy(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function q5(e,t,n){const r=e.style||{},i={};return WN(i,r,e),Object.assign(i,Z5(e,t,n)),e.transformValues?e.transformValues(i):i}function K5(e,t,n){const r={},i=q5(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const J5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||J5.has(e)}let GN=e=>!Kd(e);function Y5(e){e&&(GN=t=>t.startsWith("on")?!Kd(t):e(t))}try{Y5(require("@emotion/is-prop-valid").default)}catch{}function X5(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(GN(i)||n===!0&&Kd(i)||!t&&!Kd(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function bb(e,t,n){return typeof e=="string"?e:Pe.transform(t+n*e)}function Q5(e,t,n){const r=bb(t,e.x,e.width),i=bb(n,e.y,e.height);return`${r} ${i}`}const eF={offset:"stroke-dashoffset",array:"stroke-dasharray"},tF={offset:"strokeDashoffset",array:"strokeDasharray"};function nF(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?eF:tF;e[o.offset]=Pe.transform(-r);const l=Pe.transform(t),c=Pe.transform(n);e[o.array]=`${l} ${c}`}function Xy(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:u=0,...h},f,p,v){if(Jy(e,h,f,v),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:w,dimensions:y}=e;x.transform&&(y&&(w.transform=x.transform),delete x.transform),y&&(i!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=Q5(y,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(x.x=t),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),l!==void 0&&nF(x,l,c,u,!1)}const ZN=()=>({...Yy(),attrs:{}}),Qy=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rF(e,t,n,r){const i=m.useMemo(()=>{const o=ZN();return Xy(o,t,{enableHardwareAcceleration:!1},Qy(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};WN(o,e.style,e),i.style={...o,...i.style}}return i}function iF(e=!1){return(n,r,i,{latestValues:o},l)=>{const u=(Ky(n)?rF:K5)(r,o,l,n),f={...X5(r,typeof n=="string",e),...u,ref:i},{children:p}=r,v=m.useMemo(()=>Cn(p)?p.get():p,[p]);return m.createElement(n,{...f,children:v})}}function qN(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const KN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JN(e,t,n,r){qN(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(KN.has(i)?i:Wy(i),t.attrs[i])}function ex(e,t){const{style:n}=e,r={};for(const i in n)(Cn(n[i])||t.style&&Cn(t.style[i])||BN(i,e))&&(r[i]=n[i]);return r}function YN(e,t){const n=ex(e,t);for(const r in e)if(Cn(e[r])||Cn(t[r])){const i=Rc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function tx(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function XN(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const Jd=e=>Array.isArray(e),sF=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),oF=e=>Jd(e)?e[e.length-1]||0:e;function dd(e){const t=Cn(e)?e.get():e;return sF(t)?t.toValue():t}function aF({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const l={latestValues:lF(r,i,o,e),renderState:t()};return n&&(l.mount=c=>n(r,c,l)),l}const QN=e=>(t,n)=>{const r=m.useContext(Hh),i=m.useContext(Wh),o=()=>aF(e,t,r,i);return n?o():XN(o)};function lF(e,t,n,r){const i={},o=r(e,{});for(const v in o)i[v]=dd(o[v]);let{initial:l,animate:c}=e;const u=qh(e),h=$N(e);t&&h&&!u&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let f=n?n.initial===!1:!1;f=f||l===!1;const p=f?c:l;return p&&typeof p!="boolean"&&!Zh(p)&&(Array.isArray(p)?p:[p]).forEach(x=>{const w=tx(e,x);if(!w)return;const{transitionEnd:y,transition:S,...j}=w;for(const b in j){let C=j[b];if(Array.isArray(C)){const N=f?C.length-1:0;C=C[N]}C!==null&&(i[b]=C)}for(const b in y)i[b]=y[b]}),i}const vt=e=>e;class jb{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function cF(e){let t=new jb,n=new jb,r=0,i=!1,o=!1;const l=new WeakSet,c={schedule:(u,h=!1,f=!1)=>{const p=f&&i,v=p?t:n;return h&&l.add(u),v.add(u)&&p&&i&&(r=t.order.length),u},cancel:u=>{n.remove(u),l.delete(u)},process:u=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let h=0;h<r;h++){const f=t.order[h];f(u),l.has(f)&&(c.schedule(f),e())}i=!1,o&&(o=!1,c.process(u))}};return c}const Ru=["prepare","read","update","preRender","render","postRender"],uF=40;function dF(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Ru.reduce((p,v)=>(p[v]=cF(()=>n=!0),p),{}),l=p=>o[p].process(i),c=()=>{const p=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(p-i.timestamp,uF),1),i.timestamp=p,i.isProcessing=!0,Ru.forEach(l),i.isProcessing=!1,n&&t&&(r=!1,e(c))},u=()=>{n=!0,r=!0,i.isProcessing||e(c)};return{schedule:Ru.reduce((p,v)=>{const x=o[v];return p[v]=(w,y=!1,S=!1)=>(n||u(),x.schedule(w,y,S)),p},{}),cancel:p=>Ru.forEach(v=>o[v].cancel(p)),state:i,steps:o}}const{schedule:Qe,cancel:yi,state:Jt,steps:Um}=dF(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0),hF={useVisualState:QN({scrapeMotionValuesFromProps:YN,createRenderState:ZN,onMount:(e,t,{renderState:n,latestValues:r})=>{Qe.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Qe.render(()=>{Xy(n,r,{enableHardwareAcceleration:!1},Qy(t.tagName),e.transformTemplate),JN(t,n)})}})},fF={useVisualState:QN({scrapeMotionValuesFromProps:ex,createRenderState:Yy})};function mF(e,{forwardMotionProps:t=!1},n,r){return{...Ky(e)?hF:fF,preloadedFeatures:n,useRender:iF(t),createVisualElement:r,Component:e}}function li(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const eP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Jh(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const pF=e=>t=>eP(t)&&e(t,Jh(t));function di(e,t,n,r){return li(e,t,pF(n),r)}const gF=(e,t)=>n=>t(e(n)),Xi=(...e)=>e.reduce(gF);function tP(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Cb=tP("dragHorizontal"),Sb=tP("dragVertical");function nP(e){let t=!1;if(e==="y")t=Sb();else if(e==="x")t=Cb();else{const n=Cb(),r=Sb();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function rP(){const e=nP(!0);return e?(e(),!1):!0}class _s{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Eb(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(o,l)=>{if(o.pointerType==="touch"||rP())return;const c=e.getProps();e.animationState&&c.whileHover&&e.animationState.setActive("whileHover",t),c[r]&&Qe.update(()=>c[r](o,l))};return di(e.current,n,i,{passive:!e.getProps()[r]})}class vF extends _s{mount(){this.unmount=Xi(Eb(this.node,!0),Eb(this.node,!1))}unmount(){}}class yF extends _s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xi(li(this.node.current,"focus",()=>this.onFocus()),li(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const iP=(e,t)=>t?e===t?!0:iP(e,t.parentElement):!1;function zm(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Jh(n))}class xF extends _s{constructor(){super(...arguments),this.removeStartListeners=vt,this.removeEndListeners=vt,this.removeAccessibleListeners=vt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=di(window,"pointerup",(c,u)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:f,globalTapTarget:p}=this.node.getProps();Qe.update(()=>{!p&&!iP(this.node.current,c.target)?f&&f(c,u):h&&h(c,u)})},{passive:!(r.onTap||r.onPointerUp)}),l=di(window,"pointercancel",(c,u)=>this.cancelPress(c,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Xi(o,l),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const l=c=>{c.key!=="Enter"||!this.checkPressEnd()||zm("up",(u,h)=>{const{onTap:f}=this.node.getProps();f&&Qe.update(()=>f(u,h))})};this.removeEndListeners(),this.removeEndListeners=li(this.node.current,"keyup",l),zm("down",(c,u)=>{this.startPress(c,u)})},n=li(this.node.current,"keydown",t),r=()=>{this.isPressing&&zm("cancel",(o,l)=>this.cancelPress(o,l))},i=li(this.node.current,"blur",r);this.removeAccessibleListeners=Xi(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Qe.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!rP()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Qe.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=di(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=li(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Xi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ig=new WeakMap,Vm=new WeakMap,_F=e=>{const t=Ig.get(e.target);t&&t(e)},wF=e=>{e.forEach(_F)};function bF({root:e,...t}){const n=e||document;Vm.has(n)||Vm.set(n,{});const r=Vm.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(wF,{root:e,...t})),r[i]}function jF(e,t,n){const r=bF(t);return Ig.set(e,n),r.observe(e),()=>{Ig.delete(e),r.unobserve(e)}}const CF={some:0,all:1};class SF extends _s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:CF[i]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),v=h?f:p;v&&v(u)};return jF(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(EF(t,n))&&this.startObserver()}unmount(){}}function EF({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const NF={inView:{Feature:SF},tap:{Feature:xF},focus:{Feature:yF},hover:{Feature:vF}};function sP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function PF(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function TF(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Yh(e,t,n){const r=e.getProps();return tx(r,t,n!==void 0?n:r.custom,PF(e),TF(e))}let AF=vt,nx=vt;const Qi=e=>e*1e3,hi=e=>e/1e3,kF={current:!1},oP=e=>Array.isArray(e)&&typeof e[0]=="number";function aP(e){return!!(!e||typeof e=="string"&&lP[e]||oP(e)||Array.isArray(e)&&e.every(aP))}const Cl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,lP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cl([0,.65,.55,1]),circOut:Cl([.55,0,1,.45]),backIn:Cl([.31,.01,.66,-.59]),backOut:Cl([.33,1.53,.69,.99])};function cP(e){if(e)return oP(e)?Cl(e):Array.isArray(e)?e.map(cP):lP[e]}function RF(e,t,n,{delay:r=0,duration:i,repeat:o=0,repeatType:l="loop",ease:c,times:u}={}){const h={[t]:n};u&&(h.offset=u);const f=cP(c);return Array.isArray(f)&&(h.easing=f),e.animate(h,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}function LF(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const uP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,OF=1e-7,MF=12;function IF(e,t,n,r,i){let o,l,c=0;do l=t+(n-t)/2,o=uP(l,r,i)-e,o>0?n=l:t=l;while(Math.abs(o)>OF&&++c<MF);return l}function Mc(e,t,n,r){if(e===t&&n===r)return vt;const i=o=>IF(o,0,1,e,n);return o=>o===0||o===1?o:uP(i(o),t,r)}const DF=Mc(.42,0,1,1),$F=Mc(0,0,.58,1),dP=Mc(.42,0,.58,1),FF=e=>Array.isArray(e)&&typeof e[0]!="number",hP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,fP=e=>t=>1-e(1-t),rx=e=>1-Math.sin(Math.acos(e)),mP=fP(rx),BF=hP(rx),pP=Mc(.33,1.53,.69,.99),ix=fP(pP),UF=hP(ix),zF=e=>(e*=2)<1?.5*ix(e):.5*(2-Math.pow(2,-10*(e-1))),VF={linear:vt,easeIn:DF,easeInOut:dP,easeOut:$F,circIn:rx,circInOut:BF,circOut:mP,backIn:ix,backInOut:UF,backOut:pP,anticipate:zF},Nb=e=>{if(Array.isArray(e)){nx(e.length===4);const[t,n,r,i]=e;return Mc(t,n,r,i)}else if(typeof e=="string")return VF[e];return e},sx=(e,t)=>n=>!!(Lc(n)&&H5.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),gP=(e,t,n)=>r=>{if(!Lc(r))return r;const[i,o,l,c]=r.match(Kh);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},HF=e=>ss(0,255,e),Hm={...uo,transform:e=>Math.round(HF(e))},Ws={test:sx("rgb","red"),parse:gP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Hm.transform(e)+", "+Hm.transform(t)+", "+Hm.transform(n)+", "+Dl(Il.transform(r))+")"};function WF(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Dg={test:sx("#"),parse:WF,transform:Ws.transform},Jo={test:sx("hsl","hue"),parse:gP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ur.transform(Dl(t))+", "+Ur.transform(Dl(n))+", "+Dl(Il.transform(r))+")"},sn={test:e=>Ws.test(e)||Dg.test(e)||Jo.test(e),parse:e=>Ws.test(e)?Ws.parse(e):Jo.test(e)?Jo.parse(e):Dg.parse(e),transform:e=>Lc(e)?e:e.hasOwnProperty("red")?Ws.transform(e):Jo.transform(e)},dt=(e,t,n)=>-n*e+n*t+e;function Wm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function GF({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,l=0;if(!t)i=o=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,u=2*n-c;i=Wm(u,c,e+1/3),o=Wm(u,c,e),l=Wm(u,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}const Gm=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},ZF=[Dg,Ws,Jo],qF=e=>ZF.find(t=>t.test(e));function Pb(e){const t=qF(e);let n=t.parse(e);return t===Jo&&(n=GF(n)),n}const vP=(e,t)=>{const n=Pb(e),r=Pb(t),i={...n};return o=>(i.red=Gm(n.red,r.red,o),i.green=Gm(n.green,r.green,o),i.blue=Gm(n.blue,r.blue,o),i.alpha=dt(n.alpha,r.alpha,o),Ws.transform(i))};function KF(e){var t,n;return isNaN(e)&&Lc(e)&&(((t=e.match(Kh))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(VN))===null||n===void 0?void 0:n.length)||0)>0}const yP={regex:z5,countKey:"Vars",token:"${v}",parse:vt},xP={regex:VN,countKey:"Colors",token:"${c}",parse:sn.parse},_P={regex:Kh,countKey:"Numbers",token:"${n}",parse:uo.parse};function Zm(e,{regex:t,countKey:n,token:r,parse:i}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(i)))}function Yd(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Zm(n,yP),Zm(n,xP),Zm(n,_P),n}function wP(e){return Yd(e).values}function bP(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Yd(e),o=t.length;return l=>{let c=i;for(let u=0;u<o;u++)u<r?c=c.replace(yP.token,l[u]):u<r+n?c=c.replace(xP.token,sn.transform(l[u])):c=c.replace(_P.token,Dl(l[u]));return c}}const JF=e=>typeof e=="number"?0:e;function YF(e){const t=wP(e);return bP(e)(t.map(JF))}const os={test:KF,parse:wP,createTransformer:bP,getAnimatableNone:YF},jP=(e,t)=>n=>`${n>0?t:e}`;function CP(e,t){return typeof e=="number"?n=>dt(e,t,n):sn.test(e)?vP(e,t):e.startsWith("var(")?jP(e,t):EP(e,t)}const SP=(e,t)=>{const n=[...e],r=n.length,i=e.map((o,l)=>CP(o,t[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}},XF=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=CP(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},EP=(e,t)=>{const n=os.createTransformer(t),r=Yd(e),i=Yd(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Xi(SP(r.values,i.values),n):jP(e,t)},mc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Tb=(e,t)=>n=>dt(e,t,n);function QF(e){return typeof e=="number"?Tb:typeof e=="string"?sn.test(e)?vP:EP:Array.isArray(e)?SP:typeof e=="object"?XF:Tb}function eB(e,t,n){const r=[],i=n||QF(e[0]),o=e.length-1;for(let l=0;l<o;l++){let c=i(e[l],e[l+1]);if(t){const u=Array.isArray(t)?t[l]||vt:t;c=Xi(u,c)}r.push(c)}return r}function NP(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(nx(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=eB(t,r,i),c=l.length,u=h=>{let f=0;if(c>1)for(;f<e.length-2&&!(h<e[f+1]);f++);const p=mc(e[f],e[f+1],h);return l[f](p)};return n?h=>u(ss(e[0],e[o-1],h)):u}function tB(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=mc(0,t,r);e.push(dt(n,1,i))}}function nB(e){const t=[0];return tB(t,e.length-1),t}function rB(e,t){return e.map(n=>n*t)}function iB(e,t){return e.map(()=>t||dP).splice(0,e.length-1)}function Xd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=FF(r)?r.map(Nb):Nb(r),o={done:!1,value:t[0]},l=rB(n&&n.length===t.length?n:nB(t),e),c=NP(l,t,{ease:Array.isArray(i)?i:iB(t,i)});return{calculatedDuration:e,next:u=>(o.value=c(u),o.done=u>=e,o)}}function PP(e,t){return t?e*(1e3/t):0}const sB=5;function TP(e,t,n){const r=Math.max(t-sB,0);return PP(n-e(r),t-r)}const qm=.001,oB=.01,Ab=10,aB=.05,lB=1;function cB({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o;AF(e<=Qi(Ab));let l=1-t;l=ss(aB,lB,l),e=ss(oB,Ab,hi(e)),l<1?(i=h=>{const f=h*l,p=f*e,v=f-n,x=$g(h,l),w=Math.exp(-p);return qm-v/x*w},o=h=>{const p=h*l*e,v=p*n+n,x=Math.pow(l,2)*Math.pow(h,2)*e,w=Math.exp(-p),y=$g(Math.pow(h,2),l);return(-i(h)+qm>0?-1:1)*((v-x)*w)/y}):(i=h=>{const f=Math.exp(-h*e),p=(h-n)*e+1;return-qm+f*p},o=h=>{const f=Math.exp(-h*e),p=(n-h)*(e*e);return f*p});const c=5/e,u=dB(i,o,c);if(e=Qi(e),isNaN(u))return{stiffness:100,damping:10,duration:e};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:e}}}const uB=12;function dB(e,t,n){let r=n;for(let i=1;i<uB;i++)r=r-e(r)/t(r);return r}function $g(e,t){return e*Math.sqrt(1-t*t)}const hB=["duration","bounce"],fB=["stiffness","damping","mass"];function kb(e,t){return t.some(n=>e[n]!==void 0)}function mB(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!kb(e,fB)&&kb(e,hB)){const n=cB(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function AP({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],o=e[e.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:h,duration:f,velocity:p,isResolvedFromDuration:v}=mB({...r,velocity:-hi(r.velocity||0)}),x=p||0,w=u/(2*Math.sqrt(c*h)),y=o-i,S=hi(Math.sqrt(c/h)),j=Math.abs(y)<5;n||(n=j?.01:2),t||(t=j?.005:.5);let b;if(w<1){const C=$g(S,w);b=N=>{const P=Math.exp(-w*S*N);return o-P*((x+w*S*y)/C*Math.sin(C*N)+y*Math.cos(C*N))}}else if(w===1)b=C=>o-Math.exp(-S*C)*(y+(x+S*y)*C);else{const C=S*Math.sqrt(w*w-1);b=N=>{const P=Math.exp(-w*S*N),A=Math.min(C*N,300);return o-P*((x+w*S*y)*Math.sinh(A)+C*y*Math.cosh(A))/C}}return{calculatedDuration:v&&f||null,next:C=>{const N=b(C);if(v)l.done=C>=f;else{let P=x;C!==0&&(w<1?P=TP(b,C,N):P=0);const A=Math.abs(P)<=n,T=Math.abs(o-N)<=t;l.done=A&&T}return l.value=l.done?o:N,l}}}function Rb({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:u,restDelta:h=.5,restSpeed:f}){const p=e[0],v={done:!1,value:p},x=I=>c!==void 0&&I<c||u!==void 0&&I>u,w=I=>c===void 0?u:u===void 0||Math.abs(c-I)<Math.abs(u-I)?c:u;let y=n*t;const S=p+y,j=l===void 0?S:l(S);j!==S&&(y=j-p);const b=I=>-y*Math.exp(-I/r),C=I=>j+b(I),N=I=>{const M=b(I),U=C(I);v.done=Math.abs(M)<=h,v.value=v.done?j:U};let P,A;const T=I=>{x(v.value)&&(P=I,A=AP({keyframes:[v.value,w(v.value)],velocity:TP(C,I,v.value),damping:i,stiffness:o,restDelta:h,restSpeed:f}))};return T(0),{calculatedDuration:null,next:I=>{let M=!1;return!A&&P===void 0&&(M=!0,N(I),T(I)),P!==void 0&&I>P?A.next(I-P):(!M&&N(I),v)}}}const pB=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Qe.update(t,!0),stop:()=>yi(t),now:()=>Jt.isProcessing?Jt.timestamp:performance.now()}},Lb=2e4;function Ob(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Lb;)t+=n,r=e.next(t);return t>=Lb?1/0:t}const gB={decay:Rb,inertia:Rb,tween:Xd,keyframes:Xd,spring:AP};function Qd({autoplay:e=!0,delay:t=0,driver:n=pB,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",onPlay:u,onStop:h,onComplete:f,onUpdate:p,...v}){let x=1,w=!1,y,S;const j=()=>{S=new Promise(Q=>{y=Q})};j();let b;const C=gB[i]||Xd;let N;C!==Xd&&typeof r[0]!="number"&&(N=NP([0,100],r,{clamp:!1}),r=[0,100]);const P=C({...v,keyframes:r});let A;c==="mirror"&&(A=C({...v,keyframes:[...r].reverse(),velocity:-(v.velocity||0)}));let T="idle",I=null,M=null,U=null;P.calculatedDuration===null&&o&&(P.calculatedDuration=Ob(P));const{calculatedDuration:G}=P;let z=1/0,J=1/0;G!==null&&(z=G+l,J=z*(o+1)-l);let $=0;const k=Q=>{if(M===null)return;x>0&&(M=Math.min(M,Q)),x<0&&(M=Math.min(Q-J/x,M)),I!==null?$=I:$=Math.round(Q-M)*x;const B=$-t*(x>=0?1:-1),q=x>=0?B<0:B>J;$=Math.max(B,0),T==="finished"&&I===null&&($=J);let Z=$,X=P;if(o){const be=Math.min($,J)/z;let _e=Math.floor(be),Ce=be%1;!Ce&&be>=1&&(Ce=1),Ce===1&&_e--,_e=Math.min(_e,o+1),!!(_e%2)&&(c==="reverse"?(Ce=1-Ce,l&&(Ce-=l/z)):c==="mirror"&&(X=A)),Z=ss(0,1,Ce)*z}const ie=q?{done:!1,value:r[0]}:X.next(Z);N&&(ie.value=N(ie.value));let{done:ne}=ie;!q&&G!==null&&(ne=x>=0?$>=J:$<=0);const ue=I===null&&(T==="finished"||T==="running"&&ne);return p&&p(ie.value),ue&&D(),ie},O=()=>{b&&b.stop(),b=void 0},F=()=>{T="idle",O(),y(),j(),M=U=null},D=()=>{T="finished",f&&f(),O(),y()},H=()=>{if(w)return;b||(b=n(k));const Q=b.now();u&&u(),I!==null?M=Q-I:(!M||T==="finished")&&(M=Q),T==="finished"&&j(),U=M,I=null,T="running",b.start()};e&&H();const W={then(Q,B){return S.then(Q,B)},get time(){return hi($)},set time(Q){Q=Qi(Q),$=Q,I!==null||!b||x===0?I=Q:M=b.now()-Q/x},get duration(){const Q=P.calculatedDuration===null?Ob(P):P.calculatedDuration;return hi(Q)},get speed(){return x},set speed(Q){Q===x||!b||(x=Q,W.time=hi($))},get state(){return T},play:H,pause:()=>{T="paused",I=$},stop:()=>{w=!0,T!=="idle"&&(T="idle",h&&h(),F())},cancel:()=>{U!==null&&k(U),F()},complete:()=>{T="finished"},sample:Q=>(M=0,k(Q))};return W}function vB(e){let t;return()=>(t===void 0&&(t=e()),t)}const yB=vB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xB=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Lu=10,_B=2e4,wB=(e,t)=>t.type==="spring"||e==="backgroundColor"||!aP(t.ease);function bB(e,t,{onUpdate:n,onComplete:r,...i}){if(!(yB()&&xB.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let l=!1,c,u,h=!1;const f=()=>{u=new Promise(C=>{c=C})};f();let{keyframes:p,duration:v=300,ease:x,times:w}=i;if(wB(t,i)){const C=Qd({...i,repeat:0,delay:0});let N={done:!1,value:p[0]};const P=[];let A=0;for(;!N.done&&A<_B;)N=C.sample(A),P.push(N.value),A+=Lu;w=void 0,p=P,v=A-Lu,x="linear"}const y=RF(e.owner.current,t,p,{...i,duration:v,ease:x,times:w}),S=()=>{h=!1,y.cancel()},j=()=>{h=!0,Qe.update(S),c(),f()};return y.onfinish=()=>{h||(e.set(LF(p,i)),r&&r(),j())},{then(C,N){return u.then(C,N)},attachTimeline(C){return y.timeline=C,y.onfinish=null,vt},get time(){return hi(y.currentTime||0)},set time(C){y.currentTime=Qi(C)},get speed(){return y.playbackRate},set speed(C){y.playbackRate=C},get duration(){return hi(v)},play:()=>{l||(y.play(),yi(S))},pause:()=>y.pause(),stop:()=>{if(l=!0,y.playState==="idle")return;const{currentTime:C}=y;if(C){const N=Qd({...i,autoplay:!1});e.setWithVelocity(N.sample(C-Lu).value,N.sample(C).value,Lu)}j()},complete:()=>{h||y.finish()},cancel:j}}function jB({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:vt,pause:vt,stop:vt,then:o=>(o(),Promise.resolve()),cancel:vt,complete:vt});return t?Qd({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const CB={type:"spring",stiffness:500,damping:25,restSpeed:10},SB=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),EB={type:"keyframes",duration:.8},NB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PB=(e,{keyframes:t})=>t.length>2?EB:co.has(e)?e.startsWith("scale")?SB(t[1]):CB:NB,Fg=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(os.test(t)||t==="0")&&!t.startsWith("url(")),TB=new Set(["brightness","contrast","saturate","opacity"]);function AB(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Kh)||[];if(!r)return e;const i=n.replace(r,"");let o=TB.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const kB=/([a-z-]*)\(.*?\)/g,Bg={...os,getAnimatableNone:e=>{const t=e.match(kB);return t?t.map(AB).join(" "):e}},RB={...HN,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:Bg,WebkitFilter:Bg},ox=e=>RB[e];function kP(e,t){let n=ox(e);return n!==Bg&&(n=os),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const RP=e=>/^0[^.\s]+$/.test(e);function LB(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||RP(e)}function OB(e,t,n,r){const i=Fg(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const l=r.from!==void 0?r.from:e.get();let c;const u=[];for(let h=0;h<o.length;h++)o[h]===null&&(o[h]=h===0?l:o[h-1]),LB(o[h])&&u.push(h),typeof o[h]=="string"&&o[h]!=="none"&&o[h]!=="0"&&(c=o[h]);if(i&&u.length&&c)for(let h=0;h<u.length;h++){const f=u[h];o[f]=kP(t,c)}return o}function MB({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:u,elapsed:h,...f}){return!!Object.keys(f).length}function ax(e,t){return e[t]||e.default||e}const IB={skipAnimations:!1},lx=(e,t,n,r={})=>i=>{const o=ax(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Qi(l);const u=OB(t,e,n,o),h=u[0],f=u[u.length-1],p=Fg(e,h),v=Fg(e,f);let x={keyframes:u,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-c,onUpdate:w=>{t.set(w),o.onUpdate&&o.onUpdate(w)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(MB(o)||(x={...x,...PB(e,x)}),x.duration&&(x.duration=Qi(x.duration)),x.repeatDelay&&(x.repeatDelay=Qi(x.repeatDelay)),!p||!v||kF.current||o.type===!1||IB.skipAnimations)return jB(x);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=bB(t,e,x);if(w)return w}return Qd(x)};function eh(e){return!!(Cn(e)&&e.add)}const LP=e=>/^\-?\d*\.?\d+$/.test(e);function cx(e,t){e.indexOf(t)===-1&&e.push(t)}function ux(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class dx{constructor(){this.subscriptions=[]}add(t){return cx(this.subscriptions,t),()=>ux(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const DB=e=>!isNaN(parseFloat(e));class $B{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:l}=Jt;this.lastUpdated!==l&&(this.timeDelta=o,this.lastUpdated=l,Qe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Qe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=DB(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new dx);const r=this.events[t].add(n);return t==="change"?()=>{r(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?PP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ba(e,t){return new $B(e,t)}const OP=e=>t=>t.test(e),FB={test:e=>e==="auto",parse:e=>e},MP=[uo,Pe,Ur,ki,G5,W5,FB],ml=e=>MP.find(OP(e)),BB=[...MP,sn,os],UB=e=>BB.find(OP(e));function zB(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ba(n))}function VB(e,t){const n=Yh(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const l in o){const c=oF(o[l]);zB(e,l,c)}}function HB(e,t,n){var r,i;const o=Object.keys(t).filter(c=>!e.hasValue(c)),l=o.length;if(l)for(let c=0;c<l;c++){const u=o[c],h=t[u];let f=null;Array.isArray(h)&&(f=h[0]),f===null&&(f=(i=(r=n[u])!==null&&r!==void 0?r:e.readValue(u))!==null&&i!==void 0?i:t[u]),f!=null&&(typeof f=="string"&&(LP(f)||RP(f))?f=parseFloat(f):!UB(f)&&os.test(h)&&(f=kP(u,h)),e.addValue(u,ba(f,{owner:e})),n[u]===void 0&&(n[u]=f),f!==null&&e.setBaseTarget(u,f))}}function WB(e,t){return t?(t[e]||t.default||t).from:void 0}function GB(e,t,n){const r={};for(const i in e){const o=WB(i,t);if(o!==void 0)r[i]=o;else{const l=n.getValue(i);l&&(r[i]=l.get())}}return r}function ZB({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function qB(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function IP(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=e.makeTargetAnimatable(t);const u=e.getValue("willChange");r&&(o=r);const h=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in c){const v=e.getValue(p),x=c[p];if(!v||x===void 0||f&&ZB(f,p))continue;const w={delay:n,elapsed:0,...ax(o||{},p)};if(window.HandoffAppearAnimations){const j=e.getProps()[DN];if(j){const b=window.HandoffAppearAnimations(j,p,v,Qe);b!==null&&(w.elapsed=b,w.isHandoff=!0)}}let y=!w.isHandoff&&!qB(v,x);if(w.type==="spring"&&(v.getVelocity()||w.velocity)&&(y=!1),v.animation&&(y=!1),y)continue;v.start(lx(p,v,x,e.shouldReduceMotion&&co.has(p)?{type:!1}:w));const S=v.animation;eh(u)&&(u.add(p),S.then(()=>u.remove(p))),h.push(S)}return l&&Promise.all(h).then(()=>{l&&VB(e,l)}),h}function Ug(e,t,n={}){const r=Yh(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(IP(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return KB(e,t,h+u,f,p,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,h]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function KB(e,t,n=0,r=0,i=1,o){const l=[],c=(e.variantChildren.size-1)*r,u=i===1?(h=0)=>h*r:(h=0)=>c-h*r;return Array.from(e.variantChildren).sort(JB).forEach((h,f)=>{h.notify("AnimationStart",t),l.push(Ug(h,t,{...o,delay:n+u(f)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(l)}function JB(e,t){return e.sortNodePosition(t)}function YB(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>Ug(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=Ug(e,t,n);else{const i=typeof t=="function"?Yh(e,t,n.custom):t;r=Promise.all(IP(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const XB=[...Gy].reverse(),QB=Gy.length;function eU(e){return t=>Promise.all(t.map(({animation:n,options:r})=>YB(e,n,r)))}function tU(e){let t=eU(e);const n=rU();let r=!0;const i=(u,h)=>{const f=Yh(e,h);if(f){const{transition:p,transitionEnd:v,...x}=f;u={...u,...x,...v}}return u};function o(u){t=u(e)}function l(u,h){const f=e.getProps(),p=e.getVariantContext(!0)||{},v=[],x=new Set;let w={},y=1/0;for(let j=0;j<QB;j++){const b=XB[j],C=n[b],N=f[b]!==void 0?f[b]:p[b],P=hc(N),A=b===h?C.isActive:null;A===!1&&(y=j);let T=N===p[b]&&N!==f[b]&&P;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),C.protectedKeys={...w},!C.isActive&&A===null||!N&&!C.prevProp||Zh(N)||typeof N=="boolean")continue;let M=nU(C.prevProp,N)||b===h&&C.isActive&&!T&&P||j>y&&P,U=!1;const G=Array.isArray(N)?N:[N];let z=G.reduce(i,{});A===!1&&(z={});const{prevResolvedValues:J={}}=C,$={...J,...z},k=O=>{M=!0,x.has(O)&&(U=!0,x.delete(O)),C.needsAnimating[O]=!0};for(const O in $){const F=z[O],D=J[O];if(w.hasOwnProperty(O))continue;let H=!1;Jd(F)&&Jd(D)?H=!sP(F,D):H=F!==D,H?F!==void 0?k(O):x.add(O):F!==void 0&&x.has(O)?k(O):C.protectedKeys[O]=!0}C.prevProp=N,C.prevResolvedValues=z,C.isActive&&(w={...w,...z}),r&&e.blockInitialAnimation&&(M=!1),M&&(!T||U)&&v.push(...G.map(O=>({animation:O,options:{type:b,...u}})))}if(x.size){const j={};x.forEach(b=>{const C=e.getBaseTarget(b);C!==void 0&&(j[b]=C)}),v.push({animation:j})}let S=!!v.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(v):Promise.resolve()}function c(u,h,f){var p;if(n[u].isActive===h)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(x=>{var w;return(w=x.animationState)===null||w===void 0?void 0:w.setActive(u,h)}),n[u].isActive=h;const v=l(f,u);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n}}function nU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!sP(t,e):!1}function As(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rU(){return{animate:As(!0),whileInView:As(),whileHover:As(),whileTap:As(),whileDrag:As(),whileFocus:As(),exit:As()}}class iU extends _s{constructor(t){super(t),t.animationState||(t.animationState=tU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Zh(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let sU=0;class oU extends _s{constructor(){super(...arguments),this.id=sU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const aU={animation:{Feature:iU},exit:{Feature:oU}},Mb=(e,t)=>Math.abs(e-t);function lU(e,t){const n=Mb(e.x,t.x),r=Mb(e.y,t.y);return Math.sqrt(n**2+r**2)}class DP{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Jm(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=lU(p.offset,{x:0,y:0})>=3;if(!v&&!x)return;const{point:w}=p,{timestamp:y}=Jt;this.history.push({...w,timestamp:y});const{onStart:S,onMove:j}=this.handlers;v||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Km(v,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Jm(p.type==="pointercancel"?this.lastMoveEventInfo:Km(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,S),w&&w(p,S)},!eP(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=Jh(t),c=Km(l,this.transformPagePoint),{point:u}=c,{timestamp:h}=Jt;this.history=[{...u,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,Jm(c,this.history)),this.removeListeners=Xi(di(this.contextWindow,"pointermove",this.handlePointerMove),di(this.contextWindow,"pointerup",this.handlePointerUp),di(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),yi(this.updatePoint)}}function Km(e,t){return t?{point:t(e.point)}:e}function Ib(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Jm({point:e},t){return{point:e,delta:Ib(e,$P(t)),offset:Ib(e,cU(t)),velocity:uU(t,.1)}}function cU(e){return e[0]}function $P(e){return e[e.length-1]}function uU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=$P(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Qi(t)));)n--;if(!r)return{x:0,y:0};const o=hi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Bn(e){return e.max-e.min}function zg(e,t=0,n=.01){return Math.abs(e-t)<=n}function Db(e,t,n,r=.5){e.origin=r,e.originPoint=dt(t.min,t.max,e.origin),e.scale=Bn(n)/Bn(t),(zg(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=dt(n.min,n.max,e.origin)-e.originPoint,(zg(e.translate)||isNaN(e.translate))&&(e.translate=0)}function $l(e,t,n,r){Db(e.x,t.x,n.x,r?r.originX:void 0),Db(e.y,t.y,n.y,r?r.originY:void 0)}function $b(e,t,n){e.min=n.min+t.min,e.max=e.min+Bn(t)}function dU(e,t,n){$b(e.x,t.x,n.x),$b(e.y,t.y,n.y)}function Fb(e,t,n){e.min=t.min-n.min,e.max=e.min+Bn(t)}function Fl(e,t,n){Fb(e.x,t.x,n.x),Fb(e.y,t.y,n.y)}function hU(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?dt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?dt(n,e,r.max):Math.min(e,n)),e}function Bb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function fU(e,{top:t,left:n,bottom:r,right:i}){return{x:Bb(e.x,n,i),y:Bb(e.y,t,r)}}function Ub(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function mU(e,t){return{x:Ub(e.x,t.x),y:Ub(e.y,t.y)}}function pU(e,t){let n=.5;const r=Bn(e),i=Bn(t);return i>r?n=mc(t.min,t.max-r,e.min):r>i&&(n=mc(e.min,e.max-i,t.min)),ss(0,1,n)}function gU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Vg=.35;function vU(e=Vg){return e===!1?e=0:e===!0&&(e=Vg),{x:zb(e,"left","right"),y:zb(e,"top","bottom")}}function zb(e,t,n){return{min:Vb(e,t),max:Vb(e,n)}}function Vb(e,t){return typeof e=="number"?e:e[t]||0}const Hb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yo=()=>({x:Hb(),y:Hb()}),Wb=()=>({min:0,max:0}),Et=()=>({x:Wb(),y:Wb()});function Kn(e){return[e("x"),e("y")]}function FP({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function yU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function xU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ym(e){return e===void 0||e===1}function Hg({scale:e,scaleX:t,scaleY:n}){return!Ym(e)||!Ym(t)||!Ym(n)}function Ms(e){return Hg(e)||BP(e)||e.z||e.rotate||e.rotateX||e.rotateY}function BP(e){return Gb(e.x)||Gb(e.y)}function Gb(e){return e&&e!=="0%"}function th(e,t,n){const r=e-n,i=t*r;return n+i}function Zb(e,t,n,r,i){return i!==void 0&&(e=th(e,i,r)),th(e,n,r)+t}function Wg(e,t=0,n=1,r,i){e.min=Zb(e.min,t,n,r,i),e.max=Zb(e.max,t,n,r,i)}function UP(e,{x:t,y:n}){Wg(e.x,t.translate,t.scale,t.originPoint),Wg(e.y,n.translate,n.scale,n.originPoint)}function _U(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,l;for(let c=0;c<i;c++){o=n[c],l=o.projectionDelta;const u=o.instance;u&&u.style&&u.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Xo(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,UP(e,l)),r&&Ms(o.latestValues)&&Xo(e,o.latestValues))}t.x=qb(t.x),t.y=qb(t.y)}function qb(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Di(e,t){e.min=e.min+t,e.max=e.max+t}function Kb(e,t,[n,r,i]){const o=t[i]!==void 0?t[i]:.5,l=dt(e.min,e.max,o);Wg(e,t[n],t[r],l,t.scale)}const wU=["x","scaleX","originX"],bU=["y","scaleY","originY"];function Xo(e,t){Kb(e.x,t,wU),Kb(e.y,t,bU)}function zP(e,t){return FP(xU(e.getBoundingClientRect(),t))}function jU(e,t,n){const r=zP(e,n),{scroll:i}=t;return i&&(Di(r.x,i.offset.x),Di(r.y,i.offset.y)),r}const VP=({current:e})=>e?e.ownerDocument.defaultView:null,CU=new WeakMap;class SU{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Jh(f,"page").point)},o=(f,p)=>{const{drag:v,dragPropagation:x,onDragStart:w}=this.getProps();if(v&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=nP(v),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(S=>{let j=this.getAxisMotionValue(S).get()||0;if(Ur.test(j)){const{projection:b}=this.visualElement;if(b&&b.layout){const C=b.layout.layoutBox[S];C&&(j=Bn(C)*(parseFloat(j)/100))}}this.originPoint[S]=j}),w&&Qe.update(()=>w(f,p),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(f,p)=>{const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:w,onDrag:y}=this.getProps();if(!v&&!this.openGlobalLock)return;const{offset:S}=p;if(x&&this.currentDirection===null){this.currentDirection=EU(S),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),y&&y(f,p)},c=(f,p)=>this.stop(f,p),u=()=>Kn(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new DP(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:VP(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Qe.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Ou(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=hU(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Ko(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=fU(i.layoutBox,n):this.constraints=!1,this.elastic=vU(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Kn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=gU(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ko(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=jU(r,i.root,this.visualElement.getTransformPagePoint());let l=mU(i.layout.layoutBox,o);if(n){const c=n(yU(l));this.hasMutatedConstraints=!!c,c&&(l=FP(c))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=Kn(f=>{if(!Ou(f,n,this.currentDirection))return;let p=u&&u[f]||{};l&&(p={min:0,max:0});const v=i?200:1e6,x=i?40:1e7,w={type:"inertia",velocity:r?t[f]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(f,w)});return Promise.all(h).then(c)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(lx(t,r,0,n))}stopAnimation(){Kn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Kn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Kn(n=>{const{drag:r}=this.getProps();if(!Ou(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];o.set(t[n]-dt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ko(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Kn(l=>{const c=this.getAxisMotionValue(l);if(c){const u=c.get();i[l]=pU({min:u,max:u},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(l=>{if(!Ou(l,t,null))return;const c=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];c.set(dt(u,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;CU.set(this.visualElement,this);const t=this.visualElement.current,n=di(t,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Ko(u)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const l=li(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Kn(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=Vg,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function Ou(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function EU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class NU extends _s{constructor(t){super(t),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new SU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Jb=e=>(t,n)=>{e&&Qe.update(()=>e(t,n))};class PU extends _s{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(t){this.session=new DP(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VP(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Jb(t),onStart:Jb(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&Qe.update(()=>i(o,l))}}}mount(){this.removePointerDownListener=di(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function TU(){const e=m.useContext(Wh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=m.useId();return m.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const hd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Yb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const pl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Pe.test(e))e=parseFloat(e);else return e;const n=Yb(e,t.target.x),r=Yb(e,t.target.y);return`${n}% ${r}%`}},AU={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=os.parse(e);if(i.length>5)return r;const o=os.createTransformer(e),l=typeof i[0]!="number"?1:0,c=n.x.scale*t.x,u=n.y.scale*t.y;i[0+l]/=c,i[1+l]/=u;const h=dt(c,u,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),o(i)}};class kU extends se.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;$5(RU),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),hd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,i||t.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||Qe.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function HP(e){const[t,n]=TU(),r=m.useContext(qy);return se.createElement(kU,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(FN),isPresent:t,safeToRemove:n})}const RU={borderRadius:{...pl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pl,borderTopRightRadius:pl,borderBottomLeftRadius:pl,borderBottomRightRadius:pl,boxShadow:AU},WP=["TopLeft","TopRight","BottomLeft","BottomRight"],LU=WP.length,Xb=e=>typeof e=="string"?parseFloat(e):e,Qb=e=>typeof e=="number"||Pe.test(e);function OU(e,t,n,r,i,o){i?(e.opacity=dt(0,n.opacity!==void 0?n.opacity:1,MU(r)),e.opacityExit=dt(t.opacity!==void 0?t.opacity:1,0,IU(r))):o&&(e.opacity=dt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<LU;l++){const c=`border${WP[l]}Radius`;let u=e1(t,c),h=e1(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||Qb(u)===Qb(h)?(e[c]=Math.max(dt(Xb(u),Xb(h),r),0),(Ur.test(h)||Ur.test(u))&&(e[c]+="%")):e[c]=h}(t.rotate||n.rotate)&&(e.rotate=dt(t.rotate||0,n.rotate||0,r))}function e1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const MU=GP(0,.5,mP),IU=GP(.5,.95,vt);function GP(e,t,n){return r=>r<e?0:r>t?1:n(mc(e,t,r))}function t1(e,t){e.min=t.min,e.max=t.max}function qn(e,t){t1(e.x,t.x),t1(e.y,t.y)}function n1(e,t,n,r,i){return e-=t,e=th(e,1/n,r),i!==void 0&&(e=th(e,1/i,r)),e}function DU(e,t=0,n=1,r=.5,i,o=e,l=e){if(Ur.test(t)&&(t=parseFloat(t),t=dt(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=dt(o.min,o.max,r);e===o&&(c-=t),e.min=n1(e.min,t,n,c,i),e.max=n1(e.max,t,n,c,i)}function r1(e,t,[n,r,i],o,l){DU(e,t[n],t[r],t[i],t.scale,o,l)}const $U=["x","scaleX","originX"],FU=["y","scaleY","originY"];function i1(e,t,n,r){r1(e.x,t,$U,n?n.x:void 0,r?r.x:void 0),r1(e.y,t,FU,n?n.y:void 0,r?r.y:void 0)}function s1(e){return e.translate===0&&e.scale===1}function ZP(e){return s1(e.x)&&s1(e.y)}function BU(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function qP(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function o1(e){return Bn(e.x)/Bn(e.y)}class UU{constructor(){this.members=[]}add(t){cx(this.members,t),t.scheduleRender()}remove(t){if(ux(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function a1(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:u,rotateX:h,rotateY:f}=n;u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const zU=(e,t)=>e.depth-t.depth;class VU{constructor(){this.children=[],this.isDirty=!1}add(t){cx(this.children,t),this.isDirty=!0}remove(t){ux(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zU),this.isDirty=!1,this.children.forEach(t)}}function HU(e,t){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(yi(r),e(o-t))};return Qe.read(r,!0),()=>yi(r)}function WU(e){window.MotionDebug&&window.MotionDebug.record(e)}function GU(e){return e instanceof SVGElement&&e.tagName!=="svg"}function ZU(e,t,n){const r=Cn(e)?e:ba(e);return r.start(lx("",r,t,n)),r.animation}const l1=["","X","Y","Z"],qU={visibility:"hidden"},c1=1e3;let KU=0;const Is={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function KP({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=t==null?void 0:t()){this.id=KU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Is.totalNodes=Is.resolvedTargetDeltas=Is.recalculatedProjection=0,this.nodes.forEach(XU),this.nodes.forEach(rz),this.nodes.forEach(iz),this.nodes.forEach(QU),WU(Is)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new VU)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new dx),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GU(l),this.instance=l;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(h||u)&&(this.isLayoutDirty=!0),e){let p;const v=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=HU(v,250),hd.hasAnimatedSinceResize&&(hd.hasAnimatedSinceResize=!1,this.nodes.forEach(d1))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeTargetChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||f.getDefaultTransition()||cz,{onLayoutAnimationStart:S,onLayoutAnimationComplete:j}=f.getProps(),b=!this.targetLayout||!qP(this.targetLayout,w)||x,C=!v&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||v&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,C);const N={...ax(y,"layout"),onPlay:S,onComplete:j};(f.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else v||d1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,yi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sz),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(u1);return}this.isUpdating||this.nodes.forEach(tz),this.isUpdating=!1,this.nodes.forEach(nz),this.nodes.forEach(JU),this.nodes.forEach(YU),this.clearAllSnapshots();const c=performance.now();Jt.delta=ss(0,1e3/60,c-Jt.timestamp),Jt.timestamp=c,Jt.isProcessing=!0,Um.update.process(Jt),Um.preRender.process(Jt),Um.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ez),this.sharedNodes.forEach(oz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!ZP(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;l&&(c||Ms(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),uz(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Et();const c=l.measureViewportBox(),{scroll:u}=this.root;return u&&(Di(c.x,u.offset.x),Di(c.y,u.offset.y)),c}removeElementScroll(l){const c=Et();qn(c,l);for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:p}=h;if(h!==this.root&&f&&p.layoutScroll){if(f.isRoot){qn(c,l);const{scroll:v}=this.root;v&&(Di(c.x,-v.offset.x),Di(c.y,-v.offset.y))}Di(c.x,f.offset.x),Di(c.y,f.offset.y)}}return c}applyTransform(l,c=!1){const u=Et();qn(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Xo(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ms(f.latestValues)&&Xo(u,f.latestValues)}return Ms(this.latestValues)&&Xo(u,this.latestValues),u}removeTransform(l){const c=Et();qn(c,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Ms(h.latestValues))continue;Hg(h.latestValues)&&h.updateSnapshot();const f=Et(),p=h.measurePageBox();qn(f,p),i1(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return Ms(this.latestValues)&&i1(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Fl(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),UP(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Fl(this.relativeTargetOrigin,this.target,x.target),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Is.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Hg(this.parent.latestValues)||BP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;qn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;_U(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:w}=c;if(!w){this.projectionTransform&&(this.projectionDelta=Yo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Yo(),this.projectionDeltaWithTransform=Yo());const y=this.projectionTransform;$l(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=a1(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==v||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Is.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,c=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},p=Yo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=Et(),x=u?u.source:void 0,w=this.layout?this.layout.source:void 0,y=x!==w,S=this.getStack(),j=!S||S.members.length<=1,b=!!(y&&!j&&this.options.crossfade===!0&&!this.path.some(lz));this.animationProgress=0;let C;this.mixTargetDelta=N=>{const P=N/1e3;h1(p.x,l.x,P),h1(p.y,l.y,P),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fl(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),az(this.relativeTarget,this.relativeTargetOrigin,v,P),C&&BU(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Et()),qn(C,this.relativeTarget)),y&&(this.animationValues=f,OU(f,h,this.latestValues,P,b,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(yi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{hd.hasAnimatedSinceResize=!0,this.currentAnimation=ZU(0,c1,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(c1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:f}=l;if(!(!c||!u||!h)){if(this!==l&&this.layout&&h&&JP(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Et();const p=Bn(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+p;const v=Bn(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+v}qn(c,u),Xo(c,f),$l(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new UU),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(c=!0),!c)return;const h={};for(let f=0;f<l1.length;f++){const p="rotate"+l1[f];u[p]&&(h[p]=u[p],l.setStaticValue(p,0))}l.render();for(const f in h)l.setStaticValue(f,h[f]);l.scheduleRender()}getProjectionStyles(l){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qU;const h={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=dd(l==null?void 0:l.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=dd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ms(this.latestValues)&&(y.transform=f?f({},""):"none",this.hasProjected=!1),y}const v=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=a1(this.projectionDeltaWithTransform,this.treeScale,v),f&&(h.transform=f(v,h.transform));const{x,y:w}=this.projectionDelta;h.transformOrigin=`${x.origin*100}% ${w.origin*100}% 0`,p.animationValues?h.opacity=p===this?(u=(c=v.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const y in qd){if(v[y]===void 0)continue;const{correct:S,applyTo:j}=qd[y],b=h.transform==="none"?v[y]:S(v[y],p);if(j){const C=j.length;for(let N=0;N<C;N++)h[j[N]]=b}else h[y]=b}return this.options.layoutId&&(h.pointerEvents=p===this?dd(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(u1),this.root.sharedNodes.clear()}}}function JU(e){e.updateLayout()}function YU(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,l=n.source!==e.layout.source;o==="size"?Kn(p=>{const v=l?n.measuredBox[p]:n.layoutBox[p],x=Bn(v);v.min=r[p].min,v.max=v.min+x}):JP(o,n.layoutBox,r)&&Kn(p=>{const v=l?n.measuredBox[p]:n.layoutBox[p],x=Bn(r[p]);v.max=v.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+x)});const c=Yo();$l(c,r,n.layoutBox);const u=Yo();l?$l(u,e.applyTransform(i,!0),n.measuredBox):$l(u,r,n.layoutBox);const h=!ZP(c);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:v,layout:x}=p;if(v&&x){const w=Et();Fl(w,n.layoutBox,v.layoutBox);const y=Et();Fl(y,r,x.layoutBox),qP(w,y)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=w,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function XU(e){Is.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function QU(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ez(e){e.clearSnapshot()}function u1(e){e.clearMeasurements()}function tz(e){e.isLayoutDirty=!1}function nz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function d1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rz(e){e.resolveTargetDelta()}function iz(e){e.calcProjection()}function sz(e){e.resetRotation()}function oz(e){e.removeLeadSnapshot()}function h1(e,t,n){e.translate=dt(t.translate,0,n),e.scale=dt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function f1(e,t,n,r){e.min=dt(t.min,n.min,r),e.max=dt(t.max,n.max,r)}function az(e,t,n,r){f1(e.x,t.x,n.x,r),f1(e.y,t.y,n.y,r)}function lz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cz={duration:.45,ease:[.4,0,.1,1]},m1=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),p1=m1("applewebkit/")&&!m1("chrome/")?Math.round:vt;function g1(e){e.min=p1(e.min),e.max=p1(e.max)}function uz(e){g1(e.x),g1(e.y)}function JP(e,t,n){return e==="position"||e==="preserve-aspect"&&!zg(o1(t),o1(n),.2)}const dz=KP({attachResizeListener:(e,t)=>li(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xm={current:void 0},YP=KP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xm.current){const e=new dz({});e.mount(window),e.setOptions({layoutScroll:!0}),Xm.current=e}return Xm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),hz={pan:{Feature:PU},drag:{Feature:NU,ProjectionNode:YP,MeasureLayout:HP}},fz=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function mz(e){const t=fz.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Gg(e,t,n=1){const[r,i]=mz(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const l=o.trim();return LP(l)?parseFloat(l):l}else return Mg(i)?Gg(i,t,n+1):i}function pz(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const o=i.get();if(!Mg(o))return;const l=Gg(o,r);l&&i.set(l)});for(const i in t){const o=t[i];if(!Mg(o))continue;const l=Gg(o,r);l&&(t[i]=l,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:t,transitionEnd:n}}const gz=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),XP=e=>gz.has(e),vz=e=>Object.keys(e).some(XP),v1=e=>e===uo||e===Pe,y1=(e,t)=>parseFloat(e.split(", ")[t]),x1=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return y1(i[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?y1(o[1],e):0}},yz=new Set(["x","y","z"]),xz=Rc.filter(e=>!yz.has(e));function _z(e){const t=[];return xz.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ja={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:x1(4,13),y:x1(5,14)};ja.translateX=ja.x;ja.translateY=ja.y;const wz=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:l}=o,c={};l==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(h=>{c[h]=ja[h](r,o)}),t.render();const u=t.measureViewportBox();return n.forEach(h=>{const f=t.getValue(h);f&&f.jump(c[h]),e[h]=ja[h](u,o)}),e},bz=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(XP);let o=[],l=!1;const c=[];if(i.forEach(u=>{const h=e.getValue(u);if(!e.hasValue(u))return;let f=n[u],p=ml(f);const v=t[u];let x;if(Jd(v)){const w=v.length,y=v[0]===null?1:0;f=v[y],p=ml(f);for(let S=y;S<w&&v[S]!==null;S++)x?nx(ml(v[S])===x):x=ml(v[S])}else x=ml(v);if(p!==x)if(v1(p)&&v1(x)){const w=h.get();typeof w=="string"&&h.set(parseFloat(w)),typeof v=="string"?t[u]=parseFloat(v):Array.isArray(v)&&x===Pe&&(t[u]=v.map(parseFloat))}else p!=null&&p.transform&&(x!=null&&x.transform)&&(f===0||v===0)?f===0?h.set(x.transform(f)):t[u]=p.transform(v):(l||(o=_z(e),l=!0),c.push(u),r[u]=r[u]!==void 0?r[u]:t[u],h.jump(v))}),c.length){const u=c.indexOf("height")>=0?window.pageYOffset:null,h=wz(t,e,c);return o.length&&o.forEach(([f,p])=>{e.getValue(f).set(p)}),e.render(),Gh&&u!==null&&window.scrollTo({top:u}),{target:h,transitionEnd:r}}else return{target:t,transitionEnd:r}};function jz(e,t,n,r){return vz(t)?bz(e,t,n,r):{target:t,transitionEnd:r}}const Cz=(e,t,n,r)=>{const i=pz(e,t,r);return t=i.target,r=i.transitionEnd,jz(e,t,n,r)},Zg={current:null},QP={current:!1};function Sz(){if(QP.current=!0,!!Gh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zg.current=e.matches;e.addListener(t),t()}else Zg.current=!1}function Ez(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],l=n[i];if(Cn(o))e.addValue(i,o),eh(r)&&r.add(i);else if(Cn(l))e.addValue(i,ba(o,{owner:e})),eh(r)&&r.remove(i);else if(l!==o)if(e.hasValue(i)){const c=e.getValue(i);!c.hasAnimated&&c.set(o)}else{const c=e.getStaticValue(i);e.addValue(i,ba(c!==void 0?c:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const _1=new WeakMap,eT=Object.keys(fc),Nz=eT.length,w1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Pz=Zy.length;class Tz{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Qe.render(this.render,!1,!0);const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.isControllingVariants=qh(n),this.isVariantNode=$N(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{});for(const p in f){const v=f[p];c[p]!==void 0&&Cn(v)&&(v.set(c[p],!1),eh(h)&&h.add(p))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,_1.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),QP.current||Sz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_1.delete(this.current),this.projection&&this.projection.unmount(),yi(this.notifyUpdate),yi(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=co.has(t),i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Qe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,o){let l,c;for(let u=0;u<Nz;u++){const h=eT[u],{isEnabled:f,Feature:p,ProjectionNode:v,MeasureLayout:x}=fc[h];v&&(l=v),f(n)&&(!this.features[h]&&p&&(this.features[h]=new p(this)),x&&(c=x))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:h,drag:f,dragConstraints:p,layoutScroll:v,layoutRoot:x}=n;this.projection.setOptions({layoutId:u,layout:h,alwaysMeasureLayout:!!f||p&&Ko(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:o,layoutScroll:v,layoutRoot:x})}return c}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<w1.length;r++){const i=w1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Ez(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Pz;r++){const i=Zy[r],o=this.props[i];(hc(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ba(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=tx(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Cn(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new dx),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class tT extends Tz{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},o){let l=GB(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),l&&(l=i(l))),o){HB(this,r,l);const c=Cz(this,r,l,n);n=c.transitionEnd,r=c.target}return{transition:t,transitionEnd:n,...r}}}function Az(e){return window.getComputedStyle(e)}class kz extends tT{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(co.has(n)){const r=ox(n);return r&&r.default||0}else{const r=Az(t),i=(zN(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return zP(t,n)}build(t,n,r,i){Jy(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return ex(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Cn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){qN(t,n,r,i)}}class Rz extends tT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(co.has(n)){const r=ox(n);return r&&r.default||0}return n=KN.has(n)?n:Wy(n),t.getAttribute(n)}measureInstanceViewportBox(){return Et()}scrapeMotionValuesFromProps(t,n){return YN(t,n)}build(t,n,r,i){Xy(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){JN(t,n,r,i)}mount(t){this.isSVGTag=Qy(t.tagName),super.mount(t)}}const Lz=(e,t)=>Ky(e)?new Rz(t,{enableHardwareAcceleration:!1}):new kz(t,{enableHardwareAcceleration:!0}),Oz={layout:{ProjectionNode:YP,MeasureLayout:HP}},Mz={...aU,...NF,...hz,...Oz},de=I5((e,t)=>mF(e,t,Mz,Lz));function nT(){const e=m.useRef(!1);return Hy(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Iz(){const e=nT(),[t,n]=m.useState(0),r=m.useCallback(()=>{e.current&&n(t+1)},[t]);return[m.useCallback(()=>Qe.postRender(r),[r]),t]}class Dz extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function $z({children:e,isPresent:t}){const n=m.useId(),r=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=i.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),m.createElement(Dz,{isPresent:t,childRef:r,sizeRef:i},m.cloneElement(e,{ref:r}))}const Qm=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l})=>{const c=XN(Fz),u=m.useId(),h=m.useMemo(()=>({id:u,initial:t,isPresent:n,custom:i,onExitComplete:f=>{c.set(f,!0);for(const p of c.values())if(!p)return;r&&r()},register:f=>(c.set(f,!1),()=>c.delete(f))}),o?void 0:[n]);return m.useMemo(()=>{c.forEach((f,p)=>c.set(p,!1))},[n]),m.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),l==="popLayout"&&(e=m.createElement($z,{isPresent:n},e)),m.createElement(Wh.Provider,{value:h},e)};function Fz(){return new Map}function Bz(e){return m.useEffect(()=>()=>e(),[])}const Ds=e=>e.key||"";function Uz(e,t){e.forEach(n=>{const r=Ds(n);t.set(r,n)})}function zz(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const Lt=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:l="sync"})=>{const c=m.useContext(qy).forceRender||Iz()[0],u=nT(),h=zz(e);let f=h;const p=m.useRef(new Map).current,v=m.useRef(f),x=m.useRef(new Map).current,w=m.useRef(!0);if(Hy(()=>{w.current=!1,Uz(h,x),v.current=f}),Bz(()=>{w.current=!0,x.clear(),p.clear()}),w.current)return m.createElement(m.Fragment,null,f.map(b=>m.createElement(Qm,{key:Ds(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:l},b)));f=[...f];const y=v.current.map(Ds),S=h.map(Ds),j=y.length;for(let b=0;b<j;b++){const C=y[b];S.indexOf(C)===-1&&!p.has(C)&&p.set(C,void 0)}return l==="wait"&&p.size&&(f=[]),p.forEach((b,C)=>{if(S.indexOf(C)!==-1)return;const N=x.get(C);if(!N)return;const P=y.indexOf(C);let A=b;if(!A){const T=()=>{p.delete(C);const I=Array.from(x.keys()).filter(M=>!S.includes(M));if(I.forEach(M=>x.delete(M)),v.current=h.filter(M=>{const U=Ds(M);return U===C||I.includes(U)}),!p.size){if(u.current===!1)return;c(),r&&r()}};A=m.createElement(Qm,{key:Ds(N),isPresent:!1,onExitComplete:T,custom:t,presenceAffectsLayout:o,mode:l},N),p.set(C,A)}f.splice(P,0,A)}),f=f.map(b=>{const C=b.key;return p.has(C)?b:m.createElement(Qm,{key:Ds(b),isPresent:!0,presenceAffectsLayout:o,mode:l},b)}),m.createElement(m.Fragment,null,p.size?f:f.map(b=>m.cloneElement(b)))},hx=Vh("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=se.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const l=r?k3:"button";return s.jsx(l,{className:ce(hx({variant:t,size:n,className:e})),ref:o,...i})});ee.displayName="Button";const Vz="modulepreload",Hz=function(e){return"/ALJ_Jonage_Escalade/"+e},b1={},Ic=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Hz(o),o in b1)return;b1[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const p=i[f];if(p.href===o&&(!l||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":Vz,l||(h.as="script",h.crossOrigin=""),h.href=o,document.head.appendChild(h),l)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},Wz=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ic(()=>Promise.resolve().then(()=>$c),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class fx extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class j1 extends fx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class C1 extends fx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class S1 extends fx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qg||(qg={}));var Gz=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};class Zz{constructor(t,{headers:n={},customFetch:r,region:i=qg.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Wz(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Gz(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:h}=n;h||(h=this.region);const f=new URL(`${this.url}/${t}`);h&&h!=="any"&&(u["x-region"]=h,f.searchParams.set("forceFunctionRegion",h));let p;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(u["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(u["Content-Type"]="application/json",p=JSON.stringify(l)));const v=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:p,signal:c}).catch(S=>{throw S.name==="AbortError"?S:new j1(S)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new C1(v);if(!v.ok)throw new S1(v);let w=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return w==="application/json"?y=yield v.json():w==="application/octet-stream"?y=yield v.blob():w==="text/event-stream"?y=v:w==="multipart/form-data"?y=yield v.formData():y=yield v.text(),{data:y,error:null,response:v}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new j1(i)}:{data:null,error:i,response:i instanceof S1||i instanceof C1?i.context:void 0}}})}}var yn={},mx={},Xh={},Dc={},Qh={},ef={},qz=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ca=qz();const Kz=Ca.fetch,Jz=Ca.fetch.bind(Ca),Yz=Ca.Headers,Xz=Ca.Request,Qz=Ca.Response,$c=Object.freeze(Object.defineProperty({__proto__:null,Headers:Yz,Request:Xz,Response:Qz,default:Jz,fetch:Kz},Symbol.toStringTag,{value:"Module"})),e6=tM($c);var tf={};Object.defineProperty(tf,"__esModule",{value:!0});let t6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};tf.default=t6;var rT=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ef,"__esModule",{value:!0});const n6=rT(e6),r6=rT(tf);let i6=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=n6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var l,c,u,h;let f=null,p=null,v=null,x=o.status,w=o.statusText;if(o.ok){if(this.method!=="HEAD"){const b=await o.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?p=b:p=JSON.parse(b))}const S=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),j=(u=o.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");S&&j&&j.length>1&&(v=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,x=406,w="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const S=await o.text();try{f=JSON.parse(S),Array.isArray(f)&&o.status===404&&(p=[],f=null,x=200,w="OK")}catch{o.status===404&&S===""?(x=204,w="No Content"):f={message:S}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,x=200,w="OK"),f&&this.shouldThrowOnError)throw new r6.default(f)}return{error:f,data:p,count:v,status:x,statusText:w}});return this.shouldThrowOnError||(i=i.catch(o=>{var l,c,u;return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(c=o==null?void 0:o.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(u=o==null?void 0:o.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};ef.default=i6;var s6=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qh,"__esModule",{value:!0});const o6=s6(ef);let a6=class extends o6.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:l="text"}={}){var c;const u=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${u};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Qh.default=a6;var l6=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dc,"__esModule",{value:!0});const c6=l6(Qh);let u6=class extends c6.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${l}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Dc.default=u6;var d6=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xh,"__esModule",{value:!0});const gl=d6(Dc);let h6=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),r&&this.headers.append("Prefer",`count=${r}`),new gl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new gl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new gl.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new gl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new gl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Xh.default=h6;var iT=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mx,"__esModule",{value:!0});const f6=iT(Xh),m6=iT(Dc);let p6=class sT{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new f6.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new sT(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var l;let c;const u=new URL(`${this.url}/rpc/${t}`);let h;r||i?(c=r?"HEAD":"GET",Object.entries(n).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{u.searchParams.append(p,v)})):(c="POST",h=n);const f=new Headers(this.headers);return o&&f.set("Prefer",`count=${o}`),new m6.default({method:c,url:u,headers:f,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};mx.default=p6;var Da=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yn,"__esModule",{value:!0});yn.PostgrestError=yn.PostgrestBuilder=yn.PostgrestTransformBuilder=yn.PostgrestFilterBuilder=yn.PostgrestQueryBuilder=yn.PostgrestClient=void 0;const oT=Da(mx);yn.PostgrestClient=oT.default;const aT=Da(Xh);yn.PostgrestQueryBuilder=aT.default;const lT=Da(Dc);yn.PostgrestFilterBuilder=lT.default;const cT=Da(Qh);yn.PostgrestTransformBuilder=cT.default;const uT=Da(ef);yn.PostgrestBuilder=uT.default;const dT=Da(tf);yn.PostgrestError=dT.default;var g6=yn.default={PostgrestClient:oT.default,PostgrestQueryBuilder:aT.default,PostgrestFilterBuilder:lT.default,PostgrestTransformBuilder:cT.default,PostgrestBuilder:uT.default,PostgrestError:dT.default};const{PostgrestClient:v6,PostgrestQueryBuilder:uY,PostgrestFilterBuilder:dY,PostgrestTransformBuilder:hY,PostgrestBuilder:fY,PostgrestError:mY}=g6;class y6{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const x6="2.15.6",_6=`realtime-js/${x6}`,w6="1.0.0",Kg=1e4,b6=1e3,j6=100;var Bl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bl||(Bl={}));var At;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(At||(At={}));var fr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(fr||(fr={}));var Jg;(function(e){e.websocket="websocket"})(Jg||(Jg={}));var $s;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})($s||($s={}));class C6{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(t.slice(l,l+i));l=l+i;const u=r.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:u,payload:h}}}class hT{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Je||(Je={}));const E1=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=S6(l,e,t,i),o),{}):{}},S6=(e,t,n,r)=>{const i=t.find(c=>c.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?fT(o,l):Yg(l)},fT=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return T6(t,n)}switch(e){case Je.bool:return E6(t);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return N6(t);case Je.json:case Je.jsonb:return P6(t);case Je.timestamp:return A6(t);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return Yg(t);default:return Yg(t)}},Yg=e=>e,E6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},N6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},P6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},T6=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>fT(t,c))}return e},A6=e=>typeof e=="string"?e.replace(" ","T"):e,mT=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class ep{constructor(t,n,r={},i=Kg){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var N1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(N1||(N1={}));class Ul{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ul.syncState(this.state,i,o,l),this.pendingDiffs.forEach(u=>{this.state=Ul.syncDiff(this.state,u,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ul.syncDiff(this.state,i,o,l),c())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),c={},u={};return this.map(o,(h,f)=>{l[h]||(u[h]=f)}),this.map(l,(h,f)=>{const p=o[h];if(p){const v=f.map(S=>S.presence_ref),x=p.map(S=>S.presence_ref),w=f.filter(S=>x.indexOf(S.presence_ref)<0),y=p.filter(S=>v.indexOf(S.presence_ref)<0);w.length>0&&(c[h]=w),y.length>0&&(u[h]=y)}else c[h]=f}),this.syncDiff(o,{joins:c,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(c,u)=>{var h;const f=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(u),f.length>0){const p=t[c].map(x=>x.presence_ref),v=f.filter(x=>p.indexOf(x.presence_ref)<0);t[c].unshift(...v)}r(c,f,u)}),this.map(l,(c,u)=>{let h=t[c];if(!h)return;const f=u.map(p=>p.presence_ref);h=h.filter(p=>f.indexOf(p.presence_ref)<0),t[c]=h,i(c,h,u),h.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var P1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(P1||(P1={}));var zl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zl||(zl={}));var ri;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ri||(ri={}));class px{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ep(this,fr.join,this.params,this.timeout),this.rejoinTimer=new hT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fr.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Ul(this),this.broadcastEndpointURL=mT(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==At.closed){const{config:{broadcast:l,presence:c,private:u}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[zl.PRESENCE]&&this.bindings[zl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},v={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:f}),postgres_changes:h,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(ri.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(ri.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var w;if(this.socket.setAuth(),x===void 0){t==null||t(ri.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,S=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,j=[];for(let b=0;b<S;b++){const C=y[b],{filter:{event:N,schema:P,table:A,filter:T}}=C,I=x&&x[b];if(I&&I.event===N&&I.schema===P&&I.table===A&&I.filter===T)j.push(Object.assign(Object.assign({},C),{id:I.id}));else{this.unsubscribe(),this.state=At.errored,t==null||t(ri.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(ri.SUBSCRIBED);return}}).receive("error",x=>{this.state=At.errored,t==null||t(ri.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ri.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===At.joined&&t===zl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,u;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=At.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ep(this,fr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=At.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ep(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>j6){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:c,error:u,leave:h,join:f}=fr;if(r&&[c,u,h,f].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var w,y,S;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(y=x.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(x=>x.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(x=>{var w,y,S,j,b,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const N=x.id,P=(w=x.filter)===null||w===void 0?void 0:w.event;return N&&((y=n.ids)===null||y===void 0?void 0:y.includes(N))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const N=(b=(j=x==null?void 0:x.filter)===null||j===void 0?void 0:j.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return N==="*"||N===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:y,table:S,commit_timestamp:j,type:b,errors:C}=w;v=Object.assign(Object.assign({},{schema:y,table:S,commit_timestamp:j,eventType:b,new:{},old:{},errors:C}),this._getPayloadRecords(w))}x.callback(v,r)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&px.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fr.close,{},t)}_onError(t){this._on(fr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=E1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=E1(t.columns,t.old_record)),n}}const tp=()=>{},Mu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},k6=[1e3,2e3,5e3,1e4],R6=1e4,L6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class O6{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kg,this.transport=null,this.heartbeatIntervalMs=Mu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tp,this.ref=0,this.reconnectTimer=null,this.logger=tp,this.conn=null,this.sendBuffer=[],this.serializer=new C6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Ic(()=>Promise.resolve().then(()=>$c),void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Jg.websocket}`,this.httpEndpoint=mT(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=y6.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:w6}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bl.connecting:return $s.Connecting;case Bl.open:return $s.Open;case Bl.closing:return $s.Closing;default:return $s.Closed}}isConnected(){return this.connectionState()===$s.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new px(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(b6,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Mu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,c=l?`(${l})`:"",u=o.status||"";this.log("receive",`${u} ${r} ${i} ${c}`.trim(),o),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(fr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([L6],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:_6};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(fr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new hT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,c,u,h,f;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Kg,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Mu.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:tp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:p=>k6[p-1]||R6,this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(p,v)=>v(JSON.stringify(p)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class gx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Nt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class M6 extends gx{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xg extends gx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var I6=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};const pT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ic(()=>Promise.resolve().then(()=>$c),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},D6=()=>I6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ic(()=>Promise.resolve().then(()=>$c),void 0)).Response:Response}),Qg=e=>{if(Array.isArray(e))return e.map(n=>Qg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Qg(r)}),t},$6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ho=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};const np=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),F6=(e,t,n)=>ho(void 0,void 0,void 0,function*(){const r=yield D6();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new M6(np(i),o,l))}).catch(i=>{t(new Xg(np(i),i))}):t(new Xg(np(e),e))}),B6=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:($6(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Fc(e,t,n,r,i,o){return ho(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(n,B6(t,r,i,o)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>l(u)).catch(u=>F6(u,c,r))})})}function nh(e,t,n,r){return ho(this,void 0,void 0,function*(){return Fc(e,"GET",t,n,r)})}function Lr(e,t,n,r,i){return ho(this,void 0,void 0,function*(){return Fc(e,"POST",t,r,i,n)})}function ev(e,t,n,r,i){return ho(this,void 0,void 0,function*(){return Fc(e,"PUT",t,r,i,n)})}function U6(e,t,n,r){return ho(this,void 0,void 0,function*(){return Fc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function gT(e,t,n,r,i){return ho(this,void 0,void 0,function*(){return Fc(e,"DELETE",t,r,i,n)})}var z6=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};class V6{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return z6(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Nt(t))return{data:null,error:t};throw t}})}}var H6=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};class W6{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new V6(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return H6(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Nt(t))return{data:null,error:t};throw t}})}}var mn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};const G6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Z6{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=pT(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return mn(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},T1),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const u=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),u&&o.append("metadata",this.encodeMetadata(u)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),u&&o.append("metadata",this.encodeMetadata(u))):(o=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const h=this._removeEmptyFolders(n),f=this._getFinalPath(h),p=yield(t=="PUT"?ev:Lr)(this.fetch,`${this.url}/object/${f}`,o,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Nt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return mn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return mn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let u;const h=Object.assign({upsert:T1.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",h.cacheControl)):(u=r,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const p=yield ev(this.fetch,c.toString(),u,{headers:f});return{data:{path:o,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Nt(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return mn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Lr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new gx("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}update(t,n,r){return mn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return mn(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return mn(this,void 0,void 0,function*(){try{return{data:{path:(yield Lr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return mn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Lr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return mn(this,void 0,void 0,function*(){try{const i=yield Lr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",c=this._getFinalPath(t),u=()=>nh(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new W6(u,this.shouldThrowOnError)}info(t){return mn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield nh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qg(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}exists(t){return mn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield U6(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r)&&r instanceof Xg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${h}`)}}}remove(t){return mn(this,void 0,void 0,function*(){try{return{data:yield gT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}list(t,n,r){return mn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},G6),n),{prefix:t||""});return{data:yield Lr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nt(i))return{data:null,error:i};throw i}})}listV2(t,n){return mn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Lr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const q6="2.12.2",K6={"X-Client-Info":`storage-js/${q6}`};var Po=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};class J6{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},K6),n),this.fetch=pT(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Po(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Nt(t))return{data:null,error:t};throw t}})}getBucket(t){return Po(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Po(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Po(this,void 0,void 0,function*(){try{return{data:yield ev(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Po(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Po(this,void 0,void 0,function*(){try{return{data:yield gT(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}})}}class Y6 extends J6{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new Z6(this.url,this.headers,t,this.fetch)}}const X6="2.30.0",Q6={"X-Client-Info":`supabase-js/${X6}`};var tv={exports:{}};(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof zt<"u"&&zt,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(l){var c=typeof o<"u"&&o||typeof self<"u"&&self||typeof zt<"u"&&zt||{},u={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function h(k){return k&&DataView.prototype.isPrototypeOf(k)}if(u.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(k){return k&&f.indexOf(Object.prototype.toString.call(k))>-1};function v(k){if(typeof k!="string"&&(k=String(k)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(k)||k==="")throw new TypeError('Invalid character in header field name: "'+k+'"');return k.toLowerCase()}function x(k){return typeof k!="string"&&(k=String(k)),k}function w(k){var O={next:function(){var F=k.shift();return{done:F===void 0,value:F}}};return u.iterable&&(O[Symbol.iterator]=function(){return O}),O}function y(k){this.map={},k instanceof y?k.forEach(function(O,F){this.append(F,O)},this):Array.isArray(k)?k.forEach(function(O){if(O.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+O.length);this.append(O[0],O[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(O){this.append(O,k[O])},this)}y.prototype.append=function(k,O){k=v(k),O=x(O);var F=this.map[k];this.map[k]=F?F+", "+O:O},y.prototype.delete=function(k){delete this.map[v(k)]},y.prototype.get=function(k){return k=v(k),this.has(k)?this.map[k]:null},y.prototype.has=function(k){return this.map.hasOwnProperty(v(k))},y.prototype.set=function(k,O){this.map[v(k)]=x(O)},y.prototype.forEach=function(k,O){for(var F in this.map)this.map.hasOwnProperty(F)&&k.call(O,this.map[F],F,this)},y.prototype.keys=function(){var k=[];return this.forEach(function(O,F){k.push(F)}),w(k)},y.prototype.values=function(){var k=[];return this.forEach(function(O){k.push(O)}),w(k)},y.prototype.entries=function(){var k=[];return this.forEach(function(O,F){k.push([F,O])}),w(k)},u.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function S(k){if(!k._noBody){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}}function j(k){return new Promise(function(O,F){k.onload=function(){O(k.result)},k.onerror=function(){F(k.error)}})}function b(k){var O=new FileReader,F=j(O);return O.readAsArrayBuffer(k),F}function C(k){var O=new FileReader,F=j(O),D=/charset=([A-Za-z0-9_-]+)/.exec(k.type),H=D?D[1]:"utf-8";return O.readAsText(k,H),F}function N(k){for(var O=new Uint8Array(k),F=new Array(O.length),D=0;D<O.length;D++)F[D]=String.fromCharCode(O[D]);return F.join("")}function P(k){if(k.slice)return k.slice(0);var O=new Uint8Array(k.byteLength);return O.set(new Uint8Array(k)),O.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(k){this.bodyUsed=this.bodyUsed,this._bodyInit=k,k?typeof k=="string"?this._bodyText=k:u.blob&&Blob.prototype.isPrototypeOf(k)?this._bodyBlob=k:u.formData&&FormData.prototype.isPrototypeOf(k)?this._bodyFormData=k:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)?this._bodyText=k.toString():u.arrayBuffer&&u.blob&&h(k)?(this._bodyArrayBuffer=P(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(k)||p(k))?this._bodyArrayBuffer=P(k):this._bodyText=k=Object.prototype.toString.call(k):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof k=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var k=S(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var k=S(this);return k||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var k=S(this);if(k)return k;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(N(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}var T=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function I(k){var O=k.toUpperCase();return T.indexOf(O)>-1?O:k}function M(k,O){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O=O||{};var F=O.body;if(k instanceof M){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,O.headers||(this.headers=new y(k.headers)),this.method=k.method,this.mode=k.mode,this.signal=k.signal,!F&&k._bodyInit!=null&&(F=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new y(O.headers)),this.method=I(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal||function(){if("AbortController"in c){var W=new AbortController;return W.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&F)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(F),(this.method==="GET"||this.method==="HEAD")&&(O.cache==="no-store"||O.cache==="no-cache")){var D=/([?&])_=[^&]*/;if(D.test(this.url))this.url=this.url.replace(D,"$1_="+new Date().getTime());else{var H=/\?/;this.url+=(H.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function U(k){var O=new FormData;return k.trim().split("&").forEach(function(F){if(F){var D=F.split("="),H=D.shift().replace(/\+/g," "),W=D.join("=").replace(/\+/g," ");O.append(decodeURIComponent(H),decodeURIComponent(W))}}),O}function G(k){var O=new y,F=k.replace(/\r?\n[\t ]+/g," ");return F.split("\r").map(function(D){return D.indexOf(`
`)===0?D.substr(1,D.length):D}).forEach(function(D){var H=D.split(":"),W=H.shift().trim();if(W){var Q=H.join(":").trim();try{O.append(W,Q)}catch(B){console.warn("Response "+B.message)}}}),O}A.call(M.prototype);function z(k,O){if(!(this instanceof z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=O.statusText===void 0?"":""+O.statusText,this.headers=new y(O.headers),this.url=O.url||"",this._initBody(k)}A.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},z.error=function(){var k=new z(null,{status:200,statusText:""});return k.ok=!1,k.status=0,k.type="error",k};var J=[301,302,303,307,308];z.redirect=function(k,O){if(J.indexOf(O)===-1)throw new RangeError("Invalid status code");return new z(null,{status:O,headers:{location:k}})},l.DOMException=c.DOMException;try{new l.DOMException}catch{l.DOMException=function(O,F){this.message=O,this.name=F;var D=Error(O);this.stack=D.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function $(k,O){return new Promise(function(F,D){var H=new M(k,O);if(H.signal&&H.signal.aborted)return D(new l.DOMException("Aborted","AbortError"));var W=new XMLHttpRequest;function Q(){W.abort()}W.onload=function(){var Z={statusText:W.statusText,headers:G(W.getAllResponseHeaders()||"")};H.url.indexOf("file://")===0&&(W.status<200||W.status>599)?Z.status=200:Z.status=W.status,Z.url="responseURL"in W?W.responseURL:Z.headers.get("X-Request-URL");var X="response"in W?W.response:W.responseText;setTimeout(function(){F(new z(X,Z))},0)},W.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},W.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request timed out"))},0)},W.onabort=function(){setTimeout(function(){D(new l.DOMException("Aborted","AbortError"))},0)};function B(Z){try{return Z===""&&c.location.href?c.location.href:Z}catch{return Z}}if(W.open(H.method,B(H.url),!0),H.credentials==="include"?W.withCredentials=!0:H.credentials==="omit"&&(W.withCredentials=!1),"responseType"in W&&(u.blob?W.responseType="blob":u.arrayBuffer&&(W.responseType="arraybuffer")),O&&typeof O.headers=="object"&&!(O.headers instanceof y||c.Headers&&O.headers instanceof c.Headers)){var q=[];Object.getOwnPropertyNames(O.headers).forEach(function(Z){q.push(v(Z)),W.setRequestHeader(Z,x(O.headers[Z]))}),H.headers.forEach(function(Z,X){q.indexOf(X)===-1&&W.setRequestHeader(X,Z)})}else H.headers.forEach(function(Z,X){W.setRequestHeader(X,Z)});H.signal&&(H.signal.addEventListener("abort",Q),W.onreadystatechange=function(){W.readyState===4&&H.signal.removeEventListener("abort",Q)}),W.send(typeof H._bodyInit>"u"?null:H._bodyInit)})}return $.polyfill=!0,c.fetch||(c.fetch=$,c.Headers=y,c.Request=M,c.Response=z),l.Headers=y,l.Request=M,l.Response=z,l.fetch=$,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(tv,tv.exports);var vx=tv.exports;const vT=ms(vx),e8=eC({__proto__:null,default:vT},[vx]);var t8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};const n8=e=>{let t;return e?t=e:typeof fetch>"u"?t=vT:t=fetch,(...n)=>t(...n)},r8=()=>typeof Headers>"u"?vx.Headers:Headers,i8=(e,t,n)=>{const r=n8(n),i=r8();return(o,l)=>t8(void 0,void 0,void 0,function*(){var c;const u=(c=yield t())!==null&&c!==void 0?c:e;let h=new i(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),r(o,Object.assign(Object.assign({},l),{headers:h}))})};function s8(e){return e.replace(/\/$/,"")}function o8(e,t){const{db:n,auth:r,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:h}=t;return{db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign({},h),o)}}function a8(e){return Math.round(Date.now()/1e3)+e}function l8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ti=()=>typeof document<"u",ks={tested:!1,writable:!1},fd=()=>{if(!ti())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ks.tested)return ks.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ks.tested=!0,ks.writable=!0}catch{ks.tested=!0,ks.writable=!1}return ks.writable};function pn(e,t){var n;t||(t=((n=window==null?void 0:window.location)===null||n===void 0?void 0:n.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const yT=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...n)=>await(await Ic(()=>Promise.resolve().then(()=>e8),void 0)).fetch(...n):t=fetch,(...n)=>t(...n)},c8=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Iu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},rp=async(e,t)=>{await e.removeItem(t)};function u8(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,o,l,c,u,h,f=0;for(e=e.replace("-","+").replace("_","/");f<e.length;)l=t.indexOf(e.charAt(f++)),c=t.indexOf(e.charAt(f++)),u=t.indexOf(e.charAt(f++)),h=t.indexOf(e.charAt(f++)),r=l<<2|c>>4,i=(c&15)<<4|u>>2,o=(u&3)<<6|h,n=n+String.fromCharCode(r),u!=64&&i!=0&&(n=n+String.fromCharCode(i)),h!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}class nf{constructor(){this.promise=new nf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}nf.promiseConstructor=Promise;function A1(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(u8(r))}function d8(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function h8(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function f8(e){return("0"+e.toString(16)).substr(-2)}function Du(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,f8).join("")}async function m8(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}function p8(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $u(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await m8(e);return p8(t)}const g8="__stack_guard__",v8="__",y8=/__stack_guard__([a-zA-Z0-9_-]+)__/;let k1=!1,yx;function nv(e){var t,n;yx();let r;try{throw new Error}catch(o){r=o}const i=(n=(t=r.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&n!==void 0?n:[];for(let o=0;o<i.length;o+=1){const c=i[o].match(y8);if(c&&c[1]===e)return!0}return!1}async function rv(e,t){await yx();const n=`${g8}${e}${v8}`;return await{[n]:async()=>await t()}[n]()}yx=async()=>{k1||(k1=!0,await rv("ENV_CHECK",async()=>{const e=nv("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class xx extends Error{constructor(t,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class x8 extends xx{constructor(t,n){super(t,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function _8(e){return Be(e)&&e.name==="AuthApiError"}class xT extends xx{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class $a extends xx{constructor(t,n,r){super(t),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class To extends $a{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class ip extends $a{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Fu extends $a{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class ei extends $a{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sp extends $a{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class iv extends $a{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}function R1(e){return Be(e)&&e.name==="AuthRetryableFetchError"}var w8=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Sl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),b8=[502,503,504];async function L1(e){if(!c8(e))throw new iv(Sl(e),0);if(b8.includes(e.status))throw new iv(Sl(e),e.status);let t;try{t=await e.json()}catch(n){throw new xT(Sl(n),n)}throw new x8(Sl(t),e.status||500)}const j8=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function He(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",u=await C8(e,t,n+c,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function C8(e,t,n,r,i,o){const l=j8(t,r,i,o);let c;try{c=await e(n,l)}catch(u){throw console.error(u),new iv(Sl(u),0)}if(c.ok||await L1(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(u){await L1(u)}}function Ai(e){var t;let n=null;P8(e)&&(n=Object.assign({},e),n.expires_at=a8(e.expires_in));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Fs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function S8(e){return{data:e,error:null}}function E8(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=w8(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},u=Object.assign({},l);return{data:{properties:c,user:u},error:null}}function N8(e){return e}function P8(e){return e.access_token&&e.refresh_token&&e.expires_in}var T8=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class A8{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=yT(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=T8(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:E8,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,c,u;try{const h={nextPage:null,lastPage:0,total:0},f=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:N8});if(f.error)throw f.error;const p=await f.json(),v=(l=f.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);h[`${S}Page`]=y}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Be(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await He(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Fs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await He(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}}const k8="2.43.1",R8="http://localhost:9999",L8="supabase.auth.token",O8={"X-Client-Info":`gotrue-js/${k8}`},O1=10,M1={getItem:e=>fd()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{fd()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{fd()&&globalThis.localStorage.removeItem(e)}};function M8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}M8();const I8={url:R8,storageKey:L8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:O8,flowType:"implicit",debug:!1},Bu=30*1e3,I1=3;class pc{constructor(t){var n;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=pc.nextInstanceID,pc.nextInstanceID+=1,this.instanceID>0&&ti()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},I8),t);if(this.logDebugMessages=r.debug,this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||M1,this.admin=new A8({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=yT(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===M1&&!fd()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),ti()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=rv("_initialize",async()=>{try{const t=ti()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromUrl(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),await this._removeSession(),{error:r};const{session:i,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Be(t)?{error:t}:{error:new xT("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var n,r,i;try{await this._removeSession();let o;if("email"in t){const{email:f,password:p,options:v}=t;let x=null,w=null;if(this.flowType==="pkce"){const y=Du();await vl(this.storage,`${this.storageKey}-code-verifier`,y),x=await $u(y),w=y===x?"plain":"s256"}o=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:f,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:x,code_challenge_method:w},xform:Ai})}else if("phone"in t){const{phone:f,password:p,options:v}=t;o=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Ai})}else throw new Fu("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const u=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{await this._removeSession();let n;if("email"in t){const{email:o,password:l,options:c}=t;n=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Ai})}else if("phone"in t){const{phone:o,password:l,options:c}=t;n=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Ai})}else throw new Fu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ip}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:{user:r.user,session:r.session},error:i})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){const n=await Iu(this.storage,`${this.storageKey}-code-verifier`),{data:r,error:i}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ai});return await rp(this.storage,`${this.storageKey}-code-verifier`),i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ip}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:i})}async signInWithIdToken(t){await this._removeSession();try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,c=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ai}),{data:u,error:h}=c;return h?{data:{user:null,session:null},error:h}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new ip}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:h})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if(await this._removeSession(),"email"in t){const{email:c,options:u}=t;let h=null,f=null;if(this.flowType==="pkce"){const v=Du();await vl(this.storage,`${this.storageKey}-code-verifier`,v),h=await $u(v),f=v===h?"plain":"s256"}const{error:p}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:c,options:u}=t,{data:h,error:f}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(o=u==null?void 0:u.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(l=u==null?void 0:u.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f}}throw new Fu("You must provide either an email or phone number.")}catch(c){if(Be(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:i,error:o}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(n=t.options)===null||n===void 0?void 0:n.captchaToken}}),redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,xform:Ai});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Be(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{return await this._removeSession(),await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:S8})}catch(o){if(Be(o))return{data:null,error:o};throw o}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new To;const{error:i}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await He(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:c}=await He(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Fu("You must provide either an email or phone number and a type")}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await rv("_useSession",async()=>{const n=await this.__loadSession();return await t(n)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!nv("_useSession"))throw new Error("Please use #_useSession()");nv("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const o=await Iu(this.storage,this.storageKey);this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?t=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n)return{data:{session:t},error:null};const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async n=>{var r,i;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0}return await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fs})})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new To;const l=i.session,{data:c,error:u}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:t,jwt:l.access_token,xform:Fs});if(u)throw u;return l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return A1(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new To;const n=Date.now()/1e3;let r=n,i=!0,o=null;const l=A1(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{session:c,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:u}=await this.getUser(t.access_token);if(u)throw u;o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Be(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new To;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromUrl(t){try{if(!ti())throw new ei("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ei("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new sp("Not a valid PKCE flow url.");if(t){const S=pn("code");if(!S)throw new sp("No code detected.");const{data:j,error:b}=await this.exchangeCodeForSession(S);if(b)throw b;if(!j.session)throw new sp("No session detected.");let C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:j.session,redirectType:null},error:null}}const n=pn("error_description");if(n){const S=pn("error_code");if(!S)throw new ei("No error_code detected.");const j=pn("error");throw j?new ei(n,{error:j,code:S}):new ei("No error detected.")}const r=pn("provider_token"),i=pn("provider_refresh_token"),o=pn("access_token");if(!o)throw new ei("No access_token detected.");const l=pn("expires_in");if(!l)throw new ei("No expires_in detected.");const c=pn("refresh_token");if(!c)throw new ei("No refresh_token detected.");const u=pn("token_type");if(!u)throw new ei("No token_type detected.");const f=Math.round(Date.now()/1e3)+parseInt(l),{data:p,error:v}=await this.getUser(o);if(v)throw v;const x=p.user,w={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:parseInt(l),expires_at:f,refresh_token:c,token_type:u,user:x},y=pn("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:w,redirectType:y},error:null}}catch(n){if(Be(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){return ti()&&(!!pn("access_token")||!!pn("error_description"))}async _isPKCEFlow(){const t=await Iu(this.storage,`${this.storageKey}-code-verifier`);return!!pn("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(_8(c)&&(c.status===404||c.status===401)))return{error:c}}return t!=="others"&&(await this._removeSession(),await rp(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const n=l8(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),this._emitInitialSession(n),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;if(this.flowType==="pkce"){const o=Du();await vl(this.storage,`${this.storageKey}-code-verifier`,o),r=await $u(o),i=o===r?"plain":"s256"}try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Be(o))return{data:null,error:o};throw o}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await h8(async i=>(await d8(i*200),this._debug(n,"refreshing attempt",i),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ai})),(i,o,l)=>l&&l.error&&R1(l.error)&&Date.now()+(i+1)*200-r<Bu)}catch(r){if(this._debug(n,"error",r),Be(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ti()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Iu(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<i+O1;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${O1}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),R1(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new To;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new nf;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new To;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(i,"error",o),Be(o)){const l={session:null,error:o};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(u){o.push(u)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),vl(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await rp(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ti()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Bu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bu}ms, refresh threshold is ${I1} ticks`),i<=I1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ti()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n){const r=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const i=Du();await vl(this.storage,`${this.storageKey}-code-verifier`,i);const o=await $u(i),l=i===o?"plain":"s256";this._debug("PKCE","code verifier",`${i.substring(0,5)}...`,"code challenge",o,"method",l);const c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});r.push(c.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return`${this.url}/authorize?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await He(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const{data:c,error:u}=await He(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _verify(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:c}=await He(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _challenge(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await He(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified");return{data:{all:r,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(i.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:f},error:null}})}}pc.nextInstanceID=0;class D8 extends pc{constructor(t){super(t)}}var $8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};const F8={headers:Q6},B8={schema:"public"},U8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},z8={};class V8{constructor(t,n,r){var i,o,l,c,u,h,f,p;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const v=s8(t);this.realtimeUrl=`${v}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${v}/auth/v1`,this.storageUrl=`${v}/storage/v1`,this.functionsUrl=`${v}/functions/v1`;const x=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:B8,realtime:z8,auth:Object.assign(Object.assign({},U8),{storageKey:x}),global:F8},y=o8(r??{},w);this.storageKey=(o=(i=y.auth)===null||i===void 0?void 0:i.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=(l=y.global)===null||l===void 0?void 0:l.headers)!==null&&c!==void 0?c:{},this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,(h=y.global)===null||h===void 0?void 0:h.fetch),this.fetch=i8(n,this._getAccessToken.bind(this),(f=y.global)===null||f===void 0?void 0:f.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},y.realtime)),this.rest=new v6(`${v}/rest/v1`,{headers:this.headers,schema:(p=y.db)===null||p===void 0?void 0:p.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Zz(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Y6(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return $8(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:l,debug:c},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new D8({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:l,debug:c,fetch:h})}_initRealtimeClient(t){return new O6(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const H8=(e,t,n)=>new V8(e,t,n),W8="https://hvugiirundpxynozxxnd.supabase.co",G8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh2dWdpaXJ1bmRweHlub3p4eG5kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkyNTM0NjYsImV4cCI6MjA3NDgyOTQ2Nn0.aEH6Lp5B8qceXfY-uLIPJJYoE-ecUq78beLBcyD-bww",te=H8(W8,G8),_T=m.createContext(void 0),Z8=({children:e})=>{const{toast:t}=et(),[n,r]=m.useState(null),[i,o]=m.useState(null),[l,c]=m.useState(!0),[u,h]=m.useState(null),f=m.useCallback(async j=>{try{o(j);const b=(j==null?void 0:j.user)??null;if(r(b),b)try{const{data:C,error:N}=await te.from("profiles").select("role, member_id, members(id, first_name, last_name)").eq("id",b.id).single();N&&N.code!=="PGRST116"?(console.error("Error fetching user profile:",N),h(null)):h(C)}catch(C){console.error("Error in profile fetch:",C),h(null)}else h(null)}catch(b){console.error("Error in handleSession:",b)}finally{c(!1)}},[]);m.useEffect(()=>{let j=!0;const b=setTimeout(()=>{j&&l&&(console.warn("Auth loading timeout - forcing completion"),c(!1))},1e4);(async()=>{try{const{data:{session:P},error:A}=await te.auth.getSession();A&&console.error("Error getting session:",A),j&&await f(P)}catch(P){console.error("Error in getSession:",P),j&&c(!1)}})();const{data:{subscription:N}}=te.auth.onAuthStateChange(async(P,A)=>{j&&await f(A)});return()=>{j=!1,clearTimeout(b),N.unsubscribe()}},[f,l]);const p=m.useCallback(async(j,b,C)=>{const{data:N,error:P}=await te.auth.signUp({email:j,password:b,options:C});return P&&t({variant:"destructive",title:"Sign up Failed",description:P.message||"Something went wrong"}),{data:N,error:P}},[t]),v=m.useCallback(async(j,b)=>{const{error:C}=await te.auth.signInWithPassword({email:j,password:b});return C&&t({variant:"destructive",title:"Sign in Failed",description:C.message||"Something went wrong"}),{error:C}},[t]),x=m.useCallback(async()=>{const{error:j}=await te.auth.signOut();return await f(null),j&&j.message!=="Session from session_id claim in JWT does not exist"?t({variant:"destructive",title:"Sign out Failed",description:j.message||"Something went wrong"}):t({title:"Déconnexion réussie."}),{error:j}},[t,f]),w=m.useMemo(()=>(u==null?void 0:u.role)==="admin",[u]),y=m.useMemo(()=>["adherent","admin"].includes(u==null?void 0:u.role),[u]),S=m.useMemo(()=>({user:n,session:i,loading:l,profile:u,isAdmin:w,isAdherent:y,signUp:p,signIn:v,signOut:x}),[n,i,l,u,w,y,p,v,x]);return s.jsx(_T.Provider,{value:S,children:e})},tn=()=>{const e=m.useContext(_T);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};var q8=Cc[" useId ".trim().toString()]||(()=>{}),K8=0;function ln(e){const[t,n]=m.useState(q8());return Fn(()=>{e||n(r=>r??String(K8++))},[e]),e||(t?`radix-${t}`:"")}var op="focusScope.autoFocusOnMount",ap="focusScope.autoFocusOnUnmount",D1={bubbles:!1,cancelable:!0},J8="FocusScope",_x=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[c,u]=m.useState(null),h=jn(i),f=jn(o),p=m.useRef(null),v=st(t,y=>u(y)),x=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(C){if(x.paused||!c)return;const N=C.target;c.contains(N)?p.current=N:Ri(p.current,{select:!0})},S=function(C){if(x.paused||!c)return;const N=C.relatedTarget;N!==null&&(c.contains(N)||Ri(p.current,{select:!0}))},j=function(C){if(document.activeElement===document.body)for(const P of C)P.removedNodes.length>0&&Ri(c)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const b=new MutationObserver(j);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),b.disconnect()}}},[r,c,x.paused]),m.useEffect(()=>{if(c){F1.add(x);const y=document.activeElement;if(!c.contains(y)){const j=new CustomEvent(op,D1);c.addEventListener(op,h),c.dispatchEvent(j),j.defaultPrevented||(Y8(nV(wT(c)),{select:!0}),document.activeElement===y&&Ri(c))}return()=>{c.removeEventListener(op,h),setTimeout(()=>{const j=new CustomEvent(ap,D1);c.addEventListener(ap,f),c.dispatchEvent(j),j.defaultPrevented||Ri(y??document.body,{select:!0}),c.removeEventListener(ap,f),F1.remove(x)},0)}}},[c,h,f,x]);const w=m.useCallback(y=>{if(!n&&!r||x.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,j=document.activeElement;if(S&&j){const b=y.currentTarget,[C,N]=X8(b);C&&N?!y.shiftKey&&j===N?(y.preventDefault(),n&&Ri(C,{select:!0})):y.shiftKey&&j===C&&(y.preventDefault(),n&&Ri(N,{select:!0})):j===b&&y.preventDefault()}},[n,r,x.paused]);return s.jsx(je.div,{tabIndex:-1,...l,ref:v,onKeyDown:w})});_x.displayName=J8;function Y8(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ri(r,{select:t}),document.activeElement!==n)return}function X8(e){const t=wT(e),n=$1(t,e),r=$1(t.reverse(),e);return[n,r]}function wT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $1(e,t){for(const n of e)if(!Q8(n,{upTo:t}))return n}function Q8(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function eV(e){return e instanceof HTMLInputElement&&"select"in e}function Ri(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&eV(e)&&t&&e.select()}}var F1=tV();function tV(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=B1(e,t),e.unshift(t)},remove(t){var n;e=B1(e,t),(n=e[0])==null||n.resume()}}}function B1(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function nV(e){return e.filter(t=>t.tagName!=="A")}var lp=0;function bT(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??U1()),document.body.insertAdjacentElement("beforeend",e[1]??U1()),lp++,()=>{lp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lp--}},[])}function U1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Xt=function(){return Xt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Xt.apply(this,arguments)};function wx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function jT(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Vl="right-scroll-bar-position",Hl="width-before-scroll-bar",rV="with-scroll-bars-hidden",iV="--removed-body-scroll-bar-size";function cp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function sV(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var oV=typeof window<"u"?m.useLayoutEffect:m.useEffect,z1=new WeakMap;function CT(e,t){var n=sV(t||null,function(r){return e.forEach(function(i){return cp(i,r)})});return oV(function(){var r=z1.get(n);if(r){var i=new Set(r),o=new Set(e),l=n.current;i.forEach(function(c){o.has(c)||cp(c,null)}),o.forEach(function(c){i.has(c)||cp(c,l)})}z1.set(n,e)},[e]),n}function aV(e){return e}function lV(e,t){t===void 0&&(t=aV);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var u=function(){var f=l;l=[],f.forEach(o)},h=function(){return Promise.resolve().then(u)};h(),n={push:function(f){l.push(f),h()},filter:function(f){return l=l.filter(f),n}}}};return i}function ST(e){e===void 0&&(e={});var t=lV(null);return t.options=Xt({async:!0,ssr:!1},e),t}var ET=function(e){var t=e.sideCar,n=wx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Xt({},n))};ET.isSideCarExport=!0;function NT(e,t){return e.useMedium(t),ET}var PT=ST(),up=function(){},rf=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:up,onWheelCapture:up,onTouchMoveCapture:up}),i=r[0],o=r[1],l=e.forwardProps,c=e.children,u=e.className,h=e.removeScrollBar,f=e.enabled,p=e.shards,v=e.sideCar,x=e.noRelative,w=e.noIsolation,y=e.inert,S=e.allowPinchZoom,j=e.as,b=j===void 0?"div":j,C=e.gapMode,N=wx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=v,A=CT([n,t]),T=Xt(Xt({},N),i);return m.createElement(m.Fragment,null,f&&m.createElement(P,{sideCar:PT,removeScrollBar:h,shards:p,noRelative:x,noIsolation:w,inert:y,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:C}),l?m.cloneElement(m.Children.only(c),Xt(Xt({},T),{ref:A})):m.createElement(b,Xt({},T,{className:u,ref:A}),c))});rf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rf.classNames={fullWidth:Hl,zeroRight:Vl};var V1,cV=function(){if(V1)return V1;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=cV();return t&&e.setAttribute("nonce",t),e}function dV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function hV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fV=function(){var e=0,t=null;return{add:function(n){e==0&&(t=uV())&&(dV(t,n),hV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},mV=function(){var e=fV();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},bx=function(){var e=mV(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},pV={left:0,top:0,right:0,gap:0},dp=function(e){return parseInt(e||"",10)||0},gV=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[dp(n),dp(r),dp(i)]},vV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pV;var t=gV(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},yV=bx(),oa="data-scroll-locked",xV=function(e,t,n,r){var i=e.left,o=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(rV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(oa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vl,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Hl,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Vl," .").concat(Vl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Hl," .").concat(Hl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(oa,`] {
    `).concat(iV,": ").concat(c,`px;
  }
`)},H1=function(){var e=parseInt(document.body.getAttribute(oa)||"0",10);return isFinite(e)?e:0},_V=function(){m.useEffect(function(){return document.body.setAttribute(oa,(H1()+1).toString()),function(){var e=H1()-1;e<=0?document.body.removeAttribute(oa):document.body.setAttribute(oa,e.toString())}},[])},TT=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;_V();var o=m.useMemo(function(){return vV(i)},[i]);return m.createElement(yV,{styles:xV(o,!t,i,n?"":"!important")})},sv=!1;if(typeof window<"u")try{var Uu=Object.defineProperty({},"passive",{get:function(){return sv=!0,!0}});window.addEventListener("test",Uu,Uu),window.removeEventListener("test",Uu,Uu)}catch{sv=!1}var Ao=sv?{passive:!1}:!1,wV=function(e){return e.tagName==="TEXTAREA"},AT=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!wV(e)&&n[t]==="visible")},bV=function(e){return AT(e,"overflowY")},jV=function(e){return AT(e,"overflowX")},W1=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=kT(e,r);if(i){var o=RT(e,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},CV=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},SV=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},kT=function(e,t){return e==="v"?bV(t):jV(t)},RT=function(e,t){return e==="v"?CV(t):SV(t)},EV=function(e,t){return e==="h"&&t==="rtl"?-1:1},NV=function(e,t,n,r,i){var o=EV(e,window.getComputedStyle(t).direction),l=o*r,c=n.target,u=t.contains(c),h=!1,f=l>0,p=0,v=0;do{if(!c)break;var x=RT(e,c),w=x[0],y=x[1],S=x[2],j=y-S-o*w;(w||j)&&kT(e,c)&&(p+=j,v+=w);var b=c.parentNode;c=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(f&&(i&&Math.abs(p)<1||!i&&l>p)||!f&&(i&&Math.abs(v)<1||!i&&-l>v))&&(h=!0),h},zu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},G1=function(e){return[e.deltaX,e.deltaY]},Z1=function(e){return e&&"current"in e?e.current:e},PV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},TV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},AV=0,ko=[];function kV(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(AV++)[0],o=m.useState(bx)[0],l=m.useRef(e);m.useEffect(function(){l.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=jT([e.lockRef.current],(e.shards||[]).map(Z1),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=m.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!l.current.allowPinchZoom;var j=zu(y),b=n.current,C="deltaX"in y?y.deltaX:b[0]-j[0],N="deltaY"in y?y.deltaY:b[1]-j[1],P,A=y.target,T=Math.abs(C)>Math.abs(N)?"h":"v";if("touches"in y&&T==="h"&&A.type==="range")return!1;var I=W1(T,A);if(!I)return!0;if(I?P=T:(P=T==="v"?"h":"v",I=W1(T,A)),!I)return!1;if(!r.current&&"changedTouches"in y&&(C||N)&&(r.current=P),!P)return!0;var M=r.current||P;return NV(M,S,y,M==="h"?C:N,!0)},[]),u=m.useCallback(function(y){var S=y;if(!(!ko.length||ko[ko.length-1]!==o)){var j="deltaY"in S?G1(S):zu(S),b=t.current.filter(function(P){return P.name===S.type&&(P.target===S.target||S.target===P.shadowParent)&&PV(P.delta,j)})[0];if(b&&b.should){S.cancelable&&S.preventDefault();return}if(!b){var C=(l.current.shards||[]).map(Z1).filter(Boolean).filter(function(P){return P.contains(S.target)}),N=C.length>0?c(S,C[0]):!l.current.noIsolation;N&&S.cancelable&&S.preventDefault()}}},[]),h=m.useCallback(function(y,S,j,b){var C={name:y,delta:S,target:j,should:b,shadowParent:RV(j)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(N){return N!==C})},1)},[]),f=m.useCallback(function(y){n.current=zu(y),r.current=void 0},[]),p=m.useCallback(function(y){h(y.type,G1(y),y.target,c(y,e.lockRef.current))},[]),v=m.useCallback(function(y){h(y.type,zu(y),y.target,c(y,e.lockRef.current))},[]);m.useEffect(function(){return ko.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",u,Ao),document.addEventListener("touchmove",u,Ao),document.addEventListener("touchstart",f,Ao),function(){ko=ko.filter(function(y){return y!==o}),document.removeEventListener("wheel",u,Ao),document.removeEventListener("touchmove",u,Ao),document.removeEventListener("touchstart",f,Ao)}},[]);var x=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:TV(i)}):null,x?m.createElement(TT,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function RV(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const LV=NT(PT,kV);var LT=m.forwardRef(function(e,t){return m.createElement(rf,Xt({},e,{ref:t,sideCar:LV}))});LT.classNames=rf.classNames;const jx=LT;var OV=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ro=new WeakMap,Vu=new WeakMap,Hu={},hp=0,OT=function(e){return e&&(e.host||OT(e.parentNode))},MV=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=OT(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},IV=function(e,t,n,r){var i=MV(t,Array.isArray(e)?e:[e]);Hu[n]||(Hu[n]=new WeakMap);var o=Hu[n],l=[],c=new Set,u=new Set(i),h=function(p){!p||c.has(p)||(c.add(p),h(p.parentNode))};i.forEach(h);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(v){if(c.has(v))f(v);else try{var x=v.getAttribute(r),w=x!==null&&x!=="false",y=(Ro.get(v)||0)+1,S=(o.get(v)||0)+1;Ro.set(v,y),o.set(v,S),l.push(v),y===1&&w&&Vu.set(v,!0),S===1&&v.setAttribute(n,"true"),w||v.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",v,j)}})};return f(t),c.clear(),hp++,function(){l.forEach(function(p){var v=Ro.get(p)-1,x=o.get(p)-1;Ro.set(p,v),o.set(p,x),v||(Vu.has(p)||p.removeAttribute(r),Vu.delete(p)),x||p.removeAttribute(n)}),hp--,hp||(Ro=new WeakMap,Ro=new WeakMap,Vu=new WeakMap,Hu={})}},sf=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||OV(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),IV(r,i,n,"aria-hidden")):function(){return null}},of="Dialog",[MT,IT]=Vn(of),[DV,Cr]=MT(of),DT=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=m.useRef(null),u=m.useRef(null),[h,f]=ji({prop:r,defaultProp:i??!1,onChange:o,caller:of});return s.jsx(DV,{scope:t,triggerRef:c,contentRef:u,contentId:ln(),titleId:ln(),descriptionId:ln(),open:h,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:l,children:n})};DT.displayName=of;var $T="DialogTrigger",FT=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cr($T,n),o=st(t,i.triggerRef);return s.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ex(i.open),...r,ref:o,onClick:ve(e.onClick,i.onOpenToggle)})});FT.displayName=$T;var Cx="DialogPortal",[$V,BT]=MT(Cx,{forceMount:void 0}),UT=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Cr(Cx,t);return s.jsx($V,{scope:t,forceMount:n,children:m.Children.map(r,l=>s.jsx(sr,{present:n||o.open,children:s.jsx(Uh,{asChild:!0,container:i,children:l})}))})};UT.displayName=Cx;var rh="DialogOverlay",zT=m.forwardRef((e,t)=>{const n=BT(rh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Cr(rh,e.__scopeDialog);return o.modal?s.jsx(sr,{present:r||o.open,children:s.jsx(BV,{...i,ref:t})}):null});zT.displayName=rh;var FV=wa("DialogOverlay.RemoveScroll"),BV=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cr(rh,n);return s.jsx(jx,{as:FV,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(je.div,{"data-state":Ex(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),to="DialogContent",VT=m.forwardRef((e,t)=>{const n=BT(to,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Cr(to,e.__scopeDialog);return s.jsx(sr,{present:r||o.open,children:o.modal?s.jsx(UV,{...i,ref:t}):s.jsx(zV,{...i,ref:t})})});VT.displayName=to;var UV=m.forwardRef((e,t)=>{const n=Cr(to,e.__scopeDialog),r=m.useRef(null),i=st(t,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return sf(o)},[]),s.jsx(HT,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:ve(e.onFocusOutside,o=>o.preventDefault())})}),zV=m.forwardRef((e,t)=>{const n=Cr(to,e.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return s.jsx(HT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var u,h;(u=e.onInteractOutside)==null||u.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),HT=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,c=Cr(to,n),u=m.useRef(null),h=st(t,u);return bT(),s.jsxs(s.Fragment,{children:[s.jsx(_x,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:s.jsx(Bh,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Ex(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(HV,{titleId:c.titleId}),s.jsx(GV,{contentRef:u,descriptionId:c.descriptionId})]})]})}),Sx="DialogTitle",WT=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cr(Sx,n);return s.jsx(je.h2,{id:i.titleId,...r,ref:t})});WT.displayName=Sx;var GT="DialogDescription",ZT=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cr(GT,n);return s.jsx(je.p,{id:i.descriptionId,...r,ref:t})});ZT.displayName=GT;var qT="DialogClose",KT=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Cr(qT,n);return s.jsx(je.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,()=>i.onOpenChange(!1))})});KT.displayName=qT;function Ex(e){return e?"open":"closed"}var JT="DialogTitleWarning",[VV,YT]=T3(JT,{contentName:to,titleName:Sx,docsSlug:"dialog"}),HV=({titleId:e})=>{const t=YT(JT),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},WV="DialogDescriptionWarning",GV=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${YT(WV).contentName}}.`;return m.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Nx=DT,XT=FT,Px=UT,af=zT,lf=VT,Tx=WT,Ax=ZT,kx=KT;const Ot=Nx,QT=XT,ZV=Px,e2=m.forwardRef(({className:e,...t},n)=>s.jsx(af,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));e2.displayName=af.displayName;const Tt=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(ZV,{children:[s.jsx(e2,{}),s.jsxs(lf,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(kx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(jr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Tt.displayName=lf.displayName;const Ht=({className:e,...t})=>s.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ht.displayName="DialogHeader";const or=({className:e,...t})=>s.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});or.displayName="DialogFooter";const Wt=m.forwardRef(({className:e,...t},n)=>s.jsx(Tx,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));Wt.displayName=Tx.displayName;const Vr=m.forwardRef(({className:e,...t},n)=>s.jsx(Ax,{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));Vr.displayName=Ax.displayName;const we=se.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));we.displayName="Input";var qV="Label",t2=m.forwardRef((e,t)=>s.jsx(je.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));t2.displayName=qV;var n2=t2;const KV=Vh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),le=se.forwardRef(({className:e,...t},n)=>s.jsx(n2,{ref:n,className:ce(KV(),e),...t}));le.displayName=n2.displayName;const r2=m.createContext(),JV=({children:e})=>{const[t,n]=m.useState({}),[r,i]=m.useState(!0),{isAdmin:o}=tn(),l=m.useCallback(async()=>{i(!0);const{data:h,error:f}=await te.from("site_config").select("config_key, config_value");if(f)console.error("Error fetching site config:",f);else{const p=h.reduce((v,x)=>(v[x.config_key]=x.config_value,v),{});n(p)}i(!1)},[]);m.useEffect(()=>{l();const h=te.channel("site_config_changes").on("postgres_changes",{event:"*",schema:"public",table:"site_config"},f=>{l()}).subscribe();return()=>{te.removeChannel(h)}},[l]);const u={config:t,loadingConfig:r,updateConfig:async(h,f)=>{if(!o)return console.error("User is not authorized to update config."),{error:"Not authorized"};const{data:p,error:v}=await te.from("site_config").upsert({config_key:h,config_value:f},{onConflict:"config_key"}).select().single();return v?console.error(`Error updating config key ${h}:`,v):p&&n(x=>({...x,[p.config_key]:p.config_value})),{data:p,error:v}},refetchConfig:l};return s.jsx(r2.Provider,{value:u,children:e})},Fa=()=>{const e=m.useContext(r2);if(e===void 0)throw new Error("useConfig must be used within a ConfigProvider");return e};var YV=m.createContext(void 0);function cf(e){const t=m.useContext(YV);return e||t||"ltr"}const XV=["top","right","bottom","left"],as=Math.min,Ln=Math.max,ih=Math.round,Wu=Math.floor,zr=e=>({x:e,y:e}),QV={left:"right",right:"left",bottom:"top",top:"bottom"},e7={start:"end",end:"start"};function ov(e,t,n){return Ln(e,as(t,n))}function xi(e,t){return typeof e=="function"?e(t):e}function _i(e){return e.split("-")[0]}function Ba(e){return e.split("-")[1]}function Rx(e){return e==="x"?"y":"x"}function Lx(e){return e==="y"?"height":"width"}const t7=new Set(["top","bottom"]);function Mr(e){return t7.has(_i(e))?"y":"x"}function Ox(e){return Rx(Mr(e))}function n7(e,t,n){n===void 0&&(n=!1);const r=Ba(e),i=Ox(e),o=Lx(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=sh(l)),[l,sh(l)]}function r7(e){const t=sh(e);return[av(e),t,av(t)]}function av(e){return e.replace(/start|end/g,t=>e7[t])}const q1=["left","right"],K1=["right","left"],i7=["top","bottom"],s7=["bottom","top"];function o7(e,t,n){switch(e){case"top":case"bottom":return n?t?K1:q1:t?q1:K1;case"left":case"right":return t?i7:s7;default:return[]}}function a7(e,t,n,r){const i=Ba(e);let o=o7(_i(e),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(av)))),o}function sh(e){return e.replace(/left|right|bottom|top/g,t=>QV[t])}function l7(e){return{top:0,right:0,bottom:0,left:0,...e}}function i2(e){return typeof e!="number"?l7(e):{top:e,right:e,bottom:e,left:e}}function oh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function J1(e,t,n){let{reference:r,floating:i}=e;const o=Mr(t),l=Ox(t),c=Lx(l),u=_i(t),h=o==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,v=r[c]/2-i[c]/2;let x;switch(u){case"top":x={x:f,y:r.y-i.height};break;case"bottom":x={x:f,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:p};break;case"left":x={x:r.x-i.width,y:p};break;default:x={x:r.x,y:r.y}}switch(Ba(t)){case"start":x[l]-=v*(n&&h?-1:1);break;case"end":x[l]+=v*(n&&h?-1:1);break}return x}const c7=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:p}=J1(h,r,u),v=r,x={},w=0;for(let y=0;y<c.length;y++){const{name:S,fn:j}=c[y],{x:b,y:C,data:N,reset:P}=await j({x:f,y:p,initialPlacement:r,placement:v,strategy:i,middlewareData:x,rects:h,platform:l,elements:{reference:e,floating:t}});f=b??f,p=C??p,x={...x,[S]:{...x[S],...N}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(v=P.placement),P.rects&&(h=P.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:f,y:p}=J1(h,v,u)),y=-1)}return{x:f,y:p,placement:v,strategy:i,middlewareData:x}};async function gc(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:u}=e,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:v=!1,padding:x=0}=xi(t,e),w=i2(x),S=c[v?p==="floating"?"reference":"floating":p],j=oh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:f,strategy:u})),b=p==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),N=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},P=oh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:C,strategy:u}):b);return{top:(j.top-P.top+w.top)/N.y,bottom:(P.bottom-j.bottom+w.bottom)/N.y,left:(j.left-P.left+w.left)/N.x,right:(P.right-j.right+w.right)/N.x}}const u7=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:l,elements:c,middlewareData:u}=t,{element:h,padding:f=0}=xi(e,t)||{};if(h==null)return{};const p=i2(f),v={x:n,y:r},x=Ox(i),w=Lx(x),y=await l.getDimensions(h),S=x==="y",j=S?"top":"left",b=S?"bottom":"right",C=S?"clientHeight":"clientWidth",N=o.reference[w]+o.reference[x]-v[x]-o.floating[w],P=v[x]-o.reference[x],A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let T=A?A[C]:0;(!T||!await(l.isElement==null?void 0:l.isElement(A)))&&(T=c.floating[C]||o.floating[w]);const I=N/2-P/2,M=T/2-y[w]/2-1,U=as(p[j],M),G=as(p[b],M),z=U,J=T-y[w]-G,$=T/2-y[w]/2+I,k=ov(z,$,J),O=!u.arrow&&Ba(i)!=null&&$!==k&&o.reference[w]/2-($<z?U:G)-y[w]/2<0,F=O?$<z?$-z:$-J:0;return{[x]:v[x]+F,data:{[x]:k,centerOffset:$-k-F,...O&&{alignmentOffset:F}},reset:O}}}),d7=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:u,elements:h}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...S}=xi(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const j=_i(i),b=Mr(c),C=_i(c)===c,N=await(u.isRTL==null?void 0:u.isRTL(h.floating)),P=v||(C||!y?[sh(c)]:r7(c)),A=w!=="none";!v&&A&&P.push(...a7(c,y,w,N));const T=[c,...P],I=await gc(t,S),M=[];let U=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&M.push(I[j]),p){const $=n7(i,l,N);M.push(I[$[0]],I[$[1]])}if(U=[...U,{placement:i,overflows:M}],!M.every($=>$<=0)){var G,z;const $=(((G=o.flip)==null?void 0:G.index)||0)+1,k=T[$];if(k&&(!(p==="alignment"?b!==Mr(k):!1)||U.every(D=>Mr(D.placement)===b?D.overflows[0]>0:!0)))return{data:{index:$,overflows:U},reset:{placement:k}};let O=(z=U.filter(F=>F.overflows[0]<=0).sort((F,D)=>F.overflows[1]-D.overflows[1])[0])==null?void 0:z.placement;if(!O)switch(x){case"bestFit":{var J;const F=(J=U.filter(D=>{if(A){const H=Mr(D.placement);return H===b||H==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(H=>H>0).reduce((H,W)=>H+W,0)]).sort((D,H)=>D[1]-H[1])[0])==null?void 0:J[0];F&&(O=F);break}case"initialPlacement":O=c;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function Y1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function X1(e){return XV.some(t=>e[t]>=0)}const h7=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=xi(e,t);switch(r){case"referenceHidden":{const o=await gc(t,{...i,elementContext:"reference"}),l=Y1(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:X1(l)}}}case"escaped":{const o=await gc(t,{...i,altBoundary:!0}),l=Y1(o,n.floating);return{data:{escapedOffsets:l,escaped:X1(l)}}}default:return{}}}}},s2=new Set(["left","top"]);async function f7(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=_i(n),c=Ba(n),u=Mr(n)==="y",h=s2.has(l)?-1:1,f=o&&u?-1:1,p=xi(t,e);let{mainAxis:v,crossAxis:x,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof w=="number"&&(x=c==="end"?w*-1:w),u?{x:x*f,y:v*h}:{x:v*h,y:x*f}}const m7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:l,middlewareData:c}=t,u=await f7(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:l}}}}},p7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:S=>{let{x:j,y:b}=S;return{x:j,y:b}}},...u}=xi(e,t),h={x:n,y:r},f=await gc(t,u),p=Mr(_i(i)),v=Rx(p);let x=h[v],w=h[p];if(o){const S=v==="y"?"top":"left",j=v==="y"?"bottom":"right",b=x+f[S],C=x-f[j];x=ov(b,x,C)}if(l){const S=p==="y"?"top":"left",j=p==="y"?"bottom":"right",b=w+f[S],C=w-f[j];w=ov(b,w,C)}const y=c.fn({...t,[v]:x,[p]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[v]:o,[p]:l}}}}}},g7=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:l}=t,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=xi(e,t),f={x:n,y:r},p=Mr(i),v=Rx(p);let x=f[v],w=f[p];const y=xi(c,t),S=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const C=v==="y"?"height":"width",N=o.reference[v]-o.floating[C]+S.mainAxis,P=o.reference[v]+o.reference[C]-S.mainAxis;x<N?x=N:x>P&&(x=P)}if(h){var j,b;const C=v==="y"?"width":"height",N=s2.has(_i(i)),P=o.reference[p]-o.floating[C]+(N&&((j=l.offset)==null?void 0:j[p])||0)+(N?0:S.crossAxis),A=o.reference[p]+o.reference[C]+(N?0:((b=l.offset)==null?void 0:b[p])||0)-(N?S.crossAxis:0);w<P?w=P:w>A&&(w=A)}return{[v]:x,[p]:w}}}},v7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:l,elements:c}=t,{apply:u=()=>{},...h}=xi(e,t),f=await gc(t,h),p=_i(i),v=Ba(i),x=Mr(i)==="y",{width:w,height:y}=o.floating;let S,j;p==="top"||p==="bottom"?(S=p,j=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(j=p,S=v==="end"?"top":"bottom");const b=y-f.top-f.bottom,C=w-f.left-f.right,N=as(y-f[S],b),P=as(w-f[j],C),A=!t.middlewareData.shift;let T=N,I=P;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=b),A&&!v){const U=Ln(f.left,0),G=Ln(f.right,0),z=Ln(f.top,0),J=Ln(f.bottom,0);x?I=w-2*(U!==0||G!==0?U+G:Ln(f.left,f.right)):T=y-2*(z!==0||J!==0?z+J:Ln(f.top,f.bottom))}await u({...t,availableWidth:I,availableHeight:T});const M=await l.getDimensions(c.floating);return w!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function uf(){return typeof window<"u"}function Ua(e){return o2(e)?(e.nodeName||"").toLowerCase():"#document"}function In(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qr(e){var t;return(t=(o2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function o2(e){return uf()?e instanceof Node||e instanceof In(e).Node:!1}function xr(e){return uf()?e instanceof Element||e instanceof In(e).Element:!1}function Hr(e){return uf()?e instanceof HTMLElement||e instanceof In(e).HTMLElement:!1}function Q1(e){return!uf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof In(e).ShadowRoot}const y7=new Set(["inline","contents"]);function Bc(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=_r(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!y7.has(i)}const x7=new Set(["table","td","th"]);function _7(e){return x7.has(Ua(e))}const w7=[":popover-open",":modal"];function df(e){return w7.some(t=>{try{return e.matches(t)}catch{return!1}})}const b7=["transform","translate","scale","rotate","perspective"],j7=["transform","translate","scale","rotate","perspective","filter"],C7=["paint","layout","strict","content"];function Mx(e){const t=Ix(),n=xr(e)?_r(e):e;return b7.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||j7.some(r=>(n.willChange||"").includes(r))||C7.some(r=>(n.contain||"").includes(r))}function S7(e){let t=ls(e);for(;Hr(t)&&!Sa(t);){if(Mx(t))return t;if(df(t))return null;t=ls(t)}return null}function Ix(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const E7=new Set(["html","body","#document"]);function Sa(e){return E7.has(Ua(e))}function _r(e){return In(e).getComputedStyle(e)}function hf(e){return xr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ls(e){if(Ua(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Q1(e)&&e.host||qr(e);return Q1(t)?t.host:t}function a2(e){const t=ls(e);return Sa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hr(t)&&Bc(t)?t:a2(t)}function vc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=a2(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),l=In(i);if(o){const c=lv(l);return t.concat(l,l.visualViewport||[],Bc(i)?i:[],c&&n?vc(c):[])}return t.concat(i,vc(i,[],n))}function lv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function l2(e){const t=_r(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Hr(e),o=i?e.offsetWidth:n,l=i?e.offsetHeight:r,c=ih(n)!==o||ih(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function Dx(e){return xr(e)?e:e.contextElement}function aa(e){const t=Dx(e);if(!Hr(t))return zr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=l2(t);let l=(o?ih(n.width):n.width)/r,c=(o?ih(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const N7=zr(0);function c2(e){const t=In(e);return!Ix()||!t.visualViewport?N7:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function P7(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==In(e)?!1:t}function no(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Dx(e);let l=zr(1);t&&(r?xr(r)&&(l=aa(r)):l=aa(e));const c=P7(o,n,r)?c2(o):zr(0);let u=(i.left+c.x)/l.x,h=(i.top+c.y)/l.y,f=i.width/l.x,p=i.height/l.y;if(o){const v=In(o),x=r&&xr(r)?In(r):r;let w=v,y=lv(w);for(;y&&r&&x!==w;){const S=aa(y),j=y.getBoundingClientRect(),b=_r(y),C=j.left+(y.clientLeft+parseFloat(b.paddingLeft))*S.x,N=j.top+(y.clientTop+parseFloat(b.paddingTop))*S.y;u*=S.x,h*=S.y,f*=S.x,p*=S.y,u+=C,h+=N,w=In(y),y=lv(w)}}return oh({width:f,height:p,x:u,y:h})}function ff(e,t){const n=hf(e).scrollLeft;return t?t.left+n:no(qr(e)).left+n}function u2(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-ff(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function T7(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",l=qr(r),c=t?df(t.floating):!1;if(r===l||c&&o)return n;let u={scrollLeft:0,scrollTop:0},h=zr(1);const f=zr(0),p=Hr(r);if((p||!p&&!o)&&((Ua(r)!=="body"||Bc(l))&&(u=hf(r)),Hr(r))){const x=no(r);h=aa(r),f.x=x.x+r.clientLeft,f.y=x.y+r.clientTop}const v=l&&!p&&!o?u2(l,u):zr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-u.scrollLeft*h.x+f.x+v.x,y:n.y*h.y-u.scrollTop*h.y+f.y+v.y}}function A7(e){return Array.from(e.getClientRects())}function k7(e){const t=qr(e),n=hf(e),r=e.ownerDocument.body,i=Ln(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ln(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+ff(e);const c=-n.scrollTop;return _r(r).direction==="rtl"&&(l+=Ln(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}const ej=25;function R7(e,t){const n=In(e),r=qr(e),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,u=0;if(i){o=i.width,l=i.height;const f=Ix();(!f||f&&t==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}const h=ff(r);if(h<=0){const f=r.ownerDocument,p=f.body,v=getComputedStyle(p),x=f.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(r.clientWidth-p.clientWidth-x);w<=ej&&(o-=w)}else h<=ej&&(o+=h);return{width:o,height:l,x:c,y:u}}const L7=new Set(["absolute","fixed"]);function O7(e,t){const n=no(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Hr(e)?aa(e):zr(1),l=e.clientWidth*o.x,c=e.clientHeight*o.y,u=i*o.x,h=r*o.y;return{width:l,height:c,x:u,y:h}}function tj(e,t,n){let r;if(t==="viewport")r=R7(e,n);else if(t==="document")r=k7(qr(e));else if(xr(t))r=O7(t,n);else{const i=c2(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return oh(r)}function d2(e,t){const n=ls(e);return n===t||!xr(n)||Sa(n)?!1:_r(n).position==="fixed"||d2(n,t)}function M7(e,t){const n=t.get(e);if(n)return n;let r=vc(e,[],!1).filter(c=>xr(c)&&Ua(c)!=="body"),i=null;const o=_r(e).position==="fixed";let l=o?ls(e):e;for(;xr(l)&&!Sa(l);){const c=_r(l),u=Mx(l);!u&&c.position==="fixed"&&(i=null),(o?!u&&!i:!u&&c.position==="static"&&!!i&&L7.has(i.position)||Bc(l)&&!u&&d2(e,l))?r=r.filter(f=>f!==l):i=c,l=ls(l)}return t.set(e,r),r}function I7(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?df(t)?[]:M7(t,this._c):[].concat(n),r],c=l[0],u=l.reduce((h,f)=>{const p=tj(t,f,i);return h.top=Ln(p.top,h.top),h.right=as(p.right,h.right),h.bottom=as(p.bottom,h.bottom),h.left=Ln(p.left,h.left),h},tj(t,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function D7(e){const{width:t,height:n}=l2(e);return{width:t,height:n}}function $7(e,t,n){const r=Hr(t),i=qr(t),o=n==="fixed",l=no(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const u=zr(0);function h(){u.x=ff(i)}if(r||!r&&!o)if((Ua(t)!=="body"||Bc(i))&&(c=hf(t)),r){const x=no(t,!0,o,t);u.x=x.x+t.clientLeft,u.y=x.y+t.clientTop}else i&&h();o&&!r&&i&&h();const f=i&&!r&&!o?u2(i,c):zr(0),p=l.left+c.scrollLeft-u.x-f.x,v=l.top+c.scrollTop-u.y-f.y;return{x:p,y:v,width:l.width,height:l.height}}function fp(e){return _r(e).position==="static"}function nj(e,t){if(!Hr(e)||_r(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return qr(e)===n&&(n=n.ownerDocument.body),n}function h2(e,t){const n=In(e);if(df(e))return n;if(!Hr(e)){let i=ls(e);for(;i&&!Sa(i);){if(xr(i)&&!fp(i))return i;i=ls(i)}return n}let r=nj(e,t);for(;r&&_7(r)&&fp(r);)r=nj(r,t);return r&&Sa(r)&&fp(r)&&!Mx(r)?n:r||S7(e)||n}const F7=async function(e){const t=this.getOffsetParent||h2,n=this.getDimensions,r=await n(e.floating);return{reference:$7(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function B7(e){return _r(e).direction==="rtl"}const U7={convertOffsetParentRelativeRectToViewportRelativeRect:T7,getDocumentElement:qr,getClippingRect:I7,getOffsetParent:h2,getElementRects:F7,getClientRects:A7,getDimensions:D7,getScale:aa,isElement:xr,isRTL:B7};function f2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function z7(e,t){let n=null,r;const i=qr(e);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),o();const h=e.getBoundingClientRect(),{left:f,top:p,width:v,height:x}=h;if(c||t(),!v||!x)return;const w=Wu(p),y=Wu(i.clientWidth-(f+v)),S=Wu(i.clientHeight-(p+x)),j=Wu(f),C={rootMargin:-w+"px "+-y+"px "+-S+"px "+-j+"px",threshold:Ln(0,as(1,u))||1};let N=!0;function P(A){const T=A[0].intersectionRatio;if(T!==u){if(!N)return l();T?l(!1,T):r=setTimeout(()=>{l(!1,1e-7)},1e3)}T===1&&!f2(h,e.getBoundingClientRect())&&l(),N=!1}try{n=new IntersectionObserver(P,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,C)}n.observe(e)}return l(!0),o}function $x(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,h=Dx(e),f=i||o?[...h?vc(h):[],...vc(t)]:[];f.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),o&&j.addEventListener("resize",n)});const p=h&&c?z7(h,n):null;let v=-1,x=null;l&&(x=new ResizeObserver(j=>{let[b]=j;b&&b.target===h&&x&&(x.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=x)==null||C.observe(t)})),n()}),h&&!u&&x.observe(h),x.observe(t));let w,y=u?no(e):null;u&&S();function S(){const j=no(e);y&&!f2(y,j)&&n(),y=j,w=requestAnimationFrame(S)}return n(),()=>{var j;f.forEach(b=>{i&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),p==null||p(),(j=x)==null||j.disconnect(),x=null,u&&cancelAnimationFrame(w)}}const V7=m7,H7=p7,W7=d7,G7=v7,Z7=h7,rj=u7,q7=g7,K7=(e,t,n)=>{const r=new Map,i={platform:U7,...n},o={...i.platform,_c:r};return c7(e,t,{...i,platform:o})};var J7=typeof document<"u",Y7=function(){},md=J7?m.useLayoutEffect:Y7;function ah(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ah(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!ah(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function m2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ij(e,t){const n=m2(e);return Math.round(t*n)/n}function mp(e){const t=m.useRef(e);return md(()=>{t.current=e}),t}function Fx(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:u,open:h}=e,[f,p]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,x]=m.useState(r);ah(v,r)||x(r);const[w,y]=m.useState(null),[S,j]=m.useState(null),b=m.useCallback(D=>{D!==A.current&&(A.current=D,y(D))},[]),C=m.useCallback(D=>{D!==T.current&&(T.current=D,j(D))},[]),N=o||w,P=l||S,A=m.useRef(null),T=m.useRef(null),I=m.useRef(f),M=u!=null,U=mp(u),G=mp(i),z=mp(h),J=m.useCallback(()=>{if(!A.current||!T.current)return;const D={placement:t,strategy:n,middleware:v};G.current&&(D.platform=G.current),K7(A.current,T.current,D).then(H=>{const W={...H,isPositioned:z.current!==!1};$.current&&!ah(I.current,W)&&(I.current=W,Gr.flushSync(()=>{p(W)}))})},[v,t,n,G,z]);md(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,p(D=>({...D,isPositioned:!1})))},[h]);const $=m.useRef(!1);md(()=>($.current=!0,()=>{$.current=!1}),[]),md(()=>{if(N&&(A.current=N),P&&(T.current=P),N&&P){if(U.current)return U.current(N,P,J);J()}},[N,P,J,U,M]);const k=m.useMemo(()=>({reference:A,floating:T,setReference:b,setFloating:C}),[b,C]),O=m.useMemo(()=>({reference:N,floating:P}),[N,P]),F=m.useMemo(()=>{const D={position:n,left:0,top:0};if(!O.floating)return D;const H=ij(O.floating,f.x),W=ij(O.floating,f.y);return c?{...D,transform:"translate("+H+"px, "+W+"px)",...m2(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:W}},[n,c,O.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:J,refs:k,elements:O,floatingStyles:F}),[f,J,k,O,F])}const X7=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?rj({element:r.current,padding:i}).fn(n):{}:r?rj({element:r,padding:i}).fn(n):{}}}},Bx=(e,t)=>({...V7(e),options:[e,t]}),Ux=(e,t)=>({...H7(e),options:[e,t]}),zx=(e,t)=>({...q7(e),options:[e,t]}),Vx=(e,t)=>({...W7(e),options:[e,t]}),Hx=(e,t)=>({...G7(e),options:[e,t]}),Wx=(e,t)=>({...Z7(e),options:[e,t]}),Gx=(e,t)=>({...X7(e),options:[e,t]});var Q7="Arrow",p2=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return s.jsx(je.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});p2.displayName=Q7;var e9=p2;function g2(e){const[t,n]=m.useState(void 0);return Fn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,c;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,c=h.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Zx="Popper",[v2,y2]=Vn(Zx),[t9,x2]=v2(Zx),_2=e=>{const{__scopePopper:t,children:n}=e,[r,i]=m.useState(null);return s.jsx(t9,{scope:t,anchor:r,onAnchorChange:i,children:n})};_2.displayName=Zx;var w2="PopperAnchor",b2=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=x2(w2,n),l=m.useRef(null),c=st(t,l),u=m.useRef(null);return m.useEffect(()=>{const h=u.current;u.current=(r==null?void 0:r.current)||l.current,h!==u.current&&o.onAnchorChange(u.current)}),r?null:s.jsx(je.div,{...i,ref:c})});b2.displayName=w2;var qx="PopperContent",[n9,r9]=v2(qx),j2=m.forwardRef((e,t)=>{var ne,ue,be,_e,Ce,Ae;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:x="optimized",onPlaced:w,...y}=e,S=x2(qx,n),[j,b]=m.useState(null),C=st(t,ze=>b(ze)),[N,P]=m.useState(null),A=g2(N),T=(A==null?void 0:A.width)??0,I=(A==null?void 0:A.height)??0,M=r+(o!=="center"?"-"+o:""),U=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},G=Array.isArray(h)?h:[h],z=G.length>0,J={padding:U,boundary:G.filter(s9),altBoundary:z},{refs:$,floatingStyles:k,placement:O,isPositioned:F,middlewareData:D}=Fx({strategy:"fixed",placement:M,whileElementsMounted:(...ze)=>$x(...ze,{animationFrame:x==="always"}),elements:{reference:S.anchor},middleware:[Bx({mainAxis:i+I,alignmentAxis:l}),u&&Ux({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?zx():void 0,...J}),u&&Vx({...J}),Hx({...J,apply:({elements:ze,rects:Ze,availableWidth:hn,availableHeight:Hn})=>{const{width:An,height:Er}=Ze.reference,kn=ze.floating.style;kn.setProperty("--radix-popper-available-width",`${hn}px`),kn.setProperty("--radix-popper-available-height",`${Hn}px`),kn.setProperty("--radix-popper-anchor-width",`${An}px`),kn.setProperty("--radix-popper-anchor-height",`${Er}px`)}}),N&&Gx({element:N,padding:c}),o9({arrowWidth:T,arrowHeight:I}),v&&Wx({strategy:"referenceHidden",...J})]}),[H,W]=E2(O),Q=jn(w);Fn(()=>{F&&(Q==null||Q())},[F,Q]);const B=(ne=D.arrow)==null?void 0:ne.x,q=(ue=D.arrow)==null?void 0:ue.y,Z=((be=D.arrow)==null?void 0:be.centerOffset)!==0,[X,ie]=m.useState();return Fn(()=>{j&&ie(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:F?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(_e=D.transformOrigin)==null?void 0:_e.x,(Ce=D.transformOrigin)==null?void 0:Ce.y].join(" "),...((Ae=D.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(n9,{scope:n,placedSide:H,onArrowChange:P,arrowX:B,arrowY:q,shouldHideArrow:Z,children:s.jsx(je.div,{"data-side":H,"data-align":W,...y,ref:C,style:{...y.style,animation:F?void 0:"none"}})})})});j2.displayName=qx;var C2="PopperArrow",i9={top:"bottom",right:"left",bottom:"top",left:"right"},S2=m.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=r9(C2,r),l=i9[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(e9,{...i,ref:n,style:{...i.style,display:"block"}})})});S2.displayName=C2;function s9(e){return e!==null}var o9=e=>({name:"transformOrigin",options:e,fn(t){var S,j,b;const{placement:n,rects:r,middlewareData:i}=t,l=((S=i.arrow)==null?void 0:S.centerOffset)!==0,c=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[h,f]=E2(n),p={start:"0%",center:"50%",end:"100%"}[f],v=(((j=i.arrow)==null?void 0:j.x)??0)+c/2,x=(((b=i.arrow)==null?void 0:b.y)??0)+u/2;let w="",y="";return h==="bottom"?(w=l?p:`${v}px`,y=`${-u}px`):h==="top"?(w=l?p:`${v}px`,y=`${r.floating.height+u}px`):h==="right"?(w=`${-u}px`,y=l?p:`${x}px`):h==="left"&&(w=`${r.floating.width+u}px`,y=l?p:`${x}px`),{data:{x:w,y}}}});function E2(e){const[t,n="center"]=e.split("-");return[t,n]}var a9=_2,l9=b2,c9=j2,u9=S2,pp="rovingFocusGroup.onEntryFocus",d9={bubbles:!1,cancelable:!0},Uc="RovingFocusGroup",[cv,N2,h9]=Fh(Uc),[f9,mf]=Vn(Uc,[h9]),[m9,p9]=f9(Uc),P2=m.forwardRef((e,t)=>s.jsx(cv.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(cv.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(g9,{...e,ref:t})})}));P2.displayName=Uc;var g9=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...p}=e,v=m.useRef(null),x=st(t,v),w=cf(o),[y,S]=ji({prop:l,defaultProp:c??null,onChange:u,caller:Uc}),[j,b]=m.useState(!1),C=jn(h),N=N2(n),P=m.useRef(!1),[A,T]=m.useState(0);return m.useEffect(()=>{const I=v.current;if(I)return I.addEventListener(pp,C),()=>I.removeEventListener(pp,C)},[C]),s.jsx(m9,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:y,onItemFocus:m.useCallback(I=>S(I),[S]),onItemShiftTab:m.useCallback(()=>b(!0),[]),onFocusableItemAdd:m.useCallback(()=>T(I=>I+1),[]),onFocusableItemRemove:m.useCallback(()=>T(I=>I-1),[]),children:s.jsx(je.div,{tabIndex:j||A===0?-1:0,"data-orientation":r,...p,ref:x,style:{outline:"none",...e.style},onMouseDown:ve(e.onMouseDown,()=>{P.current=!0}),onFocus:ve(e.onFocus,I=>{const M=!P.current;if(I.target===I.currentTarget&&M&&!j){const U=new CustomEvent(pp,d9);if(I.currentTarget.dispatchEvent(U),!U.defaultPrevented){const G=N().filter(O=>O.focusable),z=G.find(O=>O.active),J=G.find(O=>O.id===y),k=[z,J,...G].filter(Boolean).map(O=>O.ref.current);k2(k,f)}}P.current=!1}),onBlur:ve(e.onBlur,()=>b(!1))})})}),T2="RovingFocusGroupItem",A2=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:l,...c}=e,u=ln(),h=o||u,f=p9(T2,n),p=f.currentTabStopId===h,v=N2(n),{onFocusableItemAdd:x,onFocusableItemRemove:w,currentTabStopId:y}=f;return m.useEffect(()=>{if(r)return x(),()=>w()},[r,x,w]),s.jsx(cv.ItemSlot,{scope:n,id:h,focusable:r,active:i,children:s.jsx(je.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:ve(e.onMouseDown,S=>{r?f.onItemFocus(h):S.preventDefault()}),onFocus:ve(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:ve(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){f.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const j=x9(S,f.orientation,f.dir);if(j!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let C=v().filter(N=>N.focusable).map(N=>N.ref.current);if(j==="last")C.reverse();else if(j==="prev"||j==="next"){j==="prev"&&C.reverse();const N=C.indexOf(S.currentTarget);C=f.loop?_9(C,N+1):C.slice(N+1)}setTimeout(()=>k2(C))}}),children:typeof l=="function"?l({isCurrentTabStop:p,hasTabStop:y!=null}):l})})});A2.displayName=T2;var v9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function y9(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function x9(e,t,n){const r=y9(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return v9[r]}function k2(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function _9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var R2=P2,L2=A2,uv=["Enter"," "],w9=["ArrowDown","PageUp","Home"],O2=["ArrowUp","PageDown","End"],b9=[...w9,...O2],j9={ltr:[...uv,"ArrowRight"],rtl:[...uv,"ArrowLeft"]},C9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zc="Menu",[yc,S9,E9]=Fh(zc),[fo,M2]=Vn(zc,[E9,y2,mf]),pf=y2(),I2=mf(),[N9,mo]=fo(zc),[P9,Vc]=fo(zc),D2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:l=!0}=e,c=pf(t),[u,h]=m.useState(null),f=m.useRef(!1),p=jn(o),v=cf(i);return m.useEffect(()=>{const x=()=>{f.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>f.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),s.jsx(a9,{...c,children:s.jsx(N9,{scope:t,open:n,onOpenChange:p,content:u,onContentChange:h,children:s.jsx(P9,{scope:t,onClose:m.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:v,modal:l,children:r})})})};D2.displayName=zc;var T9="MenuAnchor",Kx=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=pf(n);return s.jsx(l9,{...i,...r,ref:t})});Kx.displayName=T9;var Jx="MenuPortal",[A9,$2]=fo(Jx,{forceMount:void 0}),F2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=mo(Jx,t);return s.jsx(A9,{scope:t,forceMount:n,children:s.jsx(sr,{present:n||o.open,children:s.jsx(Uh,{asChild:!0,container:i,children:r})})})};F2.displayName=Jx;var tr="MenuContent",[k9,Yx]=fo(tr),B2=m.forwardRef((e,t)=>{const n=$2(tr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=mo(tr,e.__scopeMenu),l=Vc(tr,e.__scopeMenu);return s.jsx(yc.Provider,{scope:e.__scopeMenu,children:s.jsx(sr,{present:r||o.open,children:s.jsx(yc.Slot,{scope:e.__scopeMenu,children:l.modal?s.jsx(R9,{...i,ref:t}):s.jsx(L9,{...i,ref:t})})})})}),R9=m.forwardRef((e,t)=>{const n=mo(tr,e.__scopeMenu),r=m.useRef(null),i=st(t,r);return m.useEffect(()=>{const o=r.current;if(o)return sf(o)},[]),s.jsx(Xx,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ve(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),L9=m.forwardRef((e,t)=>{const n=mo(tr,e.__scopeMenu);return s.jsx(Xx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),O9=wa("MenuContent.ScrollLock"),Xx=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:v,onDismiss:x,disableOutsideScroll:w,...y}=e,S=mo(tr,n),j=Vc(tr,n),b=pf(n),C=I2(n),N=S9(n),[P,A]=m.useState(null),T=m.useRef(null),I=st(t,T,S.onContentChange),M=m.useRef(0),U=m.useRef(""),G=m.useRef(0),z=m.useRef(null),J=m.useRef("right"),$=m.useRef(0),k=w?jx:m.Fragment,O=w?{as:O9,allowPinchZoom:!0}:void 0,F=H=>{var ne,ue;const W=U.current+H,Q=N().filter(be=>!be.disabled),B=document.activeElement,q=(ne=Q.find(be=>be.ref.current===B))==null?void 0:ne.textValue,Z=Q.map(be=>be.textValue),X=G9(Z,W,q),ie=(ue=Q.find(be=>be.textValue===X))==null?void 0:ue.ref.current;(function be(_e){U.current=_e,window.clearTimeout(M.current),_e!==""&&(M.current=window.setTimeout(()=>be(""),1e3))})(W),ie&&setTimeout(()=>ie.focus())};m.useEffect(()=>()=>window.clearTimeout(M.current),[]),bT();const D=m.useCallback(H=>{var Q,B;return J.current===((Q=z.current)==null?void 0:Q.side)&&q9(H,(B=z.current)==null?void 0:B.area)},[]);return s.jsx(k9,{scope:n,searchRef:U,onItemEnter:m.useCallback(H=>{D(H)&&H.preventDefault()},[D]),onItemLeave:m.useCallback(H=>{var W;D(H)||((W=T.current)==null||W.focus(),A(null))},[D]),onTriggerLeave:m.useCallback(H=>{D(H)&&H.preventDefault()},[D]),pointerGraceTimerRef:G,onPointerGraceIntentChange:m.useCallback(H=>{z.current=H},[]),children:s.jsx(k,{...O,children:s.jsx(_x,{asChild:!0,trapped:i,onMountAutoFocus:ve(o,H=>{var W;H.preventDefault(),(W=T.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:s.jsx(Bh,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:v,onDismiss:x,children:s.jsx(R2,{asChild:!0,...C,dir:j.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:A,onEntryFocus:ve(u,H=>{j.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(c9,{role:"menu","aria-orientation":"vertical","data-state":nA(S.open),"data-radix-menu-content":"",dir:j.dir,...b,...y,ref:I,style:{outline:"none",...y.style},onKeyDown:ve(y.onKeyDown,H=>{const Q=H.target.closest("[data-radix-menu-content]")===H.currentTarget,B=H.ctrlKey||H.altKey||H.metaKey,q=H.key.length===1;Q&&(H.key==="Tab"&&H.preventDefault(),!B&&q&&F(H.key));const Z=T.current;if(H.target!==Z||!b9.includes(H.key))return;H.preventDefault();const ie=N().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);O2.includes(H.key)&&ie.reverse(),H9(ie)}),onBlur:ve(e.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(M.current),U.current="")}),onPointerMove:ve(e.onPointerMove,xc(H=>{const W=H.target,Q=$.current!==H.clientX;if(H.currentTarget.contains(W)&&Q){const B=H.clientX>$.current?"right":"left";J.current=B,$.current=H.clientX}}))})})})})})})});B2.displayName=tr;var M9="MenuGroup",Qx=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(je.div,{role:"group",...r,ref:t})});Qx.displayName=M9;var I9="MenuLabel",U2=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(je.div,{...r,ref:t})});U2.displayName=I9;var lh="MenuItem",sj="menu.itemSelect",gf=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=m.useRef(null),l=Vc(lh,e.__scopeMenu),c=Yx(lh,e.__scopeMenu),u=st(t,o),h=m.useRef(!1),f=()=>{const p=o.current;if(!n&&p){const v=new CustomEvent(sj,{bubbles:!0,cancelable:!0});p.addEventListener(sj,x=>r==null?void 0:r(x),{once:!0}),Fy(p,v),v.defaultPrevented?h.current=!1:l.onClose()}};return s.jsx(z2,{...i,ref:u,disabled:n,onClick:ve(e.onClick,f),onPointerDown:p=>{var v;(v=e.onPointerDown)==null||v.call(e,p),h.current=!0},onPointerUp:ve(e.onPointerUp,p=>{var v;h.current||(v=p.currentTarget)==null||v.click()}),onKeyDown:ve(e.onKeyDown,p=>{const v=c.searchRef.current!=="";n||v&&p.key===" "||uv.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});gf.displayName=lh;var z2=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,l=Yx(lh,n),c=I2(n),u=m.useRef(null),h=st(t,u),[f,p]=m.useState(!1),[v,x]=m.useState("");return m.useEffect(()=>{const w=u.current;w&&x((w.textContent??"").trim())},[o.children]),s.jsx(yc.ItemSlot,{scope:n,disabled:r,textValue:i??v,children:s.jsx(L2,{asChild:!0,...c,focusable:!r,children:s.jsx(je.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:h,onPointerMove:ve(e.onPointerMove,xc(w=>{r?l.onItemLeave(w):(l.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ve(e.onPointerLeave,xc(w=>l.onItemLeave(w))),onFocus:ve(e.onFocus,()=>p(!0)),onBlur:ve(e.onBlur,()=>p(!1))})})})}),D9="MenuCheckboxItem",V2=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return s.jsx(q2,{scope:e.__scopeMenu,checked:n,children:s.jsx(gf,{role:"menuitemcheckbox","aria-checked":ch(n)?"mixed":n,...i,ref:t,"data-state":t0(n),onSelect:ve(i.onSelect,()=>r==null?void 0:r(ch(n)?!0:!n),{checkForDefaultPrevented:!1})})})});V2.displayName=D9;var H2="MenuRadioGroup",[$9,F9]=fo(H2,{value:void 0,onValueChange:()=>{}}),W2=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=jn(r);return s.jsx($9,{scope:e.__scopeMenu,value:n,onValueChange:o,children:s.jsx(Qx,{...i,ref:t})})});W2.displayName=H2;var G2="MenuRadioItem",Z2=m.forwardRef((e,t)=>{const{value:n,...r}=e,i=F9(G2,e.__scopeMenu),o=n===i.value;return s.jsx(q2,{scope:e.__scopeMenu,checked:o,children:s.jsx(gf,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":t0(o),onSelect:ve(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,n)},{checkForDefaultPrevented:!1})})})});Z2.displayName=G2;var e0="MenuItemIndicator",[q2,B9]=fo(e0,{checked:!1}),K2=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=B9(e0,n);return s.jsx(sr,{present:r||ch(o.checked)||o.checked===!0,children:s.jsx(je.span,{...i,ref:t,"data-state":t0(o.checked)})})});K2.displayName=e0;var U9="MenuSeparator",J2=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(je.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});J2.displayName=U9;var z9="MenuArrow",Y2=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=pf(n);return s.jsx(u9,{...i,...r,ref:t})});Y2.displayName=z9;var V9="MenuSub",[pY,X2]=fo(V9),El="MenuSubTrigger",Q2=m.forwardRef((e,t)=>{const n=mo(El,e.__scopeMenu),r=Vc(El,e.__scopeMenu),i=X2(El,e.__scopeMenu),o=Yx(El,e.__scopeMenu),l=m.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=o,h={__scopeMenu:e.__scopeMenu},f=m.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return m.useEffect(()=>f,[f]),m.useEffect(()=>{const p=c.current;return()=>{window.clearTimeout(p),u(null)}},[c,u]),s.jsx(Kx,{asChild:!0,...h,children:s.jsx(z2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":nA(n.open),...e,ref:$h(t,i.onTriggerChange),onClick:p=>{var v;(v=e.onClick)==null||v.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ve(e.onPointerMove,xc(p=>{o.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:ve(e.onPointerLeave,xc(p=>{var x,w;f();const v=(x=n.content)==null?void 0:x.getBoundingClientRect();if(v){const y=(w=n.content)==null?void 0:w.dataset.side,S=y==="right",j=S?-5:5,b=v[S?"left":"right"],C=v[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:p.clientX+j,y:p.clientY},{x:b,y:v.top},{x:C,y:v.top},{x:C,y:v.bottom},{x:b,y:v.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(p),p.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ve(e.onKeyDown,p=>{var x;const v=o.searchRef.current!=="";e.disabled||v&&p.key===" "||j9[r.dir].includes(p.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),p.preventDefault())})})})});Q2.displayName=El;var eA="MenuSubContent",tA=m.forwardRef((e,t)=>{const n=$2(tr,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=mo(tr,e.__scopeMenu),l=Vc(tr,e.__scopeMenu),c=X2(eA,e.__scopeMenu),u=m.useRef(null),h=st(t,u);return s.jsx(yc.Provider,{scope:e.__scopeMenu,children:s.jsx(sr,{present:r||o.open,children:s.jsx(yc.Slot,{scope:e.__scopeMenu,children:s.jsx(Xx,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;l.isUsingKeyboardRef.current&&((p=u.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ve(e.onFocusOutside,f=>{f.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ve(e.onEscapeKeyDown,f=>{l.onClose(),f.preventDefault()}),onKeyDown:ve(e.onKeyDown,f=>{var x;const p=f.currentTarget.contains(f.target),v=C9[l.dir].includes(f.key);p&&v&&(o.onOpenChange(!1),(x=c.trigger)==null||x.focus(),f.preventDefault())})})})})})});tA.displayName=eA;function nA(e){return e?"open":"closed"}function ch(e){return e==="indeterminate"}function t0(e){return ch(e)?"indeterminate":e?"checked":"unchecked"}function H9(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function W9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function G9(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=W9(e,Math.max(o,0));i.length===1&&(l=l.filter(h=>h!==n));const u=l.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function Z9(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],u=t[l],h=c.x,f=c.y,p=u.x,v=u.y;f>r!=v>r&&n<(p-h)*(r-f)/(v-f)+h&&(i=!i)}return i}function q9(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Z9(n,t)}function xc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var K9=D2,J9=Kx,Y9=F2,X9=B2,Q9=Qx,eH=U2,tH=gf,nH=V2,rH=W2,iH=Z2,sH=K2,oH=J2,aH=Y2,lH=Q2,cH=tA,vf="DropdownMenu",[uH,gY]=Vn(vf,[M2]),dn=M2(),[dH,rA]=uH(vf),iA=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,u=dn(t),h=m.useRef(null),[f,p]=ji({prop:i,defaultProp:o??!1,onChange:l,caller:vf});return s.jsx(dH,{scope:t,triggerId:ln(),triggerRef:h,contentId:ln(),open:f,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(v=>!v),[p]),modal:c,children:s.jsx(K9,{...u,open:f,onOpenChange:p,dir:r,modal:c,children:n})})};iA.displayName=vf;var sA="DropdownMenuTrigger",oA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=rA(sA,n),l=dn(n);return s.jsx(J9,{asChild:!0,...l,children:s.jsx(je.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:$h(t,o.triggerRef),onPointerDown:ve(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:ve(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});oA.displayName=sA;var hH="DropdownMenuPortal",aA=e=>{const{__scopeDropdownMenu:t,...n}=e,r=dn(t);return s.jsx(Y9,{...r,...n})};aA.displayName=hH;var lA="DropdownMenuContent",cA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=rA(lA,n),o=dn(n),l=m.useRef(!1);return s.jsx(X9,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:ve(e.onCloseAutoFocus,c=>{var u;l.current||(u=i.triggerRef.current)==null||u.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:ve(e.onInteractOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,f=u.button===2||h;(!i.modal||f)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cA.displayName=lA;var fH="DropdownMenuGroup",mH=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=dn(n);return s.jsx(Q9,{...i,...r,ref:t})});mH.displayName=fH;var pH="DropdownMenuLabel",uA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=dn(n);return s.jsx(eH,{...i,...r,ref:t})});uA.displayName=pH;var gH="DropdownMenuItem",dA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=dn(n);return s.jsx(tH,{...i,...r,ref:t})});dA.displayName=gH;var vH="DropdownMenuCheckboxItem",hA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=dn(n);return s.jsx(nH,{...i,...r,ref:t})});hA.displayName=vH;var yH="DropdownMenuRadioGroup",xH=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=dn(n);return s.jsx(rH,{...i,...r,ref:t})});xH.displayName=yH;var _H="DropdownMenuRadioItem",fA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=dn(n);return s.jsx(iH,{...i,...r,ref:t})});fA.displayName=_H;var wH="DropdownMenuItemIndicator",mA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=dn(n);return s.jsx(sH,{...i,...r,ref:t})});mA.displayName=wH;var bH="DropdownMenuSeparator",pA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=dn(n);return s.jsx(oH,{...i,...r,ref:t})});pA.displayName=bH;var jH="DropdownMenuArrow",CH=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=dn(n);return s.jsx(aH,{...i,...r,ref:t})});CH.displayName=jH;var SH="DropdownMenuSubTrigger",gA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=dn(n);return s.jsx(lH,{...i,...r,ref:t})});gA.displayName=SH;var EH="DropdownMenuSubContent",vA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=dn(n);return s.jsx(cH,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vA.displayName=EH;var NH=iA,PH=oA,TH=aA,yA=cA,xA=uA,_A=dA,wA=hA,bA=fA,jA=mA,CA=pA,SA=gA,EA=vA;const AH=NH,kH=PH,RH=se.forwardRef(({className:e,inset:t,children:n,...r},i)=>s.jsxs(SA,{ref:i,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(UE,{className:"ml-auto h-4 w-4"})]}));RH.displayName=SA.displayName;const LH=se.forwardRef(({className:e,...t},n)=>s.jsx(EA,{ref:n,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));LH.displayName=EA.displayName;const NA=se.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(TH,{children:s.jsx(yA,{ref:r,sideOffset:t,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));NA.displayName=yA.displayName;const pd=se.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(_A,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));pd.displayName=_A.displayName;const OH=se.forwardRef(({className:e,children:t,checked:n,...r},i)=>s.jsxs(wA,{ref:i,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(jA,{children:s.jsx(Ay,{className:"h-4 w-4"})})}),t]}));OH.displayName=wA.displayName;const MH=se.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(bA,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(jA,{children:s.jsx(a3,{className:"h-2 w-2 fill-current"})})}),t]}));MH.displayName=bA.displayName;const PA=se.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(xA,{ref:r,className:ce("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));PA.displayName=xA.displayName;const dv=se.forwardRef(({className:e,...t},n)=>s.jsx(CA,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));dv.displayName=CA.displayName;const IH=({mode:e,setMode:t,onAuthSuccess:n})=>{const[r,i]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(!1),{signIn:h,signUp:f}=tn(),{toast:p}=et(),v=async x=>{x.preventDefault(),u(!0);const{error:w}=e==="signIn"?await h(r,o):await f(r,o);u(!1),w||(n(),p({title:e==="signIn"?"Connexion réussie":"Inscription réussie",description:"Bienvenue !"}))};return s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs(Ht,{children:[s.jsx(Wt,{children:e==="signIn"?"Connexion":"Inscription"}),s.jsx(Vr,{children:e==="signIn"?"Connectez-vous pour accéder à votre espace.":"Créez un compte pour rejoindre le club."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"email",children:"Email"}),s.jsx(we,{id:"email",type:"email",value:r,onChange:x=>i(x.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"password",children:"Mot de passe"}),s.jsx(we,{id:"password",type:"password",value:o,onChange:x=>l(x.target.value),required:!0})]})]}),s.jsxs(or,{className:"flex flex-col sm:flex-row sm:justify-between items-center",children:[s.jsx(ee,{type:"button",variant:"link",onClick:()=>t(e==="signIn"?"signUp":"signIn"),children:e==="signIn"?"Pas de compte ? S'inscrire":"Déjà un compte ? Se connecter"}),s.jsx(ee,{type:"submit",disabled:c,children:c?"Chargement...":e==="signIn"?"Se connecter":"S'inscrire"})]})]})},DH=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(!1),[i,o]=m.useState("signIn"),{user:l,signOut:c,isAdmin:u,isAdherent:h,profile:f}=tn(),{config:p,loadingConfig:v}=Fa(),x=Pn(),w=["/news","/schedule","/inscriptions","/contact","/volunteers","/members","/competitors","/competitions","/agenda","/session-log","/pedagogy"],y=[{to:"/news",text:"Actualités",roles:["public","user","adherent","admin"]},{to:"/schedule",text:"Planning",roles:["public","user","adherent","admin"]},{to:"/inscriptions",text:"Inscription",roles:["public","user","adherent","admin"]},{to:"/contact",text:"Contact",roles:["public","user","adherent","admin"]},{to:"/volunteers",text:"Bénévoles",roles:["public","user","adherent","admin"]},{to:"/members",text:"Adhérents",roles:["adherent","admin"]},{to:"/competitors",text:"Compétiteurs",roles:["adherent","admin"]},{to:"/competitions",text:"Compétitions",roles:["public","user","adherent","admin"]},{to:"/agenda",text:"Agenda",roles:["public","user","adherent","admin"]},{to:"/session-log",text:"Séances",roles:["adherent","admin"]},{to:"/pedagogy",text:"Fiches Pédagogiques",roles:["adherent","admin"]}],[S,j]=m.useState(y);m.useEffect(()=>{if(!v&&p.nav_config)try{const A=JSON.parse(p.nav_config);j(T=>{const I=[...T];return A.forEach(M=>{const U=I.findIndex(G=>G.to===M.to);U!==-1&&(I[U].roles=M.roles)}),I})}catch(A){console.error("Failed to parse nav_config:",A)}},[p.nav_config,v]);const b=async()=>{await c(),x("/")},C=()=>t(!1),N=u?"admin":h?"adherent":l?"user":"public",P=S.filter(A=>A.roles.includes(N)).sort((A,T)=>w.indexOf(A.to)-w.indexOf(T.to));return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:"bg-background/80 backdrop-blur-sm sticky top-0 z-40 border-b",children:s.jsxs("nav",{className:"container mx-auto px-4 flex justify-between items-center h-16",children:[s.jsx(Im,{to:"/",className:"text-2xl font-bold text-primary",children:!v&&p.site_logo?s.jsx("img",{alt:"Logo ALJ Escalade",className:"h-12",src:p.site_logo}):s.jsx("div",{className:"h-12 w-24 bg-muted rounded animate-pulse"})}),s.jsx("div",{className:"hidden md:flex items-center space-x-6",children:P.map(A=>s.jsx(Im,{to:A.to,className:({isActive:T})=>`text-sm font-medium transition-colors hover:text-primary ${T?"text-primary":"text-muted-foreground"}`,children:A.text},A.to))}),s.jsxs("div",{className:"flex items-center gap-2",children:[l?s.jsxs(AH,{children:[s.jsx(kH,{asChild:!0,children:s.jsxs(ee,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[s.jsx(ui,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:f!=null&&f.members?Ye(f.members.first_name,f.members.last_name,!1):l.email})]})}),s.jsxs(NA,{align:"end",children:[s.jsx(PA,{children:"Mon Compte"}),s.jsx(dv,{}),u&&s.jsxs(s.Fragment,{children:[s.jsxs(pd,{onClick:()=>x("/site-settings"),children:[s.jsx(eN,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Réglages du site"})]}),s.jsxs(pd,{onClick:()=>x("/admin-management"),children:[s.jsx(Dh,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Gestion des Rôles"})]}),s.jsx(dv,{})]}),s.jsxs(pd,{onClick:b,children:[s.jsx(g3,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Déconnexion"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(ee,{onClick:()=>{o("signIn"),r(!0)},variant:"ghost",size:"sm",className:"hidden sm:inline-flex",children:[s.jsx(p3,{className:"w-4 h-4 mr-2"})," Connexion"]}),s.jsxs(ee,{onClick:()=>{o("signUp"),r(!0)},size:"sm",children:[s.jsx($y,{className:"w-4 h-4 mr-2"})," Inscription"]})]}),s.jsx("div",{className:"md:hidden",children:s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t(!e),children:e?s.jsx(jr,{}):s.jsx(y3,{})})})]})]})}),s.jsx(Lt,{children:e&&s.jsx(de.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-background border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex flex-col space-y-4",children:[P.map(A=>s.jsx(Im,{to:A.to,onClick:C,className:({isActive:T})=>`text-lg font-medium transition-colors hover:text-primary ${T?"text-primary":"text-muted-foreground"}`,children:A.text},A.to)),!l&&s.jsx(ee,{onClick:()=>{C(),o("signIn"),r(!0)},variant:"outline",children:"Connexion"})]})})}),s.jsx(Ot,{open:n,onOpenChange:r,children:s.jsx(Tt,{children:s.jsx(IH,{mode:i,setMode:o,onAuthSuccess:()=>r(!1)})})})]})},$H=Vh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",competition:"border-transparent bg-red-200 text-red-800",loisir:"border-transparent bg-blue-200 text-blue-800",bloc:"border-transparent bg-purple-200 text-purple-800 dark:bg-purple-800 dark:text-purple-100",difficulte:"border-transparent bg-green-200 text-green-800 dark:bg-green-800 dark:text-green-100",vitesse:"border-transparent bg-orange-200 text-orange-800 dark:bg-orange-800 dark:text-orange-100",perf:"border-transparent bg-yellow-200 text-yellow-800",autonomes:"border-transparent bg-blue-200 text-blue-800",game:"border-transparent bg-purple-200 text-purple-800"}},defaultVariants:{variant:"default"}});function Te({className:e,variant:t,...n}){return s.jsx("div",{className:ce($H({variant:t}),e),...n})}const FH=[{key:"partner_logo_metropole_lyon",name:"Métropole de Lyon",alt:"Logo Métropole de Lyon",url:"https://www.grandlyon.com/",className:"h-16"},{key:"partner_logo_ffme",name:"FFME",alt:"Logo FFME",url:"https://www.ffme.fr/",className:"h-12"},{key:"partner_logo_auvergne_rhone_alpes",name:"Région Auvergne-Rhône-Alpes",alt:"Logo Région Auvergne-Rhône-Alpes",url:"https://www.auvergnerhonealpes.fr/",className:"h-14"},{key:"partner_logo_mairie_jonage",name:"Mairie de Jonage",alt:"Logo Mairie de Jonage",url:"https://www.mairiedejonage.com/",className:"h-16"}],BH=()=>{const{config:e,loadingConfig:t}=Fa(),[n,r]=m.useState(null);m.useEffect(()=>{fetch("/ALJ_Jonage_Escalade/version.json").then(o=>o.ok?o.json():null).then(o=>r(o)).catch(()=>r(null))},[]);const i=({p_key:o,p_url:l,p_alt:c,p_className:u})=>t||!e[o]?s.jsx("div",{className:`${u} w-24 bg-muted/50 rounded animate-pulse`}):s.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"opacity-80 hover:opacity-100 transition-opacity",children:s.jsx("img",{alt:c,className:`${u} object-contain`,src:e[o]})});return s.jsx("footer",{className:"bg-secondary/50 border-t mt-12",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("p",{className:"font-semibold text-lg",children:"ALJ Escalade Jonage"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Espace Agora, 23 Rue du Lavoir, 69330 Jonage"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ee,{asChild:!0,variant:"ghost",size:"icon",children:s.jsx("a",{href:"https://www.instagram.com/aljescalade/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:s.jsx(ZE,{className:"h-6 w-6"})})}),s.jsx(ee,{asChild:!0,variant:"ghost",size:"icon",children:s.jsx("a",{href:"https://www.facebook.com/amicalelaiquedejonage",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:s.jsx(WE,{className:"h-6 w-6"})})})]})]}),s.jsx("div",{className:"border-t my-8"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-md font-semibold mb-4",children:"Nos partenaires"}),s.jsx("div",{className:"flex flex-wrap justify-center items-center gap-x-8 gap-y-4",children:FH.map(o=>s.jsx(i,{p_key:o.key,p_url:o.url,p_alt:o.alt,p_className:o.className},o.key))})]}),s.jsx("div",{className:"border-t my-8"}),s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 mb-2",children:[s.jsxs("p",{children:["© ",new Date().getFullYear()," ALJ Escalade Jonage. Tous droits réservés."]}),n&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"hidden sm:inline",children:"•"}),s.jsxs(Te,{variant:"outline",className:"text-xs",children:["v",n.version]}),n.buildDate&&s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(n.buildDate).toLocaleDateString("fr-FR")})]})]})})]})})},pe=se.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));pe.displayName="Card";const Se=se.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",e),...t}));Se.displayName="CardHeader";const Ee=se.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ee.displayName="CardTitle";const Wr=se.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));Wr.displayName="CardDescription";const ge=se.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ce("p-6 pt-0",e),...t}));ge.displayName="CardContent";const ws=se.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",e),...t}));ws.displayName="CardFooter";const Dt=se.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Dt.displayName="Textarea";function es(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function oj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function TA(...e){return t=>{let n=!1;const r=e.map(i=>{const o=oj(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():oj(e[i],null)}}}}function bs(...e){return m.useCallback(TA(...e),e)}function AA(e,t=[]){let n=[];function r(o,l){const c=m.createContext(l),u=n.length;n=[...n,l];const h=p=>{var j;const{scope:v,children:x,...w}=p,y=((j=v==null?void 0:v[e])==null?void 0:j[u])||c,S=m.useMemo(()=>w,Object.values(w));return s.jsx(y.Provider,{value:S,children:x})};h.displayName=o+"Provider";function f(p,v){var y;const x=((y=v==null?void 0:v[e])==null?void 0:y[u])||c,w=m.useContext(x);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[h,f]}const i=()=>{const o=n.map(l=>m.createContext(l));return function(c){const u=(c==null?void 0:c[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return i.scopeName=e,[r,UH(i,...t)]}function UH(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:u,scopeName:h})=>{const p=u(o)[`__scope${h}`];return{...c,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var n0=m.forwardRef((e,t)=>{const{children:n,...r}=e,i=m.Children.toArray(n),o=i.find(VH);if(o){const l=o.props.children,c=i.map(u=>u===o?m.Children.count(l)>1?m.Children.only(null):m.isValidElement(l)?l.props.children:null:u);return s.jsx(hv,{...r,ref:t,children:m.isValidElement(l)?m.cloneElement(l,void 0,c):null})}return s.jsx(hv,{...r,ref:t,children:n})});n0.displayName="Slot";var hv=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const i=WH(n);return m.cloneElement(n,{...HH(r,n.props),ref:t?TA(t,i):i})}return m.Children.count(n)>1?m.Children.only(null):null});hv.displayName="SlotClone";var zH=({children:e})=>s.jsx(s.Fragment,{children:e});function VH(e){return m.isValidElement(e)&&e.type===zH}function HH(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...c)=>{o(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function WH(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var GH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ci=GH.reduce((e,t)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?n0:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ZH(e,t){e&&Gr.flushSync(()=>e.dispatchEvent(t))}function cs(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function qH(e,t=globalThis==null?void 0:globalThis.document){const n=cs(e);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var KH="DismissableLayer",fv="dismissableLayer.update",JH="dismissableLayer.pointerDownOutside",YH="dismissableLayer.focusOutside",aj,kA=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),RA=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...u}=e,h=m.useContext(kA),[f,p]=m.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=m.useState({}),w=bs(t,T=>p(T)),y=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),j=y.indexOf(S),b=f?y.indexOf(f):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,N=b>=j,P=eW(T=>{const I=T.target,M=[...h.branches].some(U=>U.contains(I));!N||M||(i==null||i(T),l==null||l(T),T.defaultPrevented||c==null||c())},v),A=tW(T=>{const I=T.target;[...h.branches].some(U=>U.contains(I))||(o==null||o(T),l==null||l(T),T.defaultPrevented||c==null||c())},v);return qH(T=>{b===h.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},v),m.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(aj=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),lj(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=aj)}},[f,v,n,h]),m.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),lj())},[f,h]),m.useEffect(()=>{const T=()=>x({});return document.addEventListener(fv,T),()=>document.removeEventListener(fv,T)},[]),s.jsx(Ci.div,{...u,ref:w,style:{pointerEvents:C?N?"auto":"none":void 0,...e.style},onFocusCapture:es(e.onFocusCapture,A.onFocusCapture),onBlurCapture:es(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:es(e.onPointerDownCapture,P.onPointerDownCapture)})});RA.displayName=KH;var XH="DismissableLayerBranch",QH=m.forwardRef((e,t)=>{const n=m.useContext(kA),r=m.useRef(null),i=bs(t,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(Ci.div,{...e,ref:i})});QH.displayName=XH;function eW(e,t=globalThis==null?void 0:globalThis.document){const n=cs(e),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let u=function(){LA(JH,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function tW(e,t=globalThis==null?void 0:globalThis.document){const n=cs(e),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&LA(YH,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lj(){const e=new CustomEvent(fv);document.dispatchEvent(e)}function LA(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?ZH(i,o):i.dispatchEvent(o)}var gp=0;function nW(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??cj()),document.body.insertAdjacentElement("beforeend",e[1]??cj()),gp++,()=>{gp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gp--}},[])}function cj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vp="focusScope.autoFocusOnMount",yp="focusScope.autoFocusOnUnmount",uj={bubbles:!1,cancelable:!0},rW="FocusScope",OA=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[c,u]=m.useState(null),h=cs(i),f=cs(o),p=m.useRef(null),v=bs(t,y=>u(y)),x=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(C){if(x.paused||!c)return;const N=C.target;c.contains(N)?p.current=N:Li(p.current,{select:!0})},S=function(C){if(x.paused||!c)return;const N=C.relatedTarget;N!==null&&(c.contains(N)||Li(p.current,{select:!0}))},j=function(C){if(document.activeElement===document.body)for(const P of C)P.removedNodes.length>0&&Li(c)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const b=new MutationObserver(j);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),b.disconnect()}}},[r,c,x.paused]),m.useEffect(()=>{if(c){hj.add(x);const y=document.activeElement;if(!c.contains(y)){const j=new CustomEvent(vp,uj);c.addEventListener(vp,h),c.dispatchEvent(j),j.defaultPrevented||(iW(cW(MA(c)),{select:!0}),document.activeElement===y&&Li(c))}return()=>{c.removeEventListener(vp,h),setTimeout(()=>{const j=new CustomEvent(yp,uj);c.addEventListener(yp,f),c.dispatchEvent(j),j.defaultPrevented||Li(y??document.body,{select:!0}),c.removeEventListener(yp,f),hj.remove(x)},0)}}},[c,h,f,x]);const w=m.useCallback(y=>{if(!n&&!r||x.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,j=document.activeElement;if(S&&j){const b=y.currentTarget,[C,N]=sW(b);C&&N?!y.shiftKey&&j===N?(y.preventDefault(),n&&Li(C,{select:!0})):y.shiftKey&&j===C&&(y.preventDefault(),n&&Li(N,{select:!0})):j===b&&y.preventDefault()}},[n,r,x.paused]);return s.jsx(Ci.div,{tabIndex:-1,...l,ref:v,onKeyDown:w})});OA.displayName=rW;function iW(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Li(r,{select:t}),document.activeElement!==n)return}function sW(e){const t=MA(e),n=dj(t,e),r=dj(t.reverse(),e);return[n,r]}function MA(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function dj(e,t){for(const n of e)if(!oW(n,{upTo:t}))return n}function oW(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aW(e){return e instanceof HTMLInputElement&&"select"in e}function Li(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&aW(e)&&t&&e.select()}}var hj=lW();function lW(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=fj(e,t),e.unshift(t)},remove(t){var n;e=fj(e,t),(n=e[0])==null||n.resume()}}}function fj(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function cW(e){return e.filter(t=>t.tagName!=="A")}var ro=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},uW=Cc["useId".toString()]||(()=>{}),dW=0;function hW(e){const[t,n]=m.useState(uW());return ro(()=>{e||n(r=>r??String(dW++))},[e]),e||(t?`radix-${t}`:"")}var fW="Arrow",IA=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return s.jsx(Ci.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});IA.displayName=fW;var mW=IA;function pW(e){const[t,n]=m.useState(void 0);return ro(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,c;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,c=h.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var r0="Popper",[DA,$A]=AA(r0),[gW,FA]=DA(r0),BA=e=>{const{__scopePopper:t,children:n}=e,[r,i]=m.useState(null);return s.jsx(gW,{scope:t,anchor:r,onAnchorChange:i,children:n})};BA.displayName=r0;var UA="PopperAnchor",zA=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=FA(UA,n),l=m.useRef(null),c=bs(t,l);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:s.jsx(Ci.div,{...i,ref:c})});zA.displayName=UA;var i0="PopperContent",[vW,yW]=DA(i0),VA=m.forwardRef((e,t)=>{var ne,ue,be,_e,Ce,Ae;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:x="optimized",onPlaced:w,...y}=e,S=FA(i0,n),[j,b]=m.useState(null),C=bs(t,ze=>b(ze)),[N,P]=m.useState(null),A=pW(N),T=(A==null?void 0:A.width)??0,I=(A==null?void 0:A.height)??0,M=r+(o!=="center"?"-"+o:""),U=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},G=Array.isArray(h)?h:[h],z=G.length>0,J={padding:U,boundary:G.filter(_W),altBoundary:z},{refs:$,floatingStyles:k,placement:O,isPositioned:F,middlewareData:D}=Fx({strategy:"fixed",placement:M,whileElementsMounted:(...ze)=>$x(...ze,{animationFrame:x==="always"}),elements:{reference:S.anchor},middleware:[Bx({mainAxis:i+I,alignmentAxis:l}),u&&Ux({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?zx():void 0,...J}),u&&Vx({...J}),Hx({...J,apply:({elements:ze,rects:Ze,availableWidth:hn,availableHeight:Hn})=>{const{width:An,height:Er}=Ze.reference,kn=ze.floating.style;kn.setProperty("--radix-popper-available-width",`${hn}px`),kn.setProperty("--radix-popper-available-height",`${Hn}px`),kn.setProperty("--radix-popper-anchor-width",`${An}px`),kn.setProperty("--radix-popper-anchor-height",`${Er}px`)}}),N&&Gx({element:N,padding:c}),wW({arrowWidth:T,arrowHeight:I}),v&&Wx({strategy:"referenceHidden",...J})]}),[H,W]=GA(O),Q=cs(w);ro(()=>{F&&(Q==null||Q())},[F,Q]);const B=(ne=D.arrow)==null?void 0:ne.x,q=(ue=D.arrow)==null?void 0:ue.y,Z=((be=D.arrow)==null?void 0:be.centerOffset)!==0,[X,ie]=m.useState();return ro(()=>{j&&ie(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:F?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(_e=D.transformOrigin)==null?void 0:_e.x,(Ce=D.transformOrigin)==null?void 0:Ce.y].join(" "),...((Ae=D.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(vW,{scope:n,placedSide:H,onArrowChange:P,arrowX:B,arrowY:q,shouldHideArrow:Z,children:s.jsx(Ci.div,{"data-side":H,"data-align":W,...y,ref:C,style:{...y.style,animation:F?void 0:"none"}})})})});VA.displayName=i0;var HA="PopperArrow",xW={top:"bottom",right:"left",bottom:"top",left:"right"},WA=m.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=yW(HA,r),l=xW[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(mW,{...i,ref:n,style:{...i.style,display:"block"}})})});WA.displayName=HA;function _W(e){return e!==null}var wW=e=>({name:"transformOrigin",options:e,fn(t){var S,j,b;const{placement:n,rects:r,middlewareData:i}=t,l=((S=i.arrow)==null?void 0:S.centerOffset)!==0,c=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[h,f]=GA(n),p={start:"0%",center:"50%",end:"100%"}[f],v=(((j=i.arrow)==null?void 0:j.x)??0)+c/2,x=(((b=i.arrow)==null?void 0:b.y)??0)+u/2;let w="",y="";return h==="bottom"?(w=l?p:`${v}px`,y=`${-u}px`):h==="top"?(w=l?p:`${v}px`,y=`${r.floating.height+u}px`):h==="right"?(w=`${-u}px`,y=l?p:`${x}px`):h==="left"&&(w=`${r.floating.width+u}px`,y=l?p:`${x}px`),{data:{x:w,y}}}});function GA(e){const[t,n="center"]=e.split("-");return[t,n]}var bW=BA,ZA=zA,jW=VA,CW=WA,SW="Portal",qA=m.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[i,o]=m.useState(!1);ro(()=>o(!0),[]);const l=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Ey.createPortal(s.jsx(Ci.div,{...r,ref:t}),l):null});qA.displayName=SW;function EW(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var s0=e=>{const{present:t,children:n}=e,r=NW(t),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=bs(r.ref,PW(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};s0.displayName="Presence";function NW(e){const[t,n]=m.useState(),r=m.useRef({}),i=m.useRef(e),o=m.useRef("none"),l=e?"mounted":"unmounted",[c,u]=EW(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const h=Gu(r.current);o.current=c==="mounted"?h:"none"},[c]),ro(()=>{const h=r.current,f=i.current;if(f!==e){const v=o.current,x=Gu(h);e?u("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(f&&v!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),ro(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,p=x=>{const y=Gu(r.current).includes(x.animationName);if(x.target===t&&y&&(u("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},v=x=>{x.target===t&&(o.current=Gu(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:m.useCallback(h=>{h&&(r.current=getComputedStyle(h)),n(h)},[])}}function Gu(e){return(e==null?void 0:e.animationName)||"none"}function PW(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function TW({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=AW({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:r,c=cs(n),u=m.useCallback(h=>{if(o){const p=typeof h=="function"?h(e):h;p!==e&&c(p)}else i(h)},[o,e,i,c]);return[l,u]}function AW({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,i=m.useRef(r),o=cs(t);return m.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var o0="Popover",[KA,vY]=AA(o0,[$A]),Hc=$A(),[kW,js]=KA(o0),JA=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:l=!1}=e,c=Hc(t),u=m.useRef(null),[h,f]=m.useState(!1),[p=!1,v]=TW({prop:r,defaultProp:i,onChange:o});return s.jsx(bW,{...c,children:s.jsx(kW,{scope:t,contentId:hW(),triggerRef:u,open:p,onOpenChange:v,onOpenToggle:m.useCallback(()=>v(x=>!x),[v]),hasCustomAnchor:h,onCustomAnchorAdd:m.useCallback(()=>f(!0),[]),onCustomAnchorRemove:m.useCallback(()=>f(!1),[]),modal:l,children:n})})};JA.displayName=o0;var YA="PopoverAnchor",RW=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=js(YA,n),o=Hc(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=i;return m.useEffect(()=>(l(),()=>c()),[l,c]),s.jsx(ZA,{...o,...r,ref:t})});RW.displayName=YA;var XA="PopoverTrigger",QA=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=js(XA,n),o=Hc(n),l=bs(t,i.triggerRef),c=s.jsx(Ci.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ik(i.open),...r,ref:l,onClick:es(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:s.jsx(ZA,{asChild:!0,...o,children:c})});QA.displayName=XA;var a0="PopoverPortal",[LW,OW]=KA(a0,{forceMount:void 0}),ek=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=js(a0,t);return s.jsx(LW,{scope:t,forceMount:n,children:s.jsx(s0,{present:n||o.open,children:s.jsx(qA,{asChild:!0,container:i,children:r})})})};ek.displayName=a0;var Ea="PopoverContent",tk=m.forwardRef((e,t)=>{const n=OW(Ea,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=js(Ea,e.__scopePopover);return s.jsx(s0,{present:r||o.open,children:o.modal?s.jsx(MW,{...i,ref:t}):s.jsx(IW,{...i,ref:t})})});tk.displayName=Ea;var MW=m.forwardRef((e,t)=>{const n=js(Ea,e.__scopePopover),r=m.useRef(null),i=bs(t,r),o=m.useRef(!1);return m.useEffect(()=>{const l=r.current;if(l)return sf(l)},[]),s.jsx(jx,{as:n0,allowPinchZoom:!0,children:s.jsx(nk,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:es(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),o.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:es(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:es(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),IW=m.forwardRef((e,t)=>{const n=js(Ea,e.__scopePopover),r=m.useRef(!1),i=m.useRef(!1);return s.jsx(nk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var u,h;(u=e.onInteractOutside)==null||u.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),nk=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,...p}=e,v=js(Ea,n),x=Hc(n);return nW(),s.jsx(OA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:s.jsx(RA,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onDismiss:()=>v.onOpenChange(!1),children:s.jsx(jW,{"data-state":ik(v.open),role:"dialog",id:v.contentId,...x,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rk="PopoverClose",DW=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=js(rk,n);return s.jsx(Ci.button,{type:"button",...r,ref:t,onClick:es(e.onClick,()=>i.onOpenChange(!1))})});DW.displayName=rk;var $W="PopoverArrow",FW=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Hc(n);return s.jsx(CW,{...i,...r,ref:t})});FW.displayName=$W;function ik(e){return e?"open":"closed"}var BW=JA,UW=QA,zW=ek,sk=tk;const l0=BW,c0=UW,yf=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>s.jsx(zW,{children:s.jsx(sk,{ref:i,align:t,sideOffset:n,className:ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));yf.displayName=sk.displayName;const mj="exercise_images",VW=()=>{const{config:e,loadingConfig:t}=Fa(),n=e.news_banner_image||"https://cdn.helloasso.com/img/photos/adhesions/croppedimage-6803a6ee62bc411ba750df859ee08f93.png?resize=fill:1920:250";return t?s.jsx("div",{className:"w-full h-48 md:h-64 bg-muted rounded-lg animate-pulse mb-12"}):s.jsx(de.div,{className:"mb-12 rounded-lg overflow-hidden shadow-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.7,ease:"easeInOut"},children:s.jsx("img",{src:n,alt:"Bannière des actualités",className:"w-full h-auto object-cover"})})},HW=()=>s.jsx(de.section,{className:"mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs(pe,{className:"bg-gradient-to-br from-card to-muted/30",children:[s.jsxs(Se,{className:"flex flex-row items-center gap-4",children:[s.jsx($n,{className:"w-8 h-8 text-primary"}),s.jsx(Ee,{children:"Pôle escalade"})]}),s.jsx(ge,{children:s.jsx("p",{className:"text-muted-foreground",children:"Débutant ou confirmé, Enfants, Adolescents ou Adultes, Vous êtes tous les bienvenus."})})]}),s.jsxs(pe,{className:"bg-gradient-to-br from-card to-muted/30",children:[s.jsxs(Se,{className:"flex flex-row items-center gap-4",children:[s.jsx(Mh,{className:"w-8 h-8 text-primary"}),s.jsx(Ee,{children:"L'amicale"})]}),s.jsx(ge,{children:s.jsx("p",{className:"text-muted-foreground",children:"L’ALJ est une association. Nous organisons diverses animations tout au long de l’année."})})]}),s.jsxs(pe,{className:"bg-gradient-to-br from-card to-muted/30",children:[s.jsxs(Se,{className:"flex flex-row items-center gap-4",children:[s.jsx(x3,{className:"w-8 h-8 text-primary"}),s.jsx(Ee,{children:"Pôle Ski"})]}),s.jsx(ge,{children:s.jsx("p",{className:"text-muted-foreground",children:"ALJ, c’est aussi du ski pour les élèves d’école primaire chaque hiver, les mercredis en janvier et février."})})]})]})}),WW=({newsItem:e,onSave:t,onCancel:n,isSaving:r})=>{const[i,o]=m.useState(e||{title:"",date:new Date().toISOString().split("T")[0],short_description:"",long_description:"",external_link:"",image_url:"",document_url:""}),[l,c]=m.useState(null),[u,h]=m.useState(null),f=x=>{const{name:w,value:y}=x.target;o(S=>({...S,[w]:y}))},p=(x,w)=>{x.target.files&&x.target.files[0]&&w(x.target.files[0])},v=x=>{x.preventDefault(),t({...i,imageFile:l,documentFile:u})};return s.jsx(Ot,{open:!0,onOpenChange:n,children:s.jsx(Tt,{className:"sm:max-w-[625px]",children:s.jsxs("form",{onSubmit:v,children:[s.jsx(Ht,{children:s.jsx(Wt,{children:e?"Modifier l'actualité":"Créer une actualité"})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(le,{htmlFor:"title",className:"text-right",children:"Titre"}),s.jsx(we,{id:"title",name:"title",value:i.title,onChange:f,className:"col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(le,{htmlFor:"date",className:"text-right",children:"Date"}),s.jsx(we,{id:"date",name:"date",type:"date",value:i.date,onChange:f,className:"col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(le,{htmlFor:"short_description",className:"text-right",children:"Description courte"}),s.jsx(Dt,{id:"short_description",name:"short_description",value:i.short_description,onChange:f,className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(le,{htmlFor:"long_description",className:"text-right",children:"Description longue"}),s.jsx(Dt,{id:"long_description",name:"long_description",value:i.long_description,onChange:f,className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(le,{htmlFor:"external_link",className:"text-right",children:"Lien externe"}),s.jsx(we,{id:"external_link",name:"external_link",value:i.external_link,onChange:f,className:"col-span-3",placeholder:"https://..."})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(le,{htmlFor:"image",className:"text-right",children:"Image"}),s.jsx(we,{id:"image",type:"file",onChange:x=>p(x,c),className:"col-span-3",accept:"image/*"})]}),i.image_url&&!l&&s.jsx("div",{className:"col-start-2 col-span-3",children:s.jsx("img",{src:i.image_url,alt:"Aperçu",className:"h-20 rounded-md"})}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(le,{htmlFor:"document",className:"text-right",children:"Document"}),s.jsx(we,{id:"document",type:"file",onChange:x=>p(x,h),className:"col-span-3"})]}),i.document_url&&!u&&s.jsx("div",{className:"col-start-2 col-span-3",children:s.jsx("a",{href:i.document_url,target:"_blank",rel:"noreferrer",className:"text-sm text-primary hover:underline",children:"Voir le document actuel"})})]}),s.jsxs(or,{children:[s.jsx(ee,{type:"button",variant:"ghost",onClick:n,children:"Annuler"}),s.jsx(ee,{type:"submit",disabled:r,children:r?s.jsx($e,{className:"animate-spin"}):"Sauvegarder"})]})]})})})},pj=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,o]=m.useState(!1),[l,c]=m.useState(null),[u,h]=m.useState(!1),[f,p]=m.useState(null),[v,x]=m.useState("asc"),{toast:w}=et(),{isAdmin:y,loading:S}=tn(),j=m.useCallback(async()=>{r(!0);const{data:M,error:U}=await te.from("news").select("*");U?w({title:"Erreur",description:"Impossible de charger les actualités.",variant:"destructive"}):t(M),r(!1)},[w]);m.useEffect(()=>{j()},[j]);const b=m.useMemo(()=>[...e].sort((M,U)=>{const G=new Date(M.date),z=new Date(U.date);return v==="desc"?z-G:G-z}),[e,v]),C=async(M,U)=>{if(!M)return null;const G=M.name.split(".").pop(),z=`news/${Date.now()}.${G}`,{error:J}=await te.storage.from(U).upload(z,M);if(J)throw J;const{data:$}=te.storage.from(U).getPublicUrl(z);return $.publicUrl},N=async M=>{h(!0);try{const{id:U,imageFile:G,documentFile:z,...J}=M,$=await C(G,mj);$&&(J.image_url=$);const k=await C(z,mj);if(k&&(J.document_url=k),l){const{error:O}=await te.from("news").update(J).eq("id",l.id);if(O)throw O}else{const{error:O}=await te.from("news").insert(J);if(O)throw O}w({title:"Succès",description:"Actualité sauvegardée."}),o(!1),c(null),j()}catch(U){w({title:"Erreur",description:U.message,variant:"destructive"})}finally{h(!1)}},P=async M=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette actualité ?"))try{const{error:U}=await te.from("news").delete().eq("id",M);if(U)throw U;w({title:"Succès",description:"Actualité supprimée."}),j()}catch(U){w({title:"Erreur",description:U.message,variant:"destructive"})}},A=!S&&y,T=(M,U)=>{const G=`${window.location.origin}/news/${U.id}`,z=`${U.title}

${U.short_description||""}

Pour en savoir plus, visitez notre site !`;let J="";M==="facebook"?J=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(G)}`:M==="whatsapp"&&(J=`https://api.whatsapp.com/send?text=${encodeURIComponent(z+`
`+G)}`),J&&window.open(J,"_blank","noopener,noreferrer")},I=()=>n||S?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):b.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-16",children:"Aucune actualité pour le moment."}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.jsx(Lt,{children:b.map(M=>s.jsx(de.div,{layout:!0,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.3},children:s.jsxs(pe,{className:"flex flex-col h-full",children:[M.image_url&&s.jsx("div",{className:"cursor-pointer",onClick:()=>p(M.image_url),children:s.jsx("img",{src:M.image_url,alt:M.title,className:"w-full h-48 object-cover rounded-t-lg"})}),s.jsxs(Se,{children:[s.jsx(Ee,{children:M.title}),s.jsx(Wr,{children:new Date(M.date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),s.jsx(ge,{className:"flex-grow",children:s.jsx("p",{className:"text-sm",children:M.short_description})}),s.jsxs(ws,{className:"flex flex-col items-start gap-2",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(ee,{asChild:!0,variant:"link",size:"sm",children:s.jsxs(uc,{to:`/news/${M.id}`,children:[s.jsx(Ly,{className:"w-4 h-4 mr-2"}),"Voir plus"]})}),M.document_url&&s.jsx(ee,{asChild:!0,variant:"link",size:"sm",children:s.jsxs("a",{href:M.document_url,target:"_blank",rel:"noreferrer",children:[s.jsx(HE,{className:"w-4 h-4 mr-2"}),"Télécharger"]})})]}),s.jsxs("div",{className:"flex gap-2 self-end items-center",children:[s.jsxs(l0,{children:[s.jsx(c0,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"icon",children:s.jsx(tN,{className:"w-4 h-4"})})}),s.jsx(yf,{className:"w-auto p-2",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(ee,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>T("facebook",M),children:"Facebook"}),s.jsx(ee,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>T("whatsapp",M),children:"WhatsApp"})]})})]}),A&&s.jsxs(s.Fragment,{children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{c(M),o(!0)},children:s.jsx(Zr,{className:"w-4 h-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>P(M.id),children:s.jsx(br,{className:"w-4 h-4"})})]})]})]})]})},M.id))})});return s.jsxs("div",{className:"space-y-8",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Actualités - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Les dernières actualités et annonces du club d'escalade."})]}),s.jsx(HW,{}),s.jsx(VW,{}),s.jsx(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(_3,{className:"w-10 h-10 text-primary"}),"Actualités du Club"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ee,{variant:"outline",onClick:()=>x(M=>M==="desc"?"asc":"desc"),children:[s.jsx(e3,{className:"w-4 h-4 mr-2"}),"Trier par date (",v==="desc"?"récent":"ancien",")"]}),A&&s.jsxs(ee,{onClick:()=>{c(null),o(!0)},children:[s.jsx(Ma,{className:"w-4 h-4 mr-2"})," Ajouter"]})]})]})}),s.jsx(Lt,{children:i&&A&&s.jsx(WW,{newsItem:l,onSave:N,onCancel:()=>{o(!1),c(null)},isSaving:u},l?l.id:"new")}),I(),s.jsx(Ot,{open:!!f,onOpenChange:()=>p(null),children:s.jsx(Tt,{className:"max-w-4xl p-2",children:s.jsx("img",{src:f,alt:"Aperçu de l'actualité",className:"w-full h-auto max-h-[90vh] object-contain rounded-md"})})})]})},GW=({newsItem:e,onSave:t,onCancel:n,isSaving:r})=>{const[i,o]=m.useState([]),l=u=>{u.target.files&&o(Array.from(u.target.files))},c=u=>{u.preventDefault(),i.length>0&&t(e.id,i)};return s.jsx(Ot,{open:!0,onOpenChange:n,children:s.jsx(Tt,{children:s.jsxs("form",{onSubmit:c,children:[s.jsx(Ht,{children:s.jsxs(Wt,{children:["Ajouter des photos pour ",e.title]})}),s.jsxs("div",{className:"py-4",children:[s.jsx(le,{htmlFor:"photos",children:"Sélectionner des photos"}),s.jsx(we,{id:"photos",type:"file",multiple:!0,onChange:l,accept:"image/*"}),i.length>0&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[i.length," photo(s) sélectionnée(s)"]})]}),s.jsxs(or,{children:[s.jsx(ee,{type:"button",variant:"ghost",onClick:n,children:"Annuler"}),s.jsx(ee,{type:"submit",disabled:r||i.length===0,children:r?s.jsx($e,{className:"animate-spin"}):"Télécharger"})]})]})})})},ZW=()=>{const{id:e}=kh(),[t,n]=m.useState(null),[r,i]=m.useState(!0),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[h,f]=m.useState(null),{toast:p}=et(),{isAdmin:v,loading:x}=tn(),w=m.useCallback(async()=>{i(!0);const{data:N,error:P}=await te.from("news").select("*").eq("id",e).single();P?p({title:"Erreur",description:"Impossible de charger cette actualité.",variant:"destructive"}):n(N),i(!1)},[e,p]);m.useEffect(()=>{w()},[w]);const y=async N=>{if(!N)return null;const P=N.name.split(".").pop(),A=`news_gallery/${e}/${Date.now()}-${Math.random()}.${P}`,{error:T}=await te.storage.from("exercise_images").upload(A,N);if(T)throw T;const{data:I}=te.storage.from("exercise_images").getPublicUrl(A);return I.publicUrl},S=async(N,P)=>{l(!0);try{const A=P.map(G=>y(G)),T=await Promise.all(A),M=[...t.photo_gallery||[],...T.filter(G=>G)],{error:U}=await te.from("news").update({photo_gallery:M}).eq("id",N);if(U)throw U;p({title:"Succès",description:"Photos ajoutées."}),u(!1),w()}catch(A){p({title:"Erreur",description:A.message,variant:"destructive"})}finally{l(!1)}},j=async N=>{if(!window.confirm("Êtes-vous sûr de vouloir supprimer cette photo ?"))return;const P=(t.photo_gallery||[]).filter(T=>T!==N),{error:A}=await te.from("news").update({photo_gallery:P}).eq("id",e);if(A)p({title:"Erreur",description:"Impossible de supprimer la photo.",variant:"destructive"});else{p({title:"Succès",description:"Photo supprimée."}),w();const T=N.substring(N.indexOf("news_gallery/"));await te.storage.from("exercise_images").remove([T])}},b=N=>{const P=window.location.href,A=`${t.title}

${t.short_description||""}

Pour en savoir plus, visitez notre site !`;let T="";N==="facebook"?T=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(P)}`:N==="whatsapp"&&(T=`https://api.whatsapp.com/send?text=${encodeURIComponent(A+`
`+P)}`),T&&window.open(T,"_blank","noopener,noreferrer")},C=!x&&v;return r?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):t?s.jsxs(s.Fragment,{children:[s.jsxs(wt,{children:[s.jsx("title",{children:`${t.title} - Actualités`}),s.jsx("meta",{name:"description",content:t.short_description}),s.jsx("meta",{property:"og:title",content:t.title}),s.jsx("meta",{property:"og:description",content:t.short_description}),t.image_url&&s.jsx("meta",{property:"og:image",content:t.image_url}),s.jsx("meta",{property:"og:url",content:window.location.href}),s.jsx("meta",{property:"og:type",content:"article"})]}),s.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx(ee,{asChild:!0,variant:"outline",className:"mb-8",children:s.jsxs(uc,{to:"/news",children:[s.jsx(is,{className:"mr-2 h-4 w-4"})," Retour aux actualités"]})}),s.jsxs(pe,{children:[t.image_url&&s.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-64 md:h-96 object-cover rounded-t-lg"}),s.jsxs(Se,{children:[s.jsx(Ee,{className:"text-3xl md:text-4xl font-bold headline",children:t.title}),s.jsxs(Wr,{className:"flex items-center gap-2 pt-2",children:[s.jsx(Oa,{className:"w-4 h-4"}),new Date(t.date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]})]}),s.jsxs(ge,{className:"space-y-6 text-lg",children:[s.jsx("p",{className:"font-semibold",children:t.short_description}),t.long_description&&s.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:t.long_description}),t.photo_gallery&&t.photo_gallery.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Photos"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.photo_gallery.map((N,P)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:N,alt:`Photo de l'actualité ${P+1}`,className:"w-full h-32 object-cover rounded-md cursor-pointer",onClick:()=>f(N)}),C&&s.jsx(ee,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>j(N),children:s.jsx(jr,{className:"h-4 w-4"})})]},P))})]})]}),s.jsxs(ws,{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[t.external_link&&s.jsx(ee,{asChild:!0,variant:"outline",children:s.jsxs("a",{href:t.external_link,target:"_blank",rel:"noreferrer",children:[s.jsx(eo,{className:"w-4 h-4 mr-2"}),"Plus d'infos"]})}),t.document_url&&s.jsx(ee,{asChild:!0,variant:"outline",children:s.jsxs("a",{href:t.document_url,target:"_blank",rel:"noreferrer",children:[s.jsx(HE,{className:"w-4 h-4 mr-2"}),"Télécharger"]})}),C&&s.jsxs(ee,{variant:"outline",onClick:()=>u(!0),children:[s.jsx(f3,{className:"w-4 h-4 mr-2"})," Ajouter des photos"]})]}),s.jsxs(l0,{children:[s.jsx(c0,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"icon",children:s.jsx(tN,{className:"w-5 h-5"})})}),s.jsx(yf,{className:"w-auto p-2",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(ee,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>b("facebook"),children:"Facebook"}),s.jsx(ee,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>b("whatsapp"),children:"WhatsApp"})]})})]})]})]})]}),s.jsx(Lt,{children:c&&C&&s.jsx(GW,{newsItem:t,onSave:S,onCancel:()=>u(!1),isSaving:o})}),s.jsx(Ot,{open:!!h,onOpenChange:()=>f(null),children:s.jsx(Tt,{className:"max-w-4xl p-2",children:s.jsx("img",{src:h,alt:"Aperçu de la photo",className:"w-full h-auto max-h-[90vh] object-contain rounded-md"})})})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Actualité non trouvée"}),s.jsx("p",{className:"text-muted-foreground",children:"Cette actualité n'existe pas ou a été supprimée."}),s.jsx(ee,{asChild:!0,className:"mt-4",children:s.jsxs(uc,{to:"/news",children:[s.jsx(is,{className:"mr-2 h-4 w-4"})," Retour aux actualités"]})})]})};var xf="Tabs",[qW,yY]=Vn(xf,[mf]),ok=mf(),[KW,u0]=qW(xf),ak=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:l="horizontal",dir:c,activationMode:u="automatic",...h}=e,f=cf(c),[p,v]=ji({prop:r,onChange:i,defaultProp:o??"",caller:xf});return s.jsx(KW,{scope:n,baseId:ln(),value:p,onValueChange:v,orientation:l,dir:f,activationMode:u,children:s.jsx(je.div,{dir:f,"data-orientation":l,...h,ref:t})})});ak.displayName=xf;var lk="TabsList",ck=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=u0(lk,n),l=ok(n);return s.jsx(R2,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:r,children:s.jsx(je.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});ck.displayName=lk;var uk="TabsTrigger",dk=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,l=u0(uk,n),c=ok(n),u=mk(l.baseId,r),h=pk(l.baseId,r),f=r===l.value;return s.jsx(L2,{asChild:!0,...c,focusable:!i,active:f,children:s.jsx(je.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...o,ref:t,onMouseDown:ve(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?l.onValueChange(r):p.preventDefault()}),onKeyDown:ve(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(r)}),onFocus:ve(e.onFocus,()=>{const p=l.activationMode!=="manual";!f&&!i&&p&&l.onValueChange(r)})})})});dk.displayName=uk;var hk="TabsContent",fk=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...l}=e,c=u0(hk,n),u=mk(c.baseId,r),h=pk(c.baseId,r),f=r===c.value,p=m.useRef(f);return m.useEffect(()=>{const v=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(v)},[]),s.jsx(sr,{present:i||f,children:({present:v})=>s.jsx(je.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!v,id:h,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:v&&o})})});fk.displayName=hk;function mk(e,t){return`${e}-trigger-${t}`}function pk(e,t){return`${e}-content-${t}`}var JW=ak,gk=ck,vk=dk,yk=fk;const uh=JW,_c=se.forwardRef(({className:e,...t},n)=>s.jsx(gk,{ref:n,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_c.displayName=gk.displayName;const Ir=se.forwardRef(({className:e,...t},n)=>s.jsx(vk,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ir.displayName=vk.displayName;const Dr=se.forwardRef(({className:e,...t},n)=>s.jsx(yk,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Dr.displayName=yk.displayName;var _f="Collapsible",[YW,xk]=Vn(_f),[XW,d0]=YW(_f),_k=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:l,...c}=e,[u,h]=ji({prop:r,defaultProp:i??!1,onChange:l,caller:_f});return s.jsx(XW,{scope:n,disabled:o,contentId:ln(),open:u,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),children:s.jsx(je.div,{"data-state":f0(u),"data-disabled":o?"":void 0,...c,ref:t})})});_k.displayName=_f;var wk="CollapsibleTrigger",bk=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=d0(wk,n);return s.jsx(je.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":f0(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:ve(e.onClick,i.onOpenToggle)})});bk.displayName=wk;var h0="CollapsibleContent",jk=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=d0(h0,e.__scopeCollapsible);return s.jsx(sr,{present:n||i.open,children:({present:o})=>s.jsx(QW,{...r,ref:t,present:o})})});jk.displayName=h0;var QW=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=e,l=d0(h0,n),[c,u]=m.useState(r),h=m.useRef(null),f=st(t,h),p=m.useRef(0),v=p.current,x=m.useRef(0),w=x.current,y=l.open||c,S=m.useRef(y),j=m.useRef(void 0);return m.useEffect(()=>{const b=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(b)},[]),Fn(()=>{const b=h.current;if(b){j.current=j.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const C=b.getBoundingClientRect();p.current=C.height,x.current=C.width,S.current||(b.style.transitionDuration=j.current.transitionDuration,b.style.animationName=j.current.animationName),u(r)}},[l.open,r]),s.jsx(je.div,{"data-state":f0(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!y,...o,ref:f,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:y&&i})});function f0(e){return e?"open":"closed"}var eG=_k,tG=bk,nG=jk,Sr="Accordion",rG=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[m0,iG,sG]=Fh(Sr),[wf,xY]=Vn(Sr,[sG,xk]),p0=xk(),Ck=se.forwardRef((e,t)=>{const{type:n,...r}=e,i=r,o=r;return s.jsx(m0.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?s.jsx(cG,{...o,ref:t}):s.jsx(lG,{...i,ref:t})})});Ck.displayName=Sr;var[Sk,oG]=wf(Sr),[Ek,aG]=wf(Sr,{collapsible:!1}),lG=se.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...l}=e,[c,u]=ji({prop:n,defaultProp:r??"",onChange:i,caller:Sr});return s.jsx(Sk,{scope:e.__scopeAccordion,value:se.useMemo(()=>c?[c]:[],[c]),onItemOpen:u,onItemClose:se.useCallback(()=>o&&u(""),[o,u]),children:s.jsx(Ek,{scope:e.__scopeAccordion,collapsible:o,children:s.jsx(Nk,{...l,ref:t})})})}),cG=se.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=e,[l,c]=ji({prop:n,defaultProp:r??[],onChange:i,caller:Sr}),u=se.useCallback(f=>c((p=[])=>[...p,f]),[c]),h=se.useCallback(f=>c((p=[])=>p.filter(v=>v!==f)),[c]);return s.jsx(Sk,{scope:e.__scopeAccordion,value:l,onItemOpen:u,onItemClose:h,children:s.jsx(Ek,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(Nk,{...o,ref:t})})})}),[uG,bf]=wf(Sr),Nk=se.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...l}=e,c=se.useRef(null),u=st(c,t),h=iG(n),p=cf(i)==="ltr",v=ve(e.onKeyDown,x=>{var I;if(!rG.includes(x.key))return;const w=x.target,y=h().filter(M=>{var U;return!((U=M.ref.current)!=null&&U.disabled)}),S=y.findIndex(M=>M.ref.current===w),j=y.length;if(S===-1)return;x.preventDefault();let b=S;const C=0,N=j-1,P=()=>{b=S+1,b>N&&(b=C)},A=()=>{b=S-1,b<C&&(b=N)};switch(x.key){case"Home":b=C;break;case"End":b=N;break;case"ArrowRight":o==="horizontal"&&(p?P():A());break;case"ArrowDown":o==="vertical"&&P();break;case"ArrowLeft":o==="horizontal"&&(p?A():P());break;case"ArrowUp":o==="vertical"&&A();break}const T=b%j;(I=y[T].ref.current)==null||I.focus()});return s.jsx(uG,{scope:n,disabled:r,direction:i,orientation:o,children:s.jsx(m0.Slot,{scope:n,children:s.jsx(je.div,{...l,"data-orientation":o,ref:u,onKeyDown:r?void 0:v})})})}),dh="AccordionItem",[dG,g0]=wf(dh),Pk=se.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...i}=e,o=bf(dh,n),l=oG(dh,n),c=p0(n),u=ln(),h=r&&l.value.includes(r)||!1,f=o.disabled||e.disabled;return s.jsx(dG,{scope:n,open:h,disabled:f,triggerId:u,children:s.jsx(eG,{"data-orientation":o.orientation,"data-state":Ok(h),...c,...i,ref:t,disabled:f,open:h,onOpenChange:p=>{p?l.onItemOpen(r):l.onItemClose(r)}})})});Pk.displayName=dh;var Tk="AccordionHeader",Ak=se.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=bf(Sr,n),o=g0(Tk,n);return s.jsx(je.h3,{"data-orientation":i.orientation,"data-state":Ok(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:t})});Ak.displayName=Tk;var mv="AccordionTrigger",kk=se.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=bf(Sr,n),o=g0(mv,n),l=aG(mv,n),c=p0(n);return s.jsx(m0.ItemSlot,{scope:n,children:s.jsx(tG,{"aria-disabled":o.open&&!l.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId,...c,...r,ref:t})})});kk.displayName=mv;var Rk="AccordionContent",Lk=se.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=bf(Sr,n),o=g0(Rk,n),l=p0(n);return s.jsx(nG,{role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation,...l,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Lk.displayName=Rk;function Ok(e){return e?"open":"closed"}var hG=Ck,fG=Pk,mG=Ak,Mk=kk,Ik=Lk;const v0=hG,jf=se.forwardRef(({className:e,...t},n)=>s.jsx(fG,{ref:n,className:ce("border-b",e),...t}));jf.displayName="AccordionItem";const Cf=se.forwardRef(({className:e,children:t,...n},r)=>s.jsx(mG,{className:"flex",children:s.jsxs(Mk,{ref:r,className:ce("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,s.jsx(ky,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Cf.displayName=Mk.displayName;const Sf=se.forwardRef(({className:e,children:t,...n},r)=>s.jsx(Ik,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:s.jsx("div",{className:ce("pb-4 pt-0",e),children:t})}));Sf.displayName=Ik.displayName;const Dk=m.createContext(),wr=()=>m.useContext(Dk),pG=({children:e})=>{const[t,n]=m.useState(null),[r,i]=m.useState(!1),[o,l]=m.useState(!1),[c,u]=m.useState(null),[h,f]=m.useState(!1),p=m.useCallback(async S=>{if(!S)return;l(!0),i(!0),n(null);const j=te.from("members").select(`
        *,
        profiles(role),
        emergency_contact_1:emergency_contact_1_id(id, first_name, last_name, phone),
        emergency_contact_2:emergency_contact_2_id(id, first_name, last_name, phone)
      `).eq("id",S).single(),b=te.from("members").select("id, first_name, last_name").or(`emergency_contact_1_id.eq.${S},emergency_contact_2_id.eq.${S}`),[{data:C,error:N},{data:P,error:A}]=await Promise.all([j,b]);if(N&&console.error("Error fetching member details:",N),A&&console.error("Error fetching 'is emergency contact for' data:",A),C){const T={...C,profiles:Array.isArray(C.profiles)?C.profiles[0]:C.profiles,dynamic_roles:[],isEmergencyContactFor:P||[]};n(T)}l(!1)},[]),v=m.useCallback(()=>{i(!1),n(null)},[]),x=m.useCallback(S=>{v(),u(S),f(!0)},[v]),w=m.useCallback(()=>{f(!1),u(null)},[]),y={selectedMember:t,isDetailVisible:r,loading:o,showMemberDetails:p,hideMemberDetails:v,editingMember:c,isFormVisible:h,openEditFormForMember:x,closeEditForm:w};return s.jsx(Dk.Provider,{value:y,children:e})},gG=({participants:e=[],showRemoveButton:t=!1,onRemoveParticipant:n=null,onParticipantClick:r=null,compact:i=!1})=>{const{isAdmin:o}=tn();if(e.length===0)return s.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[s.jsx($n,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Aucun participant inscrit."})]});const l=e.filter(x=>x.role==="Competiteur"),c=e.filter(x=>x.role==="Arbitre"),u=e.filter(x=>x.role==="Coach"),h=e.filter(x=>x.role!=="Competiteur"&&x.role!=="Arbitre"&&x.role!=="Coach"),p=(x=>{const w={femmes:{},hommes:{},inconnu:{}};return x.forEach(y=>{if(!y.members)return;let S;y.members.sexe==="F"?S="femmes":y.members.sexe==="H"?S="hommes":S="inconnu";const j=y.members.category||"Sans catégorie";w[S][j]||(w[S][j]=[]),w[S][j].push(y)}),w})(l),v=({participant:x,showRemove:w})=>x.members?s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 hover:bg-muted/30 transition-colors group border-b border-muted/30 last:border-b-0",children:[s.jsxs("div",{className:"flex items-center justify-between flex-1 cursor-pointer",onClick:()=>r&&r(x.members.id),children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("span",{className:"text-sm font-medium",children:Ye(x.members.first_name,x.members.last_name,o)})}),s.jsxs("div",{className:"flex items-center gap-2",children:[x.members.licence&&s.jsxs(Te,{variant:"secondary",className:"text-xs",children:["Licence: ",x.members.licence]}),x.ranking&&s.jsxs(Te,{variant:"secondary",className:"text-xs",children:["#",x.ranking,x.nb_competitor&&` / ${x.nb_competitor}`]})]})]}),w&&n&&s.jsx(ee,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),n(x.id)},className:"opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(br,{className:"w-4 h-4 text-destructive"})})]}):s.jsx("div",{className:"text-sm text-muted-foreground py-1",children:"Membre introuvable"});return s.jsxs("div",{className:"space-y-4",children:[l.length>0&&s.jsxs("div",{children:[s.jsxs("h5",{className:`font-medium mb-3 text-primary flex items-center gap-2 ${i?"text-sm":""}`,children:[s.jsx(Ia,{className:"w-4 h-4"}),"Compétiteurs (",l.length,")"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h6",{className:"text-sm font-semibold text-pink-700 mb-2 flex items-center gap-1 border-b border-pink-200 pb-1",children:["👩 Filles (",Object.values(p.femmes).flat().length,")"]}),Object.keys(p.femmes).length>0?s.jsx("div",{className:"space-y-2",children:Object.entries(p.femmes).map(([x,w])=>s.jsxs("div",{className:"border rounded-lg p-2 bg-pink-50",children:[s.jsxs("div",{className:"text-xs font-medium text-pink-600 mb-1",children:[x," (",w.length,")"]}),s.jsx("div",{className:"space-y-0",children:w.map(y=>s.jsx(v,{participant:y,showRemove:t},y.id))})]},`f-${x}`))}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Aucune fille inscrite"})]}),s.jsxs("div",{children:[s.jsxs("h6",{className:"text-sm font-semibold text-blue-700 mb-2 flex items-center gap-1 border-b border-blue-200 pb-1",children:["👨 Garçons (",Object.values(p.hommes).flat().length,")"]}),Object.keys(p.hommes).length>0?s.jsx("div",{className:"space-y-2",children:Object.entries(p.hommes).map(([x,w])=>s.jsxs("div",{className:"border rounded-lg p-2 bg-blue-50",children:[s.jsxs("div",{className:"text-xs font-medium text-blue-600 mb-1",children:[x," (",w.length,")"]}),s.jsx("div",{className:"space-y-0",children:w.map(y=>s.jsx(v,{participant:y,showRemove:t},y.id))})]},`h-${x}`))}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Aucun garçon inscrit"})]})]})]}),(c.length>0||u.length>0)&&s.jsxs("div",{children:[s.jsxs("h5",{className:`font-medium mb-3 text-green-700 flex items-center gap-2 ${i?"text-sm":""}`,children:[s.jsx(Zd,{className:"w-4 h-4"}),"Encadrement (",c.length+u.length,")"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h6",{className:"text-sm font-semibold text-purple-700 mb-2 flex items-center gap-1 border-b border-purple-200 pb-1",children:["🏃‍♀️ Coaches (",u.length,")"]}),u.length>0?s.jsx("div",{className:"border rounded-lg bg-purple-50",children:u.map(x=>s.jsx(v,{participant:x,showRemove:t},x.id))}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Aucun coach inscrit"})]}),s.jsxs("div",{children:[s.jsxs("h6",{className:"text-sm font-semibold text-blue-700 mb-2 flex items-center gap-1 border-b border-blue-200 pb-1",children:["⚖️ Arbitres (",c.length,")"]}),c.length>0?s.jsx("div",{className:"border rounded-lg bg-blue-50",children:c.map(x=>s.jsx(v,{participant:x,showRemove:t},x.id))}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Aucun arbitre inscrit"})]})]})]}),h.length>0&&s.jsxs("div",{children:[s.jsxs("h5",{className:`font-medium mb-3 text-green-700 flex items-center gap-2 ${i?"text-sm":""}`,children:[s.jsx(Zd,{className:"w-4 h-4"}),"Autre Encadrement (",h.length,")"]}),s.jsx("div",{className:"border rounded-lg",children:h.map(x=>s.jsx(v,{participant:x,showRemove:t},x.id))})]})]})},vG=({participant:e,onSave:t,onCancel:n,isSaving:r})=>{const[i,o]=m.useState(e.ranking||""),[l,c]=m.useState(e.nb_competitor||""),u=f=>{f.preventDefault(),t(e.id,i,l)},{showMemberDetail:h}=wr();return s.jsx(Ot,{open:!0,onOpenChange:n,children:s.jsx(Tt,{children:s.jsxs("form",{onSubmit:u,children:[s.jsx(Ht,{children:s.jsxs(Wt,{children:["Classement de ",Ye(e.members.first_name,e.members.last_name,!0)]})}),s.jsxs("div",{className:"py-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"ranking",children:"Classement"}),s.jsx(we,{id:"ranking",type:"number",value:i,onChange:f=>o(f.target.value),placeholder:"Entrez le classement"})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"nb_competitor",children:"Nombre de compétiteurs"}),s.jsx(we,{id:"nb_competitor",type:"number",value:l,onChange:f=>c(f.target.value),placeholder:"Nombre total"})]})]}),s.jsxs(or,{className:"justify-between w-full",children:[s.jsxs("div",{children:[s.jsxs(ee,{type:"button",variant:"outline",onClick:()=>h(e.member_id),className:"mr-2",children:[s.jsx(Ly,{className:"w-4 h-4 mr-2"})," Fiche détail"]}),s.jsx(ee,{asChild:!0,type:"button",variant:"outline",children:s.jsxs(uc,{to:`/competitor-summary/${e.member_id}`,target:"_blank",children:[s.jsx(Lh,{className:"w-4 h-4 mr-2"})," Voir palmarès"]})})]}),s.jsxs("div",{children:[s.jsx(ee,{type:"button",variant:"ghost",onClick:n,children:"Annuler"}),s.jsx(ee,{type:"submit",disabled:r,children:r?s.jsx($e,{className:"animate-spin"}):"Sauvegarder"})]})]})]})})})},yG=()=>{const[e,t]=m.useState([]),[n,r]=m.useState({}),[i,o]=m.useState(!0),[l,c]=m.useState({isOpen:!1,photos:[],currentIndex:0,competitionName:""}),[u,h]=m.useState(null),[f,p]=m.useState(!1),{toast:v}=et(),{showMemberDetails:x}=wr(),w=Pn(),y=m.useCallback(async()=>{o(!0);try{const{data:M,error:U}=await te.from("competitions").select("*").order("start_date",{ascending:!1});if(U)throw U;t(M);const{data:G,error:z}=await te.from("competition_participants").select("*").order("role").order("created_at");if(z)throw z;let J=[];if(G&&G.length>0){const k=[...new Set(G.map(D=>D.member_id))],{data:O,error:F}=await te.from("members").select(`
            id,
            first_name,
            last_name,
            category,
            sexe,
            licence,
            phone,
            email,
            photo_url,
            brevet_federaux,
            title,
            sub_group
          `).in("id",k);if(F)throw F;J=G.map(D=>({...D,members:(O==null?void 0:O.find(H=>H.id===D.member_id))||null})),console.log("Debug ClubCompetitions - Participants enrichis:",J.length),console.log("Debug ClubCompetitions - Exemple:",J[0]),J.forEach((D,H)=>{D.members&&console.log(`Debug Sexe ${H}:`,{nom:`${D.members.last_name} ${D.members.first_name}`,sexe:D.members.sexe,sexeType:typeof D.members.sexe,category:D.members.category})})}const $={};J.forEach(k=>{const O=k.competition_id;$[O]||($[O]=[]),$[O].push(k)}),r($)}catch(M){console.error("Error loading data:",M),v({title:"Erreur",description:"Impossible de charger les compétitions.",variant:"destructive"})}finally{o(!1)}},[v]);m.useEffect(()=>{y()},[y]);const S=async(M,U,G)=>{p(!0);try{const{error:z}=await te.from("competition_participants").update({ranking:U||null,nb_competitor:G||null}).eq("id",M);if(z)throw z;r(J=>{const $={...J};return Object.keys($).forEach(k=>{$[k]=$[k].map(O=>O.id===M?{...O,ranking:U||null,nb_competitor:G||null}:O)}),$}),v({title:"Succès",description:"Classement mis à jour avec succès."}),h(null)}catch(z){console.error("Error updating ranking:",z),v({title:"Erreur",description:"Impossible de mettre à jour le classement.",variant:"destructive"})}finally{p(!1)}},j=()=>{h(null)},b=({isOpen:M,photos:U,currentIndex:G,competitionName:z,onClose:J,onNext:$,onPrev:k})=>(m.useEffect(()=>{const O=F=>{M&&(F.key==="Escape"&&J(),F.key==="ArrowLeft"&&k(),F.key==="ArrowRight"&&$())};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[M,J,$,k]),!M||!U.length?null:s.jsx(Ot,{open:M,onOpenChange:J,children:s.jsx(Tt,{className:"max-w-6xl max-h-[90vh] p-0 bg-black/95 border-0",children:s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[s.jsxs("div",{className:"absolute top-4 left-4 right-4 z-10 flex justify-between items-center text-white",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:z}),s.jsxs("p",{className:"text-sm text-gray-300",children:["Photo ",G+1," sur ",U.length]})]}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:J,className:"text-white hover:bg-white/20",children:s.jsx(jr,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-16",children:s.jsx("img",{src:U[G],alt:`Photo ${G+1} de ${z}`,className:"max-w-full max-h-full object-contain rounded-lg",onError:O=>{O.target.style.display="none"}})}),U.length>1&&G>0&&s.jsx(ee,{variant:"ghost",size:"lg",onClick:k,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 z-10",children:s.jsx(s3,{className:"w-8 h-8"})}),U.length>1&&G<U.length-1&&s.jsx(ee,{variant:"ghost",size:"lg",onClick:$,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 z-10",children:s.jsx(UE,{className:"w-8 h-8"})}),U.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10",children:s.jsx("div",{className:"flex gap-2 bg-black/50 p-2 rounded-lg max-w-md overflow-x-auto",children:U.map((O,F)=>s.jsx("button",{onClick:()=>c(D=>({...D,currentIndex:F})),className:`flex-shrink-0 w-16 h-16 rounded border-2 transition-all ${F===G?"border-white scale-110":"border-gray-500 hover:border-gray-300"}`,children:s.jsx("img",{src:O,alt:`Miniature ${F+1}`,className:"w-full h-full object-cover rounded"})},F))})})]})})})),C=(M,U,G=0)=>{c({isOpen:!0,photos:M,currentIndex:G,competitionName:U})},N=()=>{c({isOpen:!1,photos:[],currentIndex:0,competitionName:""})},P=()=>{c(M=>({...M,currentIndex:(M.currentIndex+1)%M.photos.length}))},A=()=>{c(M=>({...M,currentIndex:M.currentIndex===0?M.photos.length-1:M.currentIndex-1}))},T=({comp:M})=>s.jsxs("div",{className:"flex items-center gap-4 w-full",children:[M.image_url&&s.jsx("img",{src:M.image_url,alt:M.name,className:"w-16 h-16 object-cover rounded-md border border-muted"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:M.name}),M.short_title&&s.jsx("p",{className:"text-sm text-primary font-medium",children:M.short_title})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Oa,{className:"w-3 h-3"}),s.jsxs("span",{children:[new Date(M.start_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),M.end_date&&M.end_date!==M.start_date&&s.jsxs(s.Fragment,{children:[" au ",new Date(M.end_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Iy,{className:"w-3 h-3"}),s.jsx("span",{children:M.location})]}),M.niveau&&s.jsx(Te,{variant:"destructive",className:"text-xs",children:M.niveau})]})]}),s.jsxs("div",{onClick:U=>{U.stopPropagation(),w(`/competitions/edit/${M.id}`)},className:"ml-2 opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3",children:[s.jsx(Zr,{className:"w-4 h-4 mr-1"}),"Modifier"]})]}),I=({competitionId:M})=>{const U=n[M]||[];return console.log("Debug ParticipantsList - competitionId:",M),console.log("Debug ParticipantsList - participants:",U),s.jsx(gG,{participants:U,onParticipantClick:x,compact:!0})};return i?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Compétitions du Club"}),s.jsxs(ee,{onClick:()=>w("/competitions/new"),className:"flex items-center gap-2",children:[s.jsx(_a,{className:"w-4 h-4"}),"Créer une compétition"]})]}),e.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-16",children:"Aucune compétition pour le moment."}):s.jsx(v0,{type:"single",collapsible:!0,className:"w-full space-y-4",children:e.map(M=>s.jsxs(jf,{value:M.id.toString(),className:"border rounded-lg group",children:[s.jsx(Cf,{className:"hover:no-underline px-4 py-3",children:s.jsx(T,{comp:M})}),s.jsx(Sf,{className:"px-4 pb-4",children:s.jsxs("div",{className:"space-y-6 pt-4",children:[M.description&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:M.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[M.prix&&s.jsxs("div",{className:"p-3 bg-muted/30 rounded-md",children:[s.jsxs("h5",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(l3,{className:"w-4 h-4 text-primary"}),"Prix d'entrée"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[M.prix,"€"]})]}),M.nature&&s.jsxs("div",{className:"p-3 bg-muted/30 rounded-md",children:[s.jsx("h5",{className:"font-semibold mb-2",children:"Nature"}),s.jsx(Te,{variant:"secondary",children:M.nature})]}),M.disciplines&&M.disciplines.length>0&&s.jsxs("div",{className:"p-3 bg-muted/30 rounded-md",children:[s.jsx("h5",{className:"font-semibold mb-2",children:"Disciplines"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:M.disciplines.map(U=>s.jsx(Te,{variant:"outline",className:"text-xs",children:U},U))})]}),M.categories&&M.categories.length>0&&s.jsxs("div",{className:"p-3 bg-muted/30 rounded-md",children:[s.jsx("h5",{className:"font-semibold mb-2",children:"Catégories"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:M.categories.map(U=>s.jsx(Te,{variant:"outline",className:"text-xs",children:U},U))})]})]}),(M.url_registration||M.url_details)&&s.jsxs("div",{children:[s.jsxs("h5",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(eo,{className:"w-4 h-4 text-primary"}),"Liens utiles"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[M.url_registration&&s.jsx(ee,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:M.url_registration,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(eo,{className:"w-3 h-3 mr-1"}),"Inscription"]})}),M.url_details&&s.jsx(ee,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:M.url_details,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(ya,{className:"w-3 h-3 mr-1"}),"Détails"]})})]})]}),M.details_pratiques&&s.jsxs("div",{className:"p-3 bg-muted/30 rounded-md",children:[s.jsx("h5",{className:"font-semibold mb-2",children:"Infos pratiques"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:M.details_pratiques})]}),M.details_format&&s.jsxs("div",{className:"p-3 bg-muted/30 rounded-md",children:[s.jsx("h5",{className:"font-semibold mb-2",children:"Format"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:M.details_format})]}),M.photo_gallery&&M.photo_gallery.length>0&&s.jsxs("div",{children:[s.jsxs("h5",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Lh,{className:"w-4 h-4 text-primary"}),"Photos (",M.photo_gallery.length,")",s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>C(M.photo_gallery,M.name,0),className:"ml-auto flex items-center gap-1",children:[s.jsx(ub,{className:"w-3 h-3"}),"Voir en grand"]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:M.photo_gallery.map((U,G)=>s.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>C(M.photo_gallery,M.name,G),children:[s.jsx("img",{src:U,alt:`Photo ${G+1}`,className:"w-full h-20 object-cover rounded-md border border-muted transition-all group-hover:brightness-110 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all rounded-md flex items-center justify-center",children:s.jsx(ub,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},G))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx($n,{className:"w-5 h-5 text-primary"}),"Participants"]}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>w(`/competitions/participants/${M.id}`),className:"flex items-center gap-2",children:[s.jsx(_a,{className:"w-4 h-4"}),"Ajouter un participant"]})]}),s.jsx(I,{competitionId:M.id})]})]})})]},M.id))}),s.jsx(b,{isOpen:l.isOpen,photos:l.photos,currentIndex:l.currentIndex,competitionName:l.competitionName,onClose:N,onNext:P,onPrev:A}),u&&s.jsx(vG,{participant:u,onSave:S,onCancel:j,isSaving:f})]})},Sn=se.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:ce("w-full caption-bottom text-sm",e),...t})}));Sn.displayName="Table";const En=se.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:ce("[&_tr]:border-b",e),...t}));En.displayName="TableHeader";const Nn=se.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:ce("[&_tr:last-child]:border-0",e),...t}));Nn.displayName="TableBody";const xG=se.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));xG.displayName="TableFooter";const qe=se.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));qe.displayName="TableRow";const me=se.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));me.displayName="TableHead";const xe=se.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));xe.displayName="TableCell";const pv=({discipline:e})=>{const t=e.toLowerCase().replace(/ /g,"");let n="default";return t.includes("bloc")?n="bloc":t.includes("difficulté")?n="difficulte":t.includes("vitesse")&&(n="vitesse"),s.jsx(Te,{variant:n,children:e})},_G=()=>{const e=[{type:"Coupes Régionales",location:"Ambérieu en Bugey",date:"samedi 11 octobre 2025",discipline:"Bloc",note:""},{type:"Coupes Régionales",location:"Cusset Vichy Escalade",date:"samedi 8 novembre 2025",discipline:"Bloc",note:""},{type:"Coupes Régionales",location:"Voiron (U13)",date:"samedi 28 février 2026",discipline:"Vitesse",note:""},{type:"Coupes Régionales",location:"La Dégaine Charbonnière",date:"samedi 28 mars 2026",discipline:"Difficulté et Vitesse",note:""},{type:"Championnats",location:"Voiron (U15)",date:"samedi 28 février 2026",discipline:"Vitesse",note:""},{type:"Championnats",location:"Jonage (U13/U11)",date:"25 et 26 avril 2026",discipline:"Bloc/Difficulté et Vitesse",note:"Organisé par notre club ! Qualificatif France."}],t=[{type:"Coupes Régionales",location:"Marignier",date:"samedi 4 octobre 2025",discipline:"Bloc",note:""},{type:"Coupes Régionales",location:"Clermont Ferrand",date:"samedi 22 novembre 2025",discipline:"Bloc",note:""},{type:"Coupes Régionales",location:"Le Pouzin",date:"samedi 31 janvier 2026",discipline:"Difficulté",note:""},{type:"Coupes Régionales",location:"Pont En Royans",date:"samedi 21 mars 2026",discipline:"Difficulté",note:""},{type:"Championnats",location:"Anse",date:"13 et 14 décembre 2025",discipline:"Bloc",note:"Qualificatif France"},{type:"Championnats",location:"Voiron",date:"samedi 28 février 2026",discipline:"Vitesse",note:"Qualificatif France"},{type:"Championnats",location:"Voiron",date:"18 et 19 avril 2026",discipline:"Difficulté",note:"Qualificatif France"}];return s.jsxs(de.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-6",children:[s.jsx("h2",{className:"text-3xl font-bold headline",children:"Coupes Régionales AURA"}),s.jsx("p",{className:"text-muted-foreground",children:"Le circuit de la Fédération Française de Montagne et d'Escalade – Ligue Auvergne Rhône Alpes. Notre club participe aux Coupes régionales escalade AURA. La ligue met en place 2 circuits de compétitions répartis sur l’ensemble de la région."}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(ee,{asChild:!0,variant:"link",children:s.jsxs("a",{href:"https://www.ffmeaura.fr/competition/coupes-regionales-escalade/",target:"_blank",rel:"noreferrer",children:["Plus d'infos sur les Coupes Régionales ",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})}),s.jsx(ee,{asChild:!0,variant:"link",children:s.jsxs("a",{href:"https://www.ffmeaura.fr/competition/championnats-regionaux-escalade/",target:"_blank",rel:"noreferrer",children:["Plus d'infos sur les Championnats Régionaux ",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsx(Ee,{children:"U13 / U15"})}),s.jsx(ge,{children:s.jsxs(Sn,{children:[s.jsx(En,{children:s.jsxs(qe,{children:[s.jsx(me,{children:"Lieu"}),s.jsx(me,{children:"Date"}),s.jsx(me,{children:"Discipline"}),s.jsx(me,{children:"Note"})]})}),s.jsx(Nn,{children:e.map((n,r)=>s.jsxs(qe,{children:[s.jsx(xe,{children:n.location}),s.jsx(xe,{children:n.date}),s.jsx(xe,{children:s.jsx(pv,{discipline:n.discipline})}),s.jsx(xe,{children:n.note})]},r))})]})})]}),s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsx(Ee,{children:"U17 / U19 / Senior / Vétéran"})}),s.jsx(ge,{children:s.jsxs(Sn,{children:[s.jsx(En,{children:s.jsxs(qe,{children:[s.jsx(me,{children:"Lieu"}),s.jsx(me,{children:"Date"}),s.jsx(me,{children:"Discipline"}),s.jsx(me,{children:"Note"})]})}),s.jsx(Nn,{children:t.map((n,r)=>s.jsxs(qe,{children:[s.jsx(xe,{children:n.location}),s.jsx(xe,{children:n.date}),s.jsx(xe,{children:s.jsx(pv,{discipline:n.discipline})}),s.jsx(xe,{children:n.note})]},r))})]})})]})]})]})},wG=()=>{const e=[{location:"Corbas",date:"Dimanche 12 Octobre",discipline:"Difficulté",category:"U11/U13/U15",note:""},{location:"Saint-Genis-Laval (Mousteclip)",date:"Dimanche 9 Novembre",discipline:"Difficulté",category:"De U11 à Vet",note:""},{location:"Anse",date:"Mardi 11 Novembre",discipline:"Vitesse",category:"Championnat dep",note:""},{location:"St Pierre de Chandieu",date:"Le samedi 15 et Dimanche 16 Novembre",discipline:"Bloc",category:"De U13 à Vet",note:"Championnat dep"}];return s.jsxs(de.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-6",children:[s.jsx("h2",{className:"text-3xl font-bold headline",children:"Le contest Tour : Le circuit pour tous !"}),s.jsx("p",{className:"text-muted-foreground",children:"Ce sont des compétitions, près de chez vous, accessibles à tous : débutants, handi-grimpeurs, adultes et enfants. Elles sont conviviales et festives, le format favorise la grimpe : essais illimités, prises bonus, voies en moulinette… Pour garantir l’équité, les meilleurs grimpeurs du territoire n’ont pas le droit de concourir sur ce circuit."}),s.jsx(ee,{asChild:!0,variant:"link",children:s.jsxs("a",{href:"https://www.ffme69.fr/competition/departementales-et-metropolitaines/",target:"_blank",rel:"noreferrer",children:["Info FFME69 ",s.jsx(eo,{className:"w-4 h-4 ml-2"})]})}),s.jsx(pe,{children:s.jsx(ge,{className:"p-6",children:s.jsxs(Sn,{children:[s.jsx(En,{children:s.jsxs(qe,{children:[s.jsx(me,{children:"Lieu"}),s.jsx(me,{children:"Date"}),s.jsx(me,{children:"Discipline"}),s.jsx(me,{children:"Catégorie"}),s.jsx(me,{children:"Note"})]})}),s.jsx(Nn,{children:e.map((t,n)=>s.jsxs(qe,{children:[s.jsx(xe,{children:t.location}),s.jsx(xe,{children:t.date}),s.jsx(xe,{children:s.jsx(pv,{discipline:t.discipline})}),s.jsx(xe,{children:t.category}),s.jsx(xe,{children:t.note})]},n))})]})})})]})},bG=()=>s.jsxs("div",{className:"space-y-12",children:[s.jsx(_G,{}),s.jsx(wG,{})]}),jG=({discipline:e})=>{const t=e.toLowerCase().replace(/ /g,"");let n="default";return t.includes("bloc")?n="bloc":t.includes("difficulté")?n="difficulte":t.includes("vitesse")&&(n="vitesse"),s.jsx(Te,{variant:n,children:e})},CG=()=>{const e=[{name:"DIDIER Camille",category:"DIFFICULTE-u20",rank:31},{name:"ANTOLINOS Clément",category:"BLOC-u18",rank:42},{name:"SOLEYMIEUX OUSSELIN Lola",category:"DIFFICULTE-Sen",rank:77},{name:"NADRCIC Arsène",category:"BLOC-u18",rank:60},{name:"CAPUANO Olivia",category:"DIFFICULTE-u20",rank:144},{name:"COCHE Eden",category:"DIFFICULTE-u16",rank:63},{name:"POZZOBON Lucie",category:"DIFFICULTE-u18",rank:169},{name:"ROZIE Benoit",category:"DIFFICULTE-u18",rank:70}];return s.jsxs(de.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"space-y-6",children:[s.jsxs("h2",{className:"text-3xl font-bold headline flex items-center gap-3",children:[s.jsx(rN,{className:"w-8 h-8 text-primary"})," Palmarès 2025"]}),s.jsx("p",{className:"text-xl font-semibold",children:"ALJ Escalade Jonage : 83ème club de France !"}),s.jsx("p",{className:"text-muted-foreground",children:"Félicitations à tous nos compétiteurs pour cette saison exceptionnelle ! Voici les résultats individuels qui ont contribué à ce classement historique."}),s.jsx(pe,{children:s.jsx(ge,{className:"p-6",children:s.jsxs(Sn,{children:[s.jsx(En,{children:s.jsxs(qe,{children:[s.jsx(me,{children:"Nom"}),s.jsx(me,{children:"Discipline/Catégorie"}),s.jsx(me,{children:"Classement"})]})}),s.jsx(Nn,{children:e.map((t,n)=>{const[r,i]=t.category.split("-");return s.jsxs(qe,{children:[s.jsx(xe,{children:t.name}),s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(jG,{discipline:r}),s.jsx("span",{children:i})]}),s.jsx(xe,{children:t.rank})]},n)})})]})})})]})};function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(null,arguments)}function gj(e,[t,n]){return Math.min(n,Math.max(t,e))}function $t(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function y0(e,t=[]){let n=[];function r(o,l){const c=m.createContext(l),u=n.length;n=[...n,l];function h(p){const{scope:v,children:x,...w}=p,y=(v==null?void 0:v[e][u])||c,S=m.useMemo(()=>w,Object.values(w));return m.createElement(y.Provider,{value:S},x)}function f(p,v){const x=(v==null?void 0:v[e][u])||c,w=m.useContext(x);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${o}\``)}return h.displayName=o+"Provider",[h,f]}const i=()=>{const o=n.map(l=>m.createContext(l));return function(c){const u=(c==null?void 0:c[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return i.scopeName=e,[r,SG(i,...t)]}function SG(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:u,scopeName:h})=>{const p=u(o)[`__scope${h}`];return{...c,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function EG(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function $k(...e){return t=>e.forEach(n=>EG(n,t))}function en(...e){return m.useCallback($k(...e),e)}const wc=m.forwardRef((e,t)=>{const{children:n,...r}=e,i=m.Children.toArray(n),o=i.find(PG);if(o){const l=o.props.children,c=i.map(u=>u===o?m.Children.count(l)>1?m.Children.only(null):m.isValidElement(l)?l.props.children:null:u);return m.createElement(gv,We({},r,{ref:t}),m.isValidElement(l)?m.cloneElement(l,void 0,c):null)}return m.createElement(gv,We({},r,{ref:t}),n)});wc.displayName="Slot";const gv=m.forwardRef((e,t)=>{const{children:n,...r}=e;return m.isValidElement(n)?m.cloneElement(n,{...TG(r,n.props),ref:t?$k(t,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});gv.displayName="SlotClone";const NG=({children:e})=>m.createElement(m.Fragment,null,e);function PG(e){return m.isValidElement(e)&&e.type===NG}function TG(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...c)=>{o(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function AG(e){const t=e+"CollectionProvider",[n,r]=y0(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:w,children:y}=x,S=se.useRef(null),j=se.useRef(new Map).current;return se.createElement(i,{scope:w,itemMap:j,collectionRef:S},y)},c=e+"CollectionSlot",u=se.forwardRef((x,w)=>{const{scope:y,children:S}=x,j=o(c,y),b=en(w,j.collectionRef);return se.createElement(wc,{ref:b},S)}),h=e+"CollectionItemSlot",f="data-radix-collection-item",p=se.forwardRef((x,w)=>{const{scope:y,children:S,...j}=x,b=se.useRef(null),C=en(w,b),N=o(h,y);return se.useEffect(()=>(N.itemMap.set(b,{ref:b,...j}),()=>void N.itemMap.delete(b))),se.createElement(wc,{[f]:"",ref:C},S)});function v(x){const w=o(e+"CollectionConsumer",x);return se.useCallback(()=>{const S=w.collectionRef.current;if(!S)return[];const j=Array.from(S.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((N,P)=>j.indexOf(N.ref.current)-j.indexOf(P.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:u,ItemSlot:p},v,r]}const kG=m.createContext(void 0);function RG(e){const t=m.useContext(kG);return e||t||"ltr"}const LG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Zt=LG.reduce((e,t)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?wc:t;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(c,We({},l,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function OG(e,t){e&&Gr.flushSync(()=>e.dispatchEvent(t))}function wi(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function MG(e,t=globalThis==null?void 0:globalThis.document){const n=wi(e);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const vv="dismissableLayer.update",IG="dismissableLayer.pointerDownOutside",DG="dismissableLayer.focusOutside";let vj;const $G=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),FG=m.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...h}=e,f=m.useContext($G),[p,v]=m.useState(null),x=(n=p==null?void 0:p.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,w]=m.useState({}),y=en(t,I=>v(I)),S=Array.from(f.layers),[j]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),b=S.indexOf(j),C=p?S.indexOf(p):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,P=C>=b,A=BG(I=>{const M=I.target,U=[...f.branches].some(G=>G.contains(M));!P||U||(o==null||o(I),c==null||c(I),I.defaultPrevented||u==null||u())},x),T=UG(I=>{const M=I.target;[...f.branches].some(G=>G.contains(M))||(l==null||l(I),c==null||c(I),I.defaultPrevented||u==null||u())},x);return MG(I=>{C===f.layers.size-1&&(i==null||i(I),!I.defaultPrevented&&u&&(I.preventDefault(),u()))},x),m.useEffect(()=>{if(p)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(vj=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),yj(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=vj)}},[p,x,r,f]),m.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),yj())},[p,f]),m.useEffect(()=>{const I=()=>w({});return document.addEventListener(vv,I),()=>document.removeEventListener(vv,I)},[]),m.createElement(Zt.div,We({},h,{ref:y,style:{pointerEvents:N?P?"auto":"none":void 0,...e.style},onFocusCapture:$t(e.onFocusCapture,T.onFocusCapture),onBlurCapture:$t(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:$t(e.onPointerDownCapture,A.onPointerDownCapture)}))});function BG(e,t=globalThis==null?void 0:globalThis.document){const n=wi(e),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let f=function(){Fk(IG,n,h,{discrete:!0})};var u=f;const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=f,t.addEventListener("click",i.current,{once:!0})):f()}r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function UG(e,t=globalThis==null?void 0:globalThis.document){const n=wi(e),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&Fk(DG,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yj(){const e=new CustomEvent(vv);document.dispatchEvent(e)}function Fk(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?OG(i,o):i.dispatchEvent(o)}let xp=0;function zG(){m.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:xj()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:xj()),xp++,()=>{xp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),xp--}},[])}function xj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const _p="focusScope.autoFocusOnMount",wp="focusScope.autoFocusOnUnmount",_j={bubbles:!1,cancelable:!0},VG=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[c,u]=m.useState(null),h=wi(i),f=wi(o),p=m.useRef(null),v=en(t,y=>u(y)),x=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let b=function(A){if(x.paused||!c)return;const T=A.target;c.contains(T)?p.current=T:Oi(p.current,{select:!0})},C=function(A){if(x.paused||!c)return;const T=A.relatedTarget;T!==null&&(c.contains(T)||Oi(p.current,{select:!0}))},N=function(A){const T=document.activeElement;for(const I of A)I.removedNodes.length>0&&(c!=null&&c.contains(T)||Oi(c))};var y=b,S=C,j=N;document.addEventListener("focusin",b),document.addEventListener("focusout",C);const P=new MutationObserver(N);return c&&P.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",C),P.disconnect()}}},[r,c,x.paused]),m.useEffect(()=>{if(c){bj.add(x);const y=document.activeElement;if(!c.contains(y)){const j=new CustomEvent(_p,_j);c.addEventListener(_p,h),c.dispatchEvent(j),j.defaultPrevented||(HG(KG(Bk(c)),{select:!0}),document.activeElement===y&&Oi(c))}return()=>{c.removeEventListener(_p,h),setTimeout(()=>{const j=new CustomEvent(wp,_j);c.addEventListener(wp,f),c.dispatchEvent(j),j.defaultPrevented||Oi(y??document.body,{select:!0}),c.removeEventListener(wp,f),bj.remove(x)},0)}}},[c,h,f,x]);const w=m.useCallback(y=>{if(!n&&!r||x.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,j=document.activeElement;if(S&&j){const b=y.currentTarget,[C,N]=WG(b);C&&N?!y.shiftKey&&j===N?(y.preventDefault(),n&&Oi(C,{select:!0})):y.shiftKey&&j===C&&(y.preventDefault(),n&&Oi(N,{select:!0})):j===b&&y.preventDefault()}},[n,r,x.paused]);return m.createElement(Zt.div,We({tabIndex:-1},l,{ref:v,onKeyDown:w}))});function HG(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Oi(r,{select:t}),document.activeElement!==n)return}function WG(e){const t=Bk(e),n=wj(t,e),r=wj(t.reverse(),e);return[n,r]}function Bk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function wj(e,t){for(const n of e)if(!GG(n,{upTo:t}))return n}function GG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZG(e){return e instanceof HTMLInputElement&&"select"in e}function Oi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ZG(e)&&t&&e.select()}}const bj=qG();function qG(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=jj(e,t),e.unshift(t)},remove(t){var n;e=jj(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function jj(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function KG(e){return e.filter(t=>t.tagName!=="A")}const ir=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},JG=Cc["useId".toString()]||(()=>{});let YG=0;function Uk(e){const[t,n]=m.useState(JG());return ir(()=>{e||n(r=>r??String(YG++))},[e]),e||(t?`radix-${t}`:"")}function XG(e){const[t,n]=m.useState(void 0);return ir(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,c;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,c=h.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const zk="Popper",[Vk,Hk]=y0(zk),[QG,Wk]=Vk(zk),eZ=e=>{const{__scopePopper:t,children:n}=e,[r,i]=m.useState(null);return m.createElement(QG,{scope:t,anchor:r,onAnchorChange:i},n)},tZ="PopperAnchor",nZ=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=Wk(tZ,n),l=m.useRef(null),c=en(t,l);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:m.createElement(Zt.div,We({},i,{ref:c}))}),Gk="PopperContent",[rZ,_Y]=Vk(Gk),iZ=m.forwardRef((e,t)=>{var n,r,i,o,l,c,u,h;const{__scopePopper:f,side:p="bottom",sideOffset:v=0,align:x="center",alignOffset:w=0,arrowPadding:y=0,collisionBoundary:S=[],collisionPadding:j=0,sticky:b="partial",hideWhenDetached:C=!1,avoidCollisions:N=!0,onPlaced:P,...A}=e,T=Wk(Gk,f),[I,M]=m.useState(null),U=en(t,Ze=>M(Ze)),[G,z]=m.useState(null),J=XG(G),$=(n=J==null?void 0:J.width)!==null&&n!==void 0?n:0,k=(r=J==null?void 0:J.height)!==null&&r!==void 0?r:0,O=p+(x!=="center"?"-"+x:""),F=typeof j=="number"?j:{top:0,right:0,bottom:0,left:0,...j},D=Array.isArray(S)?S:[S],H=D.length>0,W={padding:F,boundary:D.filter(sZ),altBoundary:H},{refs:Q,floatingStyles:B,placement:q,isPositioned:Z,middlewareData:X}=Fx({strategy:"fixed",placement:O,whileElementsMounted:$x,elements:{reference:T.anchor},middleware:[Bx({mainAxis:v+k,alignmentAxis:w}),N&&Ux({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?zx():void 0,...W}),N&&Vx({...W}),Hx({...W,apply:({elements:Ze,rects:hn,availableWidth:Hn,availableHeight:An})=>{const{width:Er,height:kn}=hn.reference,Cs=Ze.floating.style;Cs.setProperty("--radix-popper-available-width",`${Hn}px`),Cs.setProperty("--radix-popper-available-height",`${An}px`),Cs.setProperty("--radix-popper-anchor-width",`${Er}px`),Cs.setProperty("--radix-popper-anchor-height",`${kn}px`)}}),G&&Gx({element:G,padding:y}),oZ({arrowWidth:$,arrowHeight:k}),C&&Wx({strategy:"referenceHidden"})]}),[ie,ne]=Zk(q),ue=wi(P);ir(()=>{Z&&(ue==null||ue())},[Z,ue]);const be=(i=X.arrow)===null||i===void 0?void 0:i.x,_e=(o=X.arrow)===null||o===void 0?void 0:o.y,Ce=((l=X.arrow)===null||l===void 0?void 0:l.centerOffset)!==0,[Ae,ze]=m.useState();return ir(()=>{I&&ze(window.getComputedStyle(I).zIndex)},[I]),m.createElement("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:Z?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(c=X.transformOrigin)===null||c===void 0?void 0:c.x,(u=X.transformOrigin)===null||u===void 0?void 0:u.y].join(" ")},dir:e.dir},m.createElement(rZ,{scope:f,placedSide:ie,onArrowChange:z,arrowX:be,arrowY:_e,shouldHideArrow:Ce},m.createElement(Zt.div,We({"data-side":ie,"data-align":ne},A,{ref:U,style:{...A.style,animation:Z?void 0:"none",opacity:(h=X.hide)!==null&&h!==void 0&&h.referenceHidden?0:void 0}}))))});function sZ(e){return e!==null}const oZ=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,o,l;const{placement:c,rects:u,middlewareData:h}=t,p=((n=h.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,v=p?0:e.arrowWidth,x=p?0:e.arrowHeight,[w,y]=Zk(c),S={start:"0%",center:"50%",end:"100%"}[y],j=((r=(i=h.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+v/2,b=((o=(l=h.arrow)===null||l===void 0?void 0:l.y)!==null&&o!==void 0?o:0)+x/2;let C="",N="";return w==="bottom"?(C=p?S:`${j}px`,N=`${-x}px`):w==="top"?(C=p?S:`${j}px`,N=`${u.floating.height+x}px`):w==="right"?(C=`${-x}px`,N=p?S:`${b}px`):w==="left"&&(C=`${u.floating.width+x}px`,N=p?S:`${b}px`),{data:{x:C,y:N}}}});function Zk(e){const[t,n="center"]=e.split("-");return[t,n]}const aZ=eZ,lZ=nZ,cZ=iZ,uZ=m.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?Ey.createPortal(m.createElement(Zt.div,We({},i,{ref:t})),r):null});function Cj({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=dZ({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:r,c=wi(n),u=m.useCallback(h=>{if(o){const p=typeof h=="function"?h(e):h;p!==e&&c(p)}else i(h)},[o,e,i,c]);return[l,u]}function dZ({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,i=m.useRef(r),o=wi(t);return m.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function hZ(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const fZ=m.forwardRef((e,t)=>m.createElement(Zt.span,We({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var qk=ST(),bp=function(){},Ef=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:bp,onWheelCapture:bp,onTouchMoveCapture:bp}),i=r[0],o=r[1],l=e.forwardProps,c=e.children,u=e.className,h=e.removeScrollBar,f=e.enabled,p=e.shards,v=e.sideCar,x=e.noIsolation,w=e.inert,y=e.allowPinchZoom,S=e.as,j=S===void 0?"div":S,b=wx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),C=v,N=CT([n,t]),P=Xt(Xt({},b),i);return m.createElement(m.Fragment,null,f&&m.createElement(C,{sideCar:qk,removeScrollBar:h,shards:p,noIsolation:x,inert:w,setCallbacks:o,allowPinchZoom:!!y,lockRef:n}),l?m.cloneElement(m.Children.only(c),Xt(Xt({},P),{ref:N})):m.createElement(j,Xt({},P,{className:u,ref:N}),c))});Ef.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ef.classNames={fullWidth:Hl,zeroRight:Vl};var yv=!1;if(typeof window<"u")try{var Zu=Object.defineProperty({},"passive",{get:function(){return yv=!0,!0}});window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch{yv=!1}var Lo=yv?{passive:!1}:!1,mZ=function(e){return e.tagName==="TEXTAREA"},Kk=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!mZ(e)&&n[t]==="visible")},pZ=function(e){return Kk(e,"overflowY")},gZ=function(e){return Kk(e,"overflowX")},Sj=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Jk(e,n);if(r){var i=Yk(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},vZ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},yZ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Jk=function(e,t){return e==="v"?pZ(t):gZ(t)},Yk=function(e,t){return e==="v"?vZ(t):yZ(t)},xZ=function(e,t){return e==="h"&&t==="rtl"?-1:1},_Z=function(e,t,n,r,i){var o=xZ(e,window.getComputedStyle(t).direction),l=o*r,c=n.target,u=t.contains(c),h=!1,f=l>0,p=0,v=0;do{var x=Yk(e,c),w=x[0],y=x[1],S=x[2],j=y-S-o*w;(w||j)&&Jk(e,c)&&(p+=j,v+=w),c=c.parentNode}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(f&&(i&&p===0||!i&&l>p)||!f&&(i&&v===0||!i&&-l>v))&&(h=!0),h},qu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ej=function(e){return[e.deltaX,e.deltaY]},Nj=function(e){return e&&"current"in e?e.current:e},wZ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},bZ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},jZ=0,Oo=[];function CZ(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(jZ++)[0],o=m.useState(function(){return bx()})[0],l=m.useRef(e);m.useEffect(function(){l.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=jT([e.lockRef.current],(e.shards||[]).map(Nj),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=m.useCallback(function(y,S){if("touches"in y&&y.touches.length===2)return!l.current.allowPinchZoom;var j=qu(y),b=n.current,C="deltaX"in y?y.deltaX:b[0]-j[0],N="deltaY"in y?y.deltaY:b[1]-j[1],P,A=y.target,T=Math.abs(C)>Math.abs(N)?"h":"v";if("touches"in y&&T==="h"&&A.type==="range")return!1;var I=Sj(T,A);if(!I)return!0;if(I?P=T:(P=T==="v"?"h":"v",I=Sj(T,A)),!I)return!1;if(!r.current&&"changedTouches"in y&&(C||N)&&(r.current=P),!P)return!0;var M=r.current||P;return _Z(M,S,y,M==="h"?C:N,!0)},[]),u=m.useCallback(function(y){var S=y;if(!(!Oo.length||Oo[Oo.length-1]!==o)){var j="deltaY"in S?Ej(S):qu(S),b=t.current.filter(function(P){return P.name===S.type&&P.target===S.target&&wZ(P.delta,j)})[0];if(b&&b.should){S.cancelable&&S.preventDefault();return}if(!b){var C=(l.current.shards||[]).map(Nj).filter(Boolean).filter(function(P){return P.contains(S.target)}),N=C.length>0?c(S,C[0]):!l.current.noIsolation;N&&S.cancelable&&S.preventDefault()}}},[]),h=m.useCallback(function(y,S,j,b){var C={name:y,delta:S,target:j,should:b};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(N){return N!==C})},1)},[]),f=m.useCallback(function(y){n.current=qu(y),r.current=void 0},[]),p=m.useCallback(function(y){h(y.type,Ej(y),y.target,c(y,e.lockRef.current))},[]),v=m.useCallback(function(y){h(y.type,qu(y),y.target,c(y,e.lockRef.current))},[]);m.useEffect(function(){return Oo.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",u,Lo),document.addEventListener("touchmove",u,Lo),document.addEventListener("touchstart",f,Lo),function(){Oo=Oo.filter(function(y){return y!==o}),document.removeEventListener("wheel",u,Lo),document.removeEventListener("touchmove",u,Lo),document.removeEventListener("touchstart",f,Lo)}},[]);var x=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:bZ(i)}):null,x?m.createElement(TT,{gapMode:"margin"}):null)}const SZ=NT(qk,CZ);var Xk=m.forwardRef(function(e,t){return m.createElement(Ef,Xt({},e,{ref:t,sideCar:SZ}))});Xk.classNames=Ef.classNames;const EZ=Xk,NZ=[" ","Enter","ArrowUp","ArrowDown"],PZ=[" ","Enter"],Nf="Select",[Pf,Tf,TZ]=AG(Nf),[za,wY]=y0(Nf,[TZ,Hk]),x0=Hk(),[AZ,po]=za(Nf),[kZ,RZ]=za(Nf),LZ=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:l,defaultValue:c,onValueChange:u,dir:h,name:f,autoComplete:p,disabled:v,required:x}=e,w=x0(t),[y,S]=m.useState(null),[j,b]=m.useState(null),[C,N]=m.useState(!1),P=RG(h),[A=!1,T]=Cj({prop:r,defaultProp:i,onChange:o}),[I,M]=Cj({prop:l,defaultProp:c,onChange:u}),U=m.useRef(null),G=y?!!y.closest("form"):!0,[z,J]=m.useState(new Set),$=Array.from(z).map(k=>k.props.value).join(";");return m.createElement(aZ,w,m.createElement(AZ,{required:x,scope:t,trigger:y,onTriggerChange:S,valueNode:j,onValueNodeChange:b,valueNodeHasChildren:C,onValueNodeHasChildrenChange:N,contentId:Uk(),value:I,onValueChange:M,open:A,onOpenChange:T,dir:P,triggerPointerDownPosRef:U,disabled:v},m.createElement(Pf.Provider,{scope:t},m.createElement(kZ,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(k=>{J(O=>new Set(O).add(k))},[]),onNativeOptionRemove:m.useCallback(k=>{J(O=>{const F=new Set(O);return F.delete(k),F})},[])},n)),G?m.createElement(nR,{key:$,"aria-hidden":!0,required:x,tabIndex:-1,name:f,autoComplete:p,value:I,onChange:k=>M(k.target.value),disabled:v},I===void 0?m.createElement("option",{value:""}):null,Array.from(z)):null))},OZ="SelectTrigger",MZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=x0(n),l=po(OZ,n),c=l.disabled||r,u=en(t,l.onTriggerChange),h=Tf(n),[f,p,v]=rR(w=>{const y=h().filter(b=>!b.disabled),S=y.find(b=>b.value===l.value),j=iR(y,w,S);j!==void 0&&l.onValueChange(j.value)}),x=()=>{c||(l.onOpenChange(!0),v())};return m.createElement(lZ,We({asChild:!0},o),m.createElement(Zt.button,We({type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":l.value===void 0?"":void 0},i,{ref:u,onClick:$t(i.onClick,w=>{w.currentTarget.focus()}),onPointerDown:$t(i.onPointerDown,w=>{const y=w.target;y.hasPointerCapture(w.pointerId)&&y.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&(x(),l.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)},w.preventDefault())}),onKeyDown:$t(i.onKeyDown,w=>{const y=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(y&&w.key===" ")&&NZ.includes(w.key)&&(x(),w.preventDefault())})})))}),IZ="SelectValue",DZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:l,...c}=e,u=po(IZ,n),{onValueNodeHasChildrenChange:h}=u,f=o!==void 0,p=en(t,u.onValueNodeChange);return ir(()=>{h(f)},[h,f]),m.createElement(Zt.span,We({},c,{ref:p,style:{pointerEvents:"none"}}),u.value===void 0&&l!==void 0?l:o)}),$Z=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return m.createElement(Zt.span,We({"aria-hidden":!0},i,{ref:t}),r||"▼")}),FZ=e=>m.createElement(uZ,We({asChild:!0},e)),Na="SelectContent",BZ=m.forwardRef((e,t)=>{const n=po(Na,e.__scopeSelect),[r,i]=m.useState();if(ir(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Gr.createPortal(m.createElement(Qk,{scope:e.__scopeSelect},m.createElement(Pf.Slot,{scope:e.__scopeSelect},m.createElement("div",null,e.children))),o):null}return m.createElement(UZ,We({},e,{ref:t}))}),ii=10,[Qk,go]=za(Na),UZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:u,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:v,collisionPadding:x,sticky:w,hideWhenDetached:y,avoidCollisions:S,...j}=e,b=po(Na,n),[C,N]=m.useState(null),[P,A]=m.useState(null),T=en(t,ne=>N(ne)),[I,M]=m.useState(null),[U,G]=m.useState(null),z=Tf(n),[J,$]=m.useState(!1),k=m.useRef(!1);m.useEffect(()=>{if(C)return sf(C)},[C]),zG();const O=m.useCallback(ne=>{const[ue,...be]=z().map(Ae=>Ae.ref.current),[_e]=be.slice(-1),Ce=document.activeElement;for(const Ae of ne)if(Ae===Ce||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===ue&&P&&(P.scrollTop=0),Ae===_e&&P&&(P.scrollTop=P.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Ce))return},[z,P]),F=m.useCallback(()=>O([I,C]),[O,I,C]);m.useEffect(()=>{J&&F()},[J,F]);const{onOpenChange:D,triggerPointerDownPosRef:H}=b;m.useEffect(()=>{if(C){let ne={x:0,y:0};const ue=_e=>{var Ce,Ae,ze,Ze;ne={x:Math.abs(Math.round(_e.pageX)-((Ce=(Ae=H.current)===null||Ae===void 0?void 0:Ae.x)!==null&&Ce!==void 0?Ce:0)),y:Math.abs(Math.round(_e.pageY)-((ze=(Ze=H.current)===null||Ze===void 0?void 0:Ze.y)!==null&&ze!==void 0?ze:0))}},be=_e=>{ne.x<=10&&ne.y<=10?_e.preventDefault():C.contains(_e.target)||D(!1),document.removeEventListener("pointermove",ue),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",be,{capture:!0})}}},[C,D,H]),m.useEffect(()=>{const ne=()=>D(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[D]);const[W,Q]=rR(ne=>{const ue=z().filter(Ce=>!Ce.disabled),be=ue.find(Ce=>Ce.ref.current===document.activeElement),_e=iR(ue,ne,be);_e&&setTimeout(()=>_e.ref.current.focus())}),B=m.useCallback((ne,ue,be)=>{const _e=!k.current&&!be;(b.value!==void 0&&b.value===ue||_e)&&(M(ne),_e&&(k.current=!0))},[b.value]),q=m.useCallback(()=>C==null?void 0:C.focus(),[C]),Z=m.useCallback((ne,ue,be)=>{const _e=!k.current&&!be;(b.value!==void 0&&b.value===ue||_e)&&G(ne)},[b.value]),X=r==="popper"?Pj:zZ,ie=X===Pj?{side:c,sideOffset:u,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:v,collisionPadding:x,sticky:w,hideWhenDetached:y,avoidCollisions:S}:{};return m.createElement(Qk,{scope:n,content:C,viewport:P,onViewportChange:A,itemRefCallback:B,selectedItem:I,onItemLeave:q,itemTextRefCallback:Z,focusSelectedItem:F,selectedItemText:U,position:r,isPositioned:J,searchRef:W},m.createElement(EZ,{as:wc,allowPinchZoom:!0},m.createElement(VG,{asChild:!0,trapped:b.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:$t(i,ne=>{var ue;(ue=b.trigger)===null||ue===void 0||ue.focus({preventScroll:!0}),ne.preventDefault()})},m.createElement(FG,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>b.onOpenChange(!1)},m.createElement(X,We({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ne=>ne.preventDefault()},j,ie,{onPlaced:()=>$(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:$t(j.onKeyDown,ne=>{const ue=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ue&&ne.key.length===1&&Q(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let _e=z().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Ce=ne.target,Ae=_e.indexOf(Ce);_e=_e.slice(Ae+1)}setTimeout(()=>O(_e)),ne.preventDefault()}})}))))))}),zZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=po(Na,n),l=go(Na,n),[c,u]=m.useState(null),[h,f]=m.useState(null),p=en(t,T=>f(T)),v=Tf(n),x=m.useRef(!1),w=m.useRef(!0),{viewport:y,selectedItem:S,selectedItemText:j,focusSelectedItem:b}=l,C=m.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&y&&S&&j){const T=o.trigger.getBoundingClientRect(),I=h.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),U=j.getBoundingClientRect();if(o.dir!=="rtl"){const Ce=U.left-I.left,Ae=M.left-Ce,ze=T.left-Ae,Ze=T.width+ze,hn=Math.max(Ze,I.width),Hn=window.innerWidth-ii,An=gj(Ae,[ii,Hn-hn]);c.style.minWidth=Ze+"px",c.style.left=An+"px"}else{const Ce=I.right-U.right,Ae=window.innerWidth-M.right-Ce,ze=window.innerWidth-T.right-Ae,Ze=T.width+ze,hn=Math.max(Ze,I.width),Hn=window.innerWidth-ii,An=gj(Ae,[ii,Hn-hn]);c.style.minWidth=Ze+"px",c.style.right=An+"px"}const G=v(),z=window.innerHeight-ii*2,J=y.scrollHeight,$=window.getComputedStyle(h),k=parseInt($.borderTopWidth,10),O=parseInt($.paddingTop,10),F=parseInt($.borderBottomWidth,10),D=parseInt($.paddingBottom,10),H=k+O+J+D+F,W=Math.min(S.offsetHeight*5,H),Q=window.getComputedStyle(y),B=parseInt(Q.paddingTop,10),q=parseInt(Q.paddingBottom,10),Z=T.top+T.height/2-ii,X=z-Z,ie=S.offsetHeight/2,ne=S.offsetTop+ie,ue=k+O+ne,be=H-ue;if(ue<=Z){const Ce=S===G[G.length-1].ref.current;c.style.bottom="0px";const Ae=h.clientHeight-y.offsetTop-y.offsetHeight,ze=Math.max(X,ie+(Ce?q:0)+Ae+F),Ze=ue+ze;c.style.height=Ze+"px"}else{const Ce=S===G[0].ref.current;c.style.top="0px";const ze=Math.max(Z,k+y.offsetTop+(Ce?B:0)+ie)+be;c.style.height=ze+"px",y.scrollTop=ue-Z+y.offsetTop}c.style.margin=`${ii}px 0`,c.style.minHeight=W+"px",c.style.maxHeight=z+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[v,o.trigger,o.valueNode,c,h,y,S,j,o.dir,r]);ir(()=>C(),[C]);const[N,P]=m.useState();ir(()=>{h&&P(window.getComputedStyle(h).zIndex)},[h]);const A=m.useCallback(T=>{T&&w.current===!0&&(C(),b==null||b(),w.current=!1)},[C,b]);return m.createElement(VZ,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:A},m.createElement("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N}},m.createElement(Zt.div,We({},i,{ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),Pj=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ii,...o}=e,l=x0(n);return m.createElement(cZ,We({},l,o,{ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[VZ,_0]=za(Na,{}),Tj="SelectViewport",HZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=go(Tj,n),o=_0(Tj,n),l=en(t,i.onViewportChange),c=m.useRef(0);return m.createElement(m.Fragment,null,m.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),m.createElement(Pf.Slot,{scope:n},m.createElement(Zt.div,We({"data-radix-select-viewport":"",role:"presentation"},r,{ref:l,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:$t(r.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const v=Math.abs(c.current-h.scrollTop);if(v>0){const x=window.innerHeight-ii*2,w=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),S=Math.max(w,y);if(S<x){const j=S+v,b=Math.min(x,j),C=j-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})}))))}),WZ="SelectGroup",[bY,GZ]=za(WZ),ZZ="SelectLabel",qZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=GZ(ZZ,n);return m.createElement(Zt.div,We({id:i.id},r,{ref:t}))}),xv="SelectItem",[KZ,eR]=za(xv),JZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...l}=e,c=po(xv,n),u=go(xv,n),h=c.value===r,[f,p]=m.useState(o??""),[v,x]=m.useState(!1),w=en(t,j=>{var b;return(b=u.itemRefCallback)===null||b===void 0?void 0:b.call(u,j,r,i)}),y=Uk(),S=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};return m.createElement(KZ,{scope:n,value:r,disabled:i,textId:y,isSelected:h,onItemTextChange:m.useCallback(j=>{p(b=>{var C;return b||((C=j==null?void 0:j.textContent)!==null&&C!==void 0?C:"").trim()})},[])},m.createElement(Pf.ItemSlot,{scope:n,value:r,disabled:i,textValue:f},m.createElement(Zt.div,We({role:"option","aria-labelledby":y,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},l,{ref:w,onFocus:$t(l.onFocus,()=>x(!0)),onBlur:$t(l.onBlur,()=>x(!1)),onPointerUp:$t(l.onPointerUp,S),onPointerMove:$t(l.onPointerMove,j=>{if(i){var b;(b=u.onItemLeave)===null||b===void 0||b.call(u)}else j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$t(l.onPointerLeave,j=>{if(j.currentTarget===document.activeElement){var b;(b=u.onItemLeave)===null||b===void 0||b.call(u)}}),onKeyDown:$t(l.onKeyDown,j=>{var b;((b=u.searchRef)===null||b===void 0?void 0:b.current)!==""&&j.key===" "||(PZ.includes(j.key)&&S(),j.key===" "&&j.preventDefault())})}))))}),Ku="SelectItemText",YZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,l=po(Ku,n),c=go(Ku,n),u=eR(Ku,n),h=RZ(Ku,n),[f,p]=m.useState(null),v=en(t,j=>p(j),u.onItemTextChange,j=>{var b;return(b=c.itemTextRefCallback)===null||b===void 0?void 0:b.call(c,j,u.value,u.disabled)}),x=f==null?void 0:f.textContent,w=m.useMemo(()=>m.createElement("option",{key:u.value,value:u.value,disabled:u.disabled},x),[u.disabled,u.value,x]),{onNativeOptionAdd:y,onNativeOptionRemove:S}=h;return ir(()=>(y(w),()=>S(w)),[y,S,w]),m.createElement(m.Fragment,null,m.createElement(Zt.span,We({id:u.textId},o,{ref:v})),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Gr.createPortal(o.children,l.valueNode):null)}),XZ="SelectItemIndicator",QZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return eR(XZ,n).isSelected?m.createElement(Zt.span,We({"aria-hidden":!0},r,{ref:t})):null}),Aj="SelectScrollUpButton",eq=m.forwardRef((e,t)=>{const n=go(Aj,e.__scopeSelect),r=_0(Aj,e.__scopeSelect),[i,o]=m.useState(!1),l=en(t,r.onScrollButtonChange);return ir(()=>{if(n.viewport&&n.isPositioned){let h=function(){const f=u.scrollTop>0;o(f)};var c=h;const u=n.viewport;return h(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),i?m.createElement(tR,We({},e,{ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}})):null}),kj="SelectScrollDownButton",tq=m.forwardRef((e,t)=>{const n=go(kj,e.__scopeSelect),r=_0(kj,e.__scopeSelect),[i,o]=m.useState(!1),l=en(t,r.onScrollButtonChange);return ir(()=>{if(n.viewport&&n.isPositioned){let h=function(){const f=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<f;o(p)};var c=h;const u=n.viewport;return h(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),i?m.createElement(tR,We({},e,{ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}})):null}),tR=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=go("SelectScrollButton",n),l=m.useRef(null),c=Tf(n),u=m.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return m.useEffect(()=>()=>u(),[u]),ir(()=>{var h;const f=c().find(p=>p.ref.current===document.activeElement);f==null||(h=f.ref.current)===null||h===void 0||h.scrollIntoView({block:"nearest"})},[c]),m.createElement(Zt.div,We({"aria-hidden":!0},i,{ref:t,style:{flexShrink:0,...i.style},onPointerDown:$t(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:$t(i.onPointerMove,()=>{var h;(h=o.onItemLeave)===null||h===void 0||h.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:$t(i.onPointerLeave,()=>{u()})}))}),nq=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return m.createElement(Zt.div,We({"aria-hidden":!0},r,{ref:t}))}),nR=m.forwardRef((e,t)=>{const{value:n,...r}=e,i=m.useRef(null),o=en(t,i),l=hZ(n);return m.useEffect(()=>{const c=i.current,u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==n&&f){const p=new Event("change",{bubbles:!0});f.call(c,n),c.dispatchEvent(p)}},[l,n]),m.createElement(fZ,{asChild:!0},m.createElement("select",We({},r,{ref:o,defaultValue:n})))});nR.displayName="BubbleSelect";function rR(e){const t=wi(e),n=m.useRef(""),r=m.useRef(0),i=m.useCallback(l=>{const c=n.current+l;t(c),function u(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(c)},[t]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function iR(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=rq(e,Math.max(o,0));i.length===1&&(l=l.filter(h=>h!==n));const u=l.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function rq(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const iq=LZ,sR=MZ,sq=DZ,oq=$Z,aq=FZ,oR=BZ,lq=HZ,aR=qZ,lR=JZ,cq=YZ,uq=QZ,cR=eq,uR=tq,dR=nq,yt=iq,xt=sq,ht=se.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(sR,{ref:r,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(oq,{asChild:!0,children:s.jsx(ky,{className:"h-4 w-4 opacity-50"})})]}));ht.displayName=sR.displayName;const hR=se.forwardRef(({className:e,...t},n)=>s.jsx(cR,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(o3,{className:"h-4 w-4"})}));hR.displayName=cR.displayName;const fR=se.forwardRef(({className:e,...t},n)=>s.jsx(uR,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ky,{className:"h-4 w-4"})}));fR.displayName=uR.displayName;const ft=se.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>s.jsx(aq,{children:s.jsxs(oR,{ref:i,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(hR,{}),s.jsx(lq,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(fR,{})]})}));ft.displayName=oR.displayName;const dq=se.forwardRef(({className:e,...t},n)=>s.jsx(aR,{ref:n,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));dq.displayName=aR.displayName;const De=se.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(lR,{ref:r,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(uq,{children:s.jsx(Ay,{className:"h-4 w-4"})})}),s.jsx(cq,{children:t})]}));De.displayName=lR.displayName;const hq=se.forwardRef(({className:e,...t},n)=>s.jsx(dR,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));hq.displayName=dR.displayName;const _v={educational_game:"Jeu éducatif",warm_up_exercise:"Exercice d'échauffement",strength_exercise:"Exercice de renfo",review_sheet:"Fiche de révision",technical_sheet:"Fiche technique",safety_sheet:"Fiche sécurité",meeting_report:"Compte rendu de réunion"},fq=({sheet:e})=>{const t=()=>{switch(e.type){case"video_url":return s.jsx(oN,{className:"w-8 h-8 text-red-500"});case"image_file":return s.jsx(Ac,{className:"w-8 h-8 text-blue-500"});case"document_file":case"document_url":return s.jsx(er,{className:"w-8 h-8 text-green-500"});default:return s.jsx(xa,{className:"w-8 h-8 text-gray-500"})}},n=()=>{var i;if(e.thumbnail_url)return e.thumbnail_url;if(e.type==="image_file")return e.url;if(e.type==="video_url"){const o=((i=e.url.split("v=")[1])==null?void 0:i.split("&")[0])||e.url.split("/").pop();if(e.url.includes("youtube.com")||e.url.includes("youtu.be"))return`https://img.youtube.com/vi/${o}/mqdefault.jpg`}return null},r=()=>{switch(e.sheet_type){case"educational_game":return s.jsx(My,{className:"w-4 h-4"});case"warm_up_exercise":return s.jsx(Ry,{className:"w-4 h-4"});case"strength_exercise":return s.jsx(Oh,{className:"w-4 h-4"});case"review_sheet":return s.jsx(Oy,{className:"w-4 h-4"});case"technical_sheet":return s.jsx(er,{className:"w-4 h-4"});case"safety_sheet":return s.jsx(Gd,{className:"w-4 h-4"});case"meeting_report":return s.jsx(er,{className:"w-4 h-4"});default:return null}};return s.jsx(de.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:s.jsxs(pe,{className:"h-full flex flex-col",children:[s.jsx(Se,{className:"pb-4",children:s.jsxs("div",{className:"flex gap-4",children:[n()?s.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"shrink-0",children:s.jsx("img",{src:n(),alt:e.title,className:"w-24 h-16 object-cover rounded-md hover:opacity-80 transition-opacity"})}):s.jsx("div",{className:"w-24 h-16 flex items-center justify-center bg-muted rounded-md shrink-0",children:t()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(Ee,{className:"text-lg leading-tight mb-2",children:e.title}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.sheet_type&&s.jsxs(Te,{variant:"outline",className:"flex items-center gap-1 text-xs",children:[r(),_v[e.sheet_type]]}),e.structure&&s.jsx(Te,{variant:"secondary",className:"text-xs",children:e.structure}),(e.categories||[]).map(i=>s.jsx(Te,{className:"text-xs",children:i},i))]})]})]})}),e.description&&s.jsx(ge,{className:"pt-0",children:s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:e.description})}),s.jsx(ge,{className:"pt-2 mt-auto",children:s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary hover:underline",children:[t(),"Consulter la ressource"]})})]})})},mq=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(null),[i,o]=m.useState([]),[l,c]=m.useState(!0),[u,h]=m.useState(""),[f,p]=m.useState(""),[v,x]=m.useState(""),[w,y]=m.useState(""),[S,j]=m.useState(!1),[b,C]=m.useState(!1),{toast:N}=et(),P=m.useMemo(()=>e?e.filter($=>{var H,W;const k=!u||((H=$.title)==null?void 0:H.toLowerCase().includes(u.toLowerCase()))||((W=$.description)==null?void 0:W.toLowerCase().includes(u.toLowerCase())),O=!f||$.sheet_type===f,F=!v||$.structure===v,D=!w||$.categories&&$.categories.includes(w);return k&&O&&F&&D}):[],[e,u,f,v,w]),A=m.useMemo(()=>{const $=e.map(k=>k.structure).filter(Boolean);return[...new Set($)]},[e]),T=m.useMemo(()=>{const $=e.flatMap(k=>k.categories||[]);return[...new Set($)]},[e]),I=()=>{h(""),p(""),x(""),y(""),r(null)},M=async $=>{if(i.some(O=>O.pedagogy_sheet_id===$.id)){N({title:"Information",description:"Cette fiche est déjà sauvegardée.",variant:"default"}),j(!1);return}r($),j(!1),await z($.id)},U=m.useCallback(async()=>{c(!0);try{const{data:$,error:k}=await te.from("pedagogy_sheets").select("*").order("title");if(k)throw k;t($||[])}catch($){console.error("Error fetching pedagogy sheets:",$),N({title:"Erreur",description:"Impossible de charger les fiches pédagogiques.",variant:"destructive"})}finally{c(!1)}},[N]),G=m.useCallback(async()=>{try{const{data:$,error:k}=await te.from("vocabulary_sheets").select(`
          id,
          pedagogy_sheet_id,
          created_at,
          pedagogy_sheets (*)
        `).order("created_at",{ascending:!1});if(k)if(k.code==="PGRST205")console.log("Table vocabulary_sheets pas encore créée"),o([]),N({title:"Information",description:"Table vocabulary_sheets non trouvée. Veuillez créer la table en base.",variant:"default"});else throw k;else o($||[])}catch($){console.error("Error fetching saved sheets:",$),o([]),N({title:"Erreur",description:"Impossible de charger les fiches sauvegardées.",variant:"destructive"})}},[N]),z=async $=>{C(!0);try{const{data:k,error:O}=await te.from("vocabulary_sheets").insert([{pedagogy_sheet_id:$}]).select(`
          id,
          pedagogy_sheet_id,
          created_at,
          pedagogy_sheets (*)
        `);if(O)if(O.code==="PGRST205")N({title:"Table manquante",description:"La table vocabulary_sheets n'existe pas. Veuillez créer la table en base de données.",variant:"destructive"});else throw O;else o(F=>[k[0],...F]),N({title:"Succès",description:"Fiche sauvegardée avec succès !"})}catch(k){console.error("Error saving sheet:",k),N({title:"Erreur",description:`Impossible de sauvegarder la fiche: ${k.message}`,variant:"destructive"})}finally{C(!1)}},J=async $=>{try{const{error:k}=await te.from("vocabulary_sheets").delete().eq("id",$);if(k)throw k;o(O=>O.filter(F=>F.id!==$)),N({title:"Succès",description:"Fiche supprimée avec succès !"})}catch(k){console.error("Error removing sheet:",k),N({title:"Erreur",description:"Impossible de supprimer la fiche.",variant:"destructive"})}};return m.useEffect(()=>{U(),G()},[U,G]),s.jsxs(de.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[s.jsxs("h2",{className:"text-3xl font-bold headline flex items-center gap-3",children:[s.jsx(Gd,{className:"w-8 h-8 text-primary"}),"Vocabulaire & Ressources"]}),s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(Gd,{className:"w-5 h-5"}),"Vocabulaire des Compétitions"]})}),s.jsxs(ge,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Contest"}),s.jsx("p",{className:"text-muted-foreground",children:"Manifestation avec un règlement souple (idéal pour commencer). Ouvert aux compétiteurs concernés sous certaines réserves (niveau trop élevé notamment). À ne pas confondre avec une compétition en 'mode contest'."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Open"}),s.jsx("p",{className:"text-muted-foreground",children:"Ouvert aux compétiteurs concernés sous certaines réserves (géographiques, nombre de places,…)."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Coupe"}),s.jsx("p",{className:"text-muted-foreground",children:"Ensemble de compétitions ouvert aux compétiteurs concernés avec ou sans critère de sélection."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Championnat"}),s.jsx("p",{className:"text-muted-foreground",children:"Une compétition avec généralement un critère de sélection."})]})]})]}),s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(er,{className:"w-5 h-5"}),"Ressources Pédagogiques"]})}),s.jsx(ge,{className:"space-y-4",children:l?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx($e,{className:"w-8 h-8 animate-spin text-primary"})}):e.length===0?s.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"Aucune ressource pédagogique disponible."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs(Ot,{open:S,onOpenChange:j,children:[s.jsx(QT,{asChild:!0,children:s.jsxs(ee,{className:"flex items-center gap-2",disabled:b,children:[b?s.jsx($e,{className:"w-4 h-4 animate-spin"}):s.jsx(_a,{className:"w-4 h-4"}),"Ajouter une fiche"]})}),s.jsxs(Tt,{className:"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsx(Ht,{children:s.jsxs(Wt,{className:"flex items-center gap-2",children:[s.jsx(vi,{className:"w-5 h-5"}),"Sélectionner une fiche pédagogique"]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4",children:[s.jsxs("div",{className:"space-y-4 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(GE,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Filtres de recherche"}),(u||f||v||w)&&s.jsxs(ee,{variant:"ghost",size:"sm",onClick:I,className:"ml-auto text-xs",children:[s.jsx(jr,{className:"w-3 h-3 mr-1"}),"Effacer"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(vi,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(we,{placeholder:"Rechercher par titre ou description...",value:u,onChange:$=>h($.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Type de fiche"}),s.jsxs(yt,{value:f,onValueChange:p,children:[s.jsx(ht,{className:"h-9",children:s.jsx(xt,{placeholder:"Tous les types"})}),s.jsxs(ft,{children:[s.jsx(De,{value:"",children:"Tous les types"}),Object.entries(_v).map(([$,k])=>s.jsx(De,{value:$,children:k},$))]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Structure"}),s.jsxs(yt,{value:v,onValueChange:x,children:[s.jsx(ht,{className:"h-9",children:s.jsx(xt,{placeholder:"Toutes les structures"})}),s.jsxs(ft,{children:[s.jsx(De,{value:"",children:"Toutes les structures"}),A.map($=>s.jsx(De,{value:$,children:$},$))]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Catégorie"}),s.jsxs(yt,{value:w,onValueChange:y,children:[s.jsx(ht,{className:"h-9",children:s.jsx(xt,{placeholder:"Toutes les catégories"})}),s.jsxs(ft,{children:[s.jsx(De,{value:"",children:"Toutes les catégories"}),T.map($=>s.jsx(De,{value:$,children:$},$))]})]})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[P.length," fiche(s) trouvée(s) sur ",e.length]})]}),P.length===0?s.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"Aucune fiche ne correspond aux critères de recherche."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map($=>s.jsx(de.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},className:"cursor-pointer",onClick:()=>M($),children:s.jsxs(pe,{className:"h-full hover:shadow-md transition-shadow border-2 hover:border-primary/20",children:[s.jsx(Se,{className:"pb-3",children:s.jsxs("div",{className:"flex gap-3",children:[$.thumbnail_url||$.type==="image_file"&&$.url?s.jsx("img",{src:$.thumbnail_url||$.url,alt:$.title,className:"w-16 h-12 object-cover rounded-md shrink-0"}):s.jsx("div",{className:"w-16 h-12 flex items-center justify-center bg-muted rounded-md shrink-0",children:s.jsx(er,{className:"w-6 h-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(Ee,{className:"text-sm leading-tight mb-1 line-clamp-2",children:$.title}),s.jsx("div",{className:"flex flex-wrap gap-1",children:$.sheet_type&&s.jsx(Te,{variant:"outline",className:"text-xs",children:_v[$.sheet_type]})})]})]})}),$.description&&s.jsx(ge,{className:"pt-0",children:s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:$.description})})]})},$.id))})]})]})]})}),i.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h3",{className:"font-medium",children:["Fiches sauvegardées (",i.length,") :"]})}),s.jsx("div",{className:"space-y-3",children:s.jsx(Lt,{children:i.map($=>s.jsx(de.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"relative",children:s.jsxs("div",{className:"relative",children:[s.jsx(fq,{sheet:$.pedagogy_sheets}),s.jsx(ee,{variant:"destructive",size:"sm",className:"absolute top-2 right-2 h-8 w-8 p-0",onClick:()=>J($.id),children:s.jsx(br,{className:"w-4 h-4"})})]})},$.id))})})]}),i.length===0&&!l&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-2",children:"Aucune fiche pédagogique sauvegardée."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Cliquez sur "Ajouter une fiche" pour commencer.'})]})]})})]})]})},pq=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Compétitions - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Consultez le calendrier des compétitions d'escalade et les résultats."})]}),s.jsx(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsx("div",{className:"flex justify-between items-center flex-wrap gap-4",children:s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(Ia,{className:"w-10 h-10 text-primary"}),"Compétitions"]})})}),s.jsxs(uh,{defaultValue:"club",className:"w-full",children:[s.jsxs(_c,{className:"grid w-full grid-cols-4",children:[s.jsx(Ir,{value:"club",children:"Compétitions du club"}),s.jsx(Ir,{value:"federal",children:"Calendrier des compétitions"}),s.jsx(Ir,{value:"palmares",children:"Palmarès 2024-2025"}),s.jsx(Ir,{value:"vocabulaire",children:"Vocabulaire"})]}),s.jsx(Dr,{value:"club",className:"mt-6",children:s.jsx(yG,{})}),s.jsx(Dr,{value:"federal",className:"mt-6",children:s.jsx(bG,{})}),s.jsx(Dr,{value:"palmares",className:"mt-6",children:s.jsx(CG,{})}),s.jsx(Dr,{value:"vocabulaire",className:"mt-6",children:s.jsx(mq,{})})]})]});var mR={exports:{}},pR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=m;function gq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vq=typeof Object.is=="function"?Object.is:gq,yq=Pa.useState,xq=Pa.useEffect,_q=Pa.useLayoutEffect,wq=Pa.useDebugValue;function bq(e,t){var n=t(),r=yq({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return _q(function(){i.value=n,i.getSnapshot=t,jp(i)&&o({inst:i})},[e,n,t]),xq(function(){return jp(i)&&o({inst:i}),e(function(){jp(i)&&o({inst:i})})},[e]),wq(n),n}function jp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vq(e,n)}catch{return!0}}function jq(e,t){return t()}var Cq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jq:bq;pR.useSyncExternalStore=Pa.useSyncExternalStore!==void 0?Pa.useSyncExternalStore:Cq;mR.exports=pR;var gR=mR.exports;function Sq(){return gR.useSyncExternalStore(Eq,()=>!0,()=>!1)}function Eq(){return()=>{}}var w0="Avatar",[Nq,jY]=Vn(w0),[Pq,vR]=Nq(w0),yR=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,o]=m.useState("idle");return s.jsx(Pq,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:s.jsx(je.span,{...r,ref:t})})});yR.displayName=w0;var xR="AvatarImage",_R=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=e,l=vR(xR,n),c=Tq(r,o),u=jn(h=>{i(h),l.onImageLoadingStatusChange(h)});return Fn(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?s.jsx(je.img,{...o,ref:t,src:r}):null});_R.displayName=xR;var wR="AvatarFallback",bR=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,o=vR(wR,n),[l,c]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(u)}},[r]),l&&o.imageLoadingStatus!=="loaded"?s.jsx(je.span,{...i,ref:t}):null});bR.displayName=wR;function Rj(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Tq(e,{referrerPolicy:t,crossOrigin:n}){const r=Sq(),i=m.useRef(null),o=(()=>r?(i.current||(i.current=new window.Image),i.current):null)(),[l,c]=m.useState(()=>Rj(o,e));return Fn(()=>{c(Rj(o,e))},[o,e]),Fn(()=>{const u=p=>()=>{c(p)};if(!o)return;const h=u("loaded"),f=u("error");return o.addEventListener("load",h),o.addEventListener("error",f),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",h),o.removeEventListener("error",f)}},[o,n,t]),l}var jR=yR,CR=_R,SR=bR;const us=se.forwardRef(({className:e,...t},n)=>s.jsx(jR,{ref:n,className:ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));us.displayName=jR.displayName;const ds=se.forwardRef(({className:e,src:t,...n},r)=>t?s.jsx(CR,{ref:r,src:t,className:ce("aspect-square h-full w-full",e),...n}):null);ds.displayName=CR.displayName;const hs=se.forwardRef(({className:e,...t},n)=>s.jsx(SR,{ref:n,className:ce("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));hs.displayName=SR.displayName;const Aq=`Type;Age;Jour;Heure debut;Heure fin;Encadrant 1;Encadrant 2;Encadrant 3;Encadrant 4
Compétition;U15(2)-U17-U19;Lundi;18h;20h30;Stephane LORIDANT;;;
Compétition;U15(2)-U17-U19;Mercredi;18h;20h;Clément de Lima FERREIRA;;;
Compétition;U15(2)-U17-U19;Vendredi;18h30;20h30;Stephane LORIDANT;;;
Compétition;U11-U13-U15(1);Lundi;18h;20h30;Adrien BERGER;;;
Compétition;U11-U13-U15(1);Mercredi;16h;18h;Clément de Lima FERREIRA;;;
Compétition;U11-U13-U15(1);Vendredi;18h;20h;Clément de Lima FERREIRA;;;
Loisir;Enfants 2015-2017 Groupe A;Mercredi;13h;14h30;Thibault N;Antoine GAUTHIER;Edgar Bénévole;Rodolphe JULLIEN-MOUTELON
Loisir;Enfants 2015-2017 Groupe B;Mercredi;13h;14h30;Thibault N;Antoine GAUTHIER;Edgar Bénévole;Rodolphe JULLIEN-MOUTELON
Loisir;Enfants 2018-2019;Mercredi;16h;17h;Thibault N;;;
Loisir;Enfants 2018-2019;Vendredi;17h;18h;Camille DIDIER;Clément ANTOLINOS;Rodolphe JULLIEN-MOUTELON;
Loisir;Collégiens;Lundi;18h30;20h;Jean-Benoit RIOS;Camille DIDIER;Romain GOETHALS;Sabine MACKIEWICZ
Loisir;Collégiens;Mercredi;14h30;16h;Antoine GAUTHIER;Edgar Bénévole;Rodolphe JULLIEN-MOUTELON;
Loisir;Lycéens;Mardi;18h30;20h;David LOPEZ;Magali FREMY;Olivier BOSSET;Clement ANTOLINOS
Loisir;Adulte débutant;Mardi;20h;22h;Olivier BOSSET;Magaly HUE;;
Loisir;Enfants 2015-2017 Groupe A;Mercredi;10h30;12h;Tom Bénévole;;;
Perf;U13(2)-U15-U17-U19;Mercredi;14h30;16h;Thibault N;;;
Autonomes;Adultes;Vendredi;20h30;22h;Clément de Lima FERREIRA;;;
Autonomes;Adultes;Lundi;20h;22h;Nathalie LEROY;Richard ROMANET;;
Autonomes;Adultes;Mercredi;20h;22h;Marine BOURDAUD HUI;Magaly HUE;Mathieu BARAUD;
Autonomes;Adultes;Jeudi;18h;22h;Nathalie LEROY;Boris CATHERIN;Fabienne LAGARDE;
Perf;Adultes;Vendredi;20h;22h;Clément de Lima FERREIRA;;;
Autonomes;Adultes;Samedi;10h30;12h30;Pascal PARMENTIER;;;`,kq=e=>{const t=e.trim().split(`
`),n=t[0].split(";").map(i=>i.trim());return t.slice(1).map((i,o)=>{const l=i.split(";"),c={id:o+1};return n.forEach((u,h)=>{c[u]=l[h]?l[h].trim():""}),c})},Lj=e=>{if(!e)return"00:00";let t=e.replace("h",":");t.includes(":")||(t+=":00"),t.endsWith(":")&&(t+="00");const n=t.split(":"),r=n[0].padStart(2,"0"),i=(n[1]||"00").padStart(2,"0");return`${r}:${i}`},Oj=e=>{const[t,n]=e.split(":").map(Number);return t*60+n},Rq=10*60,Mj=30,Lq=e=>{switch(e){case"Compétition":return"bg-red-200 text-red-800 border-red-300";case"Loisir":return"bg-blue-200 text-blue-800 border-blue-300";case"Perf":return"bg-green-200 text-green-800 border-green-300";case"Autonomes":return"bg-yellow-200 text-yellow-800 border-yellow-300";default:return"bg-gray-200 text-gray-800 border-gray-300"}},Oq=kq(Aq),wv=Array.from({length:(23-10)*2+1},(e,t)=>{const n=10+Math.floor(t/2),r=t%2===0?"00":"30";return`${String(n).padStart(2,"0")}:${r}`}),la=Oq.map(e=>{const t=Lj(e["Heure debut"]),n=Lj(e["Heure fin"]),r=Oj(t),i=Oj(n);let o=Math.round((i-r)/Mj);o<1&&(o=1);const l=Math.floor((r-Rq)/Mj);if(l<0||l>=wv.length)return null;const c=[e["Encadrant 1"],e["Encadrant 2"],e["Encadrant 3"],e["Encadrant 4"]].filter(Boolean);return{id:e.id,title:e.Age,day:e.Jour,startTime:t,endTime:n,spanSlots:o,startIndex:l,instructors:c,group:e.Type,color:Lq(e.Type)}}).filter(Boolean),Ju=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],Mq=[{category:"U9",school:"CE1-CE2"},{category:"U11",school:"CM1-CM2"},{category:"U13",school:"6ème-5ème"},{category:"U15",school:"4ème-3ème"},{category:"U17",school:"2nde-1ère"},{category:"U19",school:"Terminale-Bac+1"},{category:"Senior",school:"Adultes"},{category:"Vétéran",school:"40+ ans"}];function fs(e,t,n=!1){if(!e)return t||"";if(!t)return e||"";const r=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();if(n){const o=t.toUpperCase();return`${r} ${o}`}const i=`${t.charAt(0).toUpperCase()}.`;return`${r} ${i}`}const b0=({profile:e})=>{if(!e)return null;const t={admin:{Icon:Dh,color:"text-green-500",title:"Administrateur"},adherent:{Icon:ui,color:"text-blue-500",title:"Adhérent"},user:{Icon:ui,color:"text-gray-500",title:"Utilisateur"}},n=t[e.role]||t.user;return s.jsx(n.Icon,{className:`h-4 w-4 ml-2 flex-shrink-0 ${n.color}`,title:n.title})};function Iq(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Af="Checkbox",[Dq,CY]=Vn(Af),[$q,j0]=Dq(Af);function Fq(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:o,form:l,name:c,onCheckedChange:u,required:h,value:f="on",internal_do_not_use_render:p}=e,[v,x]=ji({prop:n,defaultProp:i??!1,onChange:u,caller:Af}),[w,y]=m.useState(null),[S,j]=m.useState(null),b=m.useRef(!1),C=w?!!l||!!w.closest("form"):!0,N={checked:v,disabled:o,setChecked:x,control:w,setControl:y,name:c,form:l,value:f,hasConsumerStoppedPropagationRef:b,required:h,defaultChecked:ts(i)?!1:i,isFormControl:C,bubbleInput:S,setBubbleInput:j};return s.jsx($q,{scope:t,...N,children:Bq(p)?p(N):r})}var ER="CheckboxTrigger",NR=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:o,value:l,disabled:c,checked:u,required:h,setControl:f,setChecked:p,hasConsumerStoppedPropagationRef:v,isFormControl:x,bubbleInput:w}=j0(ER,e),y=st(i,f),S=m.useRef(u);return m.useEffect(()=>{const j=o==null?void 0:o.form;if(j){const b=()=>p(S.current);return j.addEventListener("reset",b),()=>j.removeEventListener("reset",b)}},[o,p]),s.jsx(je.button,{type:"button",role:"checkbox","aria-checked":ts(u)?"mixed":u,"aria-required":h,"data-state":RR(u),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:y,onKeyDown:ve(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:ve(n,j=>{p(b=>ts(b)?!0:!b),w&&x&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})})});NR.displayName=ER;var C0=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:l,disabled:c,value:u,onCheckedChange:h,form:f,...p}=e;return s.jsx(Fq,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:c,required:l,onCheckedChange:h,name:r,form:f,value:u,internal_do_not_use_render:({isFormControl:v})=>s.jsxs(s.Fragment,{children:[s.jsx(NR,{...p,ref:t,__scopeCheckbox:n}),v&&s.jsx(kR,{__scopeCheckbox:n})]})})});C0.displayName=Af;var PR="CheckboxIndicator",TR=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,o=j0(PR,n);return s.jsx(sr,{present:r||ts(o.checked)||o.checked===!0,children:s.jsx(je.span,{"data-state":RR(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});TR.displayName=PR;var AR="CheckboxBubbleInput",kR=m.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:l,required:c,disabled:u,name:h,value:f,form:p,bubbleInput:v,setBubbleInput:x}=j0(AR,e),w=st(n,x),y=Iq(o),S=g2(r);m.useEffect(()=>{const b=v;if(!b)return;const C=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(C,"checked").set,A=!i.current;if(y!==o&&P){const T=new Event("click",{bubbles:A});b.indeterminate=ts(o),P.call(b,ts(o)?!1:o),b.dispatchEvent(T)}},[v,y,o,i]);const j=m.useRef(ts(o)?!1:o);return s.jsx(je.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:c,disabled:u,name:h,value:f,form:p,...t,tabIndex:-1,ref:w,style:{...t.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});kR.displayName=AR;function Bq(e){return typeof e=="function"}function ts(e){return e==="indeterminate"}function RR(e){return ts(e)?"indeterminate":e?"checked":"unchecked"}const $r=m.forwardRef(({className:e,...t},n)=>s.jsx(C0,{ref:n,className:ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(TR,{className:ce("flex items-center justify-center text-current"),children:s.jsx(Ay,{className:"h-4 w-4"})})}));$r.displayName=C0.displayName;var Ij=1,Uq=.9,zq=.8,Vq=.17,Cp=.1,Sp=.999,Hq=.9999,Wq=.99,Gq=/[\\\/_+.#"@\[\(\{&]/,Zq=/[\\\/_+.#"@\[\(\{&]/g,qq=/[\s-]/,LR=/[\s-]/g;function bv(e,t,n,r,i,o,l){if(o===t.length)return i===e.length?Ij:Wq;var c=`${i},${o}`;if(l[c]!==void 0)return l[c];for(var u=r.charAt(o),h=n.indexOf(u,i),f=0,p,v,x,w;h>=0;)p=bv(e,t,n,r,h+1,o+1,l),p>f&&(h===i?p*=Ij:Gq.test(e.charAt(h-1))?(p*=zq,x=e.slice(i,h-1).match(Zq),x&&i>0&&(p*=Math.pow(Sp,x.length))):qq.test(e.charAt(h-1))?(p*=Uq,w=e.slice(i,h-1).match(LR),w&&i>0&&(p*=Math.pow(Sp,w.length))):(p*=Vq,i>0&&(p*=Math.pow(Sp,h-i))),e.charAt(h)!==t.charAt(o)&&(p*=Hq)),(p<Cp&&n.charAt(h-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(h-1)!==r.charAt(o))&&(v=bv(e,t,n,r,h+1,o+2,l),v*Cp>p&&(p=v*Cp)),p>f&&(f=p),h=n.indexOf(u,h+1);return l[c]=f,f}function Dj(e){return e.toLowerCase().replace(LR," ")}function Kq(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,bv(e,t,Dj(e),Dj(t),0,0,{})}var yl='[cmdk-group=""]',Ep='[cmdk-group-items=""]',Jq='[cmdk-group-heading=""]',S0='[cmdk-item=""]',$j=`${S0}:not([aria-disabled="true"])`,jv="cmdk-item-select",Bs="data-value",Yq=(e,t,n)=>Kq(e,t,n),OR=m.createContext(void 0),Wc=()=>m.useContext(OR),MR=m.createContext(void 0),E0=()=>m.useContext(MR),IR=m.createContext(void 0),DR=m.forwardRef((e,t)=>{let n=Io(()=>{var B,q;return{search:"",value:(q=(B=e.value)!=null?B:e.defaultValue)!=null?q:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=Io(()=>new Set),i=Io(()=>new Map),o=Io(()=>new Map),l=Io(()=>new Set),c=$R(e),{label:u,children:h,value:f,onValueChange:p,filter:v,shouldFilter:x,loop:w,disablePointerSelection:y=!1,vimBindings:S=!0,...j}=e,b=ln(),C=ln(),N=ln(),P=m.useRef(null),A=lK();io(()=>{if(f!==void 0){let B=f.trim();n.current.value=B,T.emit()}},[f]),io(()=>{A(6,J)},[]);let T=m.useMemo(()=>({subscribe:B=>(l.current.add(B),()=>l.current.delete(B)),snapshot:()=>n.current,setState:(B,q,Z)=>{var X,ie,ne;if(!Object.is(n.current[B],q)){if(n.current[B]=q,B==="search")z(),U(),A(1,G);else if(B==="value"&&(Z||A(5,J),((X=c.current)==null?void 0:X.value)!==void 0)){let ue=q??"";(ne=(ie=c.current).onValueChange)==null||ne.call(ie,ue);return}T.emit()}},emit:()=>{l.current.forEach(B=>B())}}),[]),I=m.useMemo(()=>({value:(B,q,Z)=>{var X;q!==((X=o.current.get(B))==null?void 0:X.value)&&(o.current.set(B,{value:q,keywords:Z}),n.current.filtered.items.set(B,M(q,Z)),A(2,()=>{U(),T.emit()}))},item:(B,q)=>(r.current.add(B),q&&(i.current.has(q)?i.current.get(q).add(B):i.current.set(q,new Set([B]))),A(3,()=>{z(),U(),n.current.value||G(),T.emit()}),()=>{o.current.delete(B),r.current.delete(B),n.current.filtered.items.delete(B);let Z=$();A(4,()=>{z(),(Z==null?void 0:Z.getAttribute("id"))===B&&G(),T.emit()})}),group:B=>(i.current.has(B)||i.current.set(B,new Set),()=>{o.current.delete(B),i.current.delete(B)}),filter:()=>c.current.shouldFilter,label:u||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:b,inputId:N,labelId:C,listInnerRef:P}),[]);function M(B,q){var Z,X;let ie=(X=(Z=c.current)==null?void 0:Z.filter)!=null?X:Yq;return B?ie(B,n.current.search,q):0}function U(){if(!n.current.search||c.current.shouldFilter===!1)return;let B=n.current.filtered.items,q=[];n.current.filtered.groups.forEach(X=>{let ie=i.current.get(X),ne=0;ie.forEach(ue=>{let be=B.get(ue);ne=Math.max(be,ne)}),q.push([X,ne])});let Z=P.current;k().sort((X,ie)=>{var ne,ue;let be=X.getAttribute("id"),_e=ie.getAttribute("id");return((ne=B.get(_e))!=null?ne:0)-((ue=B.get(be))!=null?ue:0)}).forEach(X=>{let ie=X.closest(Ep);ie?ie.appendChild(X.parentElement===ie?X:X.closest(`${Ep} > *`)):Z.appendChild(X.parentElement===Z?X:X.closest(`${Ep} > *`))}),q.sort((X,ie)=>ie[1]-X[1]).forEach(X=>{var ie;let ne=(ie=P.current)==null?void 0:ie.querySelector(`${yl}[${Bs}="${encodeURIComponent(X[0])}"]`);ne==null||ne.parentElement.appendChild(ne)})}function G(){let B=k().find(Z=>Z.getAttribute("aria-disabled")!=="true"),q=B==null?void 0:B.getAttribute(Bs);T.setState("value",q||void 0)}function z(){var B,q,Z,X;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ie=0;for(let ne of r.current){let ue=(q=(B=o.current.get(ne))==null?void 0:B.value)!=null?q:"",be=(X=(Z=o.current.get(ne))==null?void 0:Z.keywords)!=null?X:[],_e=M(ue,be);n.current.filtered.items.set(ne,_e),_e>0&&ie++}for(let[ne,ue]of i.current)for(let be of ue)if(n.current.filtered.items.get(be)>0){n.current.filtered.groups.add(ne);break}n.current.filtered.count=ie}function J(){var B,q,Z;let X=$();X&&(((B=X.parentElement)==null?void 0:B.firstChild)===X&&((Z=(q=X.closest(yl))==null?void 0:q.querySelector(Jq))==null||Z.scrollIntoView({block:"nearest"})),X.scrollIntoView({block:"nearest"}))}function $(){var B;return(B=P.current)==null?void 0:B.querySelector(`${S0}[aria-selected="true"]`)}function k(){var B;return Array.from(((B=P.current)==null?void 0:B.querySelectorAll($j))||[])}function O(B){let q=k()[B];q&&T.setState("value",q.getAttribute(Bs))}function F(B){var q;let Z=$(),X=k(),ie=X.findIndex(ue=>ue===Z),ne=X[ie+B];(q=c.current)!=null&&q.loop&&(ne=ie+B<0?X[X.length-1]:ie+B===X.length?X[0]:X[ie+B]),ne&&T.setState("value",ne.getAttribute(Bs))}function D(B){let q=$(),Z=q==null?void 0:q.closest(yl),X;for(;Z&&!X;)Z=B>0?oK(Z,yl):aK(Z,yl),X=Z==null?void 0:Z.querySelector($j);X?T.setState("value",X.getAttribute(Bs)):F(B)}let H=()=>O(k().length-1),W=B=>{B.preventDefault(),B.metaKey?H():B.altKey?D(1):F(1)},Q=B=>{B.preventDefault(),B.metaKey?O(0):B.altKey?D(-1):F(-1)};return m.createElement(je.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:B=>{var q;if((q=j.onKeyDown)==null||q.call(j,B),!B.defaultPrevented)switch(B.key){case"n":case"j":{S&&B.ctrlKey&&W(B);break}case"ArrowDown":{W(B);break}case"p":case"k":{S&&B.ctrlKey&&Q(B);break}case"ArrowUp":{Q(B);break}case"Home":{B.preventDefault(),O(0);break}case"End":{B.preventDefault(),H();break}case"Enter":if(!B.nativeEvent.isComposing&&B.keyCode!==229){B.preventDefault();let Z=$();if(Z){let X=new Event(jv);Z.dispatchEvent(X)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:I.inputId,id:I.labelId,style:uK},u),kf(e,B=>m.createElement(MR.Provider,{value:T},m.createElement(OR.Provider,{value:I},B))))}),Xq=m.forwardRef((e,t)=>{var n,r;let i=ln(),o=m.useRef(null),l=m.useContext(IR),c=Wc(),u=$R(e),h=(r=(n=u.current)==null?void 0:n.forceMount)!=null?r:l==null?void 0:l.forceMount;io(()=>{if(!h)return c.item(i,l==null?void 0:l.id)},[h]);let f=FR(i,o,[e.value,e.children,o],e.keywords),p=E0(),v=so(A=>A.value&&A.value===f.current),x=so(A=>h||c.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);m.useEffect(()=>{let A=o.current;if(!(!A||e.disabled))return A.addEventListener(jv,w),()=>A.removeEventListener(jv,w)},[x,e.onSelect,e.disabled]);function w(){var A,T;y(),(T=(A=u.current).onSelect)==null||T.call(A,f.current)}function y(){p.setState("value",f.current,!0)}if(!x)return null;let{disabled:S,value:j,onSelect:b,forceMount:C,keywords:N,...P}=e;return m.createElement(je.div,{ref:bc([o,t]),...P,id:i,"cmdk-item":"",role:"option","aria-disabled":!!S,"aria-selected":!!v,"data-disabled":!!S,"data-selected":!!v,onPointerMove:S||c.getDisablePointerSelection()?void 0:y,onClick:S?void 0:w},e.children)}),Qq=m.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...o}=e,l=ln(),c=m.useRef(null),u=m.useRef(null),h=ln(),f=Wc(),p=so(x=>i||f.filter()===!1?!0:x.search?x.filtered.groups.has(l):!0);io(()=>f.group(l),[]),FR(l,c,[e.value,e.heading,u]);let v=m.useMemo(()=>({id:l,forceMount:i}),[i]);return m.createElement(je.div,{ref:bc([c,t]),...o,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},n&&m.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),kf(e,x=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},m.createElement(IR.Provider,{value:v},x))))}),eK=m.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=m.useRef(null),o=so(l=>!l.search);return!n&&!o?null:m.createElement(je.div,{ref:bc([i,t]),...r,"cmdk-separator":"",role:"separator"})}),tK=m.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,o=E0(),l=so(f=>f.search),c=so(f=>f.value),u=Wc(),h=m.useMemo(()=>{var f;let p=(f=u.listInnerRef.current)==null?void 0:f.querySelector(`${S0}[${Bs}="${encodeURIComponent(c)}"]`);return p==null?void 0:p.getAttribute("id")},[]);return m.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),m.createElement(je.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":h,id:u.inputId,type:"text",value:i?e.value:l,onChange:f=>{i||o.setState("search",f.target.value),n==null||n(f.target.value)}})}),nK=m.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,o=m.useRef(null),l=m.useRef(null),c=Wc();return m.useEffect(()=>{if(l.current&&o.current){let u=l.current,h=o.current,f,p=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let v=u.offsetHeight;h.style.setProperty("--cmdk-list-height",v.toFixed(1)+"px")})});return p.observe(u),()=>{cancelAnimationFrame(f),p.unobserve(u)}}},[]),m.createElement(je.div,{ref:bc([o,t]),...i,"cmdk-list":"",role:"listbox","aria-label":r,id:c.listId},kf(e,u=>m.createElement("div",{ref:bc([l,c.listInnerRef]),"cmdk-list-sizer":""},u)))}),rK=m.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:o,container:l,...c}=e;return m.createElement(Nx,{open:n,onOpenChange:r},m.createElement(Px,{container:l},m.createElement(af,{"cmdk-overlay":"",className:i}),m.createElement(lf,{"aria-label":e.label,"cmdk-dialog":"",className:o},m.createElement(DR,{ref:t,...c}))))}),iK=m.forwardRef((e,t)=>so(n=>n.filtered.count===0)?m.createElement(je.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),sK=m.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...o}=e;return m.createElement(je.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},kf(e,l=>m.createElement("div",{"aria-hidden":!0},l)))}),Tn=Object.assign(DR,{List:nK,Item:Xq,Input:tK,Group:Qq,Separator:eK,Dialog:rK,Empty:iK,Loading:sK});function oK(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function aK(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function $R(e){let t=m.useRef(e);return io(()=>{t.current=e}),t}var io=typeof window>"u"?m.useEffect:m.useLayoutEffect;function Io(e){let t=m.useRef();return t.current===void 0&&(t.current=e()),t}function bc(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function so(e){let t=E0(),n=()=>e(t.snapshot());return gR.useSyncExternalStore(t.subscribe,n,n)}function FR(e,t,n,r=[]){let i=m.useRef(),o=Wc();return io(()=>{var l;let c=(()=>{var h;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(h=f.current.textContent)==null?void 0:h.trim():i.current}})(),u=r.map(h=>h.trim());o.value(e,c,u),(l=t.current)==null||l.setAttribute(Bs,c),i.current=c}),i}var lK=()=>{let[e,t]=m.useState(),n=Io(()=>new Map);return io(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function cK(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function kf({asChild:e,children:t},n){return e&&m.isValidElement(t)?m.cloneElement(cK(t),{ref:t.ref},n(t.props.children)):n(t)}var uK={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Cv=se.forwardRef(({className:e,...t},n)=>s.jsx(Tn,{ref:n,className:ce("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Cv.displayName=Tn.displayName;const Sv=se.forwardRef(({className:e,...t},n)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(vi,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(Tn.Input,{ref:n,className:ce("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Sv.displayName=Tn.Input.displayName;const Ev=se.forwardRef(({className:e,...t},n)=>s.jsx(Tn.List,{ref:n,className:ce("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Ev.displayName=Tn.List.displayName;const Nv=se.forwardRef((e,t)=>s.jsx(Tn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Nv.displayName=Tn.Empty.displayName;const Pv=se.forwardRef(({className:e,...t},n)=>s.jsx(Tn.Group,{ref:n,className:ce("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Pv.displayName=Tn.Group.displayName;const dK=se.forwardRef(({className:e,...t},n)=>s.jsx(Tn.Separator,{ref:n,className:ce("-mx-1 h-px bg-border",e),...t}));dK.displayName=Tn.Separator.displayName;const gd=se.forwardRef(({className:e,...t},n)=>s.jsx(Tn.Item,{ref:n,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));gd.displayName=Tn.Item.displayName;const Fj={"Loisir enfants":["mercredi 13h Groupe A","mercredi 13h Groupe B","mercredi 16h","vendredi"],"Loisir collége":["Mardi 18h","Jeudi 18h"],"Loisir lycée":[],"Loisir adulte":[],"Adultes autonomes":[],"Compétition U11-U15":[],"Compétition U15-U19":[],Bénévole:[],Bureau:[],emergency_contact:[]},hK=["U11","U13","U15","U17","U19"],fK=["Blanc","Jaune","Orange","Vert","Bleu","Violet","Rouge"],mK=["Initiateur SAE","Juge Bloc 1","Juge Bloc 2","Juge Bloc 3","Juge de difficulté 1","Juge de difficulté 2","Juge de difficulté 3","Gestionanaire EPI","Entraineur d'escalade 1","Entraineur d'escalade 2"],Rf=({member:e,onSave:t,onCancel:n,isSaving:r})=>{const[i,o]=m.useState({first_name:"",last_name:"",title:"",sub_group:"",category:"",phone:"",photo_url:"",sexe:"",licence:"",email:"",passeport:"",emergency_contact_1_id:null,emergency_contact_2_id:null,...e,brevet_federaux:(e==null?void 0:e.brevet_federaux)||[]}),[l,c]=m.useState(null),[u,h]=m.useState((e==null?void 0:e.photo_url)||null),[f,p]=m.useState([]),[v,x]=m.useState(!1),[w,y]=m.useState(!1),[S,j]=m.useState(null),[b,C]=m.useState([]),{toast:N}=et();m.useEffect(()=>{(async()=>{const{data:D,error:H}=await te.from("members").select("id, first_name, last_name").order("last_name").order("first_name");H||p(D)})(),e!=null&&e.id&&(async()=>{const{data:H,error:W}=await te.from("members").select("id, first_name, last_name").or(`emergency_contact_1_id.eq.${e.id},emergency_contact_2_id.eq.${e.id}`);W||C(H)})()},[e]);const P=m.useMemo(()=>f.find(F=>F.id===i.emergency_contact_1_id),[f,i.emergency_contact_1_id]),A=m.useMemo(()=>f.find(F=>F.id===i.emergency_contact_2_id),[f,i.emergency_contact_2_id]),T=F=>{const{name:D,value:H}=F.target;o(W=>({...W,[D]:H}))},I=(F,D)=>{const H={...i,[F]:D};F==="title"&&(H.sub_group=""),o(H)},M=F=>{o(D=>{const H=D.brevet_federaux.includes(F)?D.brevet_federaux.filter(W=>W!==F):[...D.brevet_federaux,F];return{...D,brevet_federaux:H}})},U=F=>{if(F.target.files&&F.target.files[0]){const D=F.target.files[0];c(D),h(URL.createObjectURL(D)),o(H=>({...H,photo_url:URL.createObjectURL(D)}))}},G=()=>{c(null),h(null),o(F=>({...F,photo_url:null}))},z=F=>{F.preventDefault();const{isEmergencyContactFor:D,...H}=i;t({...H},l)},J=async F=>{if(!e||!e.id){N({title:"Erreur",description:"Le membre actuel doit être sauvegardé avant de pouvoir être défini comme contact d'urgence.",variant:"destructive"});return}const{data:D,error:H}=await te.from("members").select("emergency_contact_1_id, emergency_contact_2_id").eq("id",F).single();if(H){N({title:"Erreur",description:"Impossible de récupérer les informations du membre cible.",variant:"destructive"});return}let W;if(!D.emergency_contact_1_id)W={emergency_contact_1_id:e.id};else if(!D.emergency_contact_2_id)W={emergency_contact_2_id:e.id};else{N({title:"Information",description:"Ce membre a déjà deux contacts d'urgence.",variant:"default"});return}const{error:Q}=await te.from("members").update(W).eq("id",F);Q?N({title:"Erreur",description:"Échec de la mise à jour du contact d'urgence.",variant:"destructive"}):(N({title:"Succès",description:"Contact d'urgence défini avec succès.",variant:"success"}),x(!1))},$=F=>{j(F),y(!0)},k=F=>{S&&I(S,F),y(!1),j(null)},O=i.title?Fj[i.title]||[]:[];return s.jsxs(s.Fragment,{children:[s.jsx(Ot,{open:!0,onOpenChange:n,children:s.jsx(Tt,{className:"sm:max-w-[600px]",children:s.jsxs("form",{onSubmit:z,children:[s.jsxs(Ht,{children:[s.jsx(Wt,{children:e&&e.id?"Modifier le membre":"Ajouter un membre"}),s.jsx(Vr,{children:"Remplissez les informations ci-dessous."})]}),s.jsxs("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto pr-4",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsxs(us,{className:"w-24 h-24",children:[s.jsx(ds,{src:u,alt:"Avatar"}),s.jsx(hs,{className:"text-3xl",children:s.jsx(ui,{className:"w-12 h-12"})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ee,{type:"button",asChild:!0,variant:"outline",children:s.jsxs(le,{htmlFor:"photo-upload",className:"cursor-pointer",children:[s.jsx(sN,{className:"mr-2 h-4 w-4"})," Changer"]})}),u&&s.jsxs(ee,{type:"button",variant:"destructive",onClick:G,children:[s.jsx(br,{className:"mr-2 h-4 w-4"})," Supprimer"]})]}),s.jsx(we,{id:"photo-upload",type:"file",className:"hidden",onChange:U,accept:"image/*"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Prénom"}),s.jsx(we,{name:"first_name",value:i.first_name,onChange:T,required:!0})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Nom"}),s.jsx(we,{name:"last_name",value:i.last_name,onChange:T,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Email"}),s.jsx(we,{name:"email",type:"email",value:i.email||"",onChange:T})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Téléphone"}),s.jsx(we,{name:"phone",type:"tel",value:i.phone||"",onChange:T})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Sexe"}),s.jsxs(yt,{name:"sexe",value:i.sexe||"",onValueChange:F=>I("sexe",F),children:[s.jsx(ht,{children:s.jsx(xt,{placeholder:"Sexe"})}),s.jsxs(ft,{children:[s.jsx(De,{value:"H",children:"Homme"}),s.jsx(De,{value:"F",children:"Femme"})]})]})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Licence"}),s.jsx(we,{name:"licence",value:i.licence||"",onChange:T})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Titre/Catégorie"}),s.jsxs(yt,{name:"title",value:i.title,onValueChange:F=>I("title",F),children:[s.jsx(ht,{children:s.jsx(xt,{placeholder:"Catégorie"})}),s.jsx(ft,{children:Object.keys(Fj).map(F=>s.jsx(De,{value:F,children:F},F))})]})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Sous-groupe"}),s.jsxs(yt,{name:"sub_group",value:i.sub_group,onValueChange:F=>I("sub_group",F),disabled:O.length===0,children:[s.jsx(ht,{children:s.jsx(xt,{placeholder:"Sous-groupe"})}),s.jsx(ft,{children:O.map(F=>s.jsx(De,{value:F,children:F},F))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Catégorie d'âge (Compétition)"}),s.jsxs(yt,{name:"category",value:i.category||"",onValueChange:F=>I("category",F),children:[s.jsx(ht,{children:s.jsx(xt,{placeholder:"Catégorie d'âge"})}),s.jsxs(ft,{children:[s.jsx(De,{value:"",children:"Aucune"}),hK.map(F=>s.jsx(De,{value:F,children:F},F))]})]})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Passeport"}),s.jsxs(yt,{name:"passeport",value:i.passeport||"",onValueChange:F=>I("passeport",F),children:[s.jsx(ht,{children:s.jsx(xt,{placeholder:"Passeport"})}),s.jsxs(ft,{children:[s.jsx(De,{value:"",children:"Aucun"}),fK.map(F=>s.jsx(De,{value:F,children:F},F))]})]})]})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Brevets Fédéraux"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:mK.map(F=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($r,{id:`b-${F}`,checked:i.brevet_federaux.includes(F),onCheckedChange:()=>M(F)})," ",s.jsx(le,{htmlFor:`b-${F}`,className:"font-normal",children:F})]},F))})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Contact d'urgence 1"}),s.jsxs(ee,{variant:"outline",type:"button",className:"w-full justify-between",onClick:()=>$("emergency_contact_1_id"),children:[P?Ye(P.first_name,P.last_name,!0):"Sélectionner un contact",s.jsx(lb,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Contact d'urgence 2"}),s.jsxs(ee,{variant:"outline",type:"button",className:"w-full justify-between",onClick:()=>$("emergency_contact_2_id"),children:[A?Ye(A.first_name,A.last_name,!0):"Sélectionner un contact",s.jsx(lb,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})]}),(e==null?void 0:e.id)&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ee,{type:"button",variant:"secondary",onClick:()=>x(!0),className:"w-full",children:[s.jsx($y,{className:"mr-2 h-4 w-4"})," Je suis le contact de..."]}),b.length>0&&s.jsxs("div",{children:[s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx($n,{className:"w-4 h-4"})," Contact d'urgence pour :"]}),s.jsx("ul",{className:"text-sm list-disc list-inside mt-1",children:b.map(F=>s.jsx("li",{children:Ye(F.first_name,F.last_name,!0)},F.id))})]})]})]}),s.jsxs(or,{children:[s.jsx(ee,{type:"button",variant:"outline",onClick:n,children:"Annuler"}),s.jsxs(ee,{type:"submit",disabled:r,children:[r&&s.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}),"Enregistrer"]})]})]})})}),s.jsx(Ot,{open:v,onOpenChange:x,children:s.jsxs(Tt,{children:[s.jsxs(Ht,{children:[s.jsx(Wt,{children:"Définir comme contact d'urgence"}),s.jsxs(Vr,{children:["Sélectionnez le membre pour lequel ",Ye(i.first_name,i.last_name,!0)," sera le contact d'urgence."]})]}),s.jsxs(Cv,{children:[s.jsx(Sv,{placeholder:"Rechercher un membre..."}),s.jsxs(Ev,{children:[s.jsx(Nv,{children:"Aucun membre trouvé."}),s.jsx(Pv,{children:f.filter(F=>F.id!==(e==null?void 0:e.id)).map(F=>s.jsx(gd,{value:`${F.first_name} ${F.last_name}`,onSelect:()=>J(F.id),children:Ye(F.first_name,F.last_name,!0)},F.id))})]})]})]})}),s.jsx(Ot,{open:w,onOpenChange:y,children:s.jsxs(Tt,{children:[s.jsx(Ht,{children:s.jsx(Wt,{children:"Sélectionner un contact d'urgence"})}),s.jsxs(Cv,{children:[s.jsx(Sv,{placeholder:"Rechercher un membre..."}),s.jsxs(Ev,{children:[s.jsx(Nv,{children:"Aucun membre trouvé."}),s.jsxs(Pv,{children:[s.jsx(gd,{onSelect:()=>k(null),children:"Aucun"}),f.filter(F=>F.id!==(e==null?void 0:e.id)).map(F=>s.jsx(gd,{value:`${F.first_name} ${F.last_name}`,onSelect:()=>k(F.id),children:Ye(F.first_name,F.last_name,!0)},F.id))]})]})]})]})})]})};function pK(e,t=[]){let n=[];function r(o,l){const c=m.createContext(l),u=n.length;n=[...n,l];const h=p=>{var j;const{scope:v,children:x,...w}=p,y=((j=v==null?void 0:v[e])==null?void 0:j[u])||c,S=m.useMemo(()=>w,Object.values(w));return s.jsx(y.Provider,{value:S,children:x})};h.displayName=o+"Provider";function f(p,v){var y;const x=((y=v==null?void 0:v[e])==null?void 0:y[u])||c,w=m.useContext(x);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[h,f]}const i=()=>{const o=n.map(l=>m.createContext(l));return function(c){const u=(c==null?void 0:c[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return i.scopeName=e,[r,gK(i,...t)]}function gK(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:u,scopeName:h})=>{const p=u(o)[`__scope${h}`];return{...c,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Bj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vK(...e){return t=>{let n=!1;const r=e.map(i=>{const o=Bj(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Bj(e[i],null)}}}}var BR=m.forwardRef((e,t)=>{const{children:n,...r}=e,i=m.Children.toArray(n),o=i.find(xK);if(o){const l=o.props.children,c=i.map(u=>u===o?m.Children.count(l)>1?m.Children.only(null):m.isValidElement(l)?l.props.children:null:u);return s.jsx(Tv,{...r,ref:t,children:m.isValidElement(l)?m.cloneElement(l,void 0,c):null})}return s.jsx(Tv,{...r,ref:t,children:n})});BR.displayName="Slot";var Tv=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const i=wK(n);return m.cloneElement(n,{..._K(r,n.props),ref:t?vK(t,i):i})}return m.Children.count(n)>1?m.Children.only(null):null});Tv.displayName="SlotClone";var yK=({children:e})=>s.jsx(s.Fragment,{children:e});function xK(e){return m.isValidElement(e)&&e.type===yK}function _K(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...c)=>{o(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function wK(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],UR=bK.reduce((e,t)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?BR:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),N0="Progress",P0=100,[jK,SY]=pK(N0),[CK,SK]=jK(N0),zR=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=EK,...l}=e;(i||i===0)&&!Uj(i)&&console.error(NK(`${i}`,"Progress"));const c=Uj(i)?i:P0;r!==null&&!zj(r,c)&&console.error(PK(`${r}`,"Progress"));const u=zj(r,c)?r:null,h=hh(u)?o(u,c):void 0;return s.jsx(CK,{scope:n,value:u,max:c,children:s.jsx(UR.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":hh(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":WR(u,c),"data-value":u??void 0,"data-max":c,...l,ref:t})})});zR.displayName=N0;var VR="ProgressIndicator",HR=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=SK(VR,n);return s.jsx(UR.div,{"data-state":WR(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});HR.displayName=VR;function EK(e,t){return`${Math.round(e/t*100)}%`}function WR(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function hh(e){return typeof e=="number"}function Uj(e){return hh(e)&&!isNaN(e)&&e>0}function zj(e,t){return hh(e)&&!isNaN(e)&&e<=t&&e>=0}function NK(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${P0}\`.`}function PK(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${P0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var GR=zR,TK=HR;const ZR=m.forwardRef(({className:e,value:t,...n},r)=>s.jsx(GR,{ref:r,className:ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(TK,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ZR.displayName=GR.displayName;const AK=new Audio("data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU... (truncated)"),kK=new Audio("data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU... (truncated)"),xl=e=>{let t=e.length,n;for(;t!==0;)n=Math.floor(Math.random()*t),t--,[e[t],e[n]]=[e[n],e[t]];return e},RK=({onStartQuiz:e})=>s.jsx(de.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:s.jsxs(pe,{className:"max-w-md mx-auto",children:[s.jsxs(Se,{children:[s.jsx(Ee,{className:"text-2xl",children:"Prêt pour le défi ?"}),s.jsx(Wr,{children:"Choisissez la durée de votre session de quiz."})]}),s.jsx(ge,{className:"flex flex-col gap-4",children:[1,2,3,5].map(t=>s.jsxs(ee,{size:"lg",onClick:()=>e(t*60),children:[t," minute",t>1?"s":""]},t))})]})}),LK=({score:e,total:t,onRestart:n,onExit:r})=>s.jsx(de.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"text-center",children:s.jsxs(pe,{className:"max-w-md mx-auto",children:[s.jsxs(Se,{children:[s.jsx(Ee,{className:"text-3xl",children:"Session terminée !"}),s.jsx("div",{className:"flex justify-center my-4",children:s.jsx(Lh,{className:"w-16 h-16 text-yellow-500"})}),s.jsx(Wr,{className:"text-lg",children:"Votre score final est de"}),s.jsxs("p",{className:"text-5xl font-bold my-2",children:[e," / ",t]})]}),s.jsxs(ge,{className:"flex justify-center gap-4",children:[s.jsxs(ee,{onClick:n,children:[s.jsx(b3,{className:"mr-2 h-4 w-4"})," Rejouer"]}),s.jsx(ee,{variant:"outline",onClick:r,children:"Quitter"})]})]})}),OK=({volunteers:e,onQuizEnd:t})=>{const[n,r]=m.useState("setup"),[i,o]=m.useState(0),[l,c]=m.useState(0),[u,h]=m.useState(0),[f,p]=m.useState([]),[v,x]=m.useState(0),[w,y]=m.useState(null),S=m.useCallback(()=>{const T=[],I=e.filter(z=>z.first_name&&z.photo_url);if(I.length<4){p([]);return}const M=I.filter(z=>{var J;return z.title==="Bureau"&&(z.sub_group||((J=z.dynamic_roles)==null?void 0:J.length)>0)}),U=I.filter(z=>z.title!=="Bureau");xl([...M,...M,...U]).forEach(z=>{let J=null;const $=z.title==="Bureau",k=Array.from(new Set([...z.dynamic_roles||[],...z.sub_group?[z.sub_group]:[]])),O=[];if(z.photo_url&&(O.push("photo-to-name"),$&&k.length>0&&O.push("photo-to-role")),$&&k.length>0&&(O.push("role-to-name"),M.filter(B=>B.photo_url).length>=4&&O.push("role-to-photo")),O.length===0)return;const F=O[Math.floor(Math.random()*O.length)],D=k.length>0?k[Math.floor(Math.random()*k.length)]:null,H=B=>{const q=new Set(["Coach","Encadrant","Ouvreur"]);M.forEach(ie=>{var ne;ie.sub_group&&q.add(ie.sub_group),(ne=ie.dynamic_roles)==null||ne.forEach(ue=>q.add(ue))});const Z=new Set([B]),X=Array.from(q);for(;Z.size<4&&Z.size<X.length;)Z.add(X[Math.floor(Math.random()*X.length)]);return xl(Array.from(Z))},W=B=>{const q=new Set([B]);for(;q.size<4&&q.size<I.length;){const Z=I[Math.floor(Math.random()*I.length)];q.add(Z.first_name)}return xl(Array.from(q))},Q=B=>{const q=M.filter(X=>X.photo_url),Z=new Set([B]);for(;Z.size<4&&Z.size<q.length;)Z.add(q[Math.floor(Math.random()*q.length)]);return xl(Array.from(Z))};switch(F){case"photo-to-name":J={type:"photo-to-name",text:"Qui est cette personne ?",subject:z,options:W(z.first_name),correctAnswer:z.first_name};break;case"photo-to-role":J={type:"photo-to-role",text:"Quel est un des rôles de cette personne ?",subject:z,options:H(D),correctAnswer:D};break;case"role-to-name":J={type:"role-to-name",text:`Qui a le rôle de "${D}" ?`,subject:z,options:W(z.first_name),correctAnswer:z.first_name};break;case"role-to-photo":J={type:"role-to-photo",text:`Qui a le rôle de "${D}" ?`,subject:z,options:Q(z),correctAnswer:z.id};break}J&&T.push(J)}),p(xl(T))},[e]);m.useEffect(()=>{if(n==="playing"){S();const T=setInterval(()=>{c(I=>I<=1?(clearInterval(T),r("summary"),0):I-1)},1e3);return()=>clearInterval(T)}},[n,S]);const j=T=>{o(T),c(T),h(0),x(0),r("playing")},b=T=>{if(w)return;const I=f[v];let M=!1;I.type==="role-to-photo"?M=T.id===I.correctAnswer:M=T===I.correctAnswer,M?(h(U=>U+1),y("correct"),AK.play()):(y("incorrect"),kK.play()),setTimeout(()=>{y(null),v+1<f.length?x(U=>U+1):(S(),x(0))},1500)},C=()=>{r("setup")},N=f[v],P=l/i*100;if(n==="setup")return s.jsx(RK,{onStartQuiz:j});if(n==="summary")return s.jsx(LK,{score:u,total:v+(w?1:0),onRestart:C,onExit:t});if(!N)return s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{className:"text-lg",children:"Préparation du quiz..."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Il faut au moins 4 bénévoles avec des photos pour démarrer le quiz."})]});const A=(T,I)=>`${(T==null?void 0:T[0])||""}${(I==null?void 0:I[0])||""}`.toUpperCase();return s.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(zE,{className:"w-6 h-6"}),s.jsx(ZR,{value:P,className:"w-full"}),s.jsxs("span",{className:"font-bold text-lg",children:[Math.floor(l/60),":",String(l%60).padStart(2,"0")]})]}),s.jsx(Lt,{mode:"wait",children:s.jsx(de.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},children:s.jsxs(pe,{children:[s.jsxs(Se,{children:[s.jsx(Ee,{className:"text-center text-2xl",children:N.text}),(N.type==="photo-to-name"||N.type==="photo-to-role")&&s.jsx("div",{className:"flex justify-center mt-4",children:s.jsxs(us,{className:"w-32 h-32",children:[s.jsx(ds,{src:N.subject.photo_url}),s.jsx(hs,{className:"text-4xl",children:A(N.subject.first_name,N.subject.last_name)})]})})]}),s.jsx(ge,{children:s.jsx("div",{className:`grid ${N.type==="role-to-photo"?"grid-cols-2":"grid-cols-1"} gap-4`,children:N.options.map((T,I)=>{var z;const M=N.type==="role-to-photo",U=w&&(M?T.id===N.correctAnswer:T===N.correctAnswer),G=w==="incorrect"&&(M?T.id===((z=w.selected)==null?void 0:z.id):T===w.selected);return s.jsxs(ee,{variant:"outline",size:M?"xl":"lg",className:`relative justify-center h-auto p-4 text-base ${w==="correct"&&U?"bg-green-200 border-green-500":""} ${w==="incorrect"&&U?"bg-green-200 border-green-500":""} ${G?"bg-red-200 border-red-500":""}`,onClick:()=>b(T),disabled:!!w,children:[M?s.jsx("div",{className:"flex flex-col items-center gap-2",children:s.jsxs(us,{className:"w-24 h-24",children:[s.jsx(ds,{src:T.photo_url}),s.jsx(hs,{className:"text-3xl",children:A(T.first_name,T.last_name)})]})}):s.jsx("span",{children:T}),w==="correct"&&U&&s.jsx(Ag,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-green-600"}),w==="incorrect"&&U&&s.jsx(Ag,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-green-600"}),G&&s.jsx(P3,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-red-600"})]},I)})})})]})},v)}),s.jsxs("div",{className:"text-center mt-4 font-bold text-xl",children:["Score: ",u]}),s.jsx(Lt,{children:u>0&&u%5===0&&w==="correct"&&s.jsxs(de.div,{initial:{opacity:0,y:50,scale:.5},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5},className:"text-center text-green-500 font-bold text-2xl mt-4",children:["Bravo ! Déjà ",u," bonnes réponses !"]})})]})},Yu={"Initiateur SAE":"bg-blue-500","Juge Bloc 1":"bg-yellow-500","Juge Bloc 2":"bg-orange-500","Juge Bloc 3":"bg-red-500","Juge de difficulté 1":"bg-green-500","Juge de difficulté 2":"bg-teal-500","Juge de difficulté 3":"bg-indigo-500","Gestionanaire EPI":"bg-gray-500","Entraineur d'escalade 1":"bg-purple-500","Entraineur d'escalade 2":"bg-pink-500"},MK={"Initiateur SAE":{title:"Initiateur SAE (Structure Artificielle d'escalade)",description:"La Fédération Française de la Montagne et de l'Escalade délivre le brevet d'initiateur SAE.",articles:[{title:"Art 2 : Compétences",content:`L'attribution du brevet mentionné à l’article précédent reconnaît à son titulaire les compétences pour encadrer en escalade sur SAE de type bloc et sur SAE avec points d'assurage, c’est à dire :
• surveiller la gestion de la sécurité de plusieurs cordées lors d’un créneau d'accès libre,
• animer un groupe d’au moins 6 personnes,
• développer les compétences des pratiquants jusqu'au niveau du passeport orange en appliquant les situations d'une progression type, dans une optique d'accession à l'autonomie.
Le référentiel de compétences est précisé en annexe.`},{title:"Art 3 : Conditions d’obtention du brevet",content:`Pour obtenir ce brevet, le candidat doit avoir :
• suivi la formation initiateur SAE,
• satisfait aux évaluations de la formation initiateur SAE,
• réalisé un stage pratique de 35 h.`},{title:"Art 4 : Evaluation",content:`L’évaluation de la formation d'initiateur SAE est organisée par l’équipe pédagogique. Elle vise à s'assurer que le stagiaire possède les compétences pour :
• conduire une démarche d'initiation en SAE,
• encadrer en sécurité,
• intégrer son action dans le cadre fédéral.
Elle repose sur 3 types d'épreuves :
• l'encadrement d'une séance pédagogique,
• la sécurisation d'un atelier,
• et des écrits complémentaires.
L’évaluation du stage pratique est un contrôle continu portant sur la capacité du candidat à encadrer un groupe sur SAE.
La validation du stage pratique est faite par le Président du club d’accueil.`},{title:"Art 5 : Exigences préalables à l’entrée en formation",content:`Les exigences préalables suivantes sont requises pour accéder à la formation :
• âge : 16 ans,
• niveau de pratique personnel : 5c en voie et 4c en bloc,
• maîtrise des techniques de sécurité individuelles telles s'équiper, s'encorder, assurer un partenaire en moulinette et en tête, respecter les obligations de sécurité, parer, contrôler...,
• attitude respectueuse des partenaires, du milieu et du cadre,
• licence FFME en cours de validité.
Ces exigences préalables sont vérifiées au moyen de la présentation du passeport escalade orange ou supérieur, pour le niveau de pratique personnel et la maîtrise des techniques de sécurité.`},{title:"Art 6 : Exigences préalables au stage pratique",content:`Pour accéder au stage pratique d’initiateur SAE, le candidat doit être titulaire de :
• secourisme : titulaire d'une attestation du 1er niveau de secourisme,
• licence FFME en cours de validité,
• attestation de réussite obtenue à l'issue de la formation initiateur SAE.`},{title:"Art 7 : Formation continue",content:"Des sessions de formation continue sont accessibles aux initiateurs SAE dans l'objectif de maintenir ou approfondir leur compétences."},{title:"Art 8 : VAE fédérale",content:"Le brevet"}]}},IK=()=>{const{isAdmin:e}=tn(),[t,n]=m.useState([]),[r,i]=m.useState(!0),{toast:o}=et(),[l,c]=m.useState(!1),[u,h]=m.useState("all"),[f,p]=m.useState(!1),{editingMember:v,isFormVisible:x,openEditFormForMember:w,closeEditForm:y}=wr(),S=m.useCallback(async()=>{i(!0);const{data:k,error:O}=await te.from("members").select("*, profiles(role)");if(O)o({title:"Erreur",description:"Impossible de charger les membres.",variant:"destructive"});else{const F=k.map(D=>({...D,profiles:Array.isArray(D.profiles)?D.profiles[0]:D.profiles}));n(F)}i(!1)},[o]);m.useEffect(()=>{S()},[S]);const j=m.useMemo(()=>{if(!t.length)return[];const k=new Map;return la.forEach(O=>{O.instructors.forEach(F=>{const D=F.toLowerCase().trim(),H=t.find(W=>`${W.first_name} ${W.last_name}`.toLowerCase().trim()===D);if(H){k.has(H.id)||k.set(H.id,new Set);const W=k.get(H.id);O.group==="Compétition"&&W.add("Coach"),(O.group==="Loisir"||O.group==="Perf")&&W.add("Encadrant"),O.group==="Autonomes"&&W.add("Ouvreur")}})}),t.map(O=>({...O,dynamic_roles:k.has(O.id)?Array.from(k.get(O.id)):[]}))},[t]),b=async k=>{const O=k.name.split(".").pop(),F=`members_photos/${Date.now()}.${O}`;let{error:D}=await te.storage.from("member_photos").upload(F,k,{upsert:!0});if(D)throw D;const{data:H}=te.storage.from("member_photos").getPublicUrl(F);return H.publicUrl},C=async(k,O)=>{c(!0);try{let F=k.photo_url;O?F=await b(O):k.photo_url===null&&(F=null);const{profiles:D,dynamic_roles:H,member_roles:W,isEmergencyContactFor:Q,...B}={...k,photo_url:F};let q;if(v)({error:q}=await te.from("members").update(B).eq("id",v.id));else{const{id:Z,...X}=B;({error:q}=await te.from("members").insert(X))}if(q)throw q;o({title:"Succès",description:`Membre ${v?"mis à jour":"ajouté"} avec succès.`}),y(),S()}catch(F){o({title:"Erreur",description:F.message,variant:"destructive"})}finally{c(!1)}},{bureauPrincipaux:N,bureauAdjoints:P}=m.useMemo(()=>{const k=j.filter(H=>H.title==="Bureau"),F=["Présidente","Trésorier","Secrétaire"].map(H=>k.find(W=>W.sub_group===H)).filter(Boolean),D=k.filter(H=>H.sub_group&&H.sub_group.includes("Adjoint"));return{bureauPrincipaux:F,bureauAdjoints:D}},[j]),A=k=>{const O=`${k.first_name} ${k.last_name}`.toLowerCase().replace(/é/g,"e"),F=k.first_name.toLowerCase().replace(/é/g,"e"),D=`${k.last_name.charAt(0)}.`.toLowerCase();return la.filter(H=>H.instructors.some(W=>{const Q=W.toLowerCase().replace(/é/g,"e");return Q.includes(O)||k.last_name.length>1&&Q.includes(`${F} ${D}`)}))},T=m.useMemo(()=>{const k=new Set;return la.forEach(O=>k.add(O.title)),["all",...Array.from(k).sort()]},[]),I=m.useMemo(()=>{let k=j.filter(O=>O.title==="Bénévole");return u==="all"?k:k.filter(O=>A(O).some(D=>D.title===u))},[j,u]),M=k=>({Présidente:cb,"Présidente Adjointe":cb,Secrétaire:er,"Secrétaire Adjoint":er,"Secrétaire Adjointe":er,Trésorier:$m,"Trésorier Adjoint":$m,"Trésorière Adjointe":$m})[k]||ui,U=(k,O)=>`${(k==null?void 0:k[0])||""}${(O==null?void 0:O[0])||""}`.toUpperCase(),G=k=>({Compétition:"competition",Perf:"perf",Autonomes:"autonomes",Loisir:"loisir"})[k]||"secondary",z={Coach:{icon:S3,color:"bg-red-500 text-white",title:"Coach (Compétition)"},Encadrant:{icon:nN,color:"bg-blue-500 text-white",title:"Encadrant (Loisir/Perf)"},Ouvreur:{icon:N3,color:"bg-yellow-500 text-black",title:"Ouvreur (Autonomes)"}},J=({member:k})=>{var W,Q;const{showMemberDetails:O}=wr(),F=fs(k.first_name,k.last_name,e),D=A(k),H=k.title==="Bureau"?M(k.sub_group):null;return s.jsx(de.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:s.jsxs(pe,{className:"border-green-200 shadow-md hover:shadow-lg transition-shadow relative h-full cursor-pointer",onClick:()=>O(k.id),children:[e&&s.jsx(ee,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:B=>{B.stopPropagation(),w(k)},children:s.jsx(Zr,{className:"h-4 w-4"})}),s.jsxs(ge,{className:"p-4 flex items-center gap-4",children:[s.jsxs(us,{className:"w-16 h-16",children:[s.jsx(ds,{alt:`Portrait de ${F}`,src:k.photo_url}),s.jsx(hs,{className:"text-lg font-semibold",children:U(k.first_name,k.last_name)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-semibold text-lg",children:F}),H&&s.jsx(H,{className:"w-5 h-5 text-primary",title:k.sub_group}),s.jsx(b0,{profile:k.profiles})]}),k.title==="Bureau"&&k.sub_group&&s.jsx(Te,{variant:"outline",className:"mt-1",children:k.sub_group}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(W=k.dynamic_roles)==null?void 0:W.map(B=>{const q=z[B],Z=(q==null?void 0:q.icon)||ui;return s.jsxs(Te,{className:`${(q==null?void 0:q.color)||"bg-gray-500"} flex items-center gap-1`,title:q==null?void 0:q.title,children:[s.jsx(Z,{className:"h-3 w-3"}),B]},B)})}),D.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:D.map(B=>s.jsx(Te,{variant:G(B.group),children:B.title},B.id))}),((Q=k.brevet_federaux)==null?void 0:Q.length)>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:k.brevet_federaux.map(B=>s.jsx("div",{className:`w-4 h-4 rounded-full ${Yu[B]||"bg-gray-400"}`,title:B},B))})]})]})]})})},$=({brevetName:k,definition:O})=>s.jsxs(Ot,{children:[s.jsx(QT,{asChild:!0,children:s.jsxs(ee,{variant:"ghost",className:"flex items-center gap-2 justify-start p-0 h-auto font-normal text-left",children:[s.jsx("div",{className:`w-4 h-4 rounded-full flex-shrink-0 ${Yu[k]}`}),s.jsx("span",{className:"flex-1",children:k}),s.jsx(ya,{className:"h-4 w-4 text-muted-foreground ml-auto"})]})}),s.jsxs(Tt,{className:"sm:max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsxs(Ht,{children:[s.jsx(Wt,{children:O.title}),s.jsx(Vr,{children:O.description})]}),s.jsx("div",{className:"overflow-y-auto pr-4 space-y-4",children:O.articles.map((F,D)=>s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:F.title}),s.jsx("p",{className:"whitespace-pre-wrap text-sm text-muted-foreground",children:F.content})]},D))})]})]});if(r)return s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})});if(f){const k=j.filter(O=>O.title==="Bureau"||O.title==="Bénévole");return s.jsx(OK,{volunteers:k,onQuizEnd:()=>p(!1)})}return s.jsxs("div",{className:"space-y-12",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Bénévoles - Club d'Escalade"}),s.jsx("meta",{name:"description",content:"Découvrez les membres du bureau et les bénévoles qui font vivre le club d'escalade"})]}),s.jsxs(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-4",children:[s.jsx("h1",{className:"text-4xl font-bold headline",children:"Nos Bénévoles"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Découvrez les personnes dévouées qui font vivre notre club au quotidien."}),s.jsxs(ee,{size:"lg",onClick:()=>p(!0),children:[s.jsx(Oh,{className:"mr-2 h-5 w-5"}),'Lancer le Quiz "Qui est-ce ?"']})]}),s.jsxs(de.section,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},className:"space-y-6",children:[s.jsxs("h2",{className:"text-3xl font-bold headline flex items-center gap-3",children:[s.jsx(i3,{className:"w-8 h-8 text-primary"}),"Le Bureau"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-6",children:s.jsx(Lt,{children:N.map(k=>s.jsx(J,{member:k},k.id))})}),s.jsx("div",{className:"space-y-6",children:s.jsx(Lt,{children:P.map(k=>s.jsx(J,{member:k},k.id))})})]})]}),s.jsxs(de.section,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold headline flex items-center gap-3",children:[s.jsx(u3,{className:"w-8 h-8 text-primary"}),"Les Encadrants Bénévoles"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Nos incroyables bénévoles qui rendent tout cela possible."})]}),s.jsx("div",{className:"max-w-sm",children:s.jsxs(yt,{value:u,onValueChange:h,children:[s.jsx(ht,{children:s.jsx(xt,{placeholder:"Filtrer par cours..."})}),s.jsx(ft,{children:T.map(k=>s.jsx(De,{value:k,children:k==="all"?"Tous les cours":k},k))})]})}),s.jsx("div",{className:"grid md:grid-cols-1 lg:grid-cols-2 gap-6",children:s.jsx(Lt,{children:I.map(k=>s.jsx(J,{member:k},k.id))})})]}),s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(ya,{className:"w-5 h-5"})," Légende"]})}),s.jsxs(ge,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Rôles & Statuts"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dh,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{children:"Admin"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ui,{className:"h-5 w-5 text-blue-500"}),s.jsx("span",{children:"Adhérent"})]}),Object.entries(z).map(([k,{icon:O,color:F,title:D}])=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`p-1 rounded-full ${F}`,children:s.jsx(O,{className:"h-3 w-3"})}),s.jsx("span",{children:D})]},k))]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Brevets Fédéraux"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 text-sm",children:Object.keys(Yu).map(k=>{const O=MK[k];return s.jsx("div",{children:O?s.jsx($,{brevetName:k,definition:O}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${Yu[k]}`}),s.jsx("span",{children:k})]})},k)})})]})]})]}),s.jsx(Lt,{children:x&&s.jsx(Rf,{member:v,onSave:C,onCancel:y,isSaving:l})})]})},DK=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Agenda - Club d'Escalade"}),s.jsx("meta",{name:"description",content:"Consultez l'agenda des événements, compétitions et dates importantes du club d'escalade"})]}),s.jsxs(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-4",children:[s.jsx("h1",{className:"text-4xl font-bold headline",children:"Agenda du Club"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Restez informé de tous les événements et dates importantes du club."})]}),s.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs(pe,{children:[s.jsxs(Se,{children:[s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(Oa,{className:"w-5 h-5 text-primary"}),"Agenda du club"]}),s.jsx(Wr,{children:"Consultez l'agenda des événements, compétitions et autres dates importantes du club."})]}),s.jsx(ge,{children:s.jsx("div",{className:"w-full",style:{aspectRatio:"4/3"},children:s.jsx("iframe",{src:"https://calendar.google.com/calendar/embed?src=40d41279d5c035a144ac235350ac3c6e1fa958eb2d1205404ab392d694098806%40group.calendar.google.com&ctz=Europe%2FParis",style:{border:0},width:"100%",height:"100%",frameBorder:"0",scrolling:"no",className:"rounded-lg",title:"Agenda du club d'escalade"})})})]})})]}),$K=()=>{const[e,t]=m.useState({group:"",instructor:""}),[n,r]=m.useState(!1),i=la.filter(h=>h?(!e.group||h.group===e.group)&&(!e.instructor||h.instructors.includes(e.instructor)):!1),o=()=>{t({group:"",instructor:""}),r(!1)},l=h=>{if(h==="instructor"){const f=la.filter(Boolean).flatMap(p=>p.instructors);return[...new Set(f)].sort()}return[...new Set(la.filter(Boolean).map(f=>f[h]))].sort()},c=[{color:"bg-red-200 text-red-800",label:"Compétition"},{color:"bg-blue-200 text-blue-800",label:"Loisir"},{color:"bg-green-200 text-green-800",label:"Perf"},{color:"bg-yellow-200 text-yellow-800",label:"Autonomes"}],u=Ju.reduce((h,f,p)=>(h[f]=p+2,h),{});return s.jsxs("div",{className:"space-y-8",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Planning - Club d'Escalade"}),s.jsx("meta",{name:"description",content:"Consultez le planning hebdomadaire des cours d'escalade du club"})]}),s.jsxs(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-4",children:[s.jsx("h1",{className:"text-4xl font-bold headline",children:"Planning des cours"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Voici le planning hebdomadaire des cours d'escalade."})]}),s.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"space-y-4",children:s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(zE,{className:"w-5 h-5 text-primary"}),"Filtres et options"]})}),s.jsxs(ge,{children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 items-center",children:[s.jsxs(yt,{value:e.group,onValueChange:h=>t({...e,group:h==="all"?"":h}),children:[s.jsx(ht,{children:s.jsx(xt,{placeholder:"Groupe"})}),s.jsxs(ft,{children:[s.jsx(De,{value:"all",children:"Tous les groupes"}),l("group").map(h=>s.jsx(De,{value:h,children:h},h))]})]}),s.jsxs(yt,{value:e.instructor,onValueChange:h=>t({...e,instructor:h==="all"?"":h}),children:[s.jsx(ht,{children:s.jsx(xt,{placeholder:"Encadrant"})}),s.jsxs(ft,{children:[s.jsx(De,{value:"all",children:"Tous les encadrants"}),l("instructor").map(h=>s.jsx(De,{value:h,children:db(h)},h))]})]}),s.jsxs(ee,{variant:"outline",onClick:o,className:"flex items-center gap-2",children:[s.jsx(j3,{className:"w-4 h-4"}),"Réinitialiser"]})]}),s.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[s.jsx($r,{id:"show-instructors",checked:n,onCheckedChange:r}),s.jsxs("label",{htmlFor:"show-instructors",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 flex items-center gap-2",children:[n?s.jsx(Ly,{className:"w-4 h-4"}):s.jsx(c3,{className:"w-4 h-4"}),"Afficher les encadrants"]})]})]})]})}),s.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsx(Ee,{children:"Grille horaire"})}),s.jsx(ge,{children:s.jsxs("div",{className:"relative grid gap-0",style:{gridTemplateColumns:`minmax(4rem, auto) repeat(${Ju.length}, 1fr)`,gridTemplateRows:`auto repeat(${wv.length}, 3rem)`},children:[s.jsx("div",{className:"sticky top-0 z-20 bg-card font-semibold p-2 text-center border-b",children:"Heure"}),Ju.map(h=>s.jsx("div",{className:"sticky top-0 z-20 bg-card font-semibold p-2 text-center border-b",children:h},h)),wv.map((h,f)=>s.jsxs(se.Fragment,{children:[s.jsx("div",{style:{gridRow:f+2},className:"font-medium text-sm text-muted-foreground p-2 text-right border-r",children:h}),s.jsx("div",{style:{gridRow:f+2,gridColumn:`2 / span ${Ju.length}`},className:"border-b border-dashed"})]},h)),i.map(h=>s.jsxs(de.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:`${h.color} p-2 rounded-lg text-xs border z-10 m-0.5 flex flex-col justify-between`,style:{gridColumnStart:u[h.day],gridRowStart:h.startIndex+2,gridRowEnd:`span ${h.spanSlots}`},children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold truncate",children:h.title}),s.jsxs("div",{className:"text-xs opacity-80",children:[h.startTime," - ",h.endTime]})]}),n&&s.jsx("div",{className:"text-xs opacity-80 mt-1",children:s.jsxs("div",{className:"flex items-start gap-1",children:[s.jsx($n,{className:"w-3 h-3 flex-shrink-0 mt-0.5"}),s.jsx("div",{children:h.instructors.map(f=>s.jsx("div",{className:"truncate",children:db(f)},f))})]})})]},h.id))]})})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx(de.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.6},children:s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsx(Ee,{children:"Légende des couleurs"})}),s.jsx(ge,{children:s.jsx("div",{className:"space-y-2",children:c.map((h,f)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-4 h-4 rounded ${h.color.split(" ")[0]}`}),s.jsx("span",{children:h.label})]},f))})})]})}),s.jsx(de.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.7},children:s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsx(Ee,{children:"Composition des catégories d'âge"})}),s.jsx(ge,{children:s.jsx("div",{className:"space-y-2",children:Mq.map((h,f)=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Te,{variant:"outline",children:h.category}),s.jsx("span",{className:"text-sm text-muted-foreground",children:h.school})]},f))})})]})})]})]})},Vj=({title:e,stats:t,color:n,loading:r})=>{if(r)return s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-lg font-semibold",children:"..."}),s.jsx("div",{className:"text-sm text-muted-foreground",children:e})]});const i=[{label:"H",value:t.byGender.H,color:"#3b82f6"},{label:"F",value:t.byGender.F,color:"#ec4899"},...t.byGender.unknown>0?[{label:"?",value:t.byGender.unknown,color:"#6b7280"}]:[]],o=Math.max(...Object.values(t.byAge));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",style:{color:n},children:t.total}),s.jsx("div",{className:"text-sm text-muted-foreground",children:e})]}),t.total>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium mb-2 text-center",children:"Par sexe"}),s.jsx("div",{className:"flex justify-center",children:s.jsx(qR,{data:i,size:80})})]}),Object.keys(t.byAge).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium mb-2",children:"Par âge"}),s.jsx("div",{className:"space-y-1",children:Object.entries(t.byAge).map(([l,c])=>s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"w-12 truncate",children:l}),s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:"h-1.5 rounded-full transition-all duration-500",style:{width:`${c/o*100}%`,backgroundColor:n}})}),s.jsx("span",{className:"w-4 text-right",children:c})]},l))})]})]})},qR=({data:e,size:t=120})=>{const n=e.reduce((l,c)=>l+c.value,0);if(n===0)return null;let r=0;const i=t/2,o=t/2;return s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[e.map((l,c)=>{const u=l.value/n*100,h=`${u*2.51} 251`,f=-r*2.51;return r+=u,s.jsx("circle",{cx:i,cy:o,r:"40",fill:"transparent",stroke:l.color,strokeWidth:"20",strokeDasharray:h,strokeDashoffset:f,className:"transition-all duration-500"},c)}),s.jsx("text",{x:i,y:o,textAnchor:"middle",dominantBaseline:"middle",className:"fill-foreground font-semibold text-sm transform rotate-90",children:n})]}),s.jsx("div",{className:"mt-3 space-y-1",children:e.map((l,c)=>s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),s.jsxs("span",{children:[l.label,": ",l.value]})]},c))})]})},FK=({data:e,maxValue:t})=>s.jsx("div",{className:"space-y-3",children:e.map((n,r)=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"font-medium truncate",children:n.label}),s.jsx("span",{className:"text-muted-foreground",children:n.value})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${n.value/t*100}%`}})})]},r))}),BK=({members:e})=>{const[t,n]=m.useState({bloc:0,difficulte:0,total:0,participantsStats:{bloc:{total:0,byGender:{H:0,F:0,unknown:0},byAge:{}},difficulte:{total:0,byGender:{H:0,F:0,unknown:0},byAge:{}}},loading:!0});m.useEffect(()=>{(async()=>{try{const{data:o,error:l}=await te.from("competitions").select("id, disciplines");if(l)throw l;const{data:c,error:u}=await te.from("competition_participants").select(`
            competition_id,
            member_id,
            role,
            members (
              sexe,
              category,
              first_name,
              last_name
            )
          `).eq("role","Competiteur");if(u)throw u;let h=0,f=0;const p=new Set,v=new Set,x={total:0,byGender:{H:0,F:0,unknown:0},byAge:{}},w={total:0,byGender:{H:0,F:0,unknown:0},byAge:{}},y={bloc:[],difficulte:[]};o.forEach(S=>{if(S.disciplines){const j=Array.isArray(S.disciplines)?S.disciplines:[S.disciplines];j.includes("Bloc")&&(h++,y.bloc.push(S.id)),j.includes("Difficulté")&&(f++,y.difficulte.push(S.id))}}),c.forEach(S=>{if(!S.members)return;const j=S.members,b=S.competition_id;let C="Autre";if(j.category&&(j.category.includes("U11")||j.category.includes("U13")?C="U11-U13":j.category.includes("U15")?C="U15":(j.category.includes("U17")||j.category.includes("U19"))&&(C="U17-U19")),y.bloc.includes(b)){const N=`${S.member_id}`;p.has(N)||(p.add(N),x.total++,j.sexe==="H"?x.byGender.H++:j.sexe==="F"?x.byGender.F++:x.byGender.unknown++,x.byAge[C]=(x.byAge[C]||0)+1)}if(y.difficulte.includes(b)){const N=`${S.member_id}`;v.has(N)||(v.add(N),w.total++,j.sexe==="H"?w.byGender.H++:j.sexe==="F"?w.byGender.F++:w.byGender.unknown++,w.byAge[C]=(w.byAge[C]||0)+1)}}),n({bloc:h,difficulte:f,total:o.length,participantsStats:{bloc:x,difficulte:w},loading:!1})}catch(o){console.error("Erreur lors du chargement des statistiques de compétitions:",o),n(l=>({...l,loading:!1}))}})()},[]);const r=m.useMemo(()=>{const i={},o={H:0,F:0,unknown:0};e.forEach(h=>{const f=h.category||"Non définie";i[f]=(i[f]||0)+1,h.sexe==="H"?o.H++:h.sexe==="F"?o.F++:o.unknown++});const l=h=>h.sort((f,p)=>{const v=y=>{const S=y.match(/U(\d+)/);return S?parseInt(S[1]):999},x=v(f[0]),w=v(p[0]);return x!==999&&w!==999?x-w:x!==999&&w===999?-1:x===999&&w!==999?1:f[0].localeCompare(p[0])}),c={};return l(Object.entries(i)).forEach(([h,f])=>{c[h]=f}),{categoryStats:c,sexStats:o}},[e]);return s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(iN,{className:"w-5 h-5"}),"Statistiques Compétiteurs"]})}),s.jsx(ge,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx($n,{className:"w-4 h-4"}),"Par catégorie"]}),s.jsx(FK,{data:Object.entries(r.categoryStats).map(([i,o])=>({label:i,value:o})),maxValue:Math.max(...Object.values(r.categoryStats))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Zd,{className:"w-4 h-4"}),"Par sexe"]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(qR,{data:[{label:"Hommes",value:r.sexStats.H,color:"#3b82f6"},{label:"Femmes",value:r.sexStats.F,color:"#ec4899"},...r.sexStats.unknown>0?[{label:"Non renseigné",value:r.sexStats.unknown,color:"#6b7280"}]:[]],size:140})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Oa,{className:"w-4 h-4"}),"Participation aux compétitions"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{className:"border rounded-lg p-3 bg-blue-50/50",children:s.jsx(Vj,{title:"Participants Bloc",stats:t.participantsStats.bloc,color:"#3b82f6",loading:t.loading})}),s.jsx("div",{className:"border rounded-lg p-3 bg-green-50/50",children:s.jsx(Vj,{title:"Participants Difficulté",stats:t.participantsStats.difficulte,color:"#10b981",loading:t.loading})})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{children:"Compétitions Bloc"}),s.jsx(Te,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:t.loading?"...":t.bloc})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{children:"Compétitions Difficulté"}),s.jsx(Te,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:t.loading?"...":t.difficulte})]})]})]})]})})]})},UK=({competitions:e,discipline:t,onClose:n})=>{const r=Pn(),i=o=>{n(),r(`/competitions?id=${o}`)};return s.jsx(Ot,{open:!0,onOpenChange:n,children:s.jsxs(Tt,{children:[s.jsxs(Ht,{children:[s.jsxs(Wt,{children:["Compétitions de ",t]}),s.jsx(Vr,{children:"Liste des compétitions auxquelles le membre a participé en 2025"})]}),s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 py-4",children:e.length>0?e.map(o=>s.jsxs("div",{className:"p-2 rounded-md hover:bg-accent cursor-pointer",onClick:()=>i(o.id),children:[s.jsx("p",{className:"font-medium",children:o.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(o.start_date).toLocaleDateString()})]},o.id)):s.jsx("p",{className:"text-muted-foreground",children:"Aucune compétition dans cette discipline."})}),s.jsx(or,{children:s.jsx(ee,{variant:"outline",onClick:n,children:"Fermer"})})]})})},zK=({member:e,onEdit:t,isAdmin:n,stats:r,onStatClick:i})=>{const{showMemberDetails:o}=wr(),l=r&&r.bloc>0,c=r&&r.difficulte>0,u=(h,f)=>`${(h==null?void 0:h[0])||""}${(f==null?void 0:f[0])||""}`.toUpperCase();return s.jsx(pe,{className:"overflow-hidden transition-all hover:shadow-md relative group cursor-pointer",onClick:()=>o(e.id),children:s.jsxs(ge,{className:"p-3 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(us,{className:"h-10 w-10",children:[s.jsx(ds,{src:e.photo_url,alt:fs(e.first_name,e.last_name,!0)}),s.jsx(hs,{children:u(e.first_name,e.last_name)})]}),s.jsxs("div",{className:"flex-grow",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-semibold",children:fs(e.first_name,e.last_name,n)}),e.sexe&&s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${e.sexe==="F"?"bg-pink-100 text-pink-600":e.sexe==="H"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:e.sexe==="F"?"♀":e.sexe==="H"?"♂":"?"}),s.jsx(b0,{profile:e.profiles})]}),e.category&&s.jsx("p",{className:"text-sm text-primary font-medium",children:e.category})]}),n&&s.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity self-start",onClick:h=>{h.stopPropagation(),t(e)},children:s.jsx(Zr,{className:"h-4 w-4"})})]}),(l||c)&&s.jsxs("div",{className:"flex items-center justify-start gap-4 text-xs text-muted-foreground pt-1",children:[l&&s.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:text-blue-500",onClick:h=>{h.stopPropagation(),i("Bloc")},children:[s.jsx(iN,{className:"w-3 h-3 text-blue-500"}),s.jsxs("span",{children:["Bloc: ",s.jsx("span",{className:"font-bold text-foreground",children:r.bloc})]})]}),c&&s.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:text-green-500",onClick:h=>{h.stopPropagation(),i("Difficulté")},children:[s.jsx(XE,{className:"w-3 h-3 text-green-500"}),s.jsxs("span",{children:["Diff: ",s.jsx("span",{className:"font-bold text-foreground",children:r.difficulte})]})]})]})]})})},Hj=({title:e,competitors:t,onEdit:n,isAdmin:r,participationStats:i,onStatClick:o})=>{const l=m.useMemo(()=>{const c=t.reduce((u,h)=>{const f=h.category||"Non classé";return u[f]||(u[f]=[]),u[f].push(h),u},{});return Object.entries(c).sort(([u],[h])=>u==="Non classé"?1:h==="Non classé"?-1:u.localeCompare(h))},[t]);return s.jsxs(de.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[s.jsxs("h2",{className:"text-3xl font-bold headline flex items-center gap-3",children:[s.jsx(Ia,{className:"w-8 h-8 text-primary"}),e," (",t.length,")"]}),s.jsx("div",{className:"space-y-6",children:l.map(([c,u])=>s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold mb-4 border-b pb-2",children:[c," (",u.length,")"]}),s.jsx(de.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"visible",children:u.map(h=>{const f=i[h.id]||{bloc:{count:0,list:[]},difficulte:{count:0,list:[]}},p={bloc:f.bloc.count,difficulte:f.difficulte.count};return s.jsx(de.div,{variants:{hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},children:s.jsx(zK,{member:h,onEdit:n,isAdmin:r,stats:p,onStatClick:v=>o(h,v)})},h.id)})})]},c))})]})},VK=()=>{const[e,t]=m.useState([]),[n,r]=m.useState({}),[i,o]=m.useState(!0),[l,c]=m.useState(!1),[u,h]=m.useState({isOpen:!1,competitions:[],discipline:""}),{isAdmin:f,loading:p}=tn(),{toast:v}=et(),{editingMember:x,isFormVisible:w,openEditFormForMember:y,closeEditForm:S}=wr(),j=Pn(),b=m.useCallback(async()=>{o(!0);try{const{data:M,error:U}=await te.from("members").select("*, profiles(role)").in("title",["Compétition U11-U15","Compétition U15-U19"]).order("last_name").order("first_name");if(U)throw U;const G=M.map(k=>({...k,profiles:Array.isArray(k.profiles)?k.profiles[0]:k.profiles}));t(G);const{data:z,error:J}=await te.from("competition_participants").select(`
          member_id,
          competitions ( id, name, start_date, disciplines )
        `).eq("role","Competiteur");if(J)throw J;const $=z.reduce((k,O)=>{var H;if(!O.member_id||!O.competitions)return k;k[O.member_id]||(k[O.member_id]={bloc:{count:0,list:[]},difficulte:{count:0,list:[]}});const F={id:O.competitions.id,name:O.competitions.name,start_date:O.competitions.start_date},D=((H=O.competitions)==null?void 0:H.disciplines)||[];return D.includes("Bloc")&&(k[O.member_id].bloc.count++,k[O.member_id].bloc.list.push(F)),D.includes("Difficulté")&&(k[O.member_id].difficulte.count++,k[O.member_id].difficulte.list.push(F)),k},{});r($)}catch{v({title:"Erreur",description:"Impossible de charger les données des compétiteurs.",variant:"destructive"})}finally{o(!1)}},[v]);m.useEffect(()=>{b()},[b]);const C=async M=>{const U=M.name.split(".").pop(),G=`members_photos/${Date.now()}.${U}`;let{error:z}=await te.storage.from("member_photos").upload(G,M,{upsert:!0});if(z)throw z;const{data:J}=te.storage.from("member_photos").getPublicUrl(G);return J.publicUrl},N=async(M,U)=>{c(!0);try{let G=M.photo_url;U?G=await C(U):M.photo_url===null&&(G=null);const{profiles:z,dynamic_roles:J,isEmergencyContactFor:$,emergency_contact_1:k,emergency_contact_2:O,...F}={...M,photo_url:G},{error:D}=await te.from("members").update(F).eq("id",x.id);if(D)throw D;v({title:"Succès",description:"Compétiteur mis à jour."}),S(),b()}catch{v({title:"Erreur",description:"Impossible de mettre à jour le compétiteur.",variant:"destructive"})}finally{c(!1)}},P=(M,U)=>{const G=n[M.id];G&&(U==="Bloc"?h({isOpen:!0,competitions:G.bloc.list,discipline:"Bloc"}):U==="Difficulté"&&h({isOpen:!0,competitions:G.difficulte.list,discipline:"Difficulté"}))},A=()=>{h({isOpen:!1,competitions:[],discipline:""})},T=e.filter(M=>M.title==="Compétition U11-U15"),I=e.filter(M=>M.title==="Compétition U15-U19");return i||p?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-12",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Compétiteurs - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Liste des compétiteurs du club d'escalade, répartis par catégories."})]}),s.jsxs(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex justify-center items-center gap-4 flex-wrap",children:[s.jsx("h1",{className:"text-4xl font-bold headline",children:"Nos Compétiteurs"}),s.jsxs(ee,{onClick:()=>j("/annual-summary?tab=participation"),variant:"outline",children:[s.jsx(KE,{className:"w-4 h-4 mr-2"})," Récap Annuel"]})]}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"La fierté du club, nos athlètes qui nous représentent sur les murs de la région et au-delà."})]}),s.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:s.jsx(BK,{members:e})}),s.jsx(Hj,{title:"Compétition U11-U15",competitors:T,onEdit:M=>y(M),isAdmin:f,participationStats:n,onStatClick:P}),s.jsx(Hj,{title:"Compétition U15-U19",competitors:I,onEdit:M=>y(M),isAdmin:f,participationStats:n,onStatClick:P}),s.jsx(Lt,{children:w&&f&&s.jsx(Rf,{member:x,onSave:N,onCancel:S,isSaving:l})}),u.isOpen&&s.jsx(UK,{competitions:u.competitions,discipline:u.discipline,onClose:A})]})},HK=`NOM;Prénom;Titre;Sous groupe;Photo
ABRIAL;Aline;Adultes autonomes;;
ABRIAL;Arthur;Compétition U11-U15;;
ABRIAL;Benoit;Bureau;Secrétaire Adjoint;Benoit_ABRIAL.png
ABRIAL;Chloe;Compétition U15-U19;;
ADONETH;Nadege;Adultes autonomes;;
AGOSTINO;Chloe;Loisir collège;mercredi;;
ANTOLINOS;Clement;Compétition U15-U19;;
ARNAUD;Rene;Adultes autonomes;;
AVELINE;Bertrand;Adultes autonomes;;
BABIC;maxime;Loisir lycée;;
BAEZ;Juliette;Compétition U11-U15;;
BALINSKI;Enzo;Perfectionnement U9 -U13;;
BARAUD;Mathieu;Bénévole;0;Mathieu_BARAUD.png
BARGHOUTI;Fatine;Adultes débutants;;
BARON;Julien;Loisir lycée;;
BARRAT;Maelys;Loisir collège;lundi;;
BASSO;Chloe;Compétition U11-U15;;
BASTIDE;Camille;Loisir collège;mercredi;;
BASTIDE;Eva;Loisir enfants;mercredi 13h Groupe A;;
BENECH;Jean;Adultes autonomes;;
BENECH;Lea;Adultes autonomes;;
BERGER;Adrien;Bénévole;0;Adrien_BERGER.png
BERGER;Mayline;Loisir collège;lundi;;
BERGER;Nathalie;Adultes autonomes;;
BERGER;Olivier;Adultes autonomes;;
BESSUEILLE;Alexandre;Loisir lycée;;
BLANCHARD;Ayleen;Loisir enfants;vendredi;;
BONNIOT;Louna;Adultes autonomes;;
BONNIOT;Natacha;Adultes autonomes;;
BOREL;Elise;Perfectionnement U9 -U13;;
BOSSET;Benjamin;Loisir lycée;;
BOSSET;Olivier;Bénévole;0;Olivier_BOSSET.png
BOU SAID;Alexandre;Loisir lycée;;
BOURDAUD HUI;Marine;Bénévole;0;Marine_BOURDAUD_HUI.png
BOURTHOUMIEUX;Elie;Perfectionnement U9 -U13;;
BOUVET;Rose;Loisir collège;mercredi;;
BRISSE;Georges;Adultes débutants;;
BRON;Damien;Adultes autonomes;;
BRUEL;Thomas;Adultes autonomes;;
BUCHET;Anatole;Loisir collège;mercredi;;
CABIROL;Celine;Adultes autonomes;;
CAILLARD;Aline;Adultes autonomes;;
CAILLOUX;Gabriel;Loisir enfants;vendredi;;
CANET;Julia;Loisir collège;mercredi;;
CAPUANO;elena;Adultes autonomes;;
CAPUANO;Olivia;Adultes autonomes;;
CATHERIN;Boris;Bénévole;0;;
CAULET;Apolline;Loisir lycée;;
CAULET JOHANNES;Athenais;Loisir collège;lundi;;
CERTAIN TECHOUEYRES;Leena;Loisir collège;lundi;;
CHALON;Pierre;Adultes autonomes;;
CHAPELLE;Alice;Compétition U11-U15;;
CHARET;Matteo;Adultes autonomes;;
CHAVRET-RECULON;Estelle;Adultes autonomes;;
CHAVRET-RECULON;Gael;Adultes autonomes;;
CHAZOT;Chloé;Loisir collège;mercredi;;
CHAZOT;Mathilde;Adultes autonomes;;
CHAZOT;Sylvain;Bureau;Trésorier Adjoint;Sylvain-CHAZOT.png
CHAZOT;Tiago;Compétition U15-U19;;
CIBOT;Mathilda;Compétition U15-U19;;
CLARET;Heloise;Adultes autonomes;;
CLAUDE;Aurelie;Adultes débutants;;
CLEDAT;Alexis;Loisir lycée;;
CLITON;Nathalie;Adultes autonomes;;
COCHE;Eden;Compétition U15-U19;;
CONVERS;Arthur;Loisir enfants;mercredi 16h;;
CONVERS;Capucine;Perfectionnement U13-U19;;
CONVERS;Charlie;Compétition U11-U15;;
COSTE;Liam;Loisir enfants;mercredi 16h;;
COTTET;Laurine;Adultes débutants;;
COURTIADE;Axel;Loisir collège;lundi;;
COUTELIER;Louane;Compétition U11-U15;;
DAYRE;Stael;Perfectionnement U13-U19;;
DE LIMA FERREIRA;Clément;Bénévole;0;Clément_LIMA_FERREIRA.png
DEBILI;Naelle;Loisir collège;lundi;;
DERMADIROSSIAN;Nicolas;Adultes autonomes;;
DESCAMPS;Nathalie;Adultes autonomes;;
DESPALUNGUE D'ARROS;Mattéo;Perfectionnement U9 -U13;;
DI CANDIDO;Marie Josee;Adultes autonomes;;
DI PIAZZA;Emma;Loisir enfants;mercredi 13h Groupe B;;
DIDIER;Camille;Bénévole;0;Camille_DIDIER.png
DIRUIT;Martin;Loisir enfants;mercredi 16h;;
DIRUIT;Romane;Perfectionnement U13-U19;;
DISSAUX;Pierre-Antoine;Loisir collège;lundi;;
DUMAS;Matthieu;Perfectionnement U13-U19;;
DURAND;Magali;Adultes autonomes;;
DUVEAU;Florent;Adultes débutants;;
ENJALRAN;Louison;Loisir enfants;mercredi 13h Groupe B;;
ESCOFFIER;Laurent;Adultes autonomes;;
FABRE;Romy;Perfectionnement U9 -U13;;
FALQUE;Christophe;Adultes autonomes;;
FANJAT;Fabrice;Adultes autonomes;;
FANJAT;GABIN;Compétition U15-U19;;
FAURE;Frederic;Adultes autonomes;;
FAURE;Monique;Adultes autonomes;;
FAVIER;Evan;Loisir enfants;mercredi 13h Groupe A;;
FERNANDEZ;Cyril;Adultes autonomes;;
FERREIRA;Ewan;Loisir enfants;mercredi 13h Groupe B;;
FLANDRIN;Flavien;Adultes autonomes;;
FOLLUT;Maelys;Perfectionnement U13-U19;;
FOURCADE;Esteban;Loisir enfants;mercredi 16h;;
FOURCADE;Noah;Compétition U11-U15;;
FREMY;Magali;Bénévole;0;;
FRIEDE D'ORIO;Maelys;Loisir collège;mercredi;;
GAALOUL;Nelia;Loisir enfants;mercredi 13h Groupe B;;
GAILLARD;Cedric;Adultes autonomes;;
GANDOLA;fabien;Adultes autonomes;;
GARRIGUE;Charline;Loisir enfants;mercredi 16h;;
GAST;Lison;Loisir enfants;vendredi;;
GAUTHIER;Antoine;Perfectionnement U9 -U13;;
GELIN;Jade;Loisir lycée;;
GEORGES;Alexandre;Loisir enfants;mercredi 13h Groupe B;;
GERIN-GARCIA;Eloane;Compétition U11-U15;;
GILBERT;Juliette;Loisir collège;lundi;;
GIROUSSE;Noah;Perfectionnement U9 -U13;;
GOETHALS;Romain;Bénévole;0;;
GOMEZ;Frederic;Adultes autonomes;;
GRANADOS;Emma;Loisir enfants;mercredi 13h Groupe A;;
GRAS;Quentin;Loisir lycée;;
GRATTON;Abygael;Loisir collège;mercredi;;
GRATTON;Emily-Jane;Loisir enfants;mercredi 13h Groupe A;;
GREINER;Jules;Adultes autonomes;;
GRENIER;Jules;Perfectionnement U13-U19;;
GUERIN;frederique;Adultes autonomes;;
GUICHARD;Patrick;Adultes autonomes;;
GUILHEM;Hanae;Loisir enfants;vendredi;;
GUILHEM;Soen;Perfectionnement U9 -U13;;
GURRET;Benoit;Adultes autonomes;;
GURRET LEBRUN;Camille;Loisir enfants;mercredi 13h Groupe A;;
HENRIET;Leonie;Compétition U11-U15;;
HERNANDEZ;Fernand;Adultes autonomes;;
HERNANDEZ;Thi Xuan Trang;Adultes autonomes;;
HUE;Magaly;Bénévole;0;Magaly_HUE.png
JADOT;Leana;Loisir enfants;mercredi 13h Groupe B;;
JAGUENAUD;Lena;Loisir collège;lundi;;
JANEL;Antoine;Adultes autonomes;;
JAVELOT;Andre;Adultes autonomes;;
JAY;Christophe;Adultes autonomes;;
JOANNES;Jean-Paul;Adultes autonomes;;
JOASSY;Xavier;Adultes autonomes;;
JULLIEN-MOUTELON;Rodolphe;Bénévole;0;;
KALOUSTIAN;Ameline;Loisir collège;lundi;;
KAZI TANI;Ilyess;Adultes autonomes;;
KAZI TANI;Jassem;Loisir enfants;mercredi 16h;;
KERJOUAN;Leo;Loisir enfants;mercredi 13h Groupe A;;
KHAU;David;Adultes autonomes;;
KOLLY;Marion;Adultes autonomes;;
KRONER;Arthur;Loisir lycée;;
LACOMBE;Alexandre;Adultes débutants;;
LACOMBE;Gabrielle;Adultes autonomes;;
LAFFRET OLIVEIRA;Jade;Loisir enfants;vendredi;;
LAGADEC;Ronan;Adultes autonomes;;
LAGARDE;Fabienne;Bureau;Présidente Adjointe;Fabienne_LAGARDE.png
LARPENT-ROCHE;Alice;Adultes autonomes;;
LEFEVRE;Rémi;Adultes débutants;;
LEOST;Manon;Loisir enfants;mercredi 13h Groupe A;;
LEROY;Nathalie;Bénévole;0;Nathalie_LEROY.png
LEVEY;Johan;Adultes autonomes;;
LOMBARD;Matisse;Compétition U11-U15;;
LOMBARD;Teo;Compétition U15-U19;;
LOPEZ;clemence;Compétition U11-U15;;
LOPEZ;David;Bénévole;0;David_LOPEZ.png
LORIDANT;Chantal;Bureau;Présidente;Chantal_LORIDANT.png
LORIDANT;Stephane;Bénévole;0;Stephane_LORIDANT.png
MACKIEWICZ;Sabine;Bénévole;0;;
MAGUIN;Luna;Loisir enfants;vendredi;;
MARCOU;Elma;Loisir collège;lundi;;
MARTIN PASCUAL;Noemie;Adultes autonomes;;
MARTINEZ;Ruben;Loisir enfants;mercredi 13h Groupe A;;
MARTINEZ;Thibaut;Adultes autonomes;;
MENIER;Antonin;Loisir collège;lundi;;
MENIER;Eugenie;Loisir lycée;;
MEUNIER;Quentin;Loisir collège;lundi;;
MICCICHE;Anais;Loisir lycée;;
MONCARO;Thierry;Adultes autonomes;;
MONCORGE;Leonie;Loisir collège;lundi;;
MONY;Alexandre;Loisir enfants;mercredi 13h Groupe B;;
MORAND;Saori;Loisir enfants;mercredi 16h;;
MOREL;Eric;Adultes autonomes;;
MOREL;Serena;Loisir collège;mercredi;;
NADRCIC;Arsene;Compétition U15-U19;;
NEIME;Claude;Adultes autonomes;;
NEIME;Delphine;Bureau;Secrétaire;Delphine_NEIME.png
NEIME;Justine;Compétition U15-U19;;
NEIME;Paul;Compétition U15-U19;;
NURY DUFOUR;Hanae;Loisir enfants;mercredi 16h;;
OBEJI;Emma;Loisir enfants;mercredi 13h Groupe B;;
OBEJI;Juliette;Loisir enfants;mercredi 13h Groupe B;;
OLIVERO;Ambre;Loisir collège;mercredi;;
PARCHOUX;Patrick;Adultes autonomes;;
PARMENTIER;Marion;Adultes autonomes;;
PARMENTIER;pascal;Bénévole;0;Pascal_PARMENTIER.png
PARROT;Antonin;Adultes autonomes;;
PARROT;Garance;Loisir enfants;vendredi;;
PERRET DU CRAY;Baudouin;Adultes autonomes;;
PETIAUD;Charline;Loisir enfants;mercredi 13h Groupe A;;
PETIT;Adrien;Adultes autonomes;;
PIPON DELORME;Mathis;Loisir enfants;vendredi;;
POLSINELLI;Olivier;Adultes autonomes;;
POLSINELLI ROUSSET;Julie;Compétition U15-U19;;
POUCHET;Alban;Loisir collège;lundi;;
POUCHET;Mireille;Adultes autonomes;;
POZZOBON;Lucie;Compétition U15-U19;;
PRAS;Enzo;Loisir enfants;mercredi 13h Groupe B;;
PREMONT;Adele;Compétition U15-U19;;
PREMONT;Valerie;Adultes autonomes;;
QUINTELA;Julia;Perfectionnement U13-U19;;
RAHALI;Emmi;Loisir enfants;mercredi 13h Groupe A;;
RIGO;Leon;Loisir enfants;mercredi 16h;;
RIGO;Lucas;Loisir collège;mercredi;;
RIGO;maxime;Adultes autonomes;;
RIN;Matheo;Loisir lycée;;
RIOS;Jaouen;Loisir collège;lundi;;
RIOS;Jean-Benoit;Bénévole;0;Jean-Benoit_RIOS.png
RIOS;Josselin;Loisir lycée;;
ROBERT;Lisie;Perfectionnement U13-U19;;
ROIBET;Jeanne;Perfectionnement U13-U19;;
ROL;Eileen;Loisir collège;lundi;;
ROMANET;Fanny;Adultes autonomes;;
ROMANET;Richard;Bénévole;0;Richard_ROMANET.png
ROME;Marylou;Loisir lycée;;
ROMMEVAUX;Damien;Adultes autonomes;;
ROURRE;Marion;Loisir enfants;mercredi 16h;;
ROUSSEAU;Anne-Eliette;Adultes autonomes;;
ROZIE;Benoit;Compétition U15-U19;;
ROZIE;Charline;Perfectionnement U13-U19;;
ROZIE;Patrick;Bureau;Trésorier;Patrick_ROZIE.png
SALOMON;Jessica;Adultes autonomes;;
SCHUTTER;Olivier;Adultes autonomes;;
SCHUTTER ADONETH;Arsene;Perfectionnement U9 -U13;;
SILVESTRE;Emilie;Loisir collège;mercredi;;
SOIGNEUX;Chloe;Loisir collège;lundi;;
STRICHER;Beryl;Perfectionnement U9 -U13;;
TAILLANDIER FADAT;Evan;Loisir enfants;mercredi 13h Groupe A;;
TALAGA;Anthony;Adultes autonomes;;
TAURELLE;Matis;Loisir collège;lundi;;
TEOLI;Eyrin;Loisir enfants;mercredi 13h Groupe B;;
THIBAULT;Charlotte;Loisir lycée;;
THIVAND;Leo;Loisir enfants;vendredi;;
THOMAS;Jean-luc;Adultes autonomes;;
THOMAS;Sandrine;Adultes débutants;;
TIBERGHIEN BUCCI;Mathilde;Loisir enfants;mercredi 13h Groupe A;;
TORUNSKI;Cyril;Adultes autonomes;;
TOVENATTI;Gautier;Loisir enfants;mercredi 13h Groupe B;;
TRIGANO;César;Loisir collège;lundi;;
TRIQUET;Pascale;Adultes autonomes;;
UZUN-IVANOVA;Dilara;Loisir enfants;vendredi;;
VELEINE;Gonzague;Compétition U11-U15;;
VILLENEUVE BOULGHOBRA;Gael;Perfectionnement U13-U19;;
ZAFIROVIC;Kaelie;Loisir collège;lundi;;
Lima FERREIRA;Clément;Bénévole;0;;
N;Thibault;Bénévole;0;Thibault_N.png
XXX;Edgar;Bénévole;0;Edgar.png
XX;Antoine;Bénévole;0;Antoine.png
XXXX;Tom;Bénévole;0;Tom.png
`;function WK(e){const t=e.trim().split(`
`),n=t[0].split(";").map(i=>i.trim()),r=[];for(let i=1;i<t.length;i++){const o=t[i].split(";");if(o.length<n.length)continue;const l={lastName:o[0].trim(),firstName:o[1].trim(),title:o[2].trim(),subGroup:o[3].trim(),photo:o[4]?o[4].trim():null};r.push(l)}return r}const GK=({exercise:e,index:t,total:n,onExerciseChange:r,onRemove:i,onMove:o,onImport:l})=>{const[c,u]=m.useState(null),[h,f]=m.useState(e.image_url||null),p=Pn();m.useEffect(()=>{f(e.image_url),e.image_url&&c&&e.image_url!==URL.createObjectURL(c)&&u(null)},[e.image_url]);const v=(y,S)=>{r(t,{...e,[y]:S})},x=y=>{const S=y.target.files[0];if(S){u(S);const j=URL.createObjectURL(S);f(j),r(t,{...e,newImageFile:S,image_url:j})}},w=()=>{e.pedagogy_sheet_id&&p(`/pedagogy#sheet-${e.pedagogy_sheet_id}`)};return s.jsxs(pe,{className:"p-4 relative bg-muted/40",children:[s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[s.jsx(ee,{type:"button",variant:"ghost",size:"icon",onClick:()=>o(t,-1),disabled:t===0,children:s.jsx(n3,{className:"w-4 h-4"})}),s.jsx(ee,{type:"button",variant:"ghost",size:"icon",onClick:()=>o(t,1),disabled:t===n-1,children:s.jsx(t3,{className:"w-4 h-4"})}),s.jsx(ee,{type:"button",variant:"ghost",size:"icon",onClick:()=>i(t),children:s.jsx(jr,{className:"w-4 h-4 text-destructive"})})]}),s.jsxs("div",{className:"absolute top-2 left-2 flex items-center gap-2",children:[s.jsxs(ee,{type:"button",variant:"outline",size:"sm",onClick:l,children:[s.jsx(BE,{className:"w-4 h-4 mr-2"})," Importer"]}),e.pedagogy_sheet_id&&s.jsxs(ee,{type:"button",variant:"secondary",size:"sm",onClick:w,title:"Voir la fiche pédagogique",children:[s.jsx(qE,{className:"w-4 h-4 mr-2"})," Fiche"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-12",children:[s.jsx(we,{placeholder:"Objectifs opérationnels",value:e.operational_objective||"",onChange:y=>v("operational_objective",y.target.value)}),s.jsx(we,{placeholder:"Situation",value:e.situation||"",onChange:y=>v("situation",y.target.value)}),s.jsx(we,{placeholder:"Organisation Temps/volume",value:e.organisation||"",onChange:y=>v("organisation",y.target.value)}),s.jsx(we,{placeholder:"Consigne",value:e.consigne||"",onChange:y=>v("consigne",y.target.value)}),s.jsx(we,{placeholder:"Temps (ex: 10min)",value:e.time||"",onChange:y=>v("time",y.target.value)}),s.jsx(we,{placeholder:"Critère de réussite",value:e.success_criteria||"",onChange:y=>v("success_criteria",y.target.value)}),s.jsx(we,{placeholder:"Régulation",value:e.regulation||"",onChange:y=>v("regulation",y.target.value)}),s.jsx(we,{placeholder:"Lien support",value:e.support_link||"",onChange:y=>v("support_link",y.target.value)}),s.jsxs("div",{className:"md:col-span-2 flex items-center gap-4",children:[s.jsx("div",{className:"w-24 h-24 border rounded-md flex items-center justify-center bg-background",children:h?s.jsx("img",{src:h,alt:"Aperçu",className:"w-full h-full object-cover rounded-md"}):s.jsx(Ac,{className:"w-8 h-8 text-muted-foreground"})}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("label",{htmlFor:`image-upload-${t}`,children:s.jsx(ee,{type:"button",variant:"outline",size:"sm",asChild:!0,className:"cursor-pointer",children:s.jsxs("span",{children:[s.jsx(Dy,{className:"w-4 h-4 mr-2"}),c?"Changer l'image":"Téléverser une image"]})})}),s.jsx(we,{id:`image-upload-${t}`,type:"file",className:"hidden",accept:"image/*",onChange:x}),e.image_url&&!c&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Image actuelle. Téléversez pour remplacer."})]})]})]})]})},ZK={all:"Toutes les fiches",educational_game:"Jeu éducatif",warm_up_exercise:"Exercice d'échauffement",strength_exercise:"Exercice de renfo",review_sheet:"Fiche de révision"},Wj=({title:e,options:t,selected:n,onChange:r})=>{const i=()=>{n.length===t.length?r([]):r(t)};return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(le,{children:e}),s.jsx(ee,{type:"button",variant:"link",size:"sm",onClick:i,className:"p-0 h-auto",children:n.length===t.length?"Tout désélectionner":"Tout sélectionner"})]}),s.jsx("div",{className:"max-h-40 overflow-y-auto rounded-md border p-2 space-y-2",children:t.map(o=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($r,{id:`${e}-${o}`,checked:n.includes(o),onCheckedChange:l=>{const c=l?[...n,o]:n.filter(u=>u!==o);r(c)}}),s.jsx("label",{htmlFor:`${e}-${o}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:o})]},o))})]})},qK=({onSelect:e,onCancel:t})=>{const[n,r]=m.useState([]),[i,o]=m.useState(""),[l,c]=m.useState("all"),[u,h]=m.useState("all");m.useEffect(()=>{(async()=>{const{data:x}=await te.from("pedagogy_sheets").select("*").order("title");r(x||[])})()},[]);const f=m.useMemo(()=>{const v=n.filter(x=>x.sheet_type==="educational_game"&&x.theme).map(x=>x.theme);return["all",...Array.from(new Set(v))]},[n]),p=n.filter(v=>{const x=v.title.toLowerCase().includes(i.toLowerCase()),w=l==="all"||v.sheet_type===l,y=u==="all"||v.theme===u;return x&&w&&y});return s.jsx(Ot,{open:!0,onOpenChange:t,children:s.jsxs(Tt,{className:"sm:max-w-[725px]",children:[s.jsxs(Ht,{children:[s.jsx(Wt,{children:"Importer depuis une Fiche Pédagogique"}),s.jsx(Vr,{children:"Sélectionnez une fiche pour remplir automatiquement l'exercice."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mt-4",children:[s.jsxs("div",{className:"relative md:col-span-1",children:[s.jsx(vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),s.jsx(we,{placeholder:"Rechercher une fiche...",className:"pl-10",value:i,onChange:v=>o(v.target.value)})]}),s.jsxs(yt,{value:l,onValueChange:c,children:[s.jsx(ht,{children:s.jsx(xt,{placeholder:"Filtrer par type"})}),s.jsx(ft,{children:Object.entries(ZK).map(([v,x])=>s.jsx(De,{value:v,children:x},v))})]}),s.jsxs(yt,{value:u,onValueChange:h,disabled:f.length<=1,children:[s.jsx(ht,{children:s.jsx(xt,{placeholder:"Filtrer par thème"})}),s.jsx(ft,{children:f.map(v=>s.jsx(De,{value:v,children:v==="all"?"Tous les thèmes":v},v))})]})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto space-y-2 mt-4 pr-2",children:p.map(v=>s.jsxs("div",{className:"p-3 border rounded-md hover:bg-accent cursor-pointer",onClick:()=>e(v),children:[s.jsx("p",{className:"font-semibold",children:v.title}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:v.description||v.game_goal})]},v.id))})]})})},KK=({session:e,onSave:t,onCancel:n,isSaving:r})=>{const[i,o]=m.useState(e||{date:"",start_time:"18:30",instructors:[],students:[],cycle_objective:"",session_objective:"",equipment:"",comment:"",exercises:[]}),[l,c]=m.useState(!1),[u,h]=m.useState(null),f=m.useMemo(()=>WK(HK).filter(A=>A.title==="Loisir lycée").map(A=>`${A.firstName} ${A.lastName}`),[]),p=["David","Magali","Olivier","Clement"],v=P=>{const{name:A,value:T}=P.target;o(I=>({...I,[A]:T}))},x=(P,A)=>{o(T=>({...T,[P]:A}))},w=(P,A)=>{const T=[...i.exercises];T[P]=A,o(I=>({...I,exercises:T}))},y=()=>{o(P=>({...P,exercises:[...P.exercises,{id:`new-${Date.now()}`,operational_objective:"",situation:"",organisation:"",consigne:"",time:"",success_criteria:"",regulation:"",support_link:"",image_url:"",newImageFile:null,pedagogy_sheet_id:null}]}))},S=P=>{const A=i.exercises.filter((T,I)=>I!==P);o(T=>({...T,exercises:A}))},j=(P,A)=>{const T=[...i.exercises],I=P+A;I<0||I>=T.length||([T[P],T[I]]=[T[I],T[P]],o(M=>({...M,exercises:T})))},b=P=>{h(P),c(!0)},C=P=>{const A=[...i.exercises],T=A[u];T.pedagogy_sheet_id=P.id,P.sheet_type==="educational_game"?(T.operational_objective=`Jeu: ${P.title}`,T.situation=P.starting_situation,T.consigne=`But: ${P.game_goal}. Évolution: ${P.evolution}`,T.image_url=P.url,T.support_link=""):(T.operational_objective=P.title,T.situation=P.description,T.consigne="",P.type==="image_file"?(T.image_url=P.url,T.support_link=""):(T.support_link=P.url,T.image_url=P.thumbnail_url||"")),o(I=>({...I,exercises:A})),c(!1),h(null)},N=P=>{P.preventDefault(),t(i)};return s.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[s.jsx(pe,{children:s.jsxs("form",{onSubmit:N,children:[s.jsx(Se,{children:s.jsx(Ee,{children:e?"Modifier la séance":"Ajouter une nouvelle séance"})}),s.jsxs(ge,{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"date",children:"Date du cours"}),s.jsx(we,{id:"date",name:"date",type:"date",value:i.date,onChange:v,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"start_time",children:"Heure de début"}),s.jsx(we,{id:"start_time",name:"start_time",type:"time",value:i.start_time,onChange:v,required:!0})]}),s.jsx(Wj,{title:"Encadrants",options:p,selected:i.instructors,onChange:P=>x("instructors",P)}),s.jsx(Wj,{title:"Élèves présents",options:f,selected:i.students,onChange:P=>x("students",P)})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"cycle_objective",children:"Objectif de cycle"}),s.jsx(Dt,{id:"cycle_objective",name:"cycle_objective",value:i.cycle_objective,onChange:v})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"session_objective",children:"Objectif de séance"}),s.jsx(Dt,{id:"session_objective",name:"session_objective",value:i.session_objective,onChange:v})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"equipment",children:"Matériel"}),s.jsx(Dt,{id:"equipment",name:"equipment",value:i.equipment,onChange:v})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"comment",children:"Commentaire"}),s.jsx(Dt,{id:"comment",name:"comment",value:i.comment,onChange:v})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Déroulé de la séance"}),s.jsx("div",{className:"space-y-4",children:i.exercises.map((P,A)=>s.jsx(GK,{exercise:P,index:A,total:i.exercises.length,onExerciseChange:w,onRemove:S,onMove:j,onImport:()=>b(A)},P.id))}),s.jsxs(ee,{type:"button",variant:"outline",className:"mt-4",onClick:y,children:[s.jsx(Ma,{className:"w-4 h-4 mr-2"})," Ajouter un exercice"]})]})]}),s.jsxs(ws,{className:"flex justify-end gap-2",children:[s.jsx(ee,{type:"button",variant:"ghost",onClick:n,disabled:r,children:"Annuler"}),s.jsx(ee,{type:"submit",disabled:r,children:r?"Sauvegarde...":s.jsxs(s.Fragment,{children:[s.jsx(Ih,{className:"w-4 h-4 mr-2"})," Sauvegarder"]})})]})]})}),l&&s.jsx(qK,{onSelect:C,onCancel:()=>c(!1)})]})},JK=({sessions:e,onEdit:t,onDelete:n,isAdmin:r})=>{const i=Pn(),o=(c,u)=>{let h=new Date(`1970-01-01T${c}:00`);return u.map(f=>{var w,y;const p=parseInt(((y=(w=f.time)==null?void 0:w.match(/\d+/))==null?void 0:y[0])||"0",10),v=new Date(h.getTime()+p*6e4),x=v.toTimeString().substring(0,5);return h=v,{...f,endTime:x}})},l=c=>{c&&i(`/pedagogy#sheet-${c}`)};return s.jsx(v0,{type:"single",collapsible:!0,className:"w-full",children:e.map(c=>{var h,f;const u=o(c.start_time,c.exercises);return s.jsxs(jf,{value:`session-${c.id}`,children:[s.jsx(Cf,{children:s.jsxs("div",{className:"flex justify-between w-full pr-4 items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"font-semibold",children:[new Date(c.date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})," - ",c.start_time]}),c.cycle_objective&&s.jsx(Te,{variant:"secondary",className:"text-xs px-2 py-1",children:c.cycle_objective})]}),s.jsx("span",{className:"text-sm text-muted-foreground truncate max-w-xs",children:c.session_objective})]})}),s.jsxs(Sf,{className:"space-y-4",children:[r&&s.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>t(c),children:[s.jsx(Zr,{className:"w-4 h-4 mr-2"})," Modifier"]}),s.jsxs(ee,{variant:"destructive",size:"sm",onClick:()=>n(c.id),children:[s.jsx(br,{className:"w-4 h-4 mr-2"})," Supprimer"]})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Objectif de cycle:"})," ",c.cycle_objective]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Objectif de séance:"})," ",c.session_objective]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Encadrants:"})," ",(h=c.instructors)==null?void 0:h.join(", ")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Élèves présents:"})," ",(f=c.students)==null?void 0:f.join(", ")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Matériel:"})," ",c.equipment]}),c.comment&&s.jsxs("p",{children:[s.jsx("strong",{children:"Commentaire:"})," ",c.comment]}),s.jsx("h4",{className:"font-semibold mt-4",children:"Déroulé :"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Sn,{children:[s.jsx(En,{children:s.jsxs(qe,{children:[s.jsx(me,{children:"Fin"}),s.jsx(me,{children:"Temps"}),s.jsx(me,{children:"Objectif Op."}),s.jsx(me,{children:"Situation"}),s.jsx(me,{children:"Organisation"}),s.jsx(me,{children:"Consigne"}),s.jsx(me,{children:"Critère réussite"}),s.jsx(me,{children:"Régulation"}),s.jsx(me,{children:"Support"}),s.jsx(me,{children:"Image"})]})}),s.jsx(Nn,{children:u.map(p=>s.jsxs(qe,{children:[s.jsx(xe,{className:"font-mono",children:p.endTime}),s.jsx(xe,{children:p.time}),s.jsxs(xe,{className:"relative",children:[p.pedagogy_sheet_id&&s.jsx(ee,{variant:"ghost",size:"icon",className:"absolute -left-8 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>l(p.pedagogy_sheet_id),title:"Voir la fiche pédagogique",children:s.jsx(qE,{className:"w-4 h-4 text-primary"})}),p.operational_objective]}),s.jsx(xe,{children:p.situation}),s.jsx(xe,{children:p.organisation}),s.jsx(xe,{children:p.consigne}),s.jsx(xe,{children:p.success_criteria}),s.jsx(xe,{children:p.regulation}),s.jsx(xe,{children:p.support_link&&s.jsx("a",{href:p.support_link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:s.jsx(xa,{className:"w-4 h-4"})})}),s.jsx(xe,{children:p.image_url&&s.jsx("a",{href:p.image_url,target:"_blank",rel:"noopener noreferrer",children:s.jsx("img",{src:p.image_url,className:"h-16 w-16 object-cover rounded-md",alt:`Image pour ${p.situation||"exercice"}`})})})]},p.id))})]})})]})]},c.id)})})},Gj="exercise_images",YK=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,o]=m.useState(!1),[l,c]=m.useState(null),[u,h]=m.useState(""),[f,p]=m.useState(!1),{toast:v}=et(),{user:x,isAdmin:w,isAdherent:y,loading:S}=tn(),j=!S&&(w||y),b=!S&&w,C=m.useCallback(async()=>{if(!j){r(!1);return}r(!0);const{data:M,error:U}=await te.from("sessions").select("*, exercises (*)").order("date",{ascending:!1}).order("start_time",{ascending:!1}).order("order",{foreignTable:"exercises",ascending:!0});U?v({title:"Erreur",description:"Impossible de charger les séances.",variant:"destructive"}):t(M.map(G=>({...G,start_time:G.start_time?G.start_time.substring(0,5):"18:30"}))),r(!1)},[v,j]);m.useEffect(()=>{C()},[C]);const N=async M=>{const U=M.name.split(".").pop(),z=`${`${Math.random()}.${U}`}`;let{error:J}=await te.storage.from(Gj).upload(z,M);if(J)throw J;const{data:$}=te.storage.from(Gj).getPublicUrl(z);return $.publicUrl},P=async M=>{if(b){p(!0);try{const{id:U,exercises:G,...z}=M,J=await Promise.all(G.map(async $=>{let k=$.image_url;$.newImageFile&&(k=await N($.newImageFile));const{newImageFile:O,...F}=$;return{...F,image_url:k}}));if(l){const{data:$,error:k}=await te.from("sessions").update(z).eq("id",l.id).select().single();if(k)throw k;await te.from("exercises").delete().eq("session_id",$.id);const O=J.map((F,D)=>{const{id:H,...W}=F;return{...W,session_id:$.id,order:D}});if(O.length>0){const{error:F}=await te.from("exercises").insert(O);if(F)throw F}}else{const{data:$,error:k}=await te.from("sessions").insert(z).select().single();if(k)throw k;const O=J.map((F,D)=>{const{id:H,...W}=F;return{...W,session_id:$.id,order:D}});if(O.length>0){const{error:F}=await te.from("exercises").insert(O);if(F)throw F}}v({title:"Séance sauvegardée !",description:"La séance a été enregistrée avec succès."}),o(!1),c(null),C()}catch(U){v({title:"Erreur de sauvegarde",description:U.message,variant:"destructive"})}finally{p(!1)}}},A=M=>{b&&(c(M),o(!0))},T=async M=>{if(b)try{await te.from("exercises").delete().eq("session_id",M);const{error:U}=await te.from("sessions").delete().eq("id",M);if(U)throw U;v({title:"Séance supprimée",description:"La séance a été supprimée avec succès.",variant:"destructive"}),C()}catch(U){v({title:"Erreur de suppression",description:U.message,variant:"destructive"})}},I=m.useMemo(()=>e.filter(M=>{if(!u)return!0;const U=u.toLowerCase();return[M.cycle_objective,M.session_objective,M.comment,...M.instructors||[],...M.students||[],...M.exercises.map(z=>Object.values(z).join(" "))].join(" ").toLowerCase().includes(U)}),[e,u]);return S?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):j?s.jsxs("div",{className:"space-y-8",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Séances d'entraînement - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Consultez et gérez les séances d'escalade du club."})]}),s.jsx(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(Gd,{className:"w-10 h-10 text-primary"}),"Séances d'entraînement"]}),b&&!i&&s.jsxs(ee,{onClick:()=>{o(!0),c(null)},children:[s.jsx(Ma,{className:"w-4 h-4 mr-2"})," Créer une séance"]})]})}),s.jsx(Lt,{children:i&&b&&s.jsx(KK,{session:l,onSave:P,onCancel:()=>{o(!1),c(null)},isSaving:f},l?l.id:"new")}),s.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:s.jsxs(pe,{children:[s.jsxs(Se,{children:[s.jsx(Ee,{children:"Historique des séances"}),s.jsxs("div",{className:"relative mt-4",children:[s.jsx(vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),s.jsx(we,{placeholder:"Rechercher par objectif, encadrant, élève...",className:"pl-10",value:u,onChange:M=>h(M.target.value)})]})]}),s.jsxs(ge,{children:[n?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx($e,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx(JK,{sessions:I,onEdit:A,onDelete:T,isAdmin:b}),!n&&I.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:'Aucune séance trouvée. Cliquez sur "Créer une séance" pour commencer !'})]})]})})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx(m3,{className:"w-12 h-12 mx-auto text-muted-foreground"}),s.jsx("h1",{className:"text-2xl font-bold mt-4",children:"Accès restreint"}),s.jsx("p",{className:"text-muted-foreground",children:"Vous devez être un adhérent ou un administrateur pour voir cette page."}),!x&&s.jsx("p",{className:"mt-4",children:"Veuillez vous connecter."})]})},Np="pedagogy_files",XK=["Sécurité","Noeud","Secours","Manip","Information"],KR={educational_game:"Jeu éducatif",warm_up_exercise:"Exercice d'échauffement",strength_exercise:"Exercice de renfo",review_sheet:"Fiche de révision",technical_sheet:"Fiche technique",safety_sheet:"Fiche sécurité",meeting_report:"Compte rendu de réunion"},Zj={educational_game:{icon:My,label:"Jeux Éducatifs",description:"Jeux et activités ludiques pour l'apprentissage"},review_sheet:{icon:er,label:"Fiches de Révision",description:"Supports de révision et mémo techniques"},strength_exercise:{icon:Ry,label:"Exercices de Renfo",description:"Exercices de renforcement musculaire"},warm_up_exercise:{icon:Oh,label:"Exercices d'Échauffement",description:"Préparation physique et mentale"},technical_sheet:{icon:Oy,label:"Fiches Techniques",description:"Techniques et méthodes d'escalade"},safety_sheet:{icon:QE,label:"Fiches Sécurité",description:"Procédures et consignes de sécurité"},meeting_report:{icon:er,label:"Comptes Rendus",description:"Comptes rendus de réunions et assemblées"}},QK=({sheet:e,onSave:t,onCancel:n,isSaving:r,existingThemes:i})=>{const[o,l]=m.useState(e||{title:"",description:"",type:"video_url",url:"",structure:"SAE",categories:[],sheet_type:"warm_up_exercise"}),[c,u]=m.useState(null);m.useEffect(()=>{e&&l({...e,categories:e.categories||[],sheet_type:e.sheet_type||"warm_up_exercise"})},[e]);const h=C=>{const{name:N,value:P}=C.target;l(A=>({...A,[N]:P}))},f=C=>{l(N=>({...N,type:C,url:""})),u(null)},p=C=>{l(N=>({...N,structure:C}))},v=C=>{l(N=>({...N,sheet_type:C}))},x=C=>{l(N=>{const P=N.categories||[],A=P.includes(C)?P.filter(T=>T!==C):[...P,C];return{...N,categories:A}})},w=C=>{C.target.files&&C.target.files[0]&&u(C.target.files[0])},y=C=>{C.preventDefault(),t(o,c)},S=o.type==="video_url"||o.type==="document_url",j=o.type==="image_file"||o.type==="document_file",b=o.sheet_type==="educational_game";return s.jsx(Ot,{open:!0,onOpenChange:n,children:s.jsx(Tt,{className:"sm:max-w-3xl",children:s.jsxs("form",{onSubmit:y,children:[s.jsxs(Ht,{children:[s.jsx(Wt,{children:e?"Modifier la fiche":"Ajouter une fiche pédagogique"}),s.jsx(Vr,{children:"Remplissez les informations ci-dessous."})]}),s.jsxs("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto pr-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"title",children:"Titre"}),s.jsx(we,{id:"title",name:"title",value:o.title,onChange:h,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"sheet_type",children:"Type de Fiche"}),s.jsxs(yt,{value:o.sheet_type,onValueChange:v,children:[s.jsx(ht,{id:"sheet_type",children:s.jsx(xt,{placeholder:"Sélectionner un type de fiche"})}),s.jsx(ft,{children:Object.entries(KR).map(([C,N])=>s.jsx(De,{value:C,children:N},C))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"type",children:"Type de Média"}),s.jsxs(yt,{value:o.type,onValueChange:f,children:[s.jsx(ht,{id:"type",children:s.jsx(xt,{placeholder:"Sélectionner un type"})}),s.jsxs(ft,{children:[s.jsx(De,{value:"video_url",children:"Vidéo (URL)"}),s.jsx(De,{value:"image_file",children:"Image (Fichier)"}),s.jsx(De,{value:"document_file",children:"Document (Fichier)"}),s.jsx(De,{value:"document_url",children:"Document (URL)"})]})]})]}),b?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"theme",children:"Thème"}),s.jsx(we,{id:"theme",name:"theme",value:o.theme||"",onChange:h,list:"existing-themes",placeholder:"Choisir ou créer un thème"}),s.jsx("datalist",{id:"existing-themes",children:i.map(C=>s.jsx("option",{value:C},C))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"starting_situation",children:"Situation de départ"}),s.jsx(Dt,{id:"starting_situation",name:"starting_situation",value:o.starting_situation||"",onChange:h})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"game_goal",children:"But du jeu"}),s.jsx(Dt,{id:"game_goal",name:"game_goal",value:o.game_goal||"",onChange:h})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"evolution",children:"Évolution"}),s.jsx(Dt,{id:"evolution",name:"evolution",value:o.evolution||"",onChange:h})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"skill_to_develop",children:"Capacité à développer"}),s.jsx(Dt,{id:"skill_to_develop",name:"skill_to_develop",value:o.skill_to_develop||"",onChange:h})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"success_criteria",children:"Critères de réussite"}),s.jsx(Dt,{id:"success_criteria",name:"success_criteria",value:o.success_criteria||"",onChange:h})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"remarks",children:"Remarques"}),s.jsx(Dt,{id:"remarks",name:"remarks",value:o.remarks||"",onChange:h})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"description",children:"Description"}),s.jsx(Dt,{id:"description",name:"description",value:o.description||"",onChange:h})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"structure",children:"Structure"}),s.jsxs(yt,{value:o.structure||"SAE",onValueChange:p,children:[s.jsx(ht,{id:"structure",children:s.jsx(xt,{placeholder:"Sélectionner une structure"})}),s.jsxs(ft,{children:[s.jsx(De,{value:"SAE",children:"SAE"}),s.jsx(De,{value:"SNE",children:"SNE"})]})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{children:"Catégories"}),s.jsx("div",{className:"flex flex-wrap gap-4",children:XK.map(C=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($r,{id:`category-${C}`,checked:(o.categories||[]).includes(C),onCheckedChange:()=>x(C)}),s.jsx(le,{htmlFor:`category-${C}`,className:"font-normal",children:C})]},C))})]})]}),S?s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"url",children:"URL du média"}),s.jsx(we,{id:"url",name:"url",value:o.url,onChange:h,placeholder:"https://example.com/...",required:!0})]}):j?s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"file-upload",children:"Fichier"}),s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs(le,{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-muted/50 hover:bg-muted/80",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(sN,{className:"w-10 h-10 mb-3 text-muted-foreground"}),s.jsxs("p",{className:"mb-2 text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-semibold",children:"Cliquez pour téléverser"})," ou glissez-déposez"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c?c.name:"Image, PDF, PPT..."})]}),s.jsx(we,{id:"file-upload",type:"file",className:"hidden",onChange:w})]})}),e&&!c&&e.url&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Fichier actuel : ",e.url.split("/").pop()]})]}):null]}),s.jsxs(or,{className:"pt-4",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:n,disabled:r,children:"Annuler"}),s.jsxs(ee,{type:"submit",disabled:r,children:[r&&s.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}),"Enregistrer"]})]})]})})})},eJ=({sheet:e,onEdit:t,onDelete:n,isAdmin:r})=>s.jsx(de.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsxs(pe,{className:"h-full flex flex-col group relative",children:[s.jsx(Se,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(Ee,{className:"text-lg leading-tight flex items-center gap-2",children:[s.jsx(QE,{className:"w-5 h-5 text-purple-500"}),e.title]}),s.jsx(Wr,{className:"mt-1",children:s.jsx(Te,{variant:"game",children:e.theme||"Jeu Éducatif"})})]}),r&&s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(ee,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>t(e),children:s.jsx(Zr,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>n(e),children:s.jsx(br,{className:"h-4 w-4 text-destructive"})})]})]})}),s.jsxs(ge,{className:"flex-grow grid md:grid-cols-2 gap-6",children:[e.url&&s.jsx("div",{className:"w-full h-48 bg-muted rounded-md overflow-hidden",children:s.jsx("img",{src:e.url,alt:e.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:`space-y-4 ${e.url?"":"md:col-span-2"}`,children:[e.starting_situation&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Situation de départ"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.starting_situation})]}),e.game_goal&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"But du jeu"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.game_goal})]}),e.evolution&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Évolution"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.evolution})]}),e.skill_to_develop&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Capacité à développer"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.skill_to_develop})]}),e.success_criteria&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Critères de réussite"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.success_criteria})]}),e.remarks&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Remarques"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.remarks})]})]})]})]})}),qj=({sheet:e,onEdit:t,onDelete:n,isAdmin:r})=>{const i=()=>{switch(e.type){case"video_url":return s.jsx(oN,{className:"w-8 h-8 text-red-500"});case"image_file":return s.jsx(Ac,{className:"w-8 h-8 text-blue-500"});case"document_file":case"document_url":return s.jsx(er,{className:"w-8 h-8 text-green-500"});default:return s.jsx(xa,{className:"w-8 h-8 text-gray-500"})}},o=()=>{var c;if(e.thumbnail_url)return e.thumbnail_url;if(e.type==="image_file")return e.url;if(e.type==="video_url"){const u=((c=e.url.split("v=")[1])==null?void 0:c.split("&")[0])||e.url.split("/").pop();if(e.url.includes("youtube.com")||e.url.includes("youtu.be"))return`https://img.youtube.com/vi/${u}/mqdefault.jpg`}return null},l=()=>{switch(e.sheet_type){case"educational_game":return s.jsx(My,{className:"w-4 h-4"});case"warm_up_exercise":return s.jsx(Ry,{className:"w-4 h-4"});case"strength_exercise":return s.jsx(Oh,{className:"w-4 h-4"});case"review_sheet":return s.jsx(Oy,{className:"w-4 h-4"});case"meeting_report":return s.jsx(er,{className:"w-4 h-4"});default:return null}};return e.sheet_type==="educational_game"?s.jsx(eJ,{sheet:e,onEdit:t,onDelete:n,isAdmin:r}):s.jsx(de.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsxs(pe,{className:"h-full flex flex-col group relative",children:[s.jsxs(Se,{className:"flex-row items-start gap-4",children:[o()?s.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:s.jsx("img",{src:o(),alt:e.title,className:"w-32 h-20 object-cover rounded-md"})}):s.jsx("div",{className:"w-32 h-20 flex items-center justify-center bg-muted rounded-md",children:i()}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ee,{className:"text-lg leading-tight",children:e.title}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.sheet_type&&s.jsxs(Te,{variant:"outline",className:"flex items-center gap-1",children:[l()," ",KR[e.sheet_type]]}),e.structure&&s.jsx(Te,{variant:"secondary",children:e.structure}),(e.categories||[]).map(c=>s.jsx(Te,{children:c},c))]})]}),r&&s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(ee,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>t(e),children:s.jsx(Zr,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>n(e),children:s.jsx(br,{className:"h-4 w-4 text-destructive"})})]})]}),s.jsx(ge,{className:"flex-grow",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})}),s.jsx(ws,{children:s.jsx(ee,{asChild:!0,variant:"link",className:"p-0 h-auto",children:s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:["Ouvrir le média ",s.jsx(xa,{className:"ml-2 h-4 w-4"})]})})})]})})},tJ=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),{isAdmin:i}=tn(),{toast:o}=et(),[l,c]=m.useState(!1),[u,h]=m.useState(null),[f,p]=m.useState(!1),v=Pn(),x=m.useCallback(async()=>{r(!0);const{data:C,error:N}=await te.from("pedagogy_sheets").select("*").order("created_at",{ascending:!1});N?o({title:"Erreur",description:"Impossible de charger les fiches pédagogiques.",variant:"destructive"}):t(C),r(!1)},[o]);m.useEffect(()=>{x()},[x]);const w=async(C,N)=>{p(!0);let P={...C};try{if(N&&(P.type==="image_file"||P.type==="document_file")){const A=N.name.split(".").pop(),T=`${Date.now()}.${A}`,{error:I}=await te.storage.from(Np).upload(T,N,{upsert:!0});if(I)if(I.message.includes("Bucket not found")){o({title:"Erreur de configuration",description:"Le bucket de stockage n'a pas été trouvé. Tentative de réparation...",variant:"destructive"}),v("/setup");return}else throw I;const{data:M}=te.storage.from(Np).getPublicUrl(T);P.url=M.publicUrl}if(u){const{error:A}=await te.from("pedagogy_sheets").update(P).eq("id",u.id);if(A)throw A;o({title:"Fiche modifiée",description:"La fiche a été mise à jour."})}else{const{error:A}=await te.from("pedagogy_sheets").insert(P);if(A)throw A;o({title:"Fiche ajoutée",description:"La nouvelle fiche a été enregistrée."})}c(!1),h(null),x()}catch(A){o({title:"Erreur d'enregistrement",description:A.message,variant:"destructive"})}finally{p(!1)}},y=C=>{h(C),c(!0)},S=async C=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer la fiche "${C.title}" ?`))try{if((C.type==="image_file"||C.type==="document_file")&&C.url){const P=C.url.split("/").pop();await te.storage.from(Np).remove([P])}const{error:N}=await te.from("pedagogy_sheets").delete().eq("id",C.id);if(N)throw N;o({title:"Fiche supprimée",variant:"destructive"}),x()}catch(N){o({title:"Erreur de suppression",description:N.message,variant:"destructive"})}},{sheetsByType:j,existingThemes:b}=m.useMemo(()=>{const C=e.reduce((P,A)=>{const T=A.sheet_type||"other";return P[T]||(P[T]=[]),P[T].push(A),P},{});if(C.educational_game){const P=C.educational_game.reduce((A,T)=>{const I=T.theme||"Sans thème";return A[I]||(A[I]=[]),A[I].push(T),A},{});C.educational_game=P}const N=[...new Set(e.filter(P=>P.sheet_type==="educational_game").map(P=>P.theme).filter(Boolean))];return{sheetsByType:C,existingThemes:N}},[e]);return s.jsxs("div",{className:"space-y-8",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Fiches Pédagogiques - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Ressources et supports d'apprentissage pour l'escalade."})]}),s.jsx(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(BE,{className:"w-10 h-10 text-primary"}),"Fiches Pédagogiques"]}),i&&s.jsxs(ee,{onClick:()=>{h(null),c(!0)},children:[s.jsx(Ma,{className:"w-4 h-4 mr-2"})," Ajouter une fiche"]})]})}),n?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):e.length===0?s.jsxs("div",{className:"text-center py-16 bg-muted/30 rounded-lg",children:[s.jsx("p",{className:"text-lg font-semibold",children:"Aucune fiche pédagogique pour le moment."}),s.jsx("p",{className:"text-muted-foreground mt-2",children:'Cliquez sur "Ajouter une fiche" pour commencer à créer votre bibliothèque.'})]}):s.jsxs(uh,{defaultValue:"educational_game",className:"w-full",children:[s.jsx(_c,{className:"grid grid-cols-3 lg:grid-cols-6 w-full h-auto p-1",children:Object.entries(Zj).map(([C,N])=>{const P=C==="educational_game"?Object.values(j[C]||{}).flat().length:(j[C]||[]).length;if(P===0)return null;const A=N.icon;return s.jsxs(Ir,{value:C,className:"flex flex-col items-center gap-1 h-auto py-3 px-2 text-center min-h-[4rem]",children:[s.jsx(A,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"text-xs leading-tight",children:N.label}),s.jsx(Te,{variant:"secondary",className:"text-xs",children:P})]},C)})}),Object.entries(Zj).map(([C,N])=>{const P=j[C];if(!P||Array.isArray(P)&&P.length===0||!Array.isArray(P)&&Object.keys(P).length===0)return null;const A=N.icon;return s.jsx(Dr,{value:C,className:"mt-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(A,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:N.label}),s.jsx("p",{className:"text-muted-foreground",children:N.description})]})]}),C==="educational_game"?s.jsxs(uh,{defaultValue:Object.keys(P)[0],className:"w-full",children:[s.jsx(_c,{className:"w-full justify-start flex-wrap h-auto gap-2 p-2",children:Object.entries(P).map(([T,I])=>s.jsxs(Ir,{value:T,className:"flex items-center gap-2",children:[s.jsx("span",{children:T}),s.jsx(Te,{variant:"outline",className:"text-xs",children:I.length})]},T))}),Object.entries(P).map(([T,I])=>s.jsx(Dr,{value:T,className:"mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold border-b pb-2",children:T}),s.jsx(Lt,{children:s.jsx(de.div,{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(M=>s.jsx(qj,{sheet:M,onEdit:y,onDelete:S,isAdmin:i},M.id))})})]})},T))]}):s.jsx(Lt,{children:s.jsx(de.div,{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(T=>s.jsx(qj,{sheet:T,onEdit:y,onDelete:S,isAdmin:i},T.id))})})]})},C)})]}),s.jsx(Lt,{children:l&&i&&s.jsx(QK,{sheet:u,onSave:w,onCancel:()=>{c(!1),h(null)},isSaving:f,existingThemes:b})})]})},nJ=({member:e,onEdit:t,onDelete:n,isAdmin:r})=>{const{showMemberDetails:i}=wr();return s.jsx(pe,{className:"overflow-hidden transition-all hover:shadow-md",children:s.jsxs(ge,{className:"p-4 flex flex-col items-start relative",children:[r&&s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[s.jsx(ee,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:o=>{o.stopPropagation(),t(e)},children:s.jsx(Zr,{className:"h-4 w-4"})}),s.jsx(ee,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:o=>{o.stopPropagation(),n(e)},children:s.jsx(br,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center cursor-pointer w-full",onClick:()=>i(e.id),children:[s.jsx("p",{className:"font-semibold truncate flex-grow",title:fs(e.first_name,e.last_name,!0),children:fs(e.first_name,e.last_name,r)}),s.jsxs("div",{className:"flex-shrink-0 flex items-center ml-2",children:[s.jsx(b0,{profile:e.profiles}),e.is_emergency_contact_for_others&&s.jsx(Mh,{className:"h-4 w-4 ml-1 text-red-500",title:"Contact d'urgence pour un autre membre"}),!e.emergency_contact_1_id&&!e.emergency_contact_2_id&&s.jsx(Py,{className:"h-4 w-4 ml-1 text-yellow-500",title:"Aucun contact d'urgence défini"})]})]}),r&&e.phone&&s.jsx("p",{className:"text-sm text-muted-foreground",children:e.phone})]})})},Kj=({members:e,onEdit:t,onDelete:n,isAdmin:r})=>s.jsx(de.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.05}}},children:e.map(i=>s.jsx(de.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},children:s.jsx(nJ,{member:i,onEdit:t,onDelete:n,isAdmin:r})},i.id))}),rJ=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,o]=m.useState(null),[l,c]=m.useState(!1),{isAdmin:u,loading:h}=tn(),{toast:f}=et(),{editingMember:p,isFormVisible:v,openEditFormForMember:x,closeEditForm:w}=wr(),[y,S]=m.useState({hasPhone:!1,hasLicense:!1,hasEmergencyContact:!1,noEmergencyContact:!1}),j=z=>{S(J=>({...J,[z]:!J[z]}))},b=m.useMemo(()=>e.filter(z=>{const J=!y.hasPhone||z.phone&&z.phone.trim()!=="",$=!y.hasLicense||z.licence&&z.licence.trim()!=="",k=!y.hasEmergencyContact||z.emergency_contact_1_id||z.emergency_contact_2_id,O=!y.noEmergencyContact||!z.emergency_contact_1_id&&!z.emergency_contact_2_id;return J&&$&&k&&O}),[e,y]),C=m.useCallback(async()=>{r(!0);const{data:z,error:J}=await te.from("members").select("*, profiles(role)").order("last_name").order("first_name");if(J){f({title:"Erreur",description:"Impossible de charger les membres.",variant:"destructive"}),r(!1);return}const{data:$,error:k}=await te.from("members").select("emergency_contact_1_id, emergency_contact_2_id").or("emergency_contact_1_id.not.is.null,emergency_contact_2_id.not.is.null");k&&f({title:"Erreur",description:"Impossible de charger les infos de contact d'urgence.",variant:"destructive"});const O=new Set;$&&$.forEach(D=>{D.emergency_contact_1_id&&O.add(D.emergency_contact_1_id),D.emergency_contact_2_id&&O.add(D.emergency_contact_2_id)});const F=z.map(D=>({...D,profiles:Array.isArray(D.profiles)?D.profiles[0]:D.profiles,is_emergency_contact_for_others:O.has(D.id)}));t(F),r(!1)},[f]);m.useEffect(()=>{C()},[C]);const N=async z=>{const J=z.name.split(".").pop(),$=`members_photos/${Date.now()}.${J}`;let{error:k}=await te.storage.from("member_photos").upload($,z,{upsert:!0});if(k)throw k;const{data:O}=te.storage.from("member_photos").getPublicUrl($);return O.publicUrl},P=async(z,J)=>{c(!0);try{let $=z.photo_url;J?$=await N(J):z.photo_url===null&&($=null);const{profiles:k,dynamic_roles:O,member_roles:F,is_emergency_contact_for_others:D,isEmergencyContactFor:H,emergency_contact_1:W,emergency_contact_2:Q,...B}={...z,photo_url:$};B.passeport===""&&(B.passeport=null),B.sexe===""&&(B.sexe=null);let q;if(p)({error:q}=await te.from("members").update(B).eq("id",p.id));else{const{id:Z,...X}=B;({error:q}=await te.from("members").insert(X))}if(q)throw q;f({title:"Succès",description:`Membre ${p?"mis à jour":"ajouté"} avec succès.`}),w(),C()}catch($){f({title:"Erreur",description:$.message,variant:"destructive"})}finally{c(!1)}},A=async()=>{if(i)try{const{error:z}=await te.from("members").delete().eq("id",i.id);if(z)throw z;f({title:"Succès",description:"Membre supprimé.",variant:"destructive"}),o(null),C()}catch(z){f({title:"Erreur",description:z.message,variant:"destructive"})}},T=m.useMemo(()=>{const z=b.reduce(($,k)=>{const O=k.title||"Autre";return $[O]||($[O]=[]),$[O].push(k),$},{}),J=["Loisir enfants","Loisir collége","Loisir lycée","Loisir adulte","Adultes débutants","Adultes autonomes","Compétition U11-U15","Compétition U15-U19","Bénévole","Bureau","emergency_contact","Autre"];return Object.entries(z).sort(([$],[k])=>{const O=J.indexOf($),F=J.indexOf(k);return O===-1&&F===-1?$.localeCompare(k):O===-1?1:F===-1?-1:O-F})},[b]),I=m.useMemo(()=>T.map(([z,J])=>({title:z==="emergency_contact"?"Contact d'urgence":z,count:J.length})).filter(z=>z.count>0),[T]),M=!h&&u,U=z=>{x(z)},G=z=>{o(z)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Adhérents - Club d'Escalade"}),s.jsx("meta",{name:"description",content:"Liste des adhérents du club d'escalade."})]}),s.jsx(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx($n,{className:"w-10 h-10 text-primary"}),"Liste des Adhérents"]}),M&&s.jsx("div",{className:"flex gap-2",children:s.jsxs(ee,{onClick:()=>x(null),children:[s.jsx(Ma,{className:"w-4 h-4 mr-2"})," Ajouter un membre"]})})]})}),s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(GE,{className:"w-5 h-5"})," Filtres"]})}),s.jsxs(ge,{className:"flex flex-wrap gap-4 items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($r,{id:"hasPhone",checked:y.hasPhone,onCheckedChange:()=>j("hasPhone")}),s.jsx(le,{htmlFor:"hasPhone",children:"N° de téléphone"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($r,{id:"hasLicense",checked:y.hasLicense,onCheckedChange:()=>j("hasLicense")}),s.jsx(le,{htmlFor:"hasLicense",children:"N° de licence"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($r,{id:"hasEmergencyContact",checked:y.hasEmergencyContact,onCheckedChange:()=>j("hasEmergencyContact")}),s.jsx(le,{htmlFor:"hasEmergencyContact",children:"Contact d'urgence"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($r,{id:"noEmergencyContact",checked:y.noEmergencyContact,onCheckedChange:()=>j("noEmergencyContact")}),s.jsx(le,{htmlFor:"noEmergencyContact",children:"Sans contact d'urgence"})]})]})]}),s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsx(Ee,{children:"Résumé des adhérents"})}),s.jsx(ge,{className:"flex flex-wrap gap-4",children:I.map(z=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-secondary rounded-md",children:[s.jsxs("span",{className:"font-semibold",children:[z.title,":"]}),s.jsx("span",{className:"font-bold text-primary",children:z.count})]},z.title))})]}),s.jsxs("main",{children:[n?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsx(v0,{type:"multiple",className:"w-full space-y-4",children:T.map(([z,J])=>{const $=["Loisir enfants","Loisir collége"].includes(z)?Object.entries(J.reduce((O,F)=>{const D=F.sub_group||"Non spécifié";return O[D]||(O[D]=[]),O[D].push(F),O},{})):null,k=z==="emergency_contact"?"Contact d'urgence":z;return s.jsxs(jf,{value:z,className:"border rounded-lg overflow-hidden",children:[s.jsx(Cf,{className:"px-6 py-4 bg-secondary/50 hover:bg-secondary/70",children:s.jsxs("h2",{className:"text-xl font-bold headline",children:[k," (",J.length,")"]})}),s.jsx(Sf,{className:"p-6",children:$?s.jsx("div",{className:"space-y-6",children:$.map(([O,F])=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:O}),s.jsx(Kj,{members:F,onEdit:U,onDelete:G,isAdmin:M})]},O))}):s.jsx(Kj,{members:J,onEdit:U,onDelete:G,isAdmin:M})})]},z)})}),!n&&b.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-16",children:"Aucun membre ne correspond aux filtres sélectionnés."})]}),s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(ya,{className:"w-5 h-5"})," Légende des icônes"]})}),s.jsxs(ge,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dh,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),s.jsx("span",{children:"Profil Administrateur"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ui,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}),s.jsx("span",{children:"Profil Adhérent"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mh,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),s.jsx("span",{children:"Est le contact d'urgence pour un autre membre"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Py,{className:"h-5 w-5 text-yellow-500 flex-shrink-0"}),s.jsx("span",{children:"N'a pas de contact d'urgence défini"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zr,{className:"h-5 w-5 flex-shrink-0"}),s.jsx("span",{children:"Modifier le membre (Admin)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(br,{className:"h-5 w-5 text-destructive flex-shrink-0"}),s.jsx("span",{children:"Supprimer le membre (Admin)"})]})]})]}),s.jsx(Lt,{children:v&&M&&s.jsx(Rf,{member:p,onSave:P,onCancel:w,isSaving:l})}),s.jsx(Ot,{open:!!i,onOpenChange:()=>o(null),children:s.jsxs(Tt,{children:[s.jsxs(Ht,{children:[s.jsx(Wt,{children:"Confirmer la suppression"}),s.jsxs(Vr,{children:["Êtes-vous sûr de vouloir supprimer ",i==null?void 0:i.first_name," ",i==null?void 0:i.last_name," ? Cette action est irréversible."]})]}),s.jsxs(or,{children:[s.jsx(ee,{variant:"outline",onClick:()=>o(null),children:"Annuler"}),s.jsx(ee,{variant:"destructive",onClick:A,children:"Supprimer"})]})]})})]})};function JR(e,t){const n=m.useRef(t);m.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const iJ=1;function sJ(e){return Object.freeze({__version:iJ,map:e})}function oJ(e,t){return Object.freeze({...e,...t})}const YR=m.createContext(null),XR=YR.Provider;function QR(){const e=m.useContext(YR);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function aJ(e){function t(n,r){const{instance:i,context:o}=e(n).current;return m.useImperativeHandle(r,()=>i),n.children==null?null:se.createElement(XR,{value:o},n.children)}return m.forwardRef(t)}function lJ(e){function t(n,r){const[i,o]=m.useState(!1),{instance:l}=e(n,o).current;m.useImperativeHandle(r,()=>l),m.useEffect(function(){i&&l.update()},[l,i,n.children]);const c=l._contentNode;return c?Gr.createPortal(n.children,c):null}return m.forwardRef(t)}function cJ(e){function t(n,r){const{instance:i}=e(n).current;return m.useImperativeHandle(r,()=>i),null}return m.forwardRef(t)}function eL(e,t){const n=m.useRef();m.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function T0(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function uJ(e,t){return function(r,i){const o=QR(),l=e(T0(r,o),o);return JR(o.map,r.attribution),eL(l.current,r.eventHandlers),t(l.current,o,r,i),l}}var Av={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(zt,function(n){var r="1.9.4";function i(a){var d,g,_,E;for(g=1,_=arguments.length;g<_;g++){E=arguments[g];for(d in E)a[d]=E[d]}return a}var o=Object.create||function(){function a(){}return function(d){return a.prototype=d,new a}}();function l(a,d){var g=Array.prototype.slice;if(a.bind)return a.bind.apply(a,g.call(arguments,1));var _=g.call(arguments,2);return function(){return a.apply(d,_.length?_.concat(g.call(arguments)):arguments)}}var c=0;function u(a){return"_leaflet_id"in a||(a._leaflet_id=++c),a._leaflet_id}function h(a,d,g){var _,E,R,V;return V=function(){_=!1,E&&(R.apply(g,E),E=!1)},R=function(){_?E=arguments:(a.apply(g,arguments),setTimeout(V,d),_=!0)},R}function f(a,d,g){var _=d[1],E=d[0],R=_-E;return a===_&&g?a:((a-E)%R+R)%R+E}function p(){return!1}function v(a,d){if(d===!1)return a;var g=Math.pow(10,d===void 0?6:d);return Math.round(a*g)/g}function x(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function w(a){return x(a).split(/\s+/)}function y(a,d){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?o(a.options):{});for(var g in d)a.options[g]=d[g];return a.options}function S(a,d,g){var _=[];for(var E in a)_.push(encodeURIComponent(g?E.toUpperCase():E)+"="+encodeURIComponent(a[E]));return(!d||d.indexOf("?")===-1?"?":"&")+_.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function b(a,d){return a.replace(j,function(g,_){var E=d[_];if(E===void 0)throw new Error("No value provided for variable "+g);return typeof E=="function"&&(E=E(d)),E})}var C=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function N(a,d){for(var g=0;g<a.length;g++)if(a[g]===d)return g;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var T=0;function I(a){var d=+new Date,g=Math.max(0,16-(d-T));return T=d+g,window.setTimeout(a,g)}var M=window.requestAnimationFrame||A("RequestAnimationFrame")||I,U=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function G(a,d,g){if(g&&M===I)a.call(d);else return M.call(window,l(a,d))}function z(a){a&&U.call(window,a)}var J={__proto__:null,extend:i,create:o,bind:l,get lastId(){return c},stamp:u,throttle:h,wrapNum:f,falseFn:p,formatNum:v,trim:x,splitWords:w,setOptions:y,getParamString:S,template:b,isArray:C,indexOf:N,emptyImageUrl:P,requestFn:M,cancelFn:U,requestAnimFrame:G,cancelAnimFrame:z};function $(){}$.extend=function(a){var d=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=d.__super__=this.prototype,_=o(g);_.constructor=d,d.prototype=_;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(d[E]=this[E]);return a.statics&&i(d,a.statics),a.includes&&(k(a.includes),i.apply(null,[_].concat(a.includes))),i(_,a),delete _.statics,delete _.includes,_.options&&(_.options=g.options?o(g.options):{},i(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,V=_._initHooks.length;R<V;R++)_._initHooks[R].call(this)}},d},$.include=function(a){var d=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=d,this.mergeOptions(a.options)),this},$.mergeOptions=function(a){return i(this.prototype.options,a),this},$.addInitHook=function(a){var d=Array.prototype.slice.call(arguments,1),g=typeof a=="function"?a:function(){this[a].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function k(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=C(a)?a:[a];for(var d=0;d<a.length;d++)a[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var O={on:function(a,d,g){if(typeof a=="object")for(var _ in a)this._on(_,a[_],d);else{a=w(a);for(var E=0,R=a.length;E<R;E++)this._on(a[E],d,g)}return this},off:function(a,d,g){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],d);else{a=w(a);for(var E=arguments.length===1,R=0,V=a.length;R<V;R++)E?this._off(a[R]):this._off(a[R],d,g)}return this},_on:function(a,d,g,_){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(a,d,g)===!1){g===this&&(g=void 0);var E={fn:d,ctx:g};_&&(E.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(E)}},_off:function(a,d,g){var _,E,R;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(E=0,R=_.length;E<R;E++)_[E].fn=p;delete this._events[a];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var V=this._listens(a,d,g);if(V!==!1){var K=_[V];this._firingCount&&(K.fn=p,this._events[a]=_=_.slice()),_.splice(V,1)}}},fire:function(a,d,g){if(!this.listens(a,g))return this;var _=i({},d,{type:a,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var E=this._events[a];if(E){this._firingCount=this._firingCount+1||1;for(var R=0,V=E.length;R<V;R++){var K=E[R],Y=K.fn;K.once&&this.off(a,Y,K.ctx),Y.call(K.ctx||this,_)}this._firingCount--}}return g&&this._propagateEvent(_),this},listens:function(a,d,g,_){typeof a!="string"&&console.warn('"string" type argument expected');var E=d;typeof d!="function"&&(_=!!d,E=void 0,g=void 0);var R=this._events&&this._events[a];if(R&&R.length&&this._listens(a,E,g)!==!1)return!0;if(_){for(var V in this._eventParents)if(this._eventParents[V].listens(a,d,g,_))return!0}return!1},_listens:function(a,d,g){if(!this._events)return!1;var _=this._events[a]||[];if(!d)return!!_.length;g===this&&(g=void 0);for(var E=0,R=_.length;E<R;E++)if(_[E].fn===d&&_[E].ctx===g)return E;return!1},once:function(a,d,g){if(typeof a=="object")for(var _ in a)this._on(_,a[_],d,!0);else{a=w(a);for(var E=0,R=a.length;E<R;E++)this._on(a[E],d,g,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[u(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[u(a)],this},_propagateEvent:function(a){for(var d in this._eventParents)this._eventParents[d].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};O.addEventListener=O.on,O.removeEventListener=O.clearAllEventListeners=O.off,O.addOneTimeEventListener=O.once,O.fireEvent=O.fire,O.hasEventListeners=O.listens;var F=$.extend(O);function D(a,d,g){this.x=g?Math.round(a):a,this.y=g?Math.round(d):d}var H=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};D.prototype={clone:function(){return new D(this.x,this.y)},add:function(a){return this.clone()._add(W(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(W(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new D(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new D(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=H(this.x),this.y=H(this.y),this},distanceTo:function(a){a=W(a);var d=a.x-this.x,g=a.y-this.y;return Math.sqrt(d*d+g*g)},equals:function(a){return a=W(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=W(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function W(a,d,g){return a instanceof D?a:C(a)?new D(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new D(a.x,a.y):new D(a,d,g)}function Q(a,d){if(a)for(var g=d?[a,d]:a,_=0,E=g.length;_<E;_++)this.extend(g[_])}Q.prototype={extend:function(a){var d,g;if(!a)return this;if(a instanceof D||typeof a[0]=="number"||"x"in a)d=g=W(a);else if(a=B(a),d=a.min,g=a.max,!d||!g)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=g.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(a){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var d,g;return typeof a[0]=="number"||a instanceof D?a=W(a):a=B(a),a instanceof Q?(d=a.min,g=a.max):d=g=a,d.x>=this.min.x&&g.x<=this.max.x&&d.y>=this.min.y&&g.y<=this.max.y},intersects:function(a){a=B(a);var d=this.min,g=this.max,_=a.min,E=a.max,R=E.x>=d.x&&_.x<=g.x,V=E.y>=d.y&&_.y<=g.y;return R&&V},overlaps:function(a){a=B(a);var d=this.min,g=this.max,_=a.min,E=a.max,R=E.x>d.x&&_.x<g.x,V=E.y>d.y&&_.y<g.y;return R&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var d=this.min,g=this.max,_=Math.abs(d.x-g.x)*a,E=Math.abs(d.y-g.y)*a;return B(W(d.x-_,d.y-E),W(g.x+_,g.y+E))},equals:function(a){return a?(a=B(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function B(a,d){return!a||a instanceof Q?a:new Q(a,d)}function q(a,d){if(a)for(var g=d?[a,d]:a,_=0,E=g.length;_<E;_++)this.extend(g[_])}q.prototype={extend:function(a){var d=this._southWest,g=this._northEast,_,E;if(a instanceof X)_=a,E=a;else if(a instanceof q){if(_=a._southWest,E=a._northEast,!_||!E)return this}else return a?this.extend(ie(a)||Z(a)):this;return!d&&!g?(this._southWest=new X(_.lat,_.lng),this._northEast=new X(E.lat,E.lng)):(d.lat=Math.min(_.lat,d.lat),d.lng=Math.min(_.lng,d.lng),g.lat=Math.max(E.lat,g.lat),g.lng=Math.max(E.lng,g.lng)),this},pad:function(a){var d=this._southWest,g=this._northEast,_=Math.abs(d.lat-g.lat)*a,E=Math.abs(d.lng-g.lng)*a;return new q(new X(d.lat-_,d.lng-E),new X(g.lat+_,g.lng+E))},getCenter:function(){return new X((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new X(this.getNorth(),this.getWest())},getSouthEast:function(){return new X(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof X||"lat"in a?a=ie(a):a=Z(a);var d=this._southWest,g=this._northEast,_,E;return a instanceof q?(_=a.getSouthWest(),E=a.getNorthEast()):_=E=a,_.lat>=d.lat&&E.lat<=g.lat&&_.lng>=d.lng&&E.lng<=g.lng},intersects:function(a){a=Z(a);var d=this._southWest,g=this._northEast,_=a.getSouthWest(),E=a.getNorthEast(),R=E.lat>=d.lat&&_.lat<=g.lat,V=E.lng>=d.lng&&_.lng<=g.lng;return R&&V},overlaps:function(a){a=Z(a);var d=this._southWest,g=this._northEast,_=a.getSouthWest(),E=a.getNorthEast(),R=E.lat>d.lat&&_.lat<g.lat,V=E.lng>d.lng&&_.lng<g.lng;return R&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,d){return a?(a=Z(a),this._southWest.equals(a.getSouthWest(),d)&&this._northEast.equals(a.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Z(a,d){return a instanceof q?a:new q(a,d)}function X(a,d,g){if(isNaN(a)||isNaN(d))throw new Error("Invalid LatLng object: ("+a+", "+d+")");this.lat=+a,this.lng=+d,g!==void 0&&(this.alt=+g)}X.prototype={equals:function(a,d){if(!a)return!1;a=ie(a);var g=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return g<=(d===void 0?1e-9:d)},toString:function(a){return"LatLng("+v(this.lat,a)+", "+v(this.lng,a)+")"},distanceTo:function(a){return ue.distance(this,ie(a))},wrap:function(){return ue.wrapLatLng(this)},toBounds:function(a){var d=180*a/40075017,g=d/Math.cos(Math.PI/180*this.lat);return Z([this.lat-d,this.lng-g],[this.lat+d,this.lng+g])},clone:function(){return new X(this.lat,this.lng,this.alt)}};function ie(a,d,g){return a instanceof X?a:C(a)&&typeof a[0]!="object"?a.length===3?new X(a[0],a[1],a[2]):a.length===2?new X(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new X(a.lat,"lng"in a?a.lng:a.lon,a.alt):d===void 0?null:new X(a,d,g)}var ne={latLngToPoint:function(a,d){var g=this.projection.project(a),_=this.scale(d);return this.transformation._transform(g,_)},pointToLatLng:function(a,d){var g=this.scale(d),_=this.transformation.untransform(a,g);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var d=this.projection.bounds,g=this.scale(a),_=this.transformation.transform(d.min,g),E=this.transformation.transform(d.max,g);return new Q(_,E)},infinite:!1,wrapLatLng:function(a){var d=this.wrapLng?f(a.lng,this.wrapLng,!0):a.lng,g=this.wrapLat?f(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new X(g,d,_)},wrapLatLngBounds:function(a){var d=a.getCenter(),g=this.wrapLatLng(d),_=d.lat-g.lat,E=d.lng-g.lng;if(_===0&&E===0)return a;var R=a.getSouthWest(),V=a.getNorthEast(),K=new X(R.lat-_,R.lng-E),Y=new X(V.lat-_,V.lng-E);return new q(K,Y)}},ue=i({},ne,{wrapLng:[-180,180],R:6371e3,distance:function(a,d){var g=Math.PI/180,_=a.lat*g,E=d.lat*g,R=Math.sin((d.lat-a.lat)*g/2),V=Math.sin((d.lng-a.lng)*g/2),K=R*R+Math.cos(_)*Math.cos(E)*V*V,Y=2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K));return this.R*Y}}),be=6378137,_e={R:be,MAX_LATITUDE:85.0511287798,project:function(a){var d=Math.PI/180,g=this.MAX_LATITUDE,_=Math.max(Math.min(g,a.lat),-g),E=Math.sin(_*d);return new D(this.R*a.lng*d,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(a){var d=180/Math.PI;return new X((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*d,a.x*d/this.R)},bounds:function(){var a=be*Math.PI;return new Q([-a,-a],[a,a])}()};function Ce(a,d,g,_){if(C(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=d,this._c=g,this._d=_}Ce.prototype={transform:function(a,d){return this._transform(a.clone(),d)},_transform:function(a,d){return d=d||1,a.x=d*(this._a*a.x+this._b),a.y=d*(this._c*a.y+this._d),a},untransform:function(a,d){return d=d||1,new D((a.x/d-this._b)/this._a,(a.y/d-this._d)/this._c)}};function Ae(a,d,g,_){return new Ce(a,d,g,_)}var ze=i({},ue,{code:"EPSG:3857",projection:_e,transformation:function(){var a=.5/(Math.PI*_e.R);return Ae(a,.5,-a,.5)}()}),Ze=i({},ze,{code:"EPSG:900913"});function hn(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Hn(a,d){var g="",_,E,R,V,K,Y;for(_=0,R=a.length;_<R;_++){for(K=a[_],E=0,V=K.length;E<V;E++)Y=K[E],g+=(E?"L":"M")+Y.x+" "+Y.y;g+=d?ye.svg?"z":"x":""}return g||"M0 0"}var An=document.documentElement.style,Er="ActiveXObject"in window,kn=Er&&!document.addEventListener,Cs="msLaunchUri"in navigator&&!("documentMode"in document),Lf=Nr("webkit"),R0=Nr("android"),L0=Nr("android 2")||Nr("android 3"),LL=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),OL=R0&&Nr("Google")&&LL<537&&!("AudioNode"in window),Of=!!window.opera,O0=!Cs&&Nr("chrome"),M0=Nr("gecko")&&!Lf&&!Of&&!Er,ML=!O0&&Nr("safari"),I0=Nr("phantom"),D0="OTransition"in An,IL=navigator.platform.indexOf("Win")===0,$0=Er&&"transition"in An,Mf="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!L0,F0="MozPerspective"in An,DL=!window.L_DISABLE_3D&&($0||Mf||F0)&&!D0&&!I0,Va=typeof orientation<"u"||Nr("mobile"),$L=Va&&Lf,FL=Va&&Mf,B0=!window.PointerEvent&&window.MSPointerEvent,U0=!!(window.PointerEvent||B0),z0="ontouchstart"in window||!!window.TouchEvent,BL=!window.L_NO_TOUCH&&(z0||U0),UL=Va&&Of,zL=Va&&M0,VL=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,HL=function(){var a=!1;try{var d=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",p,d),window.removeEventListener("testPassiveEventSupport",p,d)}catch{}return a}(),WL=function(){return!!document.createElement("canvas").getContext}(),If=!!(document.createElementNS&&hn("svg").createSVGRect),GL=!!If&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ZL=!If&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var d=a.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),qL=navigator.platform.indexOf("Mac")===0,KL=navigator.platform.indexOf("Linux")===0;function Nr(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var ye={ie:Er,ielt9:kn,edge:Cs,webkit:Lf,android:R0,android23:L0,androidStock:OL,opera:Of,chrome:O0,gecko:M0,safari:ML,phantom:I0,opera12:D0,win:IL,ie3d:$0,webkit3d:Mf,gecko3d:F0,any3d:DL,mobile:Va,mobileWebkit:$L,mobileWebkit3d:FL,msPointer:B0,pointer:U0,touch:BL,touchNative:z0,mobileOpera:UL,mobileGecko:zL,retina:VL,passiveEvents:HL,canvas:WL,svg:If,vml:ZL,inlineSvg:GL,mac:qL,linux:KL},V0=ye.msPointer?"MSPointerDown":"pointerdown",H0=ye.msPointer?"MSPointerMove":"pointermove",W0=ye.msPointer?"MSPointerUp":"pointerup",G0=ye.msPointer?"MSPointerCancel":"pointercancel",Df={touchstart:V0,touchmove:H0,touchend:W0,touchcancel:G0},Z0={touchstart:tO,touchmove:Zc,touchend:Zc,touchcancel:Zc},vo={},q0=!1;function JL(a,d,g){return d==="touchstart"&&eO(),Z0[d]?(g=Z0[d].bind(this,g),a.addEventListener(Df[d],g,!1),g):(console.warn("wrong event specified:",d),p)}function YL(a,d,g){if(!Df[d]){console.warn("wrong event specified:",d);return}a.removeEventListener(Df[d],g,!1)}function XL(a){vo[a.pointerId]=a}function QL(a){vo[a.pointerId]&&(vo[a.pointerId]=a)}function K0(a){delete vo[a.pointerId]}function eO(){q0||(document.addEventListener(V0,XL,!0),document.addEventListener(H0,QL,!0),document.addEventListener(W0,K0,!0),document.addEventListener(G0,K0,!0),q0=!0)}function Zc(a,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var g in vo)d.touches.push(vo[g]);d.changedTouches=[d],a(d)}}function tO(a,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&Bt(d),Zc(a,d)}function nO(a){var d={},g,_;for(_ in a)g=a[_],d[_]=g&&g.bind?g.bind(a):g;return a=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var rO=200;function iO(a,d){a.addEventListener("dblclick",d);var g=0,_;function E(R){if(R.detail!==1){_=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var V=e_(R);if(!(V.some(function(Y){return Y instanceof HTMLLabelElement&&Y.attributes.for})&&!V.some(function(Y){return Y instanceof HTMLInputElement||Y instanceof HTMLSelectElement}))){var K=Date.now();K-g<=rO?(_++,_===2&&d(nO(R))):_=1,g=K}}}return a.addEventListener("click",E),{dblclick:d,simDblclick:E}}function sO(a,d){a.removeEventListener("dblclick",d.dblclick),a.removeEventListener("click",d.simDblclick)}var $f=Jc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ha=Jc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),J0=Ha==="webkitTransition"||Ha==="OTransition"?Ha+"End":"transitionend";function Y0(a){return typeof a=="string"?document.getElementById(a):a}function Wa(a,d){var g=a.style[d]||a.currentStyle&&a.currentStyle[d];if((!g||g==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);g=_?_[d]:null}return g==="auto"?null:g}function Ve(a,d,g){var _=document.createElement(a);return _.className=d||"",g&&g.appendChild(_),_}function ct(a){var d=a.parentNode;d&&d.removeChild(a)}function qc(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function yo(a){var d=a.parentNode;d&&d.lastChild!==a&&d.appendChild(a)}function xo(a){var d=a.parentNode;d&&d.firstChild!==a&&d.insertBefore(a,d.firstChild)}function Ff(a,d){if(a.classList!==void 0)return a.classList.contains(d);var g=Kc(a);return g.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(g)}function Le(a,d){if(a.classList!==void 0)for(var g=w(d),_=0,E=g.length;_<E;_++)a.classList.add(g[_]);else if(!Ff(a,d)){var R=Kc(a);Bf(a,(R?R+" ":"")+d)}}function bt(a,d){a.classList!==void 0?a.classList.remove(d):Bf(a,x((" "+Kc(a)+" ").replace(" "+d+" "," ")))}function Bf(a,d){a.className.baseVal===void 0?a.className=d:a.className.baseVal=d}function Kc(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Wn(a,d){"opacity"in a.style?a.style.opacity=d:"filter"in a.style&&oO(a,d)}function oO(a,d){var g=!1,_="DXImageTransform.Microsoft.Alpha";try{g=a.filters.item(_)}catch{if(d===1)return}d=Math.round(d*100),g?(g.Enabled=d!==100,g.Opacity=d):a.style.filter+=" progid:"+_+"(opacity="+d+")"}function Jc(a){for(var d=document.documentElement.style,g=0;g<a.length;g++)if(a[g]in d)return a[g];return!1}function Ss(a,d,g){var _=d||new D(0,0);a.style[$f]=(ye.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(g?" scale("+g+")":"")}function Ct(a,d){a._leaflet_pos=d,ye.any3d?Ss(a,d):(a.style.left=d.x+"px",a.style.top=d.y+"px")}function Es(a){return a._leaflet_pos||new D(0,0)}var Ga,Za,Uf;if("onselectstart"in document)Ga=function(){Re(window,"selectstart",Bt)},Za=function(){Ke(window,"selectstart",Bt)};else{var qa=Jc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ga=function(){if(qa){var a=document.documentElement.style;Uf=a[qa],a[qa]="none"}},Za=function(){qa&&(document.documentElement.style[qa]=Uf,Uf=void 0)}}function zf(){Re(window,"dragstart",Bt)}function Vf(){Ke(window,"dragstart",Bt)}var Yc,Hf;function Wf(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Xc(),Yc=a,Hf=a.style.outlineStyle,a.style.outlineStyle="none",Re(window,"keydown",Xc))}function Xc(){Yc&&(Yc.style.outlineStyle=Hf,Yc=void 0,Hf=void 0,Ke(window,"keydown",Xc))}function X0(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Gf(a){var d=a.getBoundingClientRect();return{x:d.width/a.offsetWidth||1,y:d.height/a.offsetHeight||1,boundingClientRect:d}}var aO={__proto__:null,TRANSFORM:$f,TRANSITION:Ha,TRANSITION_END:J0,get:Y0,getStyle:Wa,create:Ve,remove:ct,empty:qc,toFront:yo,toBack:xo,hasClass:Ff,addClass:Le,removeClass:bt,setClass:Bf,getClass:Kc,setOpacity:Wn,testProp:Jc,setTransform:Ss,setPosition:Ct,getPosition:Es,get disableTextSelection(){return Ga},get enableTextSelection(){return Za},disableImageDrag:zf,enableImageDrag:Vf,preventOutline:Wf,restoreOutline:Xc,getSizedParentNode:X0,getScale:Gf};function Re(a,d,g,_){if(d&&typeof d=="object")for(var E in d)qf(a,E,d[E],g);else{d=w(d);for(var R=0,V=d.length;R<V;R++)qf(a,d[R],g,_)}return this}var Pr="_leaflet_events";function Ke(a,d,g,_){if(arguments.length===1)Q0(a),delete a[Pr];else if(d&&typeof d=="object")for(var E in d)Kf(a,E,d[E],g);else if(d=w(d),arguments.length===2)Q0(a,function(K){return N(d,K)!==-1});else for(var R=0,V=d.length;R<V;R++)Kf(a,d[R],g,_);return this}function Q0(a,d){for(var g in a[Pr]){var _=g.split(/\d/)[0];(!d||d(_))&&Kf(a,_,null,null,g)}}var Zf={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function qf(a,d,g,_){var E=d+u(g)+(_?"_"+u(_):"");if(a[Pr]&&a[Pr][E])return this;var R=function(K){return g.call(_||a,K||window.event)},V=R;!ye.touchNative&&ye.pointer&&d.indexOf("touch")===0?R=JL(a,d,R):ye.touch&&d==="dblclick"?R=iO(a,R):"addEventListener"in a?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?a.addEventListener(Zf[d]||d,R,ye.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(R=function(K){K=K||window.event,Yf(a,K)&&V(K)},a.addEventListener(Zf[d],R,!1)):a.addEventListener(d,V,!1):a.attachEvent("on"+d,R),a[Pr]=a[Pr]||{},a[Pr][E]=R}function Kf(a,d,g,_,E){E=E||d+u(g)+(_?"_"+u(_):"");var R=a[Pr]&&a[Pr][E];if(!R)return this;!ye.touchNative&&ye.pointer&&d.indexOf("touch")===0?YL(a,d,R):ye.touch&&d==="dblclick"?sO(a,R):"removeEventListener"in a?a.removeEventListener(Zf[d]||d,R,!1):a.detachEvent("on"+d,R),a[Pr][E]=null}function Ns(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Jf(a){return qf(a,"wheel",Ns),this}function Ka(a){return Re(a,"mousedown touchstart dblclick contextmenu",Ns),a._leaflet_disable_click=!0,this}function Bt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ps(a){return Bt(a),Ns(a),this}function e_(a){if(a.composedPath)return a.composedPath();for(var d=[],g=a.target;g;)d.push(g),g=g.parentNode;return d}function t_(a,d){if(!d)return new D(a.clientX,a.clientY);var g=Gf(d),_=g.boundingClientRect;return new D((a.clientX-_.left)/g.x-d.clientLeft,(a.clientY-_.top)/g.y-d.clientTop)}var lO=ye.linux&&ye.chrome?window.devicePixelRatio:ye.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function n_(a){return ye.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/lO:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Yf(a,d){var g=d.relatedTarget;if(!g)return!0;try{for(;g&&g!==a;)g=g.parentNode}catch{return!1}return g!==a}var cO={__proto__:null,on:Re,off:Ke,stopPropagation:Ns,disableScrollPropagation:Jf,disableClickPropagation:Ka,preventDefault:Bt,stop:Ps,getPropagationPath:e_,getMousePosition:t_,getWheelDelta:n_,isExternalTarget:Yf,addListener:Re,removeListener:Ke},r_=F.extend({run:function(a,d,g,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Es(a),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=G(this._animate,this),this._step()},_step:function(a){var d=+new Date-this._startTime,g=this._duration*1e3;d<g?this._runFrame(this._easeOut(d/g),a):(this._runFrame(1),this._complete())},_runFrame:function(a,d){var g=this._startPos.add(this._offset.multiplyBy(a));d&&g._round(),Ct(this._el,g),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Fe=F.extend({options:{crs:ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,d){d=y(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(ie(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ha&&ye.any3d&&!ye.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,J0,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,d,g){if(d=d===void 0?this._zoom:this._limitZoom(d),a=this._limitCenter(ie(a),d,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=i({animate:g.animate},g.zoom),g.pan=i({animate:g.animate,duration:g.duration},g.pan));var _=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,d,g.zoom):this._tryAnimatedPan(a,g.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,d,g.pan&&g.pan.noMoveStart),this},setZoom:function(a,d){return this._loaded?this.setView(this.getCenter(),a,{zoom:d}):(this._zoom=a,this)},zoomIn:function(a,d){return a=a||(ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,d)},zoomOut:function(a,d){return a=a||(ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,d)},setZoomAround:function(a,d,g){var _=this.getZoomScale(d),E=this.getSize().divideBy(2),R=a instanceof D?a:this.latLngToContainerPoint(a),V=R.subtract(E).multiplyBy(1-1/_),K=this.containerPointToLatLng(E.add(V));return this.setView(K,d,{zoom:g})},_getBoundsCenterZoom:function(a,d){d=d||{},a=a.getBounds?a.getBounds():Z(a);var g=W(d.paddingTopLeft||d.padding||[0,0]),_=W(d.paddingBottomRight||d.padding||[0,0]),E=this.getBoundsZoom(a,!1,g.add(_));if(E=typeof d.maxZoom=="number"?Math.min(d.maxZoom,E):E,E===1/0)return{center:a.getCenter(),zoom:E};var R=_.subtract(g).divideBy(2),V=this.project(a.getSouthWest(),E),K=this.project(a.getNorthEast(),E),Y=this.unproject(V.add(K).divideBy(2).add(R),E);return{center:Y,zoom:E}},fitBounds:function(a,d){if(a=Z(a),!a.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(a,d);return this.setView(g.center,g.zoom,d)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,d){return this.setView(a,this._zoom,{pan:d})},panBy:function(a,d){if(a=W(a).round(),d=d||{},!a.x&&!a.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new r_,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){Le(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,g,d.duration||.25,d.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,d,g){if(g=g||{},g.animate===!1||!ye.any3d)return this.setView(a,d,g);this._stop();var _=this.project(this.getCenter()),E=this.project(a),R=this.getSize(),V=this._zoom;a=ie(a),d=d===void 0?V:d;var K=Math.max(R.x,R.y),Y=K*this.getZoomScale(V,d),re=E.distanceTo(_)||1,he=1.42,Ne=he*he;function Oe(St){var uu=St?-1:1,YO=St?Y:K,XO=Y*Y-K*K+uu*Ne*Ne*re*re,QO=2*YO*Ne*re,lm=XO/QO,D_=Math.sqrt(lm*lm+1)-lm,eM=D_<1e-9?-18:Math.log(D_);return eM}function nn(St){return(Math.exp(St)-Math.exp(-St))/2}function Mt(St){return(Math.exp(St)+Math.exp(-St))/2}function Zn(St){return nn(St)/Mt(St)}var fn=Oe(0);function So(St){return K*(Mt(fn)/Mt(fn+he*St))}function ZO(St){return K*(Mt(fn)*Zn(fn+he*St)-nn(fn))/Ne}function qO(St){return 1-Math.pow(1-St,1.5)}var KO=Date.now(),M_=(Oe(1)-fn)/he,JO=g.duration?1e3*g.duration:1e3*M_*.8;function I_(){var St=(Date.now()-KO)/JO,uu=qO(St)*M_;St<=1?(this._flyToFrame=G(I_,this),this._move(this.unproject(_.add(E.subtract(_).multiplyBy(ZO(uu)/re)),V),this.getScaleZoom(K/So(uu),V),{flyTo:!0})):this._move(a,d)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),I_.call(this),this},flyToBounds:function(a,d){var g=this._getBoundsCenterZoom(a,d);return this.flyTo(g.center,g.zoom,d)},setMaxBounds:function(a){return a=Z(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var d=this.options.minZoom;return this.options.minZoom=a,this._loaded&&d!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var d=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&d!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,d){this._enforcingBounds=!0;var g=this.getCenter(),_=this._limitCenter(g,this._zoom,Z(a));return g.equals(_)||this.panTo(_,d),this._enforcingBounds=!1,this},panInside:function(a,d){d=d||{};var g=W(d.paddingTopLeft||d.padding||[0,0]),_=W(d.paddingBottomRight||d.padding||[0,0]),E=this.project(this.getCenter()),R=this.project(a),V=this.getPixelBounds(),K=B([V.min.add(g),V.max.subtract(_)]),Y=K.getSize();if(!K.contains(R)){this._enforcingBounds=!0;var re=R.subtract(K.getCenter()),he=K.extend(R).getSize().subtract(Y);E.x+=re.x<0?-he.x:he.x,E.y+=re.y<0?-he.y:he.y,this.panTo(this.unproject(E),d),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),_=d.divideBy(2).round(),E=g.divideBy(2).round(),R=_.subtract(E);return!R.x&&!R.y?this:(a.animate&&a.pan?this.panBy(R):(a.pan&&this._rawPanBy(R),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=l(this._handleGeolocationResponse,this),g=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,g,a):navigator.geolocation.getCurrentPosition(d,g,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var d=a.code,g=a.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var d=a.coords.latitude,g=a.coords.longitude,_=new X(d,g),E=_.toBounds(a.coords.accuracy*2),R=this._locateOptions;if(R.setView){var V=this.getBoundsZoom(E);this.setView(_,R.maxZoom?Math.min(V,R.maxZoom):V)}var K={latlng:_,bounds:E,timestamp:a.timestamp};for(var Y in a.coords)typeof a.coords[Y]=="number"&&(K[Y]=a.coords[Y]);this.fire("locationfound",K)}},addHandler:function(a,d){if(!d)return this;var g=this[a]=new d(this);return this._handlers.push(g),this.options[a]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ct(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ct(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,d){var g="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=Ve("div",g,d||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),d=this.unproject(a.getBottomLeft()),g=this.unproject(a.getTopRight());return new q(d,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,d,g){a=Z(a),g=W(g||[0,0]);var _=this.getZoom()||0,E=this.getMinZoom(),R=this.getMaxZoom(),V=a.getNorthWest(),K=a.getSouthEast(),Y=this.getSize().subtract(g),re=B(this.project(K,_),this.project(V,_)).getSize(),he=ye.any3d?this.options.zoomSnap:1,Ne=Y.x/re.x,Oe=Y.y/re.y,nn=d?Math.max(Ne,Oe):Math.min(Ne,Oe);return _=this.getScaleZoom(nn,_),he&&(_=Math.round(_/(he/100))*(he/100),_=d?Math.ceil(_/he)*he:Math.floor(_/he)*he),Math.max(E,Math.min(R,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,d){var g=this._getTopLeftPoint(a,d);return new Q(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,d){var g=this.options.crs;return d=d===void 0?this._zoom:d,g.scale(a)/g.scale(d)},getScaleZoom:function(a,d){var g=this.options.crs;d=d===void 0?this._zoom:d;var _=g.zoom(a*g.scale(d));return isNaN(_)?1/0:_},project:function(a,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(ie(a),d)},unproject:function(a,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(W(a),d)},layerPointToLatLng:function(a){var d=W(a).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(a){var d=this.project(ie(a))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(ie(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Z(a))},distance:function(a,d){return this.options.crs.distance(ie(a),ie(d))},containerPointToLayerPoint:function(a){return W(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return W(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var d=this.containerPointToLayerPoint(W(a));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ie(a)))},mouseEventToContainerPoint:function(a){return t_(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var d=this._container=Y0(a);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Re(d,"scroll",this._onScroll,this),this._containerId=u(d)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&ye.any3d,Le(a,"leaflet-container"+(ye.touch?" leaflet-touch":"")+(ye.retina?" leaflet-retina":"")+(ye.ielt9?" leaflet-oldie":"")+(ye.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=Wa(a,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Le(a.markerPane,"leaflet-zoom-hide"),Le(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,d,g){Ct(this._mapPane,new D(0,0));var _=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var E=this._zoom!==d;this._moveStart(E,g)._move(a,d)._moveEnd(E),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,d){return a&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(a,d,g,_){d===void 0&&(d=this._zoom);var E=this._zoom!==d;return this._zoom=d,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?g&&g.pinch&&this.fire("zoom",g):((E||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Ct(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[u(this._container)]=this;var d=a?Ke:Re;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),ye.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=G(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,d){for(var g=[],_,E=d==="mouseout"||d==="mouseover",R=a.target||a.srcElement,V=!1;R;){if(_=this._targets[u(R)],_&&(d==="click"||d==="preclick")&&this._draggableMoved(_)){V=!0;break}if(_&&_.listens(d,!0)&&(E&&!Yf(R,a)||(g.push(_),E))||R===this._container)break;R=R.parentNode}return!g.length&&!V&&!E&&this.listens(d,!0)&&(g=[this]),g},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var d=a.target||a.srcElement;if(!(!this._loaded||d._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(d))){var g=a.type;g==="mousedown"&&Wf(d),this._fireDOMEvent(a,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,d,g){if(a.type==="click"){var _=i({},a);_.type="preclick",this._fireDOMEvent(_,_.type,g)}var E=this._findEventTargets(a,d);if(g){for(var R=[],V=0;V<g.length;V++)g[V].listens(d,!0)&&R.push(g[V]);E=R.concat(E)}if(E.length){d==="contextmenu"&&Bt(a);var K=E[0],Y={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var re=K.getLatLng&&(!K._radius||K._radius<=10);Y.containerPoint=re?this.latLngToContainerPoint(K.getLatLng()):this.mouseEventToContainerPoint(a),Y.layerPoint=this.containerPointToLayerPoint(Y.containerPoint),Y.latlng=re?K.getLatLng():this.layerPointToLatLng(Y.layerPoint)}for(V=0;V<E.length;V++)if(E[V].fire(d,Y,!0),Y.originalEvent._stopped||E[V].options.bubblingMouseEvents===!1&&N(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,d=this._handlers.length;a<d;a++)this._handlers[a].disable()},whenReady:function(a,d){return this._loaded?a.call(d||this,{target:this}):this.on("load",a,d),this},_getMapPanePos:function(){return Es(this._mapPane)||new D(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,d){var g=a&&d!==void 0?this._getNewPixelOrigin(a,d):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,d){var g=this.getSize()._divideBy(2);return this.project(a,d)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,d,g){var _=this._getNewPixelOrigin(g,d);return this.project(a,d)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,d,g){var _=this._getNewPixelOrigin(g,d);return B([this.project(a.getSouthWest(),d)._subtract(_),this.project(a.getNorthWest(),d)._subtract(_),this.project(a.getSouthEast(),d)._subtract(_),this.project(a.getNorthEast(),d)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,d,g){if(!g)return a;var _=this.project(a,d),E=this.getSize().divideBy(2),R=new Q(_.subtract(E),_.add(E)),V=this._getBoundsOffset(R,g,d);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?a:this.unproject(_.add(V),d)},_limitOffset:function(a,d){if(!d)return a;var g=this.getPixelBounds(),_=new Q(g.min.add(a),g.max.add(a));return a.add(this._getBoundsOffset(_,d))},_getBoundsOffset:function(a,d,g){var _=B(this.project(d.getNorthEast(),g),this.project(d.getSouthWest(),g)),E=_.min.subtract(a.min),R=_.max.subtract(a.max),V=this._rebound(E.x,-R.x),K=this._rebound(E.y,-R.y);return new D(V,K)},_rebound:function(a,d){return a+d>0?Math.round(a-d)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(d))},_limitZoom:function(a){var d=this.getMinZoom(),g=this.getMaxZoom(),_=ye.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(d,Math.min(g,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,d){var g=this._getCenterOffset(a)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,d),!0)},_createAnimProxy:function(){var a=this._proxy=Ve("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(d){var g=$f,_=this._proxy.style[g];Ss(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),_===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ct(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),d=this.getZoom();Ss(this._proxy,this.project(a,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,d,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(d),E=this._getCenterOffset(a)._divideBy(1-1/_);return g.animate!==!0&&!this.getSize().contains(E)?!1:(G(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(a,d,!0)},this),!0)},_animateZoom:function(a,d,g,_){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=d,Le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:d,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function uO(a,d){return new Fe(a,d)}var ar=$.extend({options:{position:"topright"},initialize:function(a){y(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var d=this._map;return d&&d.removeControl(this),this.options.position=a,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var d=this._container=this.onAdd(a),g=this.getPosition(),_=a._controlCorners[g];return Le(d,"leaflet-control"),g.indexOf("bottom")!==-1?_.insertBefore(d,_.firstChild):_.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ct(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Ja=function(a){return new ar(a)};Fe.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},d="leaflet-",g=this._controlContainer=Ve("div",d+"control-container",this._container);function _(E,R){var V=d+E+" "+d+R;a[E+R]=Ve("div",V,g)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ct(this._controlCorners[a]);ct(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var i_=ar.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,d,g,_){return g<_?-1:_<g?1:0}},initialize:function(a,d,g){y(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in d)this._addLayer(d[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return ar.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,d){return this._addLayer(a,d),this._map?this._update():this},addOverlay:function(a,d){return this._addLayer(a,d,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var d=this._getLayer(u(a));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",d=this._container=Ve("div",a),g=this.options.collapsed;d.setAttribute("aria-haspopup",!0),Ka(d),Jf(d);var _=this._section=Ve("section",a+"-list");g&&(this._map.on("click",this.collapse,this),Re(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Ve("a",a+"-toggle",d);E.href="#",E.title="Layers",E.setAttribute("role","button"),Re(E,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){Bt(R),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=Ve("div",a+"-base",_),this._separator=Ve("div",a+"-separator",_),this._overlaysList=Ve("div",a+"-overlays",_),d.appendChild(_)},_getLayer:function(a){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&u(this._layers[d].layer)===a)return this._layers[d]},_addLayer:function(a,d,g){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:d,overlay:g}),this.options.sortLayers&&this._layers.sort(l(function(_,E){return this.options.sortFunction(_.layer,E.layer,_.name,E.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;qc(this._baseLayersList),qc(this._overlaysList),this._layerControlInputs=[];var a,d,g,_,E=0;for(g=0;g<this._layers.length;g++)_=this._layers[g],this._addItem(_),d=d||_.overlay,a=a||!_.overlay,E+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&E>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=d&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var d=this._getLayer(u(a.target)),g=d.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;g&&this._map.fire(g,d)},_createRadioElement:function(a,d){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(d?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=g,_.firstChild},_addItem:function(a){var d=document.createElement("label"),g=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=g):_=this._createRadioElement("leaflet-base-layers_"+u(this),g),this._layerControlInputs.push(_),_.layerId=u(a.layer),Re(_,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+a.name;var R=document.createElement("span");d.appendChild(R),R.appendChild(_),R.appendChild(E);var V=a.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,d,g,_=[],E=[];this._handlingClick=!0;for(var R=a.length-1;R>=0;R--)d=a[R],g=this._getLayer(d.layerId).layer,d.checked?_.push(g):d.checked||E.push(g);for(R=0;R<E.length;R++)this._map.hasLayer(E[R])&&this._map.removeLayer(E[R]);for(R=0;R<_.length;R++)this._map.hasLayer(_[R])||this._map.addLayer(_[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,d,g,_=this._map.getZoom(),E=a.length-1;E>=0;E--)d=a[E],g=this._getLayer(d.layerId).layer,d.disabled=g.options.minZoom!==void 0&&_<g.options.minZoom||g.options.maxZoom!==void 0&&_>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Re(a,"click",Bt),this.expand();var d=this;setTimeout(function(){Ke(a,"click",Bt),d._preventClick=!1})}}),dO=function(a,d,g){return new i_(a,d,g)},Xf=ar.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var d="leaflet-control-zoom",g=Ve("div",d+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,d+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,d+"-out",g,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,d,g,_,E){var R=Ve("a",g,_);return R.innerHTML=a,R.href="#",R.title=d,R.setAttribute("role","button"),R.setAttribute("aria-label",d),Ka(R),Re(R,"click",Ps),Re(R,"click",E,this),Re(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var a=this._map,d="leaflet-disabled";bt(this._zoomInButton,d),bt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Le(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Le(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});Fe.mergeOptions({zoomControl:!0}),Fe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xf,this.addControl(this.zoomControl))});var hO=function(a){return new Xf(a)},s_=ar.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var d="leaflet-control-scale",g=Ve("div",d),_=this.options;return this._addScales(_,d+"-line",g),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),g},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,d,g){a.metric&&(this._mScale=Ve("div",d,g)),a.imperial&&(this._iScale=Ve("div",d,g))},_update:function(){var a=this._map,d=a.getSize().y/2,g=a.distance(a.containerPointToLatLng([0,d]),a.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(g)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var d=this._getRoundNum(a),g=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,g,d/a)},_updateImperial:function(a){var d=a*3.2808399,g,_,E;d>5280?(g=d/5280,_=this._getRoundNum(g),this._updateScale(this._iScale,_+" mi",_/g)):(E=this._getRoundNum(d),this._updateScale(this._iScale,E+" ft",E/d))},_updateScale:function(a,d,g){a.style.width=Math.round(this.options.maxWidth*g)+"px",a.innerHTML=d},_getRoundNum:function(a){var d=Math.pow(10,(Math.floor(a)+"").length-1),g=a/d;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,d*g}}),fO=function(a){return new s_(a)},mO='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Qf=ar.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ye.inlineSvg?mO+" ":"")+"Leaflet</a>"},initialize:function(a){y(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Ve("div","leaflet-control-attribution"),Ka(this._container);for(var d in a._layers)a._layers[d].getAttribution&&this.addAttribution(a._layers[d].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var d in this._attributions)this._attributions[d]&&a.push(d);var g=[];this.options.prefix&&g.push(this.options.prefix),a.length&&g.push(a.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});Fe.mergeOptions({attributionControl:!0}),Fe.addInitHook(function(){this.options.attributionControl&&new Qf().addTo(this)});var pO=function(a){return new Qf(a)};ar.Layers=i_,ar.Zoom=Xf,ar.Scale=s_,ar.Attribution=Qf,Ja.layers=dO,Ja.zoom=hO,Ja.scale=fO,Ja.attribution=pO;var Tr=$.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Tr.addTo=function(a,d){return a.addHandler(d,this),this};var gO={Events:O},o_=ye.touch?"touchstart mousedown":"mousedown",Ei=F.extend({options:{clickTolerance:3},initialize:function(a,d,g,_){y(this,_),this._element=a,this._dragStartTarget=d||a,this._preventOutline=g},enable:function(){this._enabled||(Re(this._dragStartTarget,o_,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ei._dragging===this&&this.finishDrag(!0),Ke(this._dragStartTarget,o_,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Ff(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ei._dragging===this&&this.finishDrag();return}if(!(Ei._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ei._dragging=this,this._preventOutline&&Wf(this._element),zf(),Ga(),!this._moving)){this.fire("down");var d=a.touches?a.touches[0]:a,g=X0(this._element);this._startPoint=new D(d.clientX,d.clientY),this._startPos=Es(this._element),this._parentScale=Gf(g);var _=a.type==="mousedown";Re(document,_?"mousemove":"touchmove",this._onMove,this),Re(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var d=a.touches&&a.touches.length===1?a.touches[0]:a,g=new D(d.clientX,d.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Bt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Le(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Ct(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ke(document,"mousemove touchmove",this._onMove,this),Ke(document,"mouseup touchend touchcancel",this._onUp,this),Vf(),Za();var d=this._moved&&this._moving;this._moving=!1,Ei._dragging=!1,d&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function a_(a,d,g){var _,E=[1,4,2,8],R,V,K,Y,re,he,Ne,Oe;for(R=0,he=a.length;R<he;R++)a[R]._code=Ts(a[R],d);for(K=0;K<4;K++){for(Ne=E[K],_=[],R=0,he=a.length,V=he-1;R<he;V=R++)Y=a[R],re=a[V],Y._code&Ne?re._code&Ne||(Oe=Qc(re,Y,Ne,d,g),Oe._code=Ts(Oe,d),_.push(Oe)):(re._code&Ne&&(Oe=Qc(re,Y,Ne,d,g),Oe._code=Ts(Oe,d),_.push(Oe)),_.push(Y));a=_}return a}function l_(a,d){var g,_,E,R,V,K,Y,re,he;if(!a||a.length===0)throw new Error("latlngs not passed");Gn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ne=ie([0,0]),Oe=Z(a),nn=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());nn<1700&&(Ne=em(a));var Mt=a.length,Zn=[];for(g=0;g<Mt;g++){var fn=ie(a[g]);Zn.push(d.project(ie([fn.lat-Ne.lat,fn.lng-Ne.lng])))}for(K=Y=re=0,g=0,_=Mt-1;g<Mt;_=g++)E=Zn[g],R=Zn[_],V=E.y*R.x-R.y*E.x,Y+=(E.x+R.x)*V,re+=(E.y+R.y)*V,K+=V*3;K===0?he=Zn[0]:he=[Y/K,re/K];var So=d.unproject(W(he));return ie([So.lat+Ne.lat,So.lng+Ne.lng])}function em(a){for(var d=0,g=0,_=0,E=0;E<a.length;E++){var R=ie(a[E]);d+=R.lat,g+=R.lng,_++}return ie([d/_,g/_])}var vO={__proto__:null,clipPolygon:a_,polygonCenter:l_,centroid:em};function c_(a,d){if(!d||!a.length)return a.slice();var g=d*d;return a=_O(a,g),a=xO(a,g),a}function u_(a,d,g){return Math.sqrt(Ya(a,d,g,!0))}function yO(a,d,g){return Ya(a,d,g)}function xO(a,d){var g=a.length,_=typeof Uint8Array!=void 0+""?Uint8Array:Array,E=new _(g);E[0]=E[g-1]=1,tm(a,E,d,0,g-1);var R,V=[];for(R=0;R<g;R++)E[R]&&V.push(a[R]);return V}function tm(a,d,g,_,E){var R=0,V,K,Y;for(K=_+1;K<=E-1;K++)Y=Ya(a[K],a[_],a[E],!0),Y>R&&(V=K,R=Y);R>g&&(d[V]=1,tm(a,d,g,_,V),tm(a,d,g,V,E))}function _O(a,d){for(var g=[a[0]],_=1,E=0,R=a.length;_<R;_++)wO(a[_],a[E])>d&&(g.push(a[_]),E=_);return E<R-1&&g.push(a[R-1]),g}var d_;function h_(a,d,g,_,E){var R=_?d_:Ts(a,g),V=Ts(d,g),K,Y,re;for(d_=V;;){if(!(R|V))return[a,d];if(R&V)return!1;K=R||V,Y=Qc(a,d,K,g,E),re=Ts(Y,g),K===R?(a=Y,R=re):(d=Y,V=re)}}function Qc(a,d,g,_,E){var R=d.x-a.x,V=d.y-a.y,K=_.min,Y=_.max,re,he;return g&8?(re=a.x+R*(Y.y-a.y)/V,he=Y.y):g&4?(re=a.x+R*(K.y-a.y)/V,he=K.y):g&2?(re=Y.x,he=a.y+V*(Y.x-a.x)/R):g&1&&(re=K.x,he=a.y+V*(K.x-a.x)/R),new D(re,he,E)}function Ts(a,d){var g=0;return a.x<d.min.x?g|=1:a.x>d.max.x&&(g|=2),a.y<d.min.y?g|=4:a.y>d.max.y&&(g|=8),g}function wO(a,d){var g=d.x-a.x,_=d.y-a.y;return g*g+_*_}function Ya(a,d,g,_){var E=d.x,R=d.y,V=g.x-E,K=g.y-R,Y=V*V+K*K,re;return Y>0&&(re=((a.x-E)*V+(a.y-R)*K)/Y,re>1?(E=g.x,R=g.y):re>0&&(E+=V*re,R+=K*re)),V=a.x-E,K=a.y-R,_?V*V+K*K:new D(E,R)}function Gn(a){return!C(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function f_(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Gn(a)}function m_(a,d){var g,_,E,R,V,K,Y,re;if(!a||a.length===0)throw new Error("latlngs not passed");Gn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var he=ie([0,0]),Ne=Z(a),Oe=Ne.getNorthWest().distanceTo(Ne.getSouthWest())*Ne.getNorthEast().distanceTo(Ne.getNorthWest());Oe<1700&&(he=em(a));var nn=a.length,Mt=[];for(g=0;g<nn;g++){var Zn=ie(a[g]);Mt.push(d.project(ie([Zn.lat-he.lat,Zn.lng-he.lng])))}for(g=0,_=0;g<nn-1;g++)_+=Mt[g].distanceTo(Mt[g+1])/2;if(_===0)re=Mt[0];else for(g=0,R=0;g<nn-1;g++)if(V=Mt[g],K=Mt[g+1],E=V.distanceTo(K),R+=E,R>_){Y=(R-_)/E,re=[K.x-Y*(K.x-V.x),K.y-Y*(K.y-V.y)];break}var fn=d.unproject(W(re));return ie([fn.lat+he.lat,fn.lng+he.lng])}var bO={__proto__:null,simplify:c_,pointToSegmentDistance:u_,closestPointOnSegment:yO,clipSegment:h_,_getEdgeIntersection:Qc,_getBitCode:Ts,_sqClosestPointOnSegment:Ya,isFlat:Gn,_flat:f_,polylineCenter:m_},nm={project:function(a){return new D(a.lng,a.lat)},unproject:function(a){return new X(a.y,a.x)},bounds:new Q([-180,-90],[180,90])},rm={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var d=Math.PI/180,g=this.R,_=a.lat*d,E=this.R_MINOR/g,R=Math.sqrt(1-E*E),V=R*Math.sin(_),K=Math.tan(Math.PI/4-_/2)/Math.pow((1-V)/(1+V),R/2);return _=-g*Math.log(Math.max(K,1e-10)),new D(a.lng*d*g,_)},unproject:function(a){for(var d=180/Math.PI,g=this.R,_=this.R_MINOR/g,E=Math.sqrt(1-_*_),R=Math.exp(-a.y/g),V=Math.PI/2-2*Math.atan(R),K=0,Y=.1,re;K<15&&Math.abs(Y)>1e-7;K++)re=E*Math.sin(V),re=Math.pow((1-re)/(1+re),E/2),Y=Math.PI/2-2*Math.atan(R*re)-V,V+=Y;return new X(V*d,a.x*d/g)}},jO={__proto__:null,LonLat:nm,Mercator:rm,SphericalMercator:_e},CO=i({},ue,{code:"EPSG:3395",projection:rm,transformation:function(){var a=.5/(Math.PI*rm.R);return Ae(a,.5,-a,.5)}()}),p_=i({},ue,{code:"EPSG:4326",projection:nm,transformation:Ae(1/180,1,-1/180,.5)}),SO=i({},ne,{projection:nm,transformation:Ae(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,d){var g=d.lng-a.lng,_=d.lat-a.lat;return Math.sqrt(g*g+_*_)},infinite:!0});ne.Earth=ue,ne.EPSG3395=CO,ne.EPSG3857=ze,ne.EPSG900913=Ze,ne.EPSG4326=p_,ne.Simple=SO;var lr=F.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[u(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[u(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var d=a.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var g=this.getEvents();d.on(g,this),this.once("remove",function(){d.off(g,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});Fe.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var d=u(a);return this._layers[d]?this:(this._layers[d]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var d=u(a);return this._layers[d]?(this._loaded&&a.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return u(a)in this._layers},eachLayer:function(a,d){for(var g in this._layers)a.call(d,this._layers[g]);return this},_addLayers:function(a){a=a?C(a)?a:[a]:[];for(var d=0,g=a.length;d<g;d++)this.addLayer(a[d])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var d=u(a);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,d=-1/0,g=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var E=this._zoomBoundLayers[_].options;a=E.minZoom===void 0?a:Math.min(a,E.minZoom),d=E.maxZoom===void 0?d:Math.max(d,E.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=a===1/0?void 0:a,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _o=lr.extend({initialize:function(a,d){y(this,d),this._layers={};var g,_;if(a)for(g=0,_=a.length;g<_;g++)this.addLayer(a[g])},addLayer:function(a){var d=this.getLayerId(a);return this._layers[d]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var d=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(a){var d=typeof a=="number"?a:this.getLayerId(a);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var d=Array.prototype.slice.call(arguments,1),g,_;for(g in this._layers)_=this._layers[g],_[a]&&_[a].apply(_,d);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,d){for(var g in this._layers)a.call(d,this._layers[g]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),EO=function(a,d){return new _o(a,d)},Kr=_o.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),_o.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),_o.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new q;for(var d in this._layers){var g=this._layers[d];a.extend(g.getBounds?g.getBounds():g.getLatLng())}return a}}),NO=function(a,d){return new Kr(a,d)},wo=$.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){y(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,d){var g=this._getIconUrl(a);if(!g){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(g,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,d){var g=this.options,_=g[d+"Size"];typeof _=="number"&&(_=[_,_]);var E=W(_),R=W(d==="shadow"&&g.shadowAnchor||g.iconAnchor||E&&E.divideBy(2,!0));a.className="leaflet-marker-"+d+" "+(g.className||""),R&&(a.style.marginLeft=-R.x+"px",a.style.marginTop=-R.y+"px"),E&&(a.style.width=E.x+"px",a.style.height=E.y+"px")},_createImg:function(a,d){return d=d||document.createElement("img"),d.src=a,d},_getIconUrl:function(a){return ye.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function PO(a){return new wo(a)}var Xa=wo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Xa.imagePath!="string"&&(Xa.imagePath=this._detectIconPath()),(this.options.imagePath||Xa.imagePath)+wo.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var d=function(g,_,E){var R=_.exec(g);return R&&R[E]};return a=d(a,/^url\((['"])?(.+)\1\)$/,2),a&&d(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Ve("div","leaflet-default-icon-path",document.body),d=Wa(a,"background-image")||Wa(a,"backgroundImage");if(document.body.removeChild(a),d=this._stripUrl(d),d)return d;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),g_=Tr.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ei(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Le(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var d=this._marker,g=d._map,_=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,R=Es(d._icon),V=g.getPixelBounds(),K=g.getPixelOrigin(),Y=B(V.min._subtract(K).add(E),V.max._subtract(K).subtract(E));if(!Y.contains(R)){var re=W((Math.max(Y.max.x,R.x)-Y.max.x)/(V.max.x-Y.max.x)-(Math.min(Y.min.x,R.x)-Y.min.x)/(V.min.x-Y.min.x),(Math.max(Y.max.y,R.y)-Y.max.y)/(V.max.y-Y.max.y)-(Math.min(Y.min.y,R.y)-Y.min.y)/(V.min.y-Y.min.y)).multiplyBy(_);g.panBy(re,{animate:!1}),this._draggable._newPos._add(re),this._draggable._startPos._add(re),Ct(d._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=G(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=G(this._adjustPan.bind(this,a)))},_onDrag:function(a){var d=this._marker,g=d._shadow,_=Es(d._icon),E=d._map.layerPointToLatLng(_);g&&Ct(g,_),d._latlng=E,a.latlng=E,a.oldLatLng=this._oldLatLng,d.fire("move",a).fire("drag",a)},_onDragEnd:function(a){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),eu=lr.extend({options:{icon:new Xa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,d){y(this,d),this._latlng=ie(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var d=this._latlng;return this._latlng=ie(a),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=a.icon.createIcon(this._icon),_=!1;g!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(g.title=a.title),g.tagName==="IMG"&&(g.alt=a.alt||"")),Le(g,d),a.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(g,"focus",this._panOnFocus,this);var E=a.icon.createShadow(this._shadow),R=!1;E!==this._shadow&&(this._removeShadow(),R=!0),E&&(Le(E,d),E.alt=""),this._shadow=E,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&R&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ke(this._icon,"focus",this._panOnFocus,this),ct(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ct(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Ct(this._icon,a),this._shadow&&Ct(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),g_)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new g_(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Wn(this._icon,a),this._shadow&&Wn(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var d=this.options.icon.options,g=d.iconSize?W(d.iconSize):W(0,0),_=d.iconAnchor?W(d.iconAnchor):W(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:g.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function TO(a,d){return new eu(a,d)}var Ni=lr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return y(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),tu=Ni.extend({options:{fill:!0,radius:10},initialize:function(a,d){y(this,d),this._latlng=ie(a),this._radius=this.options.radius},setLatLng:function(a){var d=this._latlng;return this._latlng=ie(a),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var d=a&&a.radius||this._radius;return Ni.prototype.setStyle.call(this,a),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,d=this._radiusY||a,g=this._clickTolerance(),_=[a+g,d+g];this._pxBounds=new Q(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function AO(a,d){return new tu(a,d)}var im=tu.extend({initialize:function(a,d,g){if(typeof d=="number"&&(d=i({},g,{radius:d})),y(this,d),this._latlng=ie(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new q(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ni.prototype.setStyle,_project:function(){var a=this._latlng.lng,d=this._latlng.lat,g=this._map,_=g.options.crs;if(_.distance===ue.distance){var E=Math.PI/180,R=this._mRadius/ue.R/E,V=g.project([d+R,a]),K=g.project([d-R,a]),Y=V.add(K).divideBy(2),re=g.unproject(Y).lat,he=Math.acos((Math.cos(R*E)-Math.sin(d*E)*Math.sin(re*E))/(Math.cos(d*E)*Math.cos(re*E)))/E;(isNaN(he)||he===0)&&(he=R/Math.cos(Math.PI/180*d)),this._point=Y.subtract(g.getPixelOrigin()),this._radius=isNaN(he)?0:Y.x-g.project([re,a-he]).x,this._radiusY=Y.y-V.y}else{var Ne=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Ne).x}this._updateBounds()}});function kO(a,d,g){return new im(a,d,g)}var Jr=Ni.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,d){y(this,d),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var d=1/0,g=null,_=Ya,E,R,V=0,K=this._parts.length;V<K;V++)for(var Y=this._parts[V],re=1,he=Y.length;re<he;re++){E=Y[re-1],R=Y[re];var Ne=_(a,E,R,!0);Ne<d&&(d=Ne,g=_(a,E,R))}return g&&(g.distance=Math.sqrt(d)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return m_(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,d){return d=d||this._defaultShape(),a=ie(a),d.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new q,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var d=[],g=Gn(a),_=0,E=a.length;_<E;_++)g?(d[_]=ie(a[_]),this._bounds.extend(d[_])):d[_]=this._convertLatLngs(a[_]);return d},_project:function(){var a=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),d=new D(a,a);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(a,d,g){var _=a[0]instanceof X,E=a.length,R,V;if(_){for(V=[],R=0;R<E;R++)V[R]=this._map.latLngToLayerPoint(a[R]),g.extend(V[R]);d.push(V)}else for(R=0;R<E;R++)this._projectLatlngs(a[R],d,g)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,g,_,E,R,V,K,Y;for(g=0,E=0,R=this._rings.length;g<R;g++)for(Y=this._rings[g],_=0,V=Y.length;_<V-1;_++)K=h_(Y[_],Y[_+1],a,_,!0),K&&(d[E]=d[E]||[],d[E].push(K[0]),(K[1]!==Y[_+1]||_===V-2)&&(d[E].push(K[1]),E++))}},_simplifyPoints:function(){for(var a=this._parts,d=this.options.smoothFactor,g=0,_=a.length;g<_;g++)a[g]=c_(a[g],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,d){var g,_,E,R,V,K,Y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(g=0,R=this._parts.length;g<R;g++)for(K=this._parts[g],_=0,V=K.length,E=V-1;_<V;E=_++)if(!(!d&&_===0)&&u_(a,K[E],K[_])<=Y)return!0;return!1}});function RO(a,d){return new Jr(a,d)}Jr._flat=f_;var bo=Jr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return l_(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var d=Jr.prototype._convertLatLngs.call(this,a),g=d.length;return g>=2&&d[0]instanceof X&&d[0].equals(d[g-1])&&d.pop(),d},_setLatLngs:function(a){Jr.prototype._setLatLngs.call(this,a),Gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,d=this.options.weight,g=new D(d,d);if(a=new Q(a.min.subtract(g),a.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,E=this._rings.length,R;_<E;_++)R=a_(this._rings[_],a,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var d=!1,g,_,E,R,V,K,Y,re;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(R=0,Y=this._parts.length;R<Y;R++)for(g=this._parts[R],V=0,re=g.length,K=re-1;V<re;K=V++)_=g[V],E=g[K],_.y>a.y!=E.y>a.y&&a.x<(E.x-_.x)*(a.y-_.y)/(E.y-_.y)+_.x&&(d=!d);return d||Jr.prototype._containsPoint.call(this,a,!0)}});function LO(a,d){return new bo(a,d)}var Yr=Kr.extend({initialize:function(a,d){y(this,d),this._layers={},a&&this.addData(a)},addData:function(a){var d=C(a)?a:a.features,g,_,E;if(d){for(g=0,_=d.length;g<_;g++)E=d[g],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var R=this.options;if(R.filter&&!R.filter(a))return this;var V=nu(a,R);return V?(V.feature=su(a),V.defaultOptions=V.options,this.resetStyle(V),R.onEachFeature&&R.onEachFeature(a,V),this.addLayer(V)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(d){this._setLayerStyle(d,a)},this)},_setLayerStyle:function(a,d){a.setStyle&&(typeof d=="function"&&(d=d(a.feature)),a.setStyle(d))}});function nu(a,d){var g=a.type==="Feature"?a.geometry:a,_=g?g.coordinates:null,E=[],R=d&&d.pointToLayer,V=d&&d.coordsToLatLng||sm,K,Y,re,he;if(!_&&!g)return null;switch(g.type){case"Point":return K=V(_),v_(R,a,K,d);case"MultiPoint":for(re=0,he=_.length;re<he;re++)K=V(_[re]),E.push(v_(R,a,K,d));return new Kr(E);case"LineString":case"MultiLineString":return Y=ru(_,g.type==="LineString"?0:1,V),new Jr(Y,d);case"Polygon":case"MultiPolygon":return Y=ru(_,g.type==="Polygon"?1:2,V),new bo(Y,d);case"GeometryCollection":for(re=0,he=g.geometries.length;re<he;re++){var Ne=nu({geometry:g.geometries[re],type:"Feature",properties:a.properties},d);Ne&&E.push(Ne)}return new Kr(E);case"FeatureCollection":for(re=0,he=g.features.length;re<he;re++){var Oe=nu(g.features[re],d);Oe&&E.push(Oe)}return new Kr(E);default:throw new Error("Invalid GeoJSON object.")}}function v_(a,d,g,_){return a?a(d,g):new eu(g,_&&_.markersInheritOptions&&_)}function sm(a){return new X(a[1],a[0],a[2])}function ru(a,d,g){for(var _=[],E=0,R=a.length,V;E<R;E++)V=d?ru(a[E],d-1,g):(g||sm)(a[E]),_.push(V);return _}function om(a,d){return a=ie(a),a.alt!==void 0?[v(a.lng,d),v(a.lat,d),v(a.alt,d)]:[v(a.lng,d),v(a.lat,d)]}function iu(a,d,g,_){for(var E=[],R=0,V=a.length;R<V;R++)E.push(d?iu(a[R],Gn(a[R])?0:d-1,g,_):om(a[R],_));return!d&&g&&E.length>0&&E.push(E[0].slice()),E}function jo(a,d){return a.feature?i({},a.feature,{geometry:d}):su(d)}function su(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var am={toGeoJSON:function(a){return jo(this,{type:"Point",coordinates:om(this.getLatLng(),a)})}};eu.include(am),im.include(am),tu.include(am),Jr.include({toGeoJSON:function(a){var d=!Gn(this._latlngs),g=iu(this._latlngs,d?1:0,!1,a);return jo(this,{type:(d?"Multi":"")+"LineString",coordinates:g})}}),bo.include({toGeoJSON:function(a){var d=!Gn(this._latlngs),g=d&&!Gn(this._latlngs[0]),_=iu(this._latlngs,g?2:d?1:0,!0,a);return d||(_=[_]),jo(this,{type:(g?"Multi":"")+"Polygon",coordinates:_})}}),_o.include({toMultiPoint:function(a){var d=[];return this.eachLayer(function(g){d.push(g.toGeoJSON(a).geometry.coordinates)}),jo(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(a){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(a);var g=d==="GeometryCollection",_=[];return this.eachLayer(function(E){if(E.toGeoJSON){var R=E.toGeoJSON(a);if(g)_.push(R.geometry);else{var V=su(R);V.type==="FeatureCollection"?_.push.apply(_,V.features):_.push(V)}}}),g?jo(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function y_(a,d){return new Yr(a,d)}var OO=y_,ou=lr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,d,g){this._url=a,this._bounds=Z(d),y(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ct(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&yo(this._image),this},bringToBack:function(){return this._map&&xo(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Z(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",d=this._image=a?this._url:Ve("img");if(Le(d,"leaflet-image-layer"),this._zoomAnimated&&Le(d,"leaflet-zoom-animated"),this.options.className&&Le(d,this.options.className),d.onselectstart=p,d.onmousemove=p,d.onload=l(this.fire,this,"load"),d.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(a){var d=this._map.getZoomScale(a.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Ss(this._image,g,d)},_reset:function(){var a=this._image,d=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=d.getSize();Ct(a,d.min),a.style.width=g.x+"px",a.style.height=g.y+"px"},_updateOpacity:function(){Wn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),MO=function(a,d,g){return new ou(a,d,g)},x_=ou.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",d=this._image=a?this._url:Ve("video");if(Le(d,"leaflet-image-layer"),this._zoomAnimated&&Le(d,"leaflet-zoom-animated"),this.options.className&&Le(d,this.options.className),d.onselectstart=p,d.onmousemove=p,d.onloadeddata=l(this.fire,this,"load"),a){for(var g=d.getElementsByTagName("source"),_=[],E=0;E<g.length;E++)_.push(g[E].src);this._url=g.length>0?_:[d.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var V=Ve("source");V.src=this._url[R],d.appendChild(V)}}});function IO(a,d,g){return new x_(a,d,g)}var __=ou.extend({_initImage:function(){var a=this._image=this._url;Le(a,"leaflet-image-layer"),this._zoomAnimated&&Le(a,"leaflet-zoom-animated"),this.options.className&&Le(a,this.options.className),a.onselectstart=p,a.onmousemove=p}});function DO(a,d,g){return new __(a,d,g)}var Ar=lr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,d){a&&(a instanceof X||C(a))?(this._latlng=ie(a),y(this,d)):(y(this,a),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Wn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Wn(this._container,1),this.bringToFront(),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Wn(this._container,0),this._removeTimeout=setTimeout(l(ct,void 0,this._container),200)):ct(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=ie(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&yo(this._container),this},bringToBack:function(){return this._map&&xo(this._container),this},_prepareOpen:function(a){var d=this._source;if(!d._map)return!1;if(d instanceof Kr){d=null;var g=this._source._layers;for(var _ in g)if(g[_]._map){d=g[_];break}if(!d)return!1;this._source=d}if(!a)if(d.getCenter)a=d.getCenter();else if(d.getLatLng)a=d.getLatLng();else if(d.getBounds)a=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")a.innerHTML=d;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),d=W(this.options.offset),g=this._getAnchor();this._zoomAnimated?Ct(this._container,a.add(g)):d=d.add(a).add(g);var _=this._containerBottom=-d.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=_+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Fe.include({_initOverlay:function(a,d,g,_){var E=d;return E instanceof a||(E=new a(_).setContent(d)),g&&E.setLatLng(g),E}}),lr.include({_initOverlay:function(a,d,g,_){var E=g;return E instanceof a?(y(E,_),E._source=this):(E=d&&!_?d:new a(_,this),E.setContent(g)),E}});var au=Ar.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Ar.prototype.openOn.call(this,a)},onAdd:function(a){Ar.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ni||this._source.on("preclick",Ns))},onRemove:function(a){Ar.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ni||this._source.off("preclick",Ns))},getEvents:function(){var a=Ar.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",d=this._container=Ve("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=Ve("div",a+"-content-wrapper",d);if(this._contentNode=Ve("div",a+"-content",g),Ka(d),Jf(this._contentNode),Re(d,"contextmenu",Ns),this._tipContainer=Ve("div",a+"-tip-container",d),this._tip=Ve("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Ve("a",a+"-close-button",d);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Re(_,"click",function(E){Bt(E),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,d=a.style;d.width="",d.whiteSpace="nowrap";var g=a.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),d.width=g+1+"px",d.whiteSpace="",d.height="";var _=a.offsetHeight,E=this.options.maxHeight,R="leaflet-popup-scrolled";E&&_>E?(d.height=E+"px",Le(a,R)):bt(a,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),g=this._getAnchor();Ct(this._container,d.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,d=parseInt(Wa(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+d,_=this._containerWidth,E=new D(this._containerLeft,-g-this._containerBottom);E._add(Es(this._container));var R=a.layerPointToContainerPoint(E),V=W(this.options.autoPanPadding),K=W(this.options.autoPanPaddingTopLeft||V),Y=W(this.options.autoPanPaddingBottomRight||V),re=a.getSize(),he=0,Ne=0;R.x+_+Y.x>re.x&&(he=R.x+_-re.x+Y.x),R.x-he-K.x<0&&(he=R.x-K.x),R.y+g+Y.y>re.y&&(Ne=R.y+g-re.y+Y.y),R.y-Ne-K.y<0&&(Ne=R.y-K.y),(he||Ne)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([he,Ne]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$O=function(a,d){return new au(a,d)};Fe.mergeOptions({closePopupOnClick:!0}),Fe.include({openPopup:function(a,d,g){return this._initOverlay(au,a,d,g).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),lr.include({bindPopup:function(a,d){return this._popup=this._initOverlay(au,this._popup,a,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Kr||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ps(a);var d=a.layer||a.target;if(this._popup._source===d&&!(d instanceof Ni)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=d,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var lu=Ar.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Ar.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Ar.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Ar.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",d=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ve("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var d,g,_=this._map,E=this._container,R=_.latLngToContainerPoint(_.getCenter()),V=_.layerPointToContainerPoint(a),K=this.options.direction,Y=E.offsetWidth,re=E.offsetHeight,he=W(this.options.offset),Ne=this._getAnchor();K==="top"?(d=Y/2,g=re):K==="bottom"?(d=Y/2,g=0):K==="center"?(d=Y/2,g=re/2):K==="right"?(d=0,g=re/2):K==="left"?(d=Y,g=re/2):V.x<R.x?(K="right",d=0,g=re/2):(K="left",d=Y+(he.x+Ne.x)*2,g=re/2),a=a.subtract(W(d,g,!0)).add(he).add(Ne),bt(E,"leaflet-tooltip-right"),bt(E,"leaflet-tooltip-left"),bt(E,"leaflet-tooltip-top"),bt(E,"leaflet-tooltip-bottom"),Le(E,"leaflet-tooltip-"+K),Ct(E,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Wn(this._container,a)},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(d)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),FO=function(a,d){return new lu(a,d)};Fe.include({openTooltip:function(a,d,g){return this._initOverlay(lu,a,d,g).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),lr.include({bindTooltip:function(a,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lu,this._tooltip,a,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var d=a?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[d](g),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Kr||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var d=typeof a.getElement=="function"&&a.getElement();d&&(Re(d,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Re(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var d=typeof a.getElement=="function"&&a.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var d=a.latlng,g,_;this._tooltip.options.sticky&&a.originalEvent&&(g=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(g),d=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(d)}});var w_=wo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var d=a&&a.tagName==="DIV"?a:document.createElement("div"),g=this.options;if(g.html instanceof Element?(qc(d),d.appendChild(g.html)):d.innerHTML=g.html!==!1?g.html:"",g.bgPos){var _=W(g.bgPos);d.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function BO(a){return new w_(a)}wo.Default=Xa;var Qa=lr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ye.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){y(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ct(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(yo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(xo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof D?a:new D(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var d=this.getPane().children,g=-a(-1/0,1/0),_=0,E=d.length,R;_<E;_++)R=d[_].style.zIndex,d[_]!==this._container&&R&&(g=a(g,+R));isFinite(g)&&(this.options.zIndex=g+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ye.ielt9){Wn(this._container,this.options.opacity);var a=+new Date,d=!1,g=!1;for(var _ in this._tiles){var E=this._tiles[_];if(!(!E.current||!E.loaded)){var R=Math.min(1,(a-E.loaded)/200);Wn(E.el,R),R<1?d=!0:(E.active?g=!0:this._onOpaqueTile(E),E.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),d&&(z(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Ve("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,d=this.options.maxZoom;if(a!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===a?(this._levels[g].el.style.zIndex=d-Math.abs(a-g),this._onUpdateLevel(g)):(ct(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var _=this._levels[a],E=this._map;return _||(_=this._levels[a]={},_.el=Ve("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=d,_.origin=E.project(E.unproject(E.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,E.getCenter(),E.getZoom()),p(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var a,d,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)d=this._tiles[a],d.retain=d.current;for(a in this._tiles)if(d=this._tiles[a],d.current&&!d.active){var _=d.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var d in this._tiles)this._tiles[d].coords.z===a&&this._removeTile(d)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ct(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,d,g,_){var E=Math.floor(a/2),R=Math.floor(d/2),V=g-1,K=new D(+E,+R);K.z=+V;var Y=this._tileCoordsToKey(K),re=this._tiles[Y];return re&&re.active?(re.retain=!0,!0):(re&&re.loaded&&(re.retain=!0),V>_?this._retainParent(E,R,V,_):!1)},_retainChildren:function(a,d,g,_){for(var E=2*a;E<2*a+2;E++)for(var R=2*d;R<2*d+2;R++){var V=new D(E,R);V.z=g+1;var K=this._tileCoordsToKey(V),Y=this._tiles[K];if(Y&&Y.active){Y.retain=!0;continue}else Y&&Y.loaded&&(Y.retain=!0);g+1<_&&this._retainChildren(E,R,g+1,_)}},_resetView:function(a){var d=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var d=this.options;return d.minNativeZoom!==void 0&&a<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<a?d.maxNativeZoom:a},_setView:function(a,d,g,_){var E=Math.round(d);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var R=this.options.updateWhenZooming&&E!==this._tileZoom;(!_||R)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(a),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(a,d)},_setZoomTransforms:function(a,d){for(var g in this._levels)this._setZoomTransform(this._levels[g],a,d)},_setZoomTransform:function(a,d,g){var _=this._map.getZoomScale(g,a.zoom),E=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(d,g)).round();ye.any3d?Ss(a.el,E,_):Ct(a.el,E)},_resetGrid:function(){var a=this._map,d=a.options.crs,g=this._tileSize=this.getTileSize(),_=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,d.wrapLng[0]],_).x/g.x),Math.ceil(a.project([0,d.wrapLng[1]],_).x/g.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([d.wrapLat[0],0],_).y/g.x),Math.ceil(a.project([d.wrapLat[1],0],_).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var d=this._map,g=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),_=d.getZoomScale(g,this._tileZoom),E=d.project(a,this._tileZoom).floor(),R=d.getSize().divideBy(_*2);return new Q(E.subtract(R),E.add(R))},_update:function(a){var d=this._map;if(d){var g=this._clampZoom(d.getZoom());if(a===void 0&&(a=d.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),E=this._pxBoundsToTileRange(_),R=E.getCenter(),V=[],K=this.options.keepBuffer,Y=new Q(E.getBottomLeft().subtract([K,-K]),E.getTopRight().add([K,-K]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var re in this._tiles){var he=this._tiles[re].coords;(he.z!==this._tileZoom||!Y.contains(new D(he.x,he.y)))&&(this._tiles[re].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(a,g);return}for(var Ne=E.min.y;Ne<=E.max.y;Ne++)for(var Oe=E.min.x;Oe<=E.max.x;Oe++){var nn=new D(Oe,Ne);if(nn.z=this._tileZoom,!!this._isValidTile(nn)){var Mt=this._tiles[this._tileCoordsToKey(nn)];Mt?Mt.current=!0:V.push(nn)}}if(V.sort(function(fn,So){return fn.distanceTo(R)-So.distanceTo(R)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zn=document.createDocumentFragment();for(Oe=0;Oe<V.length;Oe++)this._addTile(V[Oe],Zn);this._level.el.appendChild(Zn)}}}},_isValidTile:function(a){var d=this._map.options.crs;if(!d.infinite){var g=this._globalTileRange;if(!d.wrapLng&&(a.x<g.min.x||a.x>g.max.x)||!d.wrapLat&&(a.y<g.min.y||a.y>g.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return Z(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var d=this._map,g=this.getTileSize(),_=a.scaleBy(g),E=_.add(g),R=d.unproject(_,a.z),V=d.unproject(E,a.z);return[R,V]},_tileCoordsToBounds:function(a){var d=this._tileCoordsToNwSe(a),g=new q(d[0],d[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var d=a.split(":"),g=new D(+d[0],+d[1]);return g.z=+d[2],g},_removeTile:function(a){var d=this._tiles[a];d&&(ct(d.el),delete this._tiles[a],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Le(a,"leaflet-tile");var d=this.getTileSize();a.style.width=d.x+"px",a.style.height=d.y+"px",a.onselectstart=p,a.onmousemove=p,ye.ielt9&&this.options.opacity<1&&Wn(a,this.options.opacity)},_addTile:function(a,d){var g=this._getTilePos(a),_=this._tileCoordsToKey(a),E=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(E),this.createTile.length<2&&G(l(this._tileReady,this,a,null,E)),Ct(E,g),this._tiles[_]={el:E,coords:a,current:!0},d.appendChild(E),this.fire("tileloadstart",{tile:E,coords:a})},_tileReady:function(a,d,g){d&&this.fire("tileerror",{error:d,tile:g,coords:a});var _=this._tileCoordsToKey(a);g=this._tiles[_],g&&(g.loaded=+new Date,this._map._fadeAnimated?(Wn(g.el,0),z(this._fadeFrame),this._fadeFrame=G(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),d||(Le(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ye.ielt9||!this._map._fadeAnimated?G(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var d=new D(this._wrapX?f(a.x,this._wrapX):a.x,this._wrapY?f(a.y,this._wrapY):a.y);return d.z=a.z,d},_pxBoundsToTileRange:function(a){var d=this.getTileSize();return new Q(a.min.unscaleBy(d).floor(),a.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function UO(a){return new Qa(a)}var Co=Qa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,d){this._url=a,d=y(this,d),d.detectRetina&&ye.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,d){return this._url===a&&d===void 0&&(d=!0),this._url=a,d||this.redraw(),this},createTile:function(a,d){var g=document.createElement("img");return Re(g,"load",l(this._tileOnLoad,this,d,g)),Re(g,"error",l(this._tileOnError,this,d,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(a),g},getTileUrl:function(a){var d={r:ye.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-a.y;this.options.tms&&(d.y=g),d["-y"]=g}return b(this._url,i(d,this.options))},_tileOnLoad:function(a,d){ye.ielt9?setTimeout(l(a,this,null,d),0):a(null,d)},_tileOnError:function(a,d,g){var _=this.options.errorTileUrl;_&&d.getAttribute("src")!==_&&(d.src=_),a(g,d)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,d=this.options.maxZoom,g=this.options.zoomReverse,_=this.options.zoomOffset;return g&&(a=d-a),a+_},_getSubdomain:function(a){var d=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var a,d;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(d=this._tiles[a].el,d.onload=p,d.onerror=p,!d.complete)){d.src=P;var g=this._tiles[a].coords;ct(d),delete this._tiles[a],this.fire("tileabort",{tile:d,coords:g})}},_removeTile:function(a){var d=this._tiles[a];if(d)return d.el.setAttribute("src",P),Qa.prototype._removeTile.call(this,a)},_tileReady:function(a,d,g){if(!(!this._map||g&&g.getAttribute("src")===P))return Qa.prototype._tileReady.call(this,a,d,g)}});function b_(a,d){return new Co(a,d)}var j_=Co.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,d){this._url=a;var g=i({},this.defaultWmsParams);for(var _ in d)_ in this.options||(g[_]=d[_]);d=y(this,d);var E=d.detectRetina&&ye.retina?2:1,R=this.getTileSize();g.width=R.x*E,g.height=R.y*E,this.wmsParams=g},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,Co.prototype.onAdd.call(this,a)},getTileUrl:function(a){var d=this._tileCoordsToNwSe(a),g=this._crs,_=B(g.project(d[0]),g.project(d[1])),E=_.min,R=_.max,V=(this._wmsVersion>=1.3&&this._crs===p_?[E.y,E.x,R.y,R.x]:[E.x,E.y,R.x,R.y]).join(","),K=Co.prototype.getTileUrl.call(this,a);return K+S(this.wmsParams,K,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(a,d){return i(this.wmsParams,a),d||this.redraw(),this}});function zO(a,d){return new j_(a,d)}Co.WMS=j_,b_.wms=zO;var Xr=lr.extend({options:{padding:.1},initialize:function(a){y(this,a),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,d){var g=this._map.getZoomScale(d,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,d),R=_.multiplyBy(-g).add(E).subtract(this._map._getNewPixelOrigin(a,d));ye.any3d?Ss(this._container,R,g):Ct(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,d=this._map.getSize(),g=this._map.containerPointToLayerPoint(d.multiplyBy(-a)).round();this._bounds=new Q(g,g.add(d.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),C_=Xr.extend({options:{tolerance:0},getEvents:function(){var a=Xr.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Re(a,"mousemove",this._onMouseMove,this),Re(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,ct(this._container),Ke(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var d in this._layers)a=this._layers[d],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xr.prototype._update.call(this);var a=this._bounds,d=this._container,g=a.getSize(),_=ye.retina?2:1;Ct(d,a.min),d.width=_*g.x,d.height=_*g.y,d.style.width=g.x+"px",d.style.height=g.y+"px",ye.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Xr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[u(a)]=a;var d=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var d=a._order,g=d.next,_=d.prev;g?g.prev=_:this._drawLast=_,_?_.next=g:this._drawFirst=g,delete a._order,delete this._layers[u(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var d=a.options.dashArray.split(/[, ]+/),g=[],_,E;for(E=0;E<d.length;E++){if(_=Number(d[E]),isNaN(_))return;g.push(_)}a.options._dashArray=g}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||G(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var d=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(a._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(a._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var d=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,d=this._redrawBounds;if(this._ctx.save(),d){var g=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!d||a._pxBounds&&a._pxBounds.intersects(d))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,d){if(this._drawing){var g,_,E,R,V=a._parts,K=V.length,Y=this._ctx;if(K){for(Y.beginPath(),g=0;g<K;g++){for(_=0,E=V[g].length;_<E;_++)R=V[g][_],Y[_?"lineTo":"moveTo"](R.x,R.y);d&&Y.closePath()}this._fillStroke(Y,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var d=a._point,g=this._ctx,_=Math.max(Math.round(a._radius),1),E=(Math.max(Math.round(a._radiusY),1)||_)/_;E!==1&&(g.save(),g.scale(1,E)),g.beginPath(),g.arc(d.x,d.y/E,_,0,Math.PI*2,!1),E!==1&&g.restore(),this._fillStroke(g,a)}},_fillStroke:function(a,d){var g=d.options;g.fill&&(a.globalAlpha=g.fillOpacity,a.fillStyle=g.fillColor||g.color,a.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(a.setLineDash&&a.setLineDash(d.options&&d.options._dashArray||[]),a.globalAlpha=g.opacity,a.lineWidth=g.weight,a.strokeStyle=g.color,a.lineCap=g.lineCap,a.lineJoin=g.lineJoin,a.stroke())},_onClick:function(a){for(var d=this._map.mouseEventToLayerPoint(a),g,_,E=this._drawFirst;E;E=E.next)g=E.layer,g.options.interactive&&g._containsPoint(d)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(g))&&(_=g);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,d)}},_handleMouseOut:function(a){var d=this._hoveredLayer;d&&(bt(this._container,"leaflet-interactive"),this._fireEvent([d],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,d){if(!this._mouseHoverThrottled){for(var g,_,E=this._drawFirst;E;E=E.next)g=E.layer,g.options.interactive&&g._containsPoint(d)&&(_=g);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(Le(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,d,g){this._map._fireDOMEvent(d,g||d.type,a)},_bringToFront:function(a){var d=a._order;if(d){var g=d.next,_=d.prev;if(g)g.prev=_;else return;_?_.next=g:g&&(this._drawFirst=g),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(a)}},_bringToBack:function(a){var d=a._order;if(d){var g=d.next,_=d.prev;if(_)_.next=g;else return;g?g.prev=_:_&&(this._drawLast=_),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(a)}}});function S_(a){return ye.canvas?new C_(a):null}var el=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),VO={_initContainer:function(){this._container=Ve("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Xr.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var d=a._container=el("shape");Le(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",a._path=el("path"),d.appendChild(a._path),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){var d=a._container;this._container.appendChild(d),a.options.interactive&&a.addInteractiveTarget(d)},_removePath:function(a){var d=a._container;ct(d),a.removeInteractiveTarget(d),delete this._layers[u(a)]},_updateStyle:function(a){var d=a._stroke,g=a._fill,_=a.options,E=a._container;E.stroked=!!_.stroke,E.filled=!!_.fill,_.stroke?(d||(d=a._stroke=el("stroke")),E.appendChild(d),d.weight=_.weight+"px",d.color=_.color,d.opacity=_.opacity,_.dashArray?d.dashStyle=C(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=_.lineCap.replace("butt","flat"),d.joinstyle=_.lineJoin):d&&(E.removeChild(d),a._stroke=null),_.fill?(g||(g=a._fill=el("fill")),E.appendChild(g),g.color=_.fillColor||_.color,g.opacity=_.fillOpacity):g&&(E.removeChild(g),a._fill=null)},_updateCircle:function(a){var d=a._point.round(),g=Math.round(a._radius),_=Math.round(a._radiusY||g);this._setPath(a,a._empty()?"M0 0":"AL "+d.x+","+d.y+" "+g+","+_+" 0,"+65535*360)},_setPath:function(a,d){a._path.v=d},_bringToFront:function(a){yo(a._container)},_bringToBack:function(a){xo(a._container)}},cu=ye.vml?el:hn,tl=Xr.extend({_initContainer:function(){this._container=cu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ct(this._container),Ke(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xr.prototype._update.call(this);var a=this._bounds,d=a.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,g.setAttribute("width",d.x),g.setAttribute("height",d.y)),Ct(g,a.min),g.setAttribute("viewBox",[a.min.x,a.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(a){var d=a._path=cu("path");a.options.className&&Le(d,a.options.className),a.options.interactive&&Le(d,"leaflet-interactive"),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ct(a._path),a.removeInteractiveTarget(a._path),delete this._layers[u(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var d=a._path,g=a.options;d&&(g.stroke?(d.setAttribute("stroke",g.color),d.setAttribute("stroke-opacity",g.opacity),d.setAttribute("stroke-width",g.weight),d.setAttribute("stroke-linecap",g.lineCap),d.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?d.setAttribute("stroke-dasharray",g.dashArray):d.removeAttribute("stroke-dasharray"),g.dashOffset?d.setAttribute("stroke-dashoffset",g.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),g.fill?(d.setAttribute("fill",g.fillColor||g.color),d.setAttribute("fill-opacity",g.fillOpacity),d.setAttribute("fill-rule",g.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(a,d){this._setPath(a,Hn(a._parts,d))},_updateCircle:function(a){var d=a._point,g=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||g,E="a"+g+","+_+" 0 1,0 ",R=a._empty()?"M0 0":"M"+(d.x-g)+","+d.y+E+g*2+",0 "+E+-g*2+",0 ";this._setPath(a,R)},_setPath:function(a,d){a._path.setAttribute("d",d)},_bringToFront:function(a){yo(a._path)},_bringToBack:function(a){xo(a._path)}});ye.vml&&tl.include(VO);function E_(a){return ye.svg||ye.vml?new tl(a):null}Fe.include({getRenderer:function(a){var d=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var d=this._paneRenderers[a];return d===void 0&&(d=this._createRenderer({pane:a}),this._paneRenderers[a]=d),d},_createRenderer:function(a){return this.options.preferCanvas&&S_(a)||E_(a)}});var N_=bo.extend({initialize:function(a,d){bo.prototype.initialize.call(this,this._boundsToLatLngs(a),d)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Z(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function HO(a,d){return new N_(a,d)}tl.create=cu,tl.pointsToPath=Hn,Yr.geometryToLayer=nu,Yr.coordsToLatLng=sm,Yr.coordsToLatLngs=ru,Yr.latLngToCoords=om,Yr.latLngsToCoords=iu,Yr.getFeature=jo,Yr.asFeature=su,Fe.mergeOptions({boxZoom:!0});var P_=Tr.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ke(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ct(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ga(),zf(),this._startPoint=this._map.mouseEventToContainerPoint(a),Re(document,{contextmenu:Ps,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Ve("div","leaflet-zoom-box",this._container),Le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var d=new Q(this._point,this._startPoint),g=d.getSize();Ct(this._box,d.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(ct(this._box),bt(this._container,"leaflet-crosshair")),Za(),Vf(),Ke(document,{contextmenu:Ps,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var d=new q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Fe.addInitHook("addHandler","boxZoom",P_),Fe.mergeOptions({doubleClickZoom:!0});var T_=Tr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var d=this._map,g=d.getZoom(),_=d.options.zoomDelta,E=a.originalEvent.shiftKey?g-_:g+_;d.options.doubleClickZoom==="center"?d.setZoom(E):d.setZoomAround(a.containerPoint,E)}});Fe.addInitHook("addHandler","doubleClickZoom",T_),Fe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var A_=Tr.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ei(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=Z(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var d=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(d),this._prunePositions(d)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,d){return a-(a-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;a.x<d.min.x&&(a.x=this._viscousLimit(a.x,d.min.x)),a.y<d.min.y&&(a.y=this._viscousLimit(a.y,d.min.y)),a.x>d.max.x&&(a.x=this._viscousLimit(a.x,d.max.x)),a.y>d.max.y&&(a.y=this._viscousLimit(a.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,d=Math.round(a/2),g=this._initialWorldOffset,_=this._draggable._newPos.x,E=(_-d+g)%a+d-g,R=(_+d+g)%a-d-g,V=Math.abs(E+g)<Math.abs(R+g)?E:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(a){var d=this._map,g=d.options,_=!g.inertia||a.noInertia||this._times.length<2;if(d.fire("dragend",a),_)d.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,V=g.easeLinearity,K=E.multiplyBy(V/R),Y=K.distanceTo([0,0]),re=Math.min(g.inertiaMaxSpeed,Y),he=K.multiplyBy(re/Y),Ne=re/(g.inertiaDeceleration*V),Oe=he.multiplyBy(-Ne/2).round();!Oe.x&&!Oe.y?d.fire("moveend"):(Oe=d._limitOffset(Oe,d.options.maxBounds),G(function(){d.panBy(Oe,{duration:Ne,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});Fe.addInitHook("addHandler","dragging",A_),Fe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var k_=Tr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Re(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ke(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,d=document.documentElement,g=a.scrollTop||d.scrollTop,_=a.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(_,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var d=this._panKeys={},g=this.keyCodes,_,E;for(_=0,E=g.left.length;_<E;_++)d[g.left[_]]=[-1*a,0];for(_=0,E=g.right.length;_<E;_++)d[g.right[_]]=[a,0];for(_=0,E=g.down.length;_<E;_++)d[g.down[_]]=[0,a];for(_=0,E=g.up.length;_<E;_++)d[g.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var d=this._zoomKeys={},g=this.keyCodes,_,E;for(_=0,E=g.zoomIn.length;_<E;_++)d[g.zoomIn[_]]=a;for(_=0,E=g.zoomOut.length;_<E;_++)d[g.zoomOut[_]]=-a},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ke(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var d=a.keyCode,g=this._map,_;if(d in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(_=this._panKeys[d],a.shiftKey&&(_=W(_).multiplyBy(3)),g.options.maxBounds&&(_=g._limitOffset(W(_),g.options.maxBounds)),g.options.worldCopyJump){var E=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(_)));g.panTo(E)}else g.panBy(_)}else if(d in this._zoomKeys)g.setZoom(g.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Ps(a)}}});Fe.addInitHook("addHandler","keyboard",k_),Fe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var R_=Tr.extend({addHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ke(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var d=n_(a),g=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),_),Ps(a)},_performZoom:function(){var a=this._map,d=a.getZoom(),g=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,R=g?Math.ceil(E/g)*g:E,V=a._limitZoom(d+(this._delta>0?R:-R))-d;this._delta=0,this._startTime=null,V&&(a.options.scrollWheelZoom==="center"?a.setZoom(d+V):a.setZoomAround(this._lastMousePos,d+V))}});Fe.addInitHook("addHandler","scrollWheelZoom",R_);var WO=600;Fe.mergeOptions({tapHold:ye.touchNative&&ye.safari&&ye.mobile,tapTolerance:15});var L_=Tr.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ke(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var d=a.touches[0];this._startPos=this._newPos=new D(d.clientX,d.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Re(document,"touchend",Bt),Re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),WO),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Ke(document,"touchend",Bt),Ke(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Ke(document,"touchend touchcancel contextmenu",this._cancel,this),Ke(document,"touchmove",this._onMove,this)},_onMove:function(a){var d=a.touches[0];this._newPos=new D(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,d){var g=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});g._simulated=!0,d.target.dispatchEvent(g)}});Fe.addInitHook("addHandler","tapHold",L_),Fe.mergeOptions({touchZoom:ye.touch,bounceAtZoomLimits:!0});var O_=Tr.extend({addHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),Ke(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var d=this._map;if(!(!a.touches||a.touches.length!==2||d._animatingZoom||this._zooming)){var g=d.mouseEventToContainerPoint(a.touches[0]),_=d.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(g.add(_)._divideBy(2))),this._startDist=g.distanceTo(_),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),Bt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var d=this._map,g=d.mouseEventToContainerPoint(a.touches[0]),_=d.mouseEventToContainerPoint(a.touches[1]),E=g.distanceTo(_)/this._startDist;if(this._zoom=d.getScaleZoom(E,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&E<1||this._zoom>d.getMaxZoom()&&E>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var R=g._add(_)._divideBy(2)._subtract(this._centerPoint);if(E===1&&R.x===0&&R.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var V=l(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=G(V,this,!0),Bt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Ke(document,"touchmove",this._onTouchMove,this),Ke(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Fe.addInitHook("addHandler","touchZoom",O_),Fe.BoxZoom=P_,Fe.DoubleClickZoom=T_,Fe.Drag=A_,Fe.Keyboard=k_,Fe.ScrollWheelZoom=R_,Fe.TapHold=L_,Fe.TouchZoom=O_,n.Bounds=Q,n.Browser=ye,n.CRS=ne,n.Canvas=C_,n.Circle=im,n.CircleMarker=tu,n.Class=$,n.Control=ar,n.DivIcon=w_,n.DivOverlay=Ar,n.DomEvent=cO,n.DomUtil=aO,n.Draggable=Ei,n.Evented=F,n.FeatureGroup=Kr,n.GeoJSON=Yr,n.GridLayer=Qa,n.Handler=Tr,n.Icon=wo,n.ImageOverlay=ou,n.LatLng=X,n.LatLngBounds=q,n.Layer=lr,n.LayerGroup=_o,n.LineUtil=bO,n.Map=Fe,n.Marker=eu,n.Mixin=gO,n.Path=Ni,n.Point=D,n.PolyUtil=vO,n.Polygon=bo,n.Polyline=Jr,n.Popup=au,n.PosAnimation=r_,n.Projection=jO,n.Rectangle=N_,n.Renderer=Xr,n.SVG=tl,n.SVGOverlay=__,n.TileLayer=Co,n.Tooltip=lu,n.Transformation=Ce,n.Util=J,n.VideoOverlay=x_,n.bind=l,n.bounds=B,n.canvas=S_,n.circle=kO,n.circleMarker=AO,n.control=Ja,n.divIcon=BO,n.extend=i,n.featureGroup=NO,n.geoJSON=y_,n.geoJson=OO,n.gridLayer=UO,n.icon=PO,n.imageOverlay=MO,n.latLng=ie,n.latLngBounds=Z,n.layerGroup=EO,n.map=uO,n.marker=TO,n.point=W,n.polygon=LO,n.polyline=RO,n.popup=$O,n.rectangle=HO,n.setOptions=y,n.stamp=u,n.svg=E_,n.svgOverlay=DO,n.tileLayer=b_,n.tooltip=FO,n.transformation=Ae,n.version=r,n.videoOverlay=IO;var GO=window.L;n.noConflict=function(){return window.L=GO,this},window.L=n})})(Av,Av.exports);var Gc=Av.exports;const tL=ms(Gc);function A0(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function k0(e,t){return t==null?function(r,i){const o=m.useRef();return o.current||(o.current=e(r,i)),o}:function(r,i){const o=m.useRef();o.current||(o.current=e(r,i));const l=m.useRef(r),{instance:c}=o.current;return m.useEffect(function(){l.current!==r&&(t(c,r,l.current),l.current=r)},[c,r,i]),o}}function dJ(e,t){m.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function nL(e){return function(n){const r=QR(),i=e(T0(n,r),r);return JR(r.map,n.attribution),eL(i.current,n.eventHandlers),dJ(i.current,r),i}}function hJ(e,t){const n=k0(e,t),r=nL(n);return aJ(r)}function fJ(e,t){const n=k0(e),r=uJ(n,t);return lJ(r)}function mJ(e,t){const n=k0(e,t),r=nL(n);return cJ(r)}function pJ(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function kv(){return kv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kv.apply(this,arguments)}function gJ({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:o,placeholder:l,style:c,whenReady:u,zoom:h,...f},p){const[v]=m.useState({className:i,id:o,style:c}),[x,w]=m.useState(null);m.useImperativeHandle(p,()=>(x==null?void 0:x.map)??null,[x]);const y=m.useCallback(j=>{if(j!==null&&x===null){const b=new Gc.Map(j,f);n!=null&&h!=null?b.setView(n,h):e!=null&&b.fitBounds(e,t),u!=null&&b.whenReady(u),w(sJ(b))}},[]);m.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const S=x?se.createElement(XR,{value:x},r):l??null;return se.createElement("div",kv({},v,{ref:y}),S)}const vJ=m.forwardRef(gJ),yJ=hJ(function({position:t,...n},r){const i=new Gc.Marker(t,n);return A0(i,oJ(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),xJ=fJ(function(t,n){const r=new Gc.Popup(t,n.overlayContainer);return A0(r,n)},function(t,n,{position:r},i){m.useEffect(function(){const{instance:l}=t;function c(h){h.popup===l&&(l.update(),i(!0))}function u(h){h.popup===l&&i(!1)}return n.map.on({popupopen:c,popupclose:u}),n.overlayContainer==null?(r!=null&&l.setLatLng(r),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var f;n.map.off({popupopen:c,popupclose:u}),(f=n.overlayContainer)==null||f.unbindPopup(),n.map.removeLayer(l)}},[t,n,i,r])}),_J=mJ(function({url:t,...n},r){const i=new Gc.TileLayer(t,T0(n,r));return A0(i,r)},function(t,n,r){pJ(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)});delete tL.Icon.Default.prototype._getIconUrl;tL.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const wJ=()=>{const{toast:e}=et(),t=m.useRef(),[n,r]=m.useState(!1),[i,o]=m.useState(!1);m.useEffect(()=>{o(!0)},[]);const l=u=>{u.preventDefault(),r(!0),e({title:"🚧 Fonctionnalité en cours de développement",description:"L'envoi d'e-mails n'est pas encore implémenté. Vous pouvez demander cette fonctionnalité dans votre prochain prompt ! 🚀",variant:"default"}),setTimeout(()=>{r(!1),u.target.reset()},1e3)},c=[45.8113,5.002];return s.jsxs("div",{className:"space-y-12",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Contact - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Contactez le club d'escalade ALJ Escalade Jonage. Trouvez notre adresse et suivez-nous sur les réseaux sociaux."})]}),s.jsxs(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center justify-center gap-3",children:[s.jsx(JE,{className:"w-10 h-10 text-primary"}),"Nous Contacter"]}),s.jsx("p",{className:"mt-4 text-lg text-muted-foreground max-w-2xl mx-auto",children:"Une question ? Une suggestion ? N'hésitez pas à nous envoyer un message ou à nous suivre sur nos réseaux."})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-start",children:[s.jsx(de.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsx(Ee,{children:"Envoyer un message"})}),s.jsx(ge,{children:s.jsxs("form",{ref:t,onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"from_name",children:"Votre Nom"}),s.jsx(we,{id:"from_name",name:"from_name",required:!0,placeholder:"Jean Dupont"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"from_email",children:"Votre Email"}),s.jsx(we,{id:"from_email",name:"from_email",type:"email",required:!0,placeholder:"jean.dupont@email.com"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"subject",children:"Sujet"}),s.jsx(we,{id:"subject",name:"subject",required:!0,placeholder:"Question sur les inscriptions"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"message",children:"Votre Message"}),s.jsx(Dt,{id:"message",name:"message",required:!0,placeholder:"Bonjour, je voudrais savoir...",rows:5})]}),s.jsxs(ee,{type:"submit",className:"w-full",disabled:n,children:[n?s.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(C3,{className:"mr-2 h-4 w-4"}),n?"Envoi en cours...":"Envoyer le message"]})]})})]})}),s.jsxs(de.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"space-y-8",children:[s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(Iy,{className:"text-primary"}),"Nous Trouver"]})}),s.jsxs(ge,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Espace Agora, 23 Rue du Lavoir, 69330 Jonage"}),i&&s.jsxs(vJ,{center:c,zoom:16,scrollWheelZoom:!1,children:[s.jsx(_J,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(yJ,{position:c,children:s.jsxs(xJ,{children:["ALJ Escalade Jonage ",s.jsx("br",{})," Espace Agora"]})})]})]})]}),s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsx(Ee,{children:"Nous Suivre"})}),s.jsxs(ge,{className:"flex items-center gap-4",children:[s.jsx(ee,{asChild:!0,variant:"outline",className:"w-full",children:s.jsxs("a",{href:"https://www.instagram.com/aljescalade/",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(ZE,{className:"mr-2 h-5 w-5 text-pink-500"})," Instagram"]})}),s.jsx(ee,{asChild:!0,variant:"outline",className:"w-full",children:s.jsxs("a",{href:"https://www.facebook.com/amicalelaiquedejonage",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(WE,{className:"mr-2 h-5 w-5 text-blue-600"})," Facebook"]})})]})]})]})]})]})},Pp=({title:e,description:t,configKey:n,currentImageUrl:r})=>{const{updateConfig:i}=Fa(),{toast:o}=et(),[l,c]=m.useState(!1),[u,h]=m.useState(null),[f,p]=m.useState(null);m.useEffect(()=>{p(r)},[r]);const v=w=>{if(w.target.files&&w.target.files[0]){const y=w.target.files[0];h(y),p(URL.createObjectURL(y))}},x=async()=>{if(u){c(!0);try{const w=u.name.split(".").pop(),y=`${n}-${Date.now()}.${w}`,S="site_assets",{error:j}=await te.storage.from(S).upload(y,u,{cacheControl:"3600",upsert:!1});if(j)throw j;const{data:b}=te.storage.from(S).getPublicUrl(y),C=b.publicUrl,{error:N}=await i(n,C);if(N)throw N;o({title:"Succès",description:"L'image a été mise à jour."}),h(null)}catch(w){o({title:"Erreur",description:w.message,variant:"destructive"}),p(r)}finally{c(!1)}}};return s.jsxs(pe,{children:[s.jsxs(Se,{children:[s.jsx(Ee,{children:e}),s.jsx(Wr,{children:t})]}),s.jsxs(ge,{className:"flex flex-col items-center gap-4",children:[f?s.jsx("img",{src:f,alt:e,className:"max-h-32 object-contain border p-2 rounded-md bg-muted/20"}):s.jsx("div",{className:"h-24 w-full flex items-center justify-center bg-muted/20 rounded-md border border-dashed",children:s.jsx(Ac,{className:"w-8 h-8 text-muted-foreground"})}),s.jsx(we,{type:"file",accept:"image/*",onChange:v})]}),s.jsx(ws,{children:s.jsxs(ee,{onClick:x,disabled:l||!u,className:"w-full",children:[l?s.jsx($e,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(Dy,{className:"w-4 h-4 mr-2"}),"Enregistrer"]})})]})},bJ=()=>{const{isAdmin:e,loading:t}=tn(),{config:n,loadingConfig:r}=Fa(),i=[{title:"Logo Partenaire: Métropole de Lyon",description:"Logo affiché dans le pied de page.",key:"partner_logo_metropole_lyon"},{title:"Logo Partenaire: FFME",description:"Logo affiché dans le pied de page.",key:"partner_logo_ffme"},{title:"Logo Partenaire: Région AURA",description:"Logo affiché dans le pied de page.",key:"partner_logo_auvergne_rhone_alpes"},{title:"Logo Partenaire: Mairie de Jonage",description:"Logo affiché dans le pied de page.",key:"partner_logo_mairie_jonage"}];return t||r?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):e?s.jsxs("div",{className:"space-y-8",children:[s.jsx(wt,{children:s.jsx("title",{children:"Réglages du site - Admin"})}),s.jsxs(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(eN,{className:"w-10 h-10 text-primary"}),"Réglages du site"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Modifiez les éléments globaux du site ici."})]}),s.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Images principales"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Pp,{title:"Logo du Site",description:"Le logo principal affiché dans l'en-tête.",configKey:"site_logo",currentImageUrl:n.site_logo}),s.jsx(Pp,{title:"Bannière des Actualités",description:"L'image affichée en haut de la page Actualités.",configKey:"news_banner_image",currentImageUrl:n.news_banner_image})]})]}),s.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Logos des partenaires"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(o=>s.jsx(Pp,{title:o.title,description:o.description,configKey:o.key,currentImageUrl:n[o.key]},o.key))})]})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Accès non autorisé"}),s.jsx("p",{className:"text-muted-foreground",children:"Cette page est réservée aux administrateurs."})]})},rL={Bloc:"bloc",Difficulté:"difficulte",Vitesse:"vitesse"},Jj=({title:e,competitors:t,competitions:n})=>n.length===0?null:s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsx(Ee,{children:e})}),s.jsx(ge,{className:"overflow-x-auto",children:t.length>0?s.jsxs(Sn,{children:[s.jsx(En,{children:s.jsxs(qe,{children:[s.jsx(me,{className:"sticky left-0 bg-background z-10 min-w-[150px]",children:"Compétiteur"}),n.map(r=>s.jsx(me,{className:"text-center min-w-[150px]",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{children:r.short_title||r.name}),s.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:new Date(r.start_date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})}),s.jsxs("div",{className:"flex gap-1 mt-1",children:[r.disciplines.map(i=>s.jsx(Te,{variant:rL[i]||"default",children:i.slice(0,4)},i)),r.nature&&s.jsx(Te,{variant:"outline",children:r.nature})]})]})},r.id))]})}),s.jsx(Nn,{children:t.map(({member:r,participations:i})=>s.jsxs(qe,{children:[s.jsx(xe,{className:"font-medium sticky left-0 bg-background z-10",children:Ye(r.first_name,r.last_name,!0)}),n.map(o=>s.jsx(xe,{className:"text-center",children:i[o.id]?i[o.id].ranking?s.jsxs("div",{className:"flex items-center justify-center gap-1 font-bold text-primary",children:[s.jsx(YE,{className:"w-4 h-4"}),i[o.id].ranking]}):s.jsx(Ty,{className:"w-5 h-5 text-green-500 mx-auto"}):null},o.id))]},r.id))})]}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun compétiteur dans ce groupe."})})]}),Yj=({title:e,competitors:t,competitions:n})=>n.length===0||t.length===0?null:s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsx(Ee,{children:e})}),s.jsx(ge,{className:"overflow-x-auto",children:s.jsxs(Sn,{children:[s.jsx(En,{children:s.jsxs(qe,{children:[s.jsx(me,{className:"sticky left-0 bg-background z-10 min-w-[150px]",children:"Compétiteur"}),n.map(r=>s.jsx(me,{className:"text-center min-w-[150px]",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{children:r.short_title||r.name}),s.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:new Date(r.start_date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})}),s.jsxs("div",{className:"flex gap-1 mt-1",children:[r.disciplines.map(i=>s.jsx(Te,{variant:rL[i]||"default",children:i.slice(0,4)},i)),r.nature&&s.jsx(Te,{variant:"outline",children:r.nature})]})]})},r.id)),s.jsx(me,{className:"text-right font-bold sticky right-0 bg-background z-10 min-w-[100px]",children:"Total"})]})}),s.jsx(Nn,{children:t.map(({member:r,participations:i})=>{let o=0;return n.forEach(l=>{i[l.id]&&l.prix>0&&(o+=l.prix)}),o===0?null:s.jsxs(qe,{children:[s.jsx(xe,{className:"font-medium sticky left-0 bg-background z-10",children:Ye(r.first_name,r.last_name,!0)}),n.map(l=>s.jsx(xe,{className:"text-center",children:i[l.id]&&l.prix>0?l.prix.toLocaleString("fr-FR",{style:"currency",currency:"EUR"}):""},l.id)),s.jsx(xe,{className:"text-right font-bold sticky right-0 bg-background z-10 text-primary",children:o.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]},r.id)})})]})})]}),Xj=({title:e,volunteers:t,competitions:n,icon:r})=>n.length===0||t.length===0?null:s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-2",children:[r&&s.jsx(r,{className:"w-6 h-6"}),e]})}),s.jsx(ge,{className:"overflow-x-auto",children:s.jsxs(Sn,{children:[s.jsx(En,{children:s.jsxs(qe,{children:[s.jsx(me,{className:"sticky left-0 bg-background z-10 min-w-[150px]",children:"Bénévole"}),n.map(i=>s.jsx(me,{className:"text-center min-w-[150px]",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{children:i.short_title||i.name}),s.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:new Date(i.start_date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})})]})},i.id)),s.jsx(me,{className:"text-right font-bold sticky right-0 bg-background z-10 min-w-[100px]",children:"Total"})]})}),s.jsx(Nn,{children:t.map(({member:i,participations:o})=>{const l=Object.keys(o).length;return l===0?null:s.jsxs(qe,{children:[s.jsx(xe,{className:"font-medium sticky left-0 bg-background z-10",children:Ye(i.first_name,i.last_name,!0)}),n.map(c=>s.jsx(xe,{className:"text-center",children:o[c.id]&&s.jsx(Ty,{className:"w-5 h-5 text-green-500 mx-auto"})},c.id)),s.jsx(xe,{className:"text-right font-bold sticky right-0 bg-background z-10 text-primary",children:l})]},i.id)})})]})})]}),jJ=()=>{const[e,t]=m.useState({u11_u15:[],u15_u19:[]}),[n,r]=m.useState({coaches:[],referees:[]}),[i,o]=m.useState({u11_u15:[],u15_u19:[],all:[]}),[l,c]=m.useState(!0),{toast:u}=et(),h=Pn(),f=La(),[p,v]=m.useState("participation");m.useEffect(()=>{const y=new URLSearchParams(f.search).get("tab");y&&v(y)},[f.search]);const x=m.useCallback(async()=>{c(!0);try{const{data:w,error:y}=await te.from("competition_participants").select(`
          role,
          member_id,
          competition_id,
          ranking,
          members ( id, first_name, last_name, title ),
          competitions ( id, name, short_title, start_date, disciplines, nature, prix )
        `);if(y)throw y;const S=w.map(P=>P.competitions).filter((P,A,T)=>P&&T.findIndex(I=>I.id===P.id)===A).sort((P,A)=>new Date(P.start_date)-new Date(A.start_date)),j=P=>{const A={},T={};w.filter(U=>{var G;return U.role==="Competiteur"&&((G=U.members)==null?void 0:G.title)===P}).forEach(U=>{if(!U.members||!U.competitions)return;const G=U.members.id,z=U.competitions.id;A[G]||(A[G]={member:U.members,participations:{}}),A[G].participations[z]={ranking:U.ranking},T[z]||(T[z]=U.competitions)});const I=Object.values(A).sort((U,G)=>U.member.first_name.localeCompare(G.member.first_name)),M=Object.values(T).sort((U,G)=>new Date(U.start_date)-new Date(G.start_date));return{members:I,competitions:M}},b=P=>{const A={};return w.filter(T=>T.role===P).forEach(T=>{if(!T.members||!T.competitions)return;const I=T.members.id,M=T.competitions.id;A[I]||(A[I]={member:T.members,participations:{}}),A[I].participations[M]=!0}),Object.values(A).sort((T,I)=>T.member.first_name.localeCompare(I.member.first_name))},C=j("Compétition U11-U15"),N=j("Compétition U15-U19");t({u11_u15:C.members,u15_u19:N.members}),o({u11_u15:C.competitions,u15_u19:N.competitions,all:S}),r({coaches:b("Coach"),referees:b("Arbitre")})}catch{u({title:"Erreur",description:"Impossible de charger les données du récapitulatif.",variant:"destructive"})}finally{c(!1)}},[u]);return m.useEffect(()=>{x()},[x]),l?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Récapitulatif Annuel et Financier - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Récapitulatif annuel des participations aux compétitions et suivi financier."})]}),s.jsx(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>h("/competitions"),children:s.jsx(is,{})}),s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(KE,{className:"w-10 h-10 text-primary"}),"Récapitulatif Annuel et Financier"]})]})}),s.jsxs(uh,{value:p,onValueChange:v,children:[s.jsxs(_c,{children:[s.jsx(Ir,{value:"participation",children:"Liste des compétitions"}),s.jsx(Ir,{value:"financial",children:"Récapitulatif Financier"}),s.jsx(Ir,{value:"volunteers",children:"Participation des bénévoles"})]}),s.jsx(Dr,{value:"participation",className:"pt-4",children:s.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-8",children:[s.jsx(Jj,{title:"Groupe U11-U15",competitors:e.u11_u15,competitions:i.u11_u15}),s.jsx(Jj,{title:"Groupe U15-U19",competitors:e.u15_u19,competitions:i.u15_u19})]})}),s.jsx(Dr,{value:"financial",className:"pt-4",children:s.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-8",children:[s.jsx(Yj,{title:"Groupe U11-U15",competitors:e.u11_u15,competitions:i.u11_u15}),s.jsx(Yj,{title:"Groupe U15-U19",competitors:e.u15_u19,competitions:i.u15_u19})]})}),s.jsx(Dr,{value:"volunteers",className:"pt-4",children:s.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-8",children:[s.jsx(Xj,{title:"Coachs",volunteers:n.coaches,competitions:i.all,icon:ui}),s.jsx(Xj,{title:"Arbitres",volunteers:n.referees,competitions:i.all,icon:nN})]})})]})]})};var iL="AlertDialog",[CJ,EY]=Vn(iL,[IT]),Si=IT(),sL=e=>{const{__scopeAlertDialog:t,...n}=e,r=Si(t);return s.jsx(Nx,{...r,...n,modal:!0})};sL.displayName=iL;var SJ="AlertDialogTrigger",oL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Si(n);return s.jsx(XT,{...i,...r,ref:t})});oL.displayName=SJ;var EJ="AlertDialogPortal",aL=e=>{const{__scopeAlertDialog:t,...n}=e,r=Si(t);return s.jsx(Px,{...r,...n})};aL.displayName=EJ;var NJ="AlertDialogOverlay",lL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Si(n);return s.jsx(af,{...i,...r,ref:t})});lL.displayName=NJ;var ca="AlertDialogContent",[PJ,TJ]=CJ(ca),AJ=L3("AlertDialogContent"),cL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=Si(n),l=m.useRef(null),c=st(t,l),u=m.useRef(null);return s.jsx(VV,{contentName:ca,titleName:uL,docsSlug:"alert-dialog",children:s.jsx(PJ,{scope:n,cancelRef:u,children:s.jsxs(lf,{role:"alertdialog",...o,...i,ref:c,onOpenAutoFocus:ve(i.onOpenAutoFocus,h=>{var f;h.preventDefault(),(f=u.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[s.jsx(AJ,{children:r}),s.jsx(RJ,{contentRef:l})]})})})});cL.displayName=ca;var uL="AlertDialogTitle",dL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Si(n);return s.jsx(Tx,{...i,...r,ref:t})});dL.displayName=uL;var hL="AlertDialogDescription",fL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Si(n);return s.jsx(Ax,{...i,...r,ref:t})});fL.displayName=hL;var kJ="AlertDialogAction",mL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Si(n);return s.jsx(kx,{...i,...r,ref:t})});mL.displayName=kJ;var pL="AlertDialogCancel",gL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=TJ(pL,n),o=Si(n),l=st(t,i);return s.jsx(kx,{...o,...r,ref:l})});gL.displayName=pL;var RJ=({contentRef:e})=>{const t=`\`${ca}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ca}\` by passing a \`${hL}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ca}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},LJ=sL,OJ=oL,MJ=aL,vL=lL,yL=cL,xL=mL,_L=gL,wL=dL,bL=fL;const IJ=LJ,DJ=OJ,$J=MJ,jL=se.forwardRef(({className:e,...t},n)=>s.jsx(vL,{className:ce("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));jL.displayName=vL.displayName;const CL=se.forwardRef(({className:e,...t},n)=>s.jsxs($J,{children:[s.jsx(jL,{}),s.jsx(yL,{ref:n,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...t})]}));CL.displayName=yL.displayName;const SL=({className:e,...t})=>s.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});SL.displayName="AlertDialogHeader";const EL=({className:e,...t})=>s.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});EL.displayName="AlertDialogFooter";const NL=se.forwardRef(({className:e,...t},n)=>s.jsx(wL,{ref:n,className:ce("text-lg font-semibold",e),...t}));NL.displayName=wL.displayName;const PL=se.forwardRef(({className:e,...t},n)=>s.jsx(bL,{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));PL.displayName=bL.displayName;const TL=se.forwardRef(({className:e,...t},n)=>s.jsx(xL,{ref:n,className:ce(hx(),e),...t}));TL.displayName=xL.displayName;const AL=se.forwardRef(({className:e,...t},n)=>s.jsx(_L,{ref:n,className:ce(hx({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));AL.displayName=_L.displayName;const kL=["admin","adherent","user"],FJ=[{to:"/news",text:"Actualités"},{to:"/schedule",text:"Planning"},{to:"/inscriptions",text:"Inscription"},{to:"/contact",text:"Contact"},{to:"/volunteers",text:"Bénévoles"},{to:"/members",text:"Adhérents"},{to:"/competitors",text:"Compétiteurs"},{to:"/competitions",text:"Compétitions"},{to:"/agenda",text:"Agenda"},{to:"/session-log",text:"Séances"}],RL=({onSelect:e,children:t,existingLinks:n})=>{const[r,i]=m.useState(!1),[o,l]=m.useState(""),[c,u]=m.useState([]),[h,f]=m.useState(!1),[p,v]=m.useState([]);m.useEffect(()=>{(async()=>{const{data:y}=await te.from("members").select("id, first_name, last_name");y&&v(y)})()},[]),m.useEffect(()=>{if(!r)return;f(!0);const w=p.filter(y=>!n.includes(y.id)&&(o===""||`${y.first_name} ${y.last_name}`.toLowerCase().includes(o.toLowerCase()))).slice(0,10);u(w),f(!1)},[o,r,n,p]);const x=w=>{e(w),i(!1),l("")};return s.jsxs(l0,{open:r,onOpenChange:i,children:[s.jsx(c0,{asChild:!0,children:t}),s.jsxs(yf,{className:"w-80 p-0",children:[s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(vi,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{placeholder:"Rechercher un membre...",value:o,onChange:w=>l(w.target.value),className:"pl-8"})]})}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:h?s.jsx("div",{className:"flex justify-center p-4",children:s.jsx($e,{className:"h-5 w-5 animate-spin"})}):c.length>0?c.map(w=>s.jsx("div",{onClick:()=>x(w),className:"p-2 hover:bg-accent cursor-pointer text-sm",children:fs(w.first_name,w.last_name,!0)},w.id)):s.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Aucun membre trouvé."})})]})]})},BJ=({isOpen:e,onClose:t,onUserCreated:n})=>{const[r,i]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState("user"),[h,f]=m.useState(null),[p,v]=m.useState(!1),{toast:x}=et(),w=async y=>{y.preventDefault(),v(!0);try{const{data:S,error:j}=await te.auth.signUp({email:r,password:o,options:{data:{role:c,member_id:(h==null?void 0:h.id)||null}}});if(j)throw j;if(!S.user)throw new Error("La création de l'utilisateur a échoué.");const b=S.user,{error:C}=await te.functions.invoke("confirm-user",{body:{userId:b.id}});if(C)throw new Error(`Erreur de confirmation: ${C.message}`);const{error:N}=await te.from("profiles").update({role:c,member_id:h==null?void 0:h.id}).eq("id",b.id);if(N)throw N;x({title:"Succès",description:"Utilisateur créé et confirmé avec succès."}),n(),t()}catch(S){x({title:"Erreur",description:S.message,variant:"destructive"})}finally{v(!1)}};return s.jsx(Ot,{open:e,onOpenChange:t,children:s.jsxs(Tt,{children:[s.jsxs(Ht,{children:[s.jsx(Wt,{children:"Créer un nouvel utilisateur"}),s.jsx(Vr,{children:"Créez un compte et liez-le à un profil de membre existant. Le compte sera validé automatiquement."})]}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"email",children:"Email"}),s.jsx(we,{id:"email",type:"email",value:r,onChange:y=>i(y.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"password",children:"Mot de passe"}),s.jsx(we,{id:"password",type:"password",value:o,onChange:y=>l(y.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Rôle"}),s.jsxs(yt,{value:c,onValueChange:u,children:[s.jsx(ht,{children:s.jsx(xt,{})}),s.jsx(ft,{children:kL.map(y=>s.jsx(De,{value:y,children:s.jsx("span",{className:"capitalize",children:y})},y))})]})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Lier à un membre"}),h?s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md",children:[s.jsx("span",{children:fs(h.first_name,h.last_name,!0)}),s.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>f(null),children:s.jsx(jr,{className:"h-4 w-4"})})]}):s.jsx(RL,{onSelect:f,existingLinks:[],children:s.jsxs(ee,{variant:"outline",className:"w-full justify-start font-normal",children:[s.jsx(vi,{className:"mr-2 h-4 w-4"})," Rechercher un membre..."]})})]}),s.jsxs(or,{children:[s.jsx(ee,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),s.jsxs(ee,{type:"submit",disabled:p,children:[p?s.jsx($e,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx($y,{className:"h-4 w-4 mr-2"}),"Créer l'utilisateur"]})]})]})]})})},UJ=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,o]=m.useState(null),{isAdmin:l,user:c,loading:u}=tn(),{toast:h}=et(),{config:f,updateConfig:p,loadingConfig:v}=Fa(),[x,w]=m.useState(FJ.map($=>({to:$.to,text:$.text,roles:["public","user","adherent","admin"]}))),[y,S]=m.useState(!1),[j,b]=m.useState(!1),[C,N]=m.useState(null),P=m.useCallback(async()=>{if(c){r(!0);try{const{data:$,error:k}=await te.from("profiles").select("*, members(id, first_name, last_name)");if(k)throw k;const{data:O,error:F}=await te.functions.invoke("get-users",{body:{userId:c.id}});if(F)throw F;if(O.error)throw new Error(O.error);const D=O.users,H=$.map(W=>{const Q=D.find(B=>B.id===W.id);return{...W,email:Q==null?void 0:Q.email,email_confirmed_at:Q==null?void 0:Q.email_confirmed_at}});t(H)}catch($){h({title:"Erreur",description:`Impossible de charger les utilisateurs: ${$.message}`,variant:"destructive"})}finally{r(!1)}}},[h,c]);m.useEffect(()=>{l&&P()},[l,P]);const A=m.useMemo(()=>e.map($=>$.member_id).filter(Boolean),[e]),T=async($,k)=>{N($);const{error:O}=await te.from("profiles").update({member_id:k.id}).eq("id",$);O?h({title:"Erreur",description:"Impossible de lier le membre.",variant:"destructive"}):(h({title:"Succès",description:"Membre lié au profil."}),P()),N(null)},I=async $=>{N($);const{error:k}=await te.from("profiles").update({member_id:null}).eq("id",$);k?h({title:"Erreur",description:"Impossible de délier le membre.",variant:"destructive"}):(h({title:"Succès",description:"Membre délié du profil."}),P()),N(null)};m.useEffect(()=>{if(!v&&f.nav_config)try{const $=JSON.parse(f.nav_config);w(k=>{const O=[...k];return $.forEach(F=>{const D=O.findIndex(H=>H.to===F.to);D!==-1&&(O[D].roles=F.roles)}),O})}catch($){console.error("Failed to parse nav_config:",$)}},[f.nav_config,v]);const M=async($,k)=>{o($);try{const{data:O,error:F}=await te.functions.invoke("set-user-role",{body:{userId:$,role:k}});if(F)throw F;if(O.error)throw new Error(O.error);h({title:"Succès",description:"Le rôle a été mis à jour."}),P()}catch(O){h({title:"Erreur",description:O.message,variant:"destructive"})}finally{o(null)}},U=($,k,O)=>{w(F=>{const D=[...F],H=D[$].roles;return O?H.includes(k)||H.push(k):D[$].roles=H.filter(W=>W!==k),D})},G=async()=>{S(!0);const{error:$}=await p("nav_config",JSON.stringify(x));h($?{title:"Erreur",description:"Impossible de sauvegarder la configuration du menu.",variant:"destructive"}:{title:"Succès",description:"Configuration du menu sauvegardée."}),S(!1)},z=async($,k)=>{o($);try{const{error:O}=await te.functions.invoke("confirm-user",{body:{userId:$}});if(O)throw O;h({title:"Succès",description:`L'email de ${k} a été confirmé.`}),P()}catch(O){h({title:"Erreur",description:O.message,variant:"destructive"})}finally{o(null)}},J=async $=>{o($.id);try{const{data:k,error:O}=await te.functions.invoke("delete-user",{body:{userId:$.id}});if(O)throw new Error(`Function error: ${O.message}`);if(k.error)throw new Error(`Function returned error: ${k.error}`);h({title:"Succès",description:`L'utilisateur ${$.email} a été supprimé.`}),P()}catch(k){h({title:"Erreur",description:k.message,variant:"destructive"})}finally{o(null)}};return u||v?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-8",children:[s.jsx(wt,{children:s.jsx("title",{children:"Gestion des Rôles et Accès"})}),s.jsxs(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(E3,{className:"w-10 h-10 text-primary"}),"Gestion des Rôles & Accès"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez les rôles des utilisateurs et les accès aux pages."})]}),s.jsxs(ee,{onClick:()=>b(!0),children:[s.jsx(Ma,{className:"mr-2 h-4 w-4"})," Créer un utilisateur"]})]}),s.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsxs(pe,{children:[s.jsxs(Se,{children:[s.jsx(Ee,{children:"Rôles des Utilisateurs"}),s.jsx(Wr,{children:"Liste de tous les utilisateurs inscrits."})]}),s.jsx(ge,{children:n?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx($e,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsxs(Sn,{children:[s.jsx(En,{children:s.jsxs(qe,{children:[s.jsx(me,{children:"Email"}),s.jsx(me,{children:"Adhérent Lié"}),s.jsx(me,{children:"Rôle"}),s.jsx(me,{className:"text-right",children:"Actions"})]})}),s.jsx(Nn,{children:e.map($=>s.jsxs(qe,{children:[s.jsxs(xe,{className:"font-medium truncate max-w-[200px]",children:[$.email,!$.email_confirmed_at&&s.jsx(Te,{variant:"outline",className:"ml-2",children:"Non confirmé"})]}),s.jsx(xe,{children:C===$.id?s.jsx($e,{className:"h-4 w-4 animate-spin"}):$.members?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Te,{variant:"secondary",className:"truncate",children:fs($.members.first_name,$.members.last_name,!0)}),s.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>I($.id),children:s.jsx(jr,{className:"h-4 w-4"})})]}):s.jsx(RL,{onSelect:k=>T($.id,k),existingLinks:A,children:s.jsxs(ee,{variant:"outline",size:"sm",children:[s.jsx(xa,{className:"mr-2 h-4 w-4"})," Lier"]})})}),s.jsx(xe,{children:$.id===c.id?s.jsx(Te,{children:"Vous (Admin)"}):i===$.id?s.jsx("div",{className:"flex justify-start",children:s.jsx($e,{className:"w-5 h-5 animate-spin"})}):s.jsxs(yt,{value:$.role||"user",onValueChange:k=>M($.id,k),children:[s.jsx(ht,{className:"w-[120px]",children:s.jsx(xt,{placeholder:"Rôle"})}),s.jsx(ft,{children:kL.map(k=>s.jsx(De,{value:k,children:s.jsx("span",{className:"capitalize",children:k})},k))})]})}),s.jsx(xe,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[$.id!==c.id&&!$.email_confirmed_at&&s.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>z($.id,$.email),disabled:i===$.id,children:[s.jsx(v3,{className:"h-4 w-4 mr-1"})," Confirmer"]}),$.id!==c.id&&s.jsxs(IJ,{children:[s.jsx(DJ,{asChild:!0,children:s.jsx(ee,{variant:"destructive",size:"icon",disabled:i===$.id,children:s.jsx(br,{className:"h-4 w-4"})})}),s.jsxs(CL,{children:[s.jsxs(SL,{children:[s.jsx(NL,{children:"Êtes-vous sûr ?"}),s.jsxs(PL,{children:["Cette action est irréversible. Elle supprimera définitivement le compte de ",s.jsx("strong",{children:$.email}),"."]})]}),s.jsxs(EL,{children:[s.jsx(AL,{children:"Annuler"}),s.jsx(TL,{onClick:()=>J($),children:"Supprimer"})]})]})]})]})})]},$.id))})]})})]})}),s.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsxs(pe,{children:[s.jsxs(Se,{children:[s.jsx(Ee,{children:"Accès aux Pages du Menu"}),s.jsx(Wr,{children:"Définissez quels rôles peuvent voir chaque page dans le menu principal."})]}),s.jsx(ge,{children:s.jsxs(Sn,{children:[s.jsx(En,{children:s.jsxs(qe,{children:[s.jsx(me,{children:"Page"}),s.jsx(me,{className:"text-center",children:"Public"}),s.jsx(me,{className:"text-center",children:"Utilisateur"}),s.jsx(me,{className:"text-center",children:"Adhérent"}),s.jsx(me,{className:"text-center",children:"Admin"})]})}),s.jsx(Nn,{children:x.map(($,k)=>s.jsxs(qe,{children:[s.jsx(xe,{className:"font-medium",children:$.text}),["public","user","adherent","admin"].map(O=>s.jsx(xe,{className:"text-center",children:s.jsx($r,{checked:$.roles.includes(O),onCheckedChange:F=>U(k,O,F)})},O))]},$.to))})]})}),s.jsx(ws,{children:s.jsxs(ee,{onClick:G,disabled:y,children:[y?s.jsx($e,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(Ih,{className:"w-4 h-4 mr-2"}),"Sauvegarder les Accès du Menu"]})})]})})]}),s.jsx(Lt,{children:j&&s.jsx(BJ,{isOpen:j,onClose:()=>b(!1),onUserCreated:P})})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Accès non autorisé"}),s.jsx("p",{className:"text-muted-foreground",children:"Cette page est réservée aux administrateurs."})]})},Mo=({icon:e,title:t,children:n})=>s.jsxs(pe,{children:[s.jsxs(Se,{className:"flex flex-row items-center gap-4 pb-2",children:[e,s.jsx(Ee,{children:t})]}),s.jsx(ge,{children:n})]}),zJ=()=>{const e={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}};return s.jsxs(de.div,{initial:"initial",animate:"in",exit:"out",variants:e,transition:{duration:.5},className:"space-y-12",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Inscriptions 2025-2026 - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Toutes les informations pour les inscriptions à la saison 2025-2026 du club d'escalade."})]}),s.jsxs(de.div,{className:"text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold headline mb-4",children:"Inscriptions 2025-2026"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto",children:"Toutes les inscriptions se feront exclusivement en ligne. Soyez prêts !"})]}),s.jsxs(de.div,{className:"max-w-4xl mx-auto p-8 rounded-xl bg-gradient-to-br from-primary/80 to-primary text-primary-foreground shadow-2xl text-center space-y-4",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.3},children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Ouverture des inscriptions"}),s.jsx("p",{className:"text-4xl font-extrabold",children:"11 juin 2025 à 8h00"}),s.jsx("p",{children:"Les places sont limitées : soyez réactifs !"}),s.jsx(ee,{asChild:!0,variant:"secondary",size:"lg",className:"text-lg",children:s.jsx("a",{href:"https://www.helloasso.com/associations/amicale-laique-de-jonage/adhesions/adhesion-escalade-2025-2026-amicale-laique-escalade-2",target:"_blank",rel:"noopener noreferrer",children:"C’est ici !"})}),s.jsx("p",{className:"text-sm pt-2",children:"Si votre créneau est complet, inscrivez-vous sur liste d’attente. Nous vous contacterons en cas de désistement."})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-6xl mx-auto",children:[s.jsx(Mo,{icon:s.jsx($n,{className:"w-8 h-8 text-primary"}),title:"Créneaux Spécifiques",children:s.jsxs("ul",{className:"space-y-2 text-muted-foreground list-disc pl-5",children:[s.jsxs("li",{children:["L’inscription aux créneaux ",s.jsx("strong",{children:"Perfectionnement Enfants/Jeunes"})," et ",s.jsx("strong",{children:"Compétition Enfants/Jeunes"})," est soumise à test préalable : contactez-nous."]}),s.jsxs("li",{children:["Pas de tests pour les cours ",s.jsx("strong",{children:"Perfectionnement adultes"})," : Ils sont accessibles aux adhérents inscrits en Adultes autonomes."]})]})}),s.jsxs(Mo,{icon:s.jsx(ya,{className:"w-8 h-8 text-primary"}),title:"Tarifs & Inscription",children:[s.jsxs("p",{className:"text-muted-foreground mb-2",children:["Les tarifs pour la saison prochaine, sous réserve de validation, devraient être de ",s.jsx("strong",{children:"246 euros"})," (licence FFME incluse)."]}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Ag,{className:"text-green-500 w-5 h-5"})," 100% en ligne"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"N’attendez pas le forum des associations de Jonage pour vous inscrire, il est fortement probable qu’il n’y ait plus de place."})]}),s.jsxs(Mo,{icon:s.jsx(VE,{className:"w-8 h-8 text-primary"}),title:"Paiement",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Paiement par CB en 3 fois sans frais :"}),s.jsxs("ul",{className:"space-y-1 text-muted-foreground list-decimal pl-5",children:[s.jsx("li",{children:"1/3 du montant lors de l’inscription"}),s.jsx("li",{children:"1/3 du montant au 23/09/2025"}),s.jsx("li",{children:"1/3 du montant au 23/10/2025"})]})]}),s.jsxs(Mo,{icon:s.jsx(Py,{className:"w-8 h-8 text-destructive"}),title:"Gestion des Adhésions",children:[s.jsx("p",{className:"text-muted-foreground mb-2",children:"Le fait de s’inscrire et de payer ne garantit pas l’inscription. L’ALJ se réserve le droit d’effectuer un remboursement en cas de non-respect des conditions (dossiers multiples, certificat non conforme, etc.)."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Contacter l’ALJ en cas d'erreur de créneau."})]}),s.jsxs(Mo,{icon:s.jsx(d3,{className:"w-8 h-8 text-primary"}),title:"Remises Familles",children:[s.jsx("p",{className:"text-muted-foreground",children:"Une réduction est applicable à partir du 3ème inscrit de la même famille (même nom/adresse), lors de l'inscription simultanée de tous les membres."}),s.jsx("p",{className:"font-semibold mt-2",children:"-20€ pour 3 inscrits, -40€ pour 4"})]}),s.jsx(Mo,{icon:s.jsx(Oa,{className:"w-8 h-8 text-primary"}),title:"Forum des Associations",children:s.jsx("p",{className:"text-muted-foreground",children:"Nous profiterons du forum pour vous présenter les activités du club et vous guider vers le formulaire s’il reste des places."})})]})]})},VJ=({members:e,onSelect:t,onClear:n})=>{const[r,i]=m.useState(""),[o,l]=m.useState([]),c=h=>{const f=h.target.value;if(i(f),f.length>1){const p=e.filter(v=>`${v.first_name} ${v.last_name}`.toLowerCase().includes(f.toLowerCase()));l(p)}else l([])},u=h=>{i(Ye(h.first_name,h.last_name,!0)),l([]),t(h)};return m.useEffect(()=>{r===""&&n()},[r,n]),s.jsxs("div",{className:"relative w-full",children:[s.jsxs("div",{className:"relative",children:[s.jsx(vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(we,{type:"text",value:r,onChange:c,placeholder:"Rechercher un membre...",className:"pl-10"})]}),o.length>0&&s.jsx("ul",{className:"absolute z-10 w-full bg-background border rounded-md mt-1 max-h-60 overflow-y-auto",children:o.map(h=>s.jsx("li",{onClick:()=>u(h),className:"px-3 py-2 hover:bg-accent cursor-pointer",children:Ye(h.first_name,h.last_name,!0)},h.id))})]})},HJ=({image:e,members:t,onLink:n,linkingState:r})=>{const[i,o]=m.useState(null),{isLinking:l,linkedMemberId:c}=r,u=()=>{i&&n(e,i)};return s.jsxs(pe,{className:"overflow-hidden",children:[s.jsx(ge,{className:"p-0",children:s.jsx("img",{src:e.publicUrl,alt:e.name,className:"w-full h-48 object-cover"})}),s.jsxs(ws,{className:"p-4 flex flex-col gap-4",children:[s.jsx(VJ,{members:t,onSelect:o,onClear:()=>o(null)}),s.jsxs(ee,{onClick:u,disabled:!i||l,className:"w-full",children:[l&&c===(i==null?void 0:i.id)?s.jsx($e,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(xa,{className:"w-4 h-4 mr-2"}),"Lier au membre"]})]})]})},WJ=()=>{const[e,t]=m.useState([]),[n,r]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState({isLinking:!1,linkedMemberId:null}),{isAdmin:u,loading:h}=tn(),{toast:f}=et(),p=m.useCallback(async()=>{o(!0);try{const{data:x,error:w}=await te.storage.listBuckets();if(w)throw w;const y=x.map(async N=>{const{data:P,error:A}=await te.storage.from(N.name).list(void 0,{limit:1e3,offset:0,sortBy:{column:"created_at",order:"desc"}});return A?(console.warn(`Could not list files from bucket ${N.name}:`,A.message),[]):P.filter(T=>T.name!==".emptyFolderPlaceholder").map(T=>({...T,bucketName:N.name,publicUrl:te.storage.from(N.name).getPublicUrl(T.name).data.publicUrl}))}),j=(await Promise.all(y)).flat().sort((N,P)=>new Date(P.created_at)-new Date(N.created_at)),{data:b,error:C}=await te.from("members").select("*");if(C)throw C;t(j),r(b)}catch{f({title:"Erreur",description:"Impossible de charger les données.",variant:"destructive"})}finally{o(!1)}},[f]);m.useEffect(()=>{p()},[p]);const v=async(x,w)=>{c({isLinking:!0,linkedMemberId:w.id});try{const{error:y}=await te.from("members").update({photo_url:x.publicUrl}).eq("id",w.id);if(y)throw y;f({title:"Succès",description:`Image liée à ${Ye(w.first_name,w.last_name,!0)}.`})}catch(y){f({title:"Erreur",description:y.message,variant:"destructive"})}finally{c({isLinking:!1,linkedMemberId:null})}};return h||i?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):u?s.jsxs("div",{className:"space-y-8",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Gestion des Images - Admin"}),s.jsx("meta",{name:"description",content:"Gérer et lier les images du site."})]}),s.jsx(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(Ac,{className:"w-10 h-10 text-primary"}),"Gestion des Images"]})}),e.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-16",children:"Aucune image trouvée dans les buckets de stockage."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(x=>s.jsx(HJ,{image:x,members:n,onLink:v,linkingState:l},x.id))})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Accès non autorisé"}),s.jsx("p",{className:"text-muted-foreground",children:"Cette page est réservée aux administrateurs."})]})},Rs="pedagogy_files",GJ=()=>{const{toast:e}=et(),t=Pn(),[n,r]=m.useState("Initialisation de la configuration...");return m.useEffect(()=>{(async()=>{try{r(`Vérification du bucket de stockage '${Rs}'...`);const{data:o,error:l}=await te.storage.listBuckets();if(l)throw new Error(`Erreur lors de la récupération des buckets: ${l.message}`);if(o.some(u=>u.name===Rs))r(`Le bucket '${Rs}' existe déjà. Aucune action requise.`);else{r(`Le bucket '${Rs}' n'existe pas. Création en cours...`);const{error:u}=await te.storage.createBucket(Rs,{public:!0});if(u)throw new Error(`Erreur lors de la création du bucket: ${u.message}`);r(`Bucket '${Rs}' créé avec succès.`),e({title:"Configuration terminée",description:`Le bucket de stockage '${Rs}' a été créé.`})}r("Configuration terminée. Redirection..."),setTimeout(()=>t("/pedagogy"),2e3)}catch(o){console.error("Setup error:",o),r(`Erreur de configuration: ${o.message}`),e({title:"Erreur de configuration",description:o.message,variant:"destructive"})}})()},[e,t]),s.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[s.jsx($e,{className:"w-12 h-12 animate-spin text-primary mb-4"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:n})]})},ZJ={Bloc:"bloc",Difficulté:"difficulte",Vitesse:"vitesse"},qJ=()=>{const{memberId:e}=kh(),t=Pn(),{toast:n}=et(),[r,i]=m.useState(!0),[o,l]=m.useState(null),[c,u]=m.useState([]),h=m.useCallback(async()=>{if(e){i(!0);try{const{data:p,error:v}=await te.from("members").select("*").eq("id",e).single();if(v)throw v;l(p);const{data:x,error:w}=await te.from("competition_participants").select(`
          ranking,
          competitions (id, name, start_date, location, disciplines, nature)
        `).eq("member_id",e).eq("role","Competiteur").order("start_date",{foreignTable:"competitions",ascending:!1});if(w)throw w;u(x)}catch{n({title:"Erreur",description:"Impossible de charger le résumé du compétiteur.",variant:"destructive"})}finally{i(!1)}}},[e,n]);if(m.useEffect(()=>{h()},[h]),r)return s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})});if(!o)return s.jsx("div",{className:"text-center",children:"Compétiteur non trouvé."});const f=(p,v)=>`${(p==null?void 0:p[0])||""}${(v==null?void 0:v[0])||""}`.toUpperCase();return s.jsxs("div",{className:"space-y-8",children:[s.jsxs(wt,{children:[s.jsxs("title",{children:["Palmarès de ",Ye(o.first_name,o.last_name,!0)," - ALJ Escalade Jonage"]}),s.jsx("meta",{name:"description",content:`Palmarès et récapitulatif des compétitions pour ${Ye(o.first_name,o.last_name,!0)}.`})]}),s.jsx(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:s.jsx(is,{})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(us,{className:"w-16 h-16",children:[s.jsx(ds,{src:o.photo_url,alt:Ye(o.first_name,o.last_name,!0)}),s.jsx(hs,{className:"text-2xl",children:f(o.first_name,o.last_name)})]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(Ia,{className:"w-10 h-10 text-primary"}),"Palmarès de ",Ye(o.first_name,o.last_name,!0)]}),s.jsx("p",{className:"text-muted-foreground",children:o.title})]})]})]})}),s.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsx(Ee,{children:"Récapitulatif des compétitions"})}),s.jsx(ge,{children:s.jsxs(Sn,{children:[s.jsx(En,{children:s.jsxs(qe,{children:[s.jsx(me,{children:"Compétition"}),s.jsx(me,{children:"Date"}),s.jsx(me,{children:"Lieu"}),s.jsx(me,{children:"Détails"}),s.jsx(me,{className:"text-right",children:"Classement"})]})}),s.jsx(Nn,{children:c.length>0?c.map(({competitions:p,ranking:v})=>s.jsxs(qe,{children:[s.jsx(xe,{className:"font-medium",children:p.name}),s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oa,{className:"w-4 h-4 text-muted-foreground"}),new Date(p.start_date).toLocaleDateString("fr-FR")]})}),s.jsx(xe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Iy,{className:"w-4 h-4 text-muted-foreground"}),p.location]})}),s.jsx(xe,{children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[p.disciplines.map(x=>s.jsx(Te,{variant:ZJ[x]||"default",children:x},x)),p.nature&&s.jsx(Te,{variant:"outline",children:p.nature})]})}),s.jsx(xe,{className:"text-right font-bold",children:v?s.jsxs("div",{className:"flex items-center justify-end gap-2 text-primary",children:[s.jsx(YE,{className:"w-5 h-5"}),s.jsx("span",{children:v})]}):s.jsx("span",{className:"text-muted-foreground",children:"N/A"})})]},p.id)):s.jsx(qe,{children:s.jsx(xe,{colSpan:5,className:"text-center text-muted-foreground",children:"Aucune participation à une compétition enregistrée."})})})]})})]})})]})},KJ=()=>{const[e,t]=m.useState([]),[n,r]=m.useState([]),[i,o]=m.useState(!0),{toast:l}=et();m.useEffect(()=>{(async()=>{o(!0);const{data:f,error:p}=await te.from("competitions").select("id, name, start_date, categories, disciplines").order("start_date",{ascending:!0});if(p){l({title:"Erreur",description:"Impossible de charger les compétitions.",variant:"destructive"}),o(!1);return}t(f);const{data:v,error:x}=await te.from("competition_participants").select("competition_id, role, members(id, first_name, last_name, category)").eq("role","Competiteur");if(x){l({title:"Erreur",description:"Impossible de charger les participants.",variant:"destructive"}),o(!1);return}r(v),o(!1)})()},[l]);const c=h=>{const f=e.filter(x=>x.disciplines.includes(h));if(f.length===0)return{competitors:[],competitions:[]};const p=new Map;return n.forEach(x=>{if(f.some(w=>w.id===x.competition_id)){if(!x.members)return;const w=x.members.id;p.has(w)||p.set(w,{member:x.members,inscriptions:new Array(f.length).fill(!1)});const y=f.findIndex(S=>S.id===x.competition_id);y!==-1&&(p.get(w).inscriptions[y]=!0)}}),{competitors:Array.from(p.values()).sort((x,w)=>x.member.last_name.localeCompare(w.member.last_name)),competitions:f}},u=({title:h,discipline:f})=>{const{competitors:p,competitions:v}=c(f);if(v.length===0)return null;const x=f==="Bloc"?XE:f==="Difficulté"?h3:$n;return s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-3",children:[s.jsx(x,{className:`w-6 h-6 ${f==="Bloc"?"text-purple-500":"text-green-500"}`}),h]})}),s.jsx(ge,{children:p.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Sn,{children:[s.jsx(En,{children:s.jsxs(qe,{children:[s.jsx(me,{className:"w-[200px] min-w-[150px]",children:"Compétiteur"}),v.map(w=>s.jsx(me,{className:"text-center min-w-[100px]",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{children:w.name}),s.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:new Date(w.start_date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})})]})},w.id))]})}),s.jsx(Nn,{children:p.map(({member:w,inscriptions:y})=>s.jsxs(qe,{children:[s.jsx(xe,{className:"font-medium",children:Ye(w.first_name,w.last_name,!0)}),y.map((S,j)=>s.jsx(xe,{className:"text-center",children:S&&s.jsx(Ty,{className:"w-5 h-5 text-green-500 mx-auto"})},j))]},w.id))})]})}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun compétiteur inscrit pour cette discipline."})})]})};return i?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Récapitulatif par Compétiteur - Club d'Escalade"}),s.jsx("meta",{name:"description",content:"Tableau récapitulatif des inscriptions par compétiteur et par discipline"})]}),s.jsxs(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center gap-4",children:[s.jsxs(ee,{variant:"ghost",onClick:()=>window.history.back(),className:"flex items-center gap-2",children:[s.jsx(is,{className:"w-4 h-4"}),"Retour"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold headline",children:"Inscriptions par Compétiteur"}),s.jsx("p",{className:"text-xl text-muted-foreground mt-2",children:"Qui participe à quelle compétition ?"})]})]}),s.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"space-y-12",children:[s.jsx(u,{title:"Discipline Bloc",discipline:"Bloc"}),s.jsx(u,{title:"Discipline Difficulté",discipline:"Difficulté"}),s.jsx(u,{title:"Discipline Vitesse",discipline:"Vitesse"})]})]})},JJ=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),{toast:i}=et();m.useEffect(()=>{(async()=>{r(!0);const{data:c,error:u}=await te.from("competitions").select("id, name, location, start_date, disciplines").order("start_date",{ascending:!1});if(u){i({title:"Erreur",description:"Impossible de charger les compétitions.",variant:"destructive"}),r(!1);return}const{data:h,error:f}=await te.from("competition_participants").select("competition_id, role");if(f){i({title:"Erreur",description:"Impossible de charger les participants.",variant:"destructive"}),r(!1);return}const p=c.map(v=>{const x=h.filter(j=>j.competition_id===v.id),w=x.filter(j=>j.role==="Coach").length,y=x.filter(j=>j.role==="Arbitre").length,S=x.filter(j=>j.role==="Competiteur").length;return{...v,coaches:w,arbitres:y,competiteurs:S,total:x.length}});t(p),r(!1)})()},[i]);const o=({discipline:l})=>{const c=l.toLowerCase().replace(/ /g,"");let u="default";return c.includes("bloc")?u="bloc":c.includes("difficulté")?u="difficulte":c.includes("vitesse")&&(u="vitesse"),s.jsx(Te,{variant:u,children:l})};return n?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs(wt,{children:[s.jsx("title",{children:"Récapitulatif des Inscriptions - Club d'Escalade"}),s.jsx("meta",{name:"description",content:"Tableau récapitulatif des inscriptions aux compétitions d'escalade"})]}),s.jsxs(de.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center gap-4",children:[s.jsxs(ee,{variant:"ghost",onClick:()=>window.history.back(),className:"flex items-center gap-2",children:[s.jsx(is,{className:"w-4 h-4"}),"Retour"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold headline",children:"Récapitulatif des Inscriptions"}),s.jsx("p",{className:"text-xl text-muted-foreground mt-2",children:"Vue d'ensemble des participants par compétition"})]})]}),s.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx($n,{className:"w-5 h-5 text-primary"}),"Tableau des Inscriptions"]})}),s.jsx(ge,{children:s.jsxs(Sn,{children:[s.jsx(En,{children:s.jsxs(qe,{children:[s.jsx(me,{children:"Compétition"}),s.jsx(me,{children:"Date"}),s.jsx(me,{children:"Discipline"}),s.jsx(me,{className:"text-center",children:"Coachs"}),s.jsx(me,{className:"text-center",children:"Arbitres"}),s.jsx(me,{className:"text-center",children:"Compétiteurs"}),s.jsx(me,{className:"text-center",children:"Total"})]})}),s.jsx(Nn,{children:e.map(l=>s.jsxs(qe,{children:[s.jsx(xe,{className:"font-medium",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:l.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:l.location})]})}),s.jsx(xe,{children:new Date(l.start_date).toLocaleDateString("fr-FR")}),s.jsx(xe,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:l.disciplines.map(c=>s.jsx(o,{discipline:c},c))})}),s.jsx(xe,{className:"text-center",children:s.jsx(Te,{variant:"secondary",children:l.coaches})}),s.jsx(xe,{className:"text-center",children:s.jsx(Te,{variant:"secondary",children:l.arbitres})}),s.jsx(xe,{className:"text-center",children:s.jsx(Te,{variant:"default",children:l.competiteurs})}),s.jsx(xe,{className:"text-center",children:s.jsx(Te,{variant:"outline",className:"font-bold",children:l.total})})]},l.id))})]})})]})}),s.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid md:grid-cols-3 gap-6",children:[s.jsxs(pe,{children:[s.jsx(Se,{className:"pb-3",children:s.jsx(Ee,{className:"text-lg",children:"Total Participants"})}),s.jsx(ge,{children:s.jsx("div",{className:"text-3xl font-bold text-primary",children:e.reduce((l,c)=>l+c.total,0)})})]}),s.jsxs(pe,{children:[s.jsx(Se,{className:"pb-3",children:s.jsx(Ee,{className:"text-lg",children:"Compétitions"})}),s.jsx(ge,{children:s.jsx("div",{className:"text-3xl font-bold text-primary",children:e.length})})]}),s.jsxs(pe,{children:[s.jsx(Se,{className:"pb-3",children:s.jsx(Ee,{className:"text-lg",children:"Moyenne par Compétition"})}),s.jsx(ge,{children:s.jsx("div",{className:"text-3xl font-bold text-primary",children:e.length>0?Math.round(e.reduce((l,c)=>l+c.total,0)/e.length):0})})]})]})]})},Qj=()=>{const e=Pn(),{id:t}=kh(),{toast:n}=et(),r=!!t,[i,o]=m.useState({name:"",short_title:"",description:"",start_date:"",end_date:"",location:"",prix:"",niveau:"",nature:"",disciplines:[],categories:[],url_registration:"",url_details:"",details_pratiques:"",details_format:"",image_url:"",photo_gallery:[]}),[l,c]=m.useState(!1),[u,h]=m.useState(!1),f=["national","Coupe","Bloc","régional","départemental"],p=["Compétition","Stage","Formation","Événement"],v=["Voie","Bloc","Vitesse","Combiné"],x=["U11","U13","U15","U17","U19","Sénior","Vétéran"];m.useEffect(()=>{r&&w()},[t]);const w=async()=>{c(!0);try{const{data:A,error:T}=await te.from("competitions").select("*").eq("id",t).single();if(T)throw T;o({...A,disciplines:A.disciplines||[],categories:A.categories||[],photo_gallery:A.photo_gallery||[]})}catch(A){console.error("Erreur lors du chargement:",A),n({title:"Erreur",description:"Impossible de charger la compétition.",variant:"destructive"})}finally{c(!1)}},y=(A,T)=>{o(I=>({...I,[A]:T}))},S=A=>{o(T=>({...T,disciplines:T.disciplines.includes(A)?T.disciplines.filter(I=>I!==A):[...T.disciplines,A]}))},j=A=>{o(T=>({...T,categories:T.categories.includes(A)?T.categories.filter(I=>I!==A):[...T.categories,A]}))},b=()=>{const A=prompt("URL de la photo:");A&&o(T=>({...T,photo_gallery:[...T.photo_gallery,A]}))},C=A=>{o(T=>({...T,photo_gallery:T.photo_gallery.filter((I,M)=>M!==A)}))},N=()=>i.name.trim()?i.start_date?i.location.trim()?i.end_date&&i.end_date<i.start_date?(n({title:"Erreur",description:"La date de fin ne peut pas être antérieure à la date de début.",variant:"destructive"}),!1):!0:(n({title:"Erreur",description:"Le lieu est obligatoire.",variant:"destructive"}),!1):(n({title:"Erreur",description:"La date de début est obligatoire.",variant:"destructive"}),!1):(n({title:"Erreur",description:"Le nom de la compétition est obligatoire.",variant:"destructive"}),!1),P=async()=>{if(N()){h(!0);try{const A={...i,prix:i.prix?parseFloat(i.prix):null,end_date:i.end_date||null};if(r){const{error:T}=await te.from("competitions").update(A).eq("id",t);if(T)throw T;n({title:"Succès",description:"Compétition modifiée avec succès !",variant:"default"})}else{const{error:T}=await te.from("competitions").insert([A]);if(T)throw T;n({title:"Succès",description:"Compétition créée avec succès !",variant:"default"})}e("/competitions")}catch(A){console.error("Erreur lors de la sauvegarde:",A),n({title:"Erreur",description:"Impossible de sauvegarder la compétition.",variant:"destructive"})}finally{h(!1)}}};return l?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ee,{variant:"outline",onClick:()=>e("/competitions"),children:[s.jsx(is,{className:"w-4 h-4 mr-2"}),"Retour"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:r?"Modifier la compétition":"Créer une compétition"}),s.jsx("p",{className:"text-muted-foreground",children:r?"Modifiez les informations de la compétition":"Ajoutez une nouvelle compétition au club"})]})]}),s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(ya,{className:"w-5 h-5"}),"Informations générales"]})}),s.jsxs(ge,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"name",children:"Nom de la compétition *"}),s.jsx(we,{id:"name",value:i.name,onChange:A=>y("name",A.target.value),placeholder:"Ex: Championnat Régional d'Escalade"})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"short_title",children:"Titre court"}),s.jsx(we,{id:"short_title",value:i.short_title,onChange:A=>y("short_title",A.target.value),placeholder:"Ex: Régional Escalade 2024"})]})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"description",children:"Description"}),s.jsx(Dt,{id:"description",value:i.description,onChange:A=>y("description",A.target.value),placeholder:"Description détaillée de la compétition...",rows:4})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"start_date",children:"Date de début *"}),s.jsx(we,{id:"start_date",type:"date",value:i.start_date,onChange:A=>y("start_date",A.target.value)})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"end_date",children:"Date de fin"}),s.jsx(we,{id:"end_date",type:"date",value:i.end_date,onChange:A=>y("end_date",A.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"location",children:"Lieu *"}),s.jsx(we,{id:"location",value:i.location,onChange:A=>y("location",A.target.value),placeholder:"Ex: Salle d'escalade de Lyon"})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"prix",children:"Prix d'entrée (€)"}),s.jsx(we,{id:"prix",type:"number",step:"0.01",value:i.prix,onChange:A=>y("prix",A.target.value),placeholder:"Ex: 25.00"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"niveau",children:"Niveau"}),s.jsxs(yt,{value:i.niveau,onValueChange:A=>y("niveau",A),children:[s.jsx(ht,{children:s.jsx(xt,{placeholder:"Sélectionner un niveau"})}),s.jsx(ft,{children:f.map(A=>s.jsx(De,{value:A,children:A},A))})]})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"nature",children:"Nature"}),s.jsxs(yt,{value:i.nature,onValueChange:A=>y("nature",A),children:[s.jsx(ht,{children:s.jsx(xt,{placeholder:"Sélectionner une nature"})}),s.jsx(ft,{children:p.map(A=>s.jsx(De,{value:A,children:A},A))})]})]})]})]})]}),s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsx(Ee,{children:"Disciplines et catégories"})}),s.jsxs(ge,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Disciplines"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:v.map(A=>s.jsx(ee,{variant:i.disciplines.includes(A)?"default":"outline",size:"sm",onClick:()=>S(A),children:A},A))})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Catégories"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:x.map(A=>s.jsx(ee,{variant:i.categories.includes(A)?"default":"outline",size:"sm",onClick:()=>j(A),children:A},A))})]})]})]}),s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(eo,{className:"w-5 h-5"}),"Liens et informations pratiques"]})}),s.jsxs(ge,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"url_registration",children:"URL d'inscription"}),s.jsx(we,{id:"url_registration",type:"url",value:i.url_registration,onChange:A=>y("url_registration",A.target.value),placeholder:"https://..."})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"url_details",children:"URL de détails"}),s.jsx(we,{id:"url_details",type:"url",value:i.url_details,onChange:A=>y("url_details",A.target.value),placeholder:"https://..."})]})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"details_pratiques",children:"Informations pratiques"}),s.jsx(Dt,{id:"details_pratiques",value:i.details_pratiques,onChange:A=>y("details_pratiques",A.target.value),placeholder:"Horaires, matériel requis, consignes...",rows:3})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"details_format",children:"Format de la compétition"}),s.jsx(Dt,{id:"details_format",value:i.details_format,onChange:A=>y("details_format",A.target.value),placeholder:"Qualification, demi-finales, finales...",rows:3})]})]})]}),s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-2",children:[s.jsx(Dy,{className:"w-5 h-5"}),"Images"]})}),s.jsxs(ge,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"image_url",children:"Image principale (URL)"}),s.jsx(we,{id:"image_url",type:"url",value:i.image_url,onChange:A=>y("image_url",A.target.value),placeholder:"https://..."})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(le,{children:"Galerie photo"}),s.jsxs(ee,{variant:"outline",size:"sm",onClick:b,children:[s.jsx(_a,{className:"w-4 h-4 mr-1"}),"Ajouter une photo"]})]}),i.photo_gallery.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:i.photo_gallery.map((A,T)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:A,alt:`Photo ${T+1}`,className:"w-full h-20 object-cover rounded border"}),s.jsx(ee,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 w-6 h-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>C(T),children:s.jsx(jr,{className:"w-3 h-3"})})]},T))})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pb-8",children:[s.jsx(ee,{variant:"outline",onClick:()=>e("/competitions"),children:"Annuler"}),s.jsx(ee,{onClick:P,disabled:u,children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Sauvegarde..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ih,{className:"w-4 h-4 mr-2"}),r?"Modifier":"Créer"]})})]})]})},YJ=()=>{const{id:e}=kh(),t=Pn(),{toast:n}=et(),{showMemberDetails:r}=wr(),[i,o]=m.useState(null),[l,c]=m.useState([]),[u,h]=m.useState([]),[f,p]=m.useState([]),[v,x]=m.useState("");m.useState("");const[w,y]=m.useState(!0),[S,j]=m.useState(!1),[b,C]=m.useState([]),[N,P]=m.useState("Competiteur"),[A,T]=m.useState(!1),[I,M]=m.useState([]),[U,G]=m.useState(""),[z,J]=m.useState([]),$=["Competiteur","Coach","Arbitre","Organisateur"],k=["Homme","Femme"];m.useEffect(()=>{e&&(async()=>{y(!0);try{const{data:q,error:Z}=await te.from("competitions").select("*").eq("id",e).single();if(Z)throw Z;o(q);const{data:X,error:ie}=await te.from("competition_participants").select("*").eq("competition_id",e).order("role").order("created_at");if(ie)throw ie;let ne=[];if(X&&X.length>0){const Ce=X.map(Ze=>Ze.member_id),{data:Ae,error:ze}=await te.from("members").select("*").in("id",Ce);if(ze)throw ze;ne=X.map(Ze=>({...Ze,members:(Ae==null?void 0:Ae.find(hn=>hn.id===Ze.member_id))||null}))}c(ne);const{data:ue,error:be}=await te.from("members").select("*").order("last_name");if(be)throw be;h(ue||[]),p(ue||[]);const _e=[...new Set(ue==null?void 0:ue.map(Ce=>Ce.category).filter(Boolean))];J(_e.sort()),M(_e)}catch(q){console.error("Error loading data:",q),n({title:"Erreur",description:"Impossible de charger les données.",variant:"destructive"})}finally{y(!1)}})()},[e,n]),m.useEffect(()=>{let B=u;const q=l.map(Z=>Z.member_id);B=B.filter(Z=>!q.includes(Z.id)),v&&(B=B.filter(Z=>{var X;return`${Z.first_name} ${Z.last_name}`.toLowerCase().includes(v.toLowerCase())||((X=Z.category)==null?void 0:X.toLowerCase().includes(v.toLowerCase()))})),I.length>0&&(B=B.filter(Z=>I.includes(Z.category))),U&&(B=B.filter(Z=>Z.sexe===U)),p(B)},[u,l,v,I,U]);const O=async()=>{if(b.length===0){n({title:"Attention",description:"Veuillez sélectionner au moins un membre."});return}T(!0);try{const B=b.map(X=>({competition_id:e,member_id:X,role:N})),{error:q}=await te.from("competition_participants").insert(B);if(q)throw q;n({title:"Succès",description:`${b.length} participant(s) ajouté(s).`});const{data:Z}=await te.from("competition_participants").select(`
          *,
          members (*)
        `).eq("competition_id",e).order("role").order("last_name",{foreignTable:"members"});c(Z||[]),C([]),j(!1)}catch(B){console.error("Error adding participants:",B),n({title:"Erreur",description:"Impossible d'ajouter les participants.",variant:"destructive"})}finally{T(!1)}},F=async B=>{if(window.confirm("Êtes-vous sûr de vouloir retirer ce participant ?"))try{const{error:q}=await te.from("competition_participants").delete().eq("id",B);if(q)throw q;c(Z=>Z.filter(X=>X.id!==B)),n({title:"Succès",description:"Participant retiré de la compétition."})}catch(q){console.error("Error removing participant:",q),n({title:"Erreur",description:"Impossible de retirer le participant.",variant:"destructive"})}},D=B=>{M(q=>q.includes(B)?q.filter(Z=>Z!==B):[...q,B])},H=()=>{I.length===z.length?M([]):M([...z])},W=B=>{C(q=>q.includes(B)?q.filter(Z=>Z!==B):[...q,B])};if(w)return s.jsx("div",{className:"flex justify-center items-center py-8",children:"Chargement..."});if(!i)return s.jsx("div",{className:"text-center py-8",children:"Compétition non trouvée."});const Q=l.reduce((B,q)=>{const Z=q.role||"Autre";return B[Z]||(B[Z]=[]),B[Z].push(q),B},{});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ee,{variant:"ghost",onClick:()=>t("/competitions"),children:[s.jsx(is,{className:"w-4 h-4 mr-2"}),"Retour aux compétitions"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:i.name}),s.jsx("p",{className:"text-muted-foreground",children:"Gestion des participants"})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx($n,{className:"w-5 h-5"}),"Participants (",l.length,")"]}),s.jsxs(ee,{onClick:()=>j(!0),children:[s.jsx(_a,{className:"w-4 h-4 mr-2"}),"Ajouter des participants"]})]}),s.jsxs("div",{className:"space-y-6",children:[Object.entries(Q).map(([B,q])=>s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs(Ee,{className:"flex items-center gap-2",children:[B==="Competiteur"?s.jsx(Ia,{className:"w-5 h-5"}):s.jsx(Zd,{className:"w-5 h-5"}),B," (",q.length,")"]})}),s.jsx(ge,{children:s.jsx("div",{className:"space-y-2",children:q.map(Z=>{var X,ie,ne,ue,be;return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsx("div",{className:"flex items-center gap-3 cursor-pointer flex-1",onClick:()=>{var _e;return((_e=Z.members)==null?void 0:_e.id)&&r(Z.members.id)},children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(X=Z.members)!=null&&X.last_name&&((ie=Z.members)!=null&&ie.first_name)?`${Z.members.last_name.toUpperCase()} ${Z.members.first_name}`:`Membre non trouvé (ID: ${Z.member_id})`}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded font-medium ${((ne=Z.members)==null?void 0:ne.sexe)==="Femme"?"bg-pink-100 text-pink-700 border border-pink-200":"bg-blue-100 text-blue-700 border border-blue-200"}`,children:((ue=Z.members)==null?void 0:ue.category)||"Catégorie inconnue"}),s.jsx("span",{children:"•"}),s.jsx("span",{children:((be=Z.members)==null?void 0:be.sexe)||"Sexe inconnu"}),Z.ranking&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsxs(Te,{variant:"outline",className:"text-xs",children:["Classé ",Z.ranking,Z.nb_competitor&&`/${Z.nb_competitor}`]})]})]})]})}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>F(Z.id),className:"text-destructive hover:text-destructive",children:s.jsx(br,{className:"w-4 h-4"})})]},Z.id)})})})]},B)),l.length===0&&s.jsx(pe,{children:s.jsxs(ge,{className:"text-center py-8",children:[s.jsx($n,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Aucun participant"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Cette compétition n'a pas encore de participants."}),s.jsxs(ee,{onClick:()=>j(!0),children:[s.jsx(_a,{className:"w-4 h-4 mr-2"}),"Ajouter le premier participant"]})]})})]}),s.jsx(Ot,{open:S,onOpenChange:j,children:s.jsxs(Tt,{className:"max-w-5xl max-h-[85vh] overflow-hidden flex flex-col",children:[s.jsx(Ht,{children:s.jsxs(Wt,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Ajouter des participants"}),s.jsxs(Te,{variant:"outline",children:[f.length," membre(s) disponible(s)"]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4",children:[s.jsxs("div",{className:"space-y-4 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Rechercher un membre"}),s.jsxs("div",{className:"relative",children:[s.jsx(vi,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(we,{placeholder:"Nom, prénom...",value:v,onChange:B=>x(B.target.value),className:"pl-10"})]})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Rôle à attribuer"}),s.jsxs(yt,{value:N,onValueChange:P,children:[s.jsx(ht,{children:s.jsx(xt,{})}),s.jsx(ft,{children:$.map(B=>s.jsx(De,{value:B,children:B},B))})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(le,{children:"Catégories"}),s.jsx(ee,{variant:"ghost",size:"sm",onClick:H,className:"text-xs",children:I.length===z.length?"Tout désélectionner":"Tout sélectionner"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(B=>s.jsx(Te,{variant:I.includes(B)?"default":"outline",className:"cursor-pointer text-xs",onClick:()=>D(B),children:B},B))})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Sexe"}),s.jsxs(yt,{value:U,onValueChange:G,children:[s.jsx(ht,{children:s.jsx(xt,{placeholder:"Tous"})}),s.jsxs(ft,{children:[s.jsx(De,{value:"",children:"Tous"}),k.map(B=>s.jsx(De,{value:B,children:B},B))]})]})]}),b.length>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Te,{variant:"default",className:"bg-blue-600",children:[b.length," membre(s) sélectionné(s)"]}),s.jsxs("span",{className:"text-sm text-blue-700",children:["sur ",f.length," disponible(s)"]})]}),s.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>C([]),className:"text-blue-700 hover:text-blue-800 hover:bg-blue-100",children:[s.jsx(jr,{className:"w-3 h-3 mr-1"}),"Tout désélectionner"]})]})]}),s.jsx("div",{className:"space-y-2",children:f.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:v||I.length<z.length||U?"Aucun membre trouvé avec ces filtres.":"Tous les membres sont déjà participants."}):s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-primary text-primary-foreground",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4 p-3 font-medium",children:[s.jsx("div",{className:"col-span-1 flex items-center justify-center",children:s.jsx("input",{type:"checkbox",checked:b.length===f.length&&f.length>0,onChange:()=>{b.length===f.length?C([]):C(f.map(B=>B.id))},className:"w-4 h-4"})}),s.jsx("div",{className:"col-span-3",children:"Nom"}),s.jsx("div",{className:"col-span-3",children:"Prénom"}),s.jsx("div",{className:"col-span-2",children:"Licence"}),s.jsx("div",{className:"col-span-3",children:"Catégorie"})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:f.sort((B,q)=>B.last_name.localeCompare(q.last_name)).map((B,q)=>{var Z;return s.jsxs("div",{className:`grid grid-cols-12 gap-4 p-3 border-b cursor-pointer transition-colors ${b.includes(B.id)?"bg-blue-50 border-blue-200":q%2===0?"bg-white":"bg-gray-50"} hover:bg-blue-100`,onClick:()=>W(B.id),children:[s.jsx("div",{className:"col-span-1 flex items-center justify-center",children:s.jsx("input",{type:"checkbox",checked:b.includes(B.id),onChange:()=>W(B.id),className:"w-4 h-4"})}),s.jsx("div",{className:"col-span-3 font-medium",children:((Z=B.last_name)==null?void 0:Z.toUpperCase())||""}),s.jsx("div",{className:"col-span-3",children:B.first_name||""}),s.jsx("div",{className:"col-span-2 text-sm text-muted-foreground",children:B.licence||"-"}),s.jsx("div",{className:"col-span-3",children:s.jsx(Te,{variant:b.includes(B.id)?"default":"outline",className:"text-xs",children:B.category||"-"})})]},B.id)})})]})})]}),s.jsxs(or,{className:"pt-4",children:[s.jsx(ee,{variant:"outline",onClick:()=>j(!1),children:"Annuler"}),s.jsxs(ee,{onClick:O,disabled:b.length===0||A,children:[A&&s.jsx(Ih,{className:"w-4 h-4 mr-2 animate-spin"}),"Ajouter ",b.length>0&&`(${b.length})`]})]})]})})]})},XJ=()=>{var w;const{isDetailVisible:e,hideMemberDetails:t,selectedMember:n,loading:r,openEditFormForMember:i,showMemberDetails:o}=wr(),{isAdmin:l}=tn(),c=Pn(),u=(y,S)=>`${(y==null?void 0:y[0])||""}${(S==null?void 0:S[0])||""}`.toUpperCase(),h=()=>{n&&i(n)},f=y=>{y&&o(y)},p=()=>{n&&(t(),c(`/competitor-summary/${n.id}`))},v=[...n!=null&&n.sub_group?[n.sub_group]:[],...(n==null?void 0:n.dynamic_roles)||[]].filter(Boolean),x=(w=n==null?void 0:n.title)==null?void 0:w.startsWith("Compétition");return s.jsx(Ot,{open:e,onOpenChange:t,children:s.jsx(Tt,{className:"sm:max-w-md",children:s.jsx(Lt,{children:r?s.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-center items-center h-96",children:s.jsx($e,{className:"h-12 w-12 animate-spin text-primary"})},"loader"):n&&s.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},children:[s.jsxs(Ht,{className:"items-center text-center",children:[s.jsxs(us,{className:"w-24 h-24 mb-4",children:[s.jsx(ds,{src:n.photo_url,alt:Ye(n.first_name,n.last_name,l)}),s.jsx(hs,{className:"text-3xl",children:u(n.first_name,n.last_name)})]}),s.jsx(Wt,{className:"text-2xl",children:Ye(n.first_name,n.last_name,l)})]}),s.jsxs("div",{className:"py-4 space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[v.map(y=>s.jsxs(Te,{variant:"secondary",children:[s.jsx(r3,{className:"w-3 h-3 mr-1.5"}),y]},y)),n.passeport&&s.jsxs(Te,{variant:"outline",children:[s.jsx(rN,{className:"w-3 h-3 mr-1.5"}),"Passeport ",n.passeport]})]}),n.sexe&&s.jsx("div",{className:"flex justify-center",children:s.jsxs("span",{className:`text-sm px-3 py-1.5 rounded-lg font-medium flex items-center gap-2 ${n.sexe==="F"?"bg-pink-100 text-pink-700 border border-pink-200":"bg-blue-100 text-blue-700 border border-blue-200"}`,children:[n.sexe==="F"?"👩":"👨",n.sexe==="F"?"Femme":"Homme"]})}),s.jsxs("div",{className:"space-y-2",children:[n.email&&s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx(JE,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("a",{href:`mailto:${n.email}`,className:"hover:underline",children:n.email})]}),n.phone&&s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx(w3,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("a",{href:`tel:${n.phone}`,className:"hover:underline",children:n.phone})]}),n.licence&&s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx(VE,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:["Licence FFME: ",n.licence]})]})]}),n.brevet_federaux&&n.brevet_federaux.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[s.jsx(Lh,{className:"w-4 h-4"})," Brevets Fédéraux"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.brevet_federaux.map(y=>s.jsx(Te,{variant:"default",children:y},y))})]}),(n.emergency_contact_1||n.emergency_contact_2)&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[s.jsx(Mh,{className:"w-4 h-4"})," Contacts d'urgence"]}),s.jsxs("ul",{className:"text-sm list-inside space-y-1",children:[n.emergency_contact_1&&s.jsxs("li",{className:"cursor-pointer hover:underline",onClick:()=>f(n.emergency_contact_1.id),children:[Ye(n.emergency_contact_1.first_name,n.emergency_contact_1.last_name,l)," ",l&&n.emergency_contact_1.phone&&`(${n.emergency_contact_1.phone})`]}),n.emergency_contact_2&&s.jsxs("li",{className:"cursor-pointer hover:underline",onClick:()=>f(n.emergency_contact_2.id),children:[Ye(n.emergency_contact_2.first_name,n.emergency_contact_2.last_name,l)," ",l&&n.emergency_contact_2.phone&&`(${n.emergency_contact_2.phone})`]})]})]}),n.isEmergencyContactFor&&n.isEmergencyContactFor.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[s.jsx($n,{className:"w-4 h-4"})," Contact d'urgence pour"]}),s.jsx("ul",{className:"text-sm list-inside space-y-1",children:n.isEmergencyContactFor.map(y=>s.jsx("li",{className:"cursor-pointer hover:underline",onClick:()=>f(y.id),children:Ye(y.first_name,y.last_name,l)},y.id))})]})]}),s.jsxs(or,{className:"flex-col gap-2",children:[x&&s.jsxs(ee,{onClick:p,variant:"outline",className:"w-full",children:[s.jsx(Ia,{className:"mr-2 h-4 w-4"})," Voir le palmarès"]}),l&&s.jsxs(ee,{onClick:h,className:"w-full",children:[s.jsx(Zr,{className:"mr-2 h-4 w-4"})," Modifier le membre"]})]})]},"content")})})})},QJ=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"}),s.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"Chargement..."})]})}),eY=()=>{const{isFormVisible:e,editingMember:t,closeEditForm:n}=wr(),{toast:r}=et(),[i,o]=m.useState(!1),l=async(c,u)=>{o(!0);try{let h=c.photo_url;u||c.photo_url===null&&(h=null);const{profiles:f,dynamic_roles:p,isEmergencyContactFor:v,emergency_contact_1:x,emergency_contact_2:w,...y}={...c,photo_url:h};console.log("Données à sauvegarder:",y),console.log("Sexe dans les données:",y.sexe);const{error:S}=await te.from("members").update(y).eq("id",t.id);if(S)throw S;r({title:"Succès",description:"Membre modifié avec succès"}),n(),window.location.reload()}catch(h){console.error("Erreur lors de la sauvegarde:",h),r({title:"Erreur",description:"Erreur lors de la modification du membre",variant:"destructive"})}finally{o(!1)}};return!e||!t?null:s.jsx(Rf,{member:t,onSave:l,onCancel:n,isSaving:i})},tY=()=>{const{loading:e}=tn();return e?s.jsx(QJ,{}):s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsxs(j4,{children:[s.jsx("title",{children:"ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Application web du club d'escalade ALJ Escalade Jonage - Compétitions, planning et bénévoles"})]}),s.jsx(DH,{}),s.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:s.jsxs(p$,{children:[s.jsx(rt,{path:"/",element:s.jsx(pj,{})}),s.jsx(rt,{path:"/news",element:s.jsx(pj,{})}),s.jsx(rt,{path:"/news/:id",element:s.jsx(ZW,{})}),s.jsx(rt,{path:"/competitions",element:s.jsx(pq,{})}),s.jsx(rt,{path:"/competitions/new",element:s.jsx(Qj,{})}),s.jsx(rt,{path:"/competitions/edit/:id",element:s.jsx(Qj,{})}),s.jsx(rt,{path:"/competitions/participants/:id",element:s.jsx(YJ,{})}),s.jsx(rt,{path:"/competitions-summary",element:s.jsx(JJ,{})}),s.jsx(rt,{path:"/inscriptions-summary",element:s.jsx(KJ,{})}),s.jsx(rt,{path:"/competitors",element:s.jsx(VK,{})}),s.jsx(rt,{path:"/volunteers",element:s.jsx(IK,{})}),s.jsx(rt,{path:"/agenda",element:s.jsx(DK,{})}),s.jsx(rt,{path:"/schedule",element:s.jsx($K,{})}),s.jsx(rt,{path:"/session-log",element:s.jsx(YK,{})}),s.jsx(rt,{path:"/pedagogy",element:s.jsx(tJ,{})}),s.jsx(rt,{path:"/members",element:s.jsx(rJ,{})}),s.jsx(rt,{path:"/inscriptions",element:s.jsx(zJ,{})}),s.jsx(rt,{path:"/contact",element:s.jsx(wJ,{})}),s.jsx(rt,{path:"/site-settings",element:s.jsx(bJ,{})}),s.jsx(rt,{path:"/annual-summary",element:s.jsx(jJ,{})}),s.jsx(rt,{path:"/admin-management",element:s.jsx(UJ,{})}),s.jsx(rt,{path:"/image-admin",element:s.jsx(WJ,{})}),s.jsx(rt,{path:"/setup",element:s.jsx(GJ,{})}),s.jsx(rt,{path:"/competitor-summary/:memberId",element:s.jsx(qJ,{})})]})}),s.jsx(BH,{}),s.jsx(E5,{}),s.jsx(XJ,{}),s.jsx(eY,{})]})};function nY(){return console.log("⚛️ Composant App monté avec succès"),console.log("🔧 React Router configuré pour GitHub Pages"),s.jsx(j$,{basename:"/ALJ_Jonage_Escalade",children:s.jsx(Z8,{children:s.jsx(JV,{children:s.jsx(pG,{children:s.jsx(tY,{})})})})})}console.log("🚀 ALJ Jonage Escalade - Application démarrée avec succès !");console.log("🔢 Version: 2.4.0 - Accordéon pour compétitions ajouté ! 🎵");console.log("� Nouveauté: Accordéon avec prochaine compétition ouverte par défaut");console.log("🎯 Interface: En-têtes compacts avec titre, date, lieu et niveau");console.log("📅 Chargement à:",new Date().toLocaleString("fr-FR"));console.log("🌐 URL actuelle:",window.location.href);console.log("📦 Mode de déploiement: GitHub Pages (gh-pages branch)");Tp.createRoot(document.getElementById("root")).render(s.jsx(nY,{}));
