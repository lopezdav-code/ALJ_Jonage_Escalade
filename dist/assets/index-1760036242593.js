function LC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var OC={exports:{}},Ih={},MC={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bc=Symbol.for("react.element"),VM=Symbol.for("react.portal"),HM=Symbol.for("react.fragment"),WM=Symbol.for("react.strict_mode"),GM=Symbol.for("react.profiler"),qM=Symbol.for("react.provider"),ZM=Symbol.for("react.context"),KM=Symbol.for("react.forward_ref"),YM=Symbol.for("react.suspense"),JM=Symbol.for("react.memo"),XM=Symbol.for("react.lazy"),uw=Symbol.iterator;function QM(e){return e===null||typeof e!="object"?null:(e=uw&&e[uw]||e["@@iterator"],typeof e=="function"?e:null)}var IC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DC=Object.assign,$C={};function Ua(e,t,n){this.props=e,this.context=t,this.refs=$C,this.updater=n||IC}Ua.prototype.isReactComponent={};Ua.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ua.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function FC(){}FC.prototype=Ua.prototype;function sx(e,t,n){this.props=e,this.context=t,this.refs=$C,this.updater=n||IC}var ox=sx.prototype=new FC;ox.constructor=sx;DC(ox,Ua.prototype);ox.isPureReactComponent=!0;var dw=Array.isArray,BC=Object.prototype.hasOwnProperty,ax={current:null},UC={key:!0,ref:!0,__self:!0,__source:!0};function zC(e,t,n){var r,i={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)BC.call(t,r)&&!UC.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var u=Array(c),h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Bc,type:e,key:o,ref:l,props:i,_owner:ax.current}}function eI(e,t){return{$$typeof:Bc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bc}function tI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hw=/\/+/g;function Mm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tI(""+e.key):t.toString(36)}function xd(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Bc:case VM:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+Mm(l,0):r,dw(i)?(n="",e!=null&&(n=e.replace(hw,"$&/")+"/"),xd(i,t,n,"",function(h){return h})):i!=null&&(lx(i)&&(i=eI(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(hw,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",dw(e))for(var c=0;c<e.length;c++){o=e[c];var u=r+Mm(o,c);l+=xd(o,t,n,u,i)}else if(u=QM(e),typeof u=="function")for(e=u.call(e),c=0;!(o=e.next()).done;)o=o.value,u=r+Mm(o,c++),l+=xd(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Au(e,t,n){if(e==null)return e;var r=[],i=0;return xd(e,r,"","",function(o){return t.call(n,o,i++)}),r}function nI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pn={current:null},yd={transition:null},rI={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:yd,ReactCurrentOwner:ax};function VC(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Au,forEach:function(e,t,n){Au(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Au(e,function(){t++}),t},toArray:function(e){return Au(e,function(t){return t})||[]},only:function(e){if(!lx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ie.Component=Ua;Ie.Fragment=HM;Ie.Profiler=GM;Ie.PureComponent=sx;Ie.StrictMode=WM;Ie.Suspense=YM;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rI;Ie.act=VC;Ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=DC({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=ax.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)BC.call(t,u)&&!UC.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Bc,type:e.type,key:i,ref:o,props:r,_owner:l}};Ie.createContext=function(e){return e={$$typeof:ZM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qM,_context:e},e.Consumer=e};Ie.createElement=zC;Ie.createFactory=function(e){var t=zC.bind(null,e);return t.type=e,t};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(e){return{$$typeof:KM,render:e}};Ie.isValidElement=lx;Ie.lazy=function(e){return{$$typeof:XM,_payload:{_status:-1,_result:e},_init:nI}};Ie.memo=function(e,t){return{$$typeof:JM,type:e,compare:t===void 0?null:t}};Ie.startTransition=function(e){var t=yd.transition;yd.transition={};try{e()}finally{yd.transition=t}};Ie.unstable_act=VC;Ie.useCallback=function(e,t){return pn.current.useCallback(e,t)};Ie.useContext=function(e){return pn.current.useContext(e)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(e){return pn.current.useDeferredValue(e)};Ie.useEffect=function(e,t){return pn.current.useEffect(e,t)};Ie.useId=function(){return pn.current.useId()};Ie.useImperativeHandle=function(e,t,n){return pn.current.useImperativeHandle(e,t,n)};Ie.useInsertionEffect=function(e,t){return pn.current.useInsertionEffect(e,t)};Ie.useLayoutEffect=function(e,t){return pn.current.useLayoutEffect(e,t)};Ie.useMemo=function(e,t){return pn.current.useMemo(e,t)};Ie.useReducer=function(e,t,n){return pn.current.useReducer(e,t,n)};Ie.useRef=function(e){return pn.current.useRef(e)};Ie.useState=function(e){return pn.current.useState(e)};Ie.useSyncExternalStore=function(e,t,n){return pn.current.useSyncExternalStore(e,t,n)};Ie.useTransition=function(){return pn.current.useTransition()};Ie.version="18.3.1";MC.exports=Ie;var m=MC.exports;const se=_s(m),Uc=LC({__proto__:null,default:se},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI=m,sI=Symbol.for("react.element"),oI=Symbol.for("react.fragment"),aI=Object.prototype.hasOwnProperty,lI=iI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cI={key:!0,ref:!0,__self:!0,__source:!0};function HC(e,t,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)aI.call(t,r)&&!cI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:sI,type:e,key:o,ref:l,props:i,_owner:lI.current}}Ih.Fragment=oI;Ih.jsx=HC;Ih.jsxs=HC;OC.exports=Ih;var s=OC.exports,ng={},WC={exports:{}},Vn={},GC={exports:{}},qC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,H){var G=D.length;D.push(H);e:for(;0<G;){var ee=G-1>>>1,z=D[ee];if(0<i(z,H))D[ee]=H,D[G]=z,G=ee;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var H=D[0],G=D.pop();if(G!==H){D[0]=G;e:for(var ee=0,z=D.length,Z=z>>>1;ee<Z;){var q=2*(ee+1)-1,Q=D[q],ie=q+1,ne=D[ie];if(0>i(Q,G))ie<z&&0>i(ne,Q)?(D[ee]=ne,D[ie]=G,ee=ie):(D[ee]=Q,D[q]=G,ee=q);else if(ie<z&&0>i(ne,G))D[ee]=ne,D[ie]=G,ee=ie;else break e}}return H}function i(D,H){var G=D.sortIndex-H.sortIndex;return G!==0?G:D.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var u=[],h=[],f=1,p=null,v=3,y=!1,w=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(D){for(var H=n(h);H!==null;){if(H.callback===null)r(h);else if(H.startTime<=D)r(h),H.sortIndex=H.expirationTime,t(u,H);else break;H=n(h)}}function N(D){if(x=!1,C(D),!w)if(n(u)!==null)w=!0,I(A);else{var H=n(h);H!==null&&F(N,H.startTime-D)}}function A(D,H){w=!1,x&&(x=!1,j(R),R=-1),y=!0;var G=v;try{for(C(H),p=n(u);p!==null&&(!(p.expirationTime>H)||D&&!W());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,v=p.priorityLevel;var z=ee(p.expirationTime<=H);H=e.unstable_now(),typeof z=="function"?p.callback=z:p===n(u)&&r(u),C(H)}else r(u);p=n(u)}if(p!==null)var Z=!0;else{var q=n(h);q!==null&&F(N,q.startTime-H),Z=!1}return Z}finally{p=null,v=G,y=!1}}var P=!1,T=null,R=-1,O=5,B=-1;function W(){return!(e.unstable_now()-B<O)}function U(){if(T!==null){var D=e.unstable_now();B=D;var H=!0;try{H=T(!0,D)}finally{H?K():(P=!1,T=null)}}else P=!1}var K;if(typeof b=="function")K=function(){b(U)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,k=$.port2;$.port1.onmessage=U,K=function(){k.postMessage(null)}}else K=function(){S(U,0)};function I(D){T=D,P||(P=!0,K())}function F(D,H){R=S(function(){D(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,I(A))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var G=v;v=H;try{return D()}finally{v=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,H){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=v;v=D;try{return H()}finally{v=G}},e.unstable_scheduleCallback=function(D,H,G){var ee=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,D){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=G+z,D={id:f++,callback:H,priorityLevel:D,startTime:G,expirationTime:z,sortIndex:-1},G>ee?(D.sortIndex=G,t(h,D),n(u)===null&&D===n(h)&&(x?(j(R),R=-1):x=!0,F(N,G-ee))):(D.sortIndex=z,t(u,D),w||y||(w=!0,I(A))),D},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(D){var H=v;return function(){var G=v;v=H;try{return D.apply(this,arguments)}finally{v=G}}}})(qC);GC.exports=qC;var uI=GC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dI=m,Bn=uI;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZC=new Set,oc={};function po(e,t){wa(e,t),wa(e+"Capture",t)}function wa(e,t){for(oc[e]=t,e=0;e<t.length;e++)ZC.add(t[e])}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rg=Object.prototype.hasOwnProperty,hI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fw={},mw={};function fI(e){return rg.call(mw,e)?!0:rg.call(fw,e)?!1:hI.test(e)?mw[e]=!0:(fw[e]=!0,!1)}function mI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pI(e,t,n,r){if(t===null||typeof t>"u"||mI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gn(e,t,n,r,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kt[e]=new gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kt[t]=new gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kt[e]=new gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kt[e]=new gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kt[e]=new gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kt[e]=new gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kt[e]=new gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kt[e]=new gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kt[e]=new gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var cx=/[\-:]([a-z])/g;function ux(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cx,ux);Kt[t]=new gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cx,ux);Kt[t]=new gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cx,ux);Kt[t]=new gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kt[e]=new gn(e,1,!1,e.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kt[e]=new gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function dx(e,t,n,r){var i=Kt.hasOwnProperty(t)?Kt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pI(t,n,i,r)&&(n=null),r||i===null?fI(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ni=dI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ku=Symbol.for("react.element"),qo=Symbol.for("react.portal"),Zo=Symbol.for("react.fragment"),hx=Symbol.for("react.strict_mode"),ig=Symbol.for("react.profiler"),KC=Symbol.for("react.provider"),YC=Symbol.for("react.context"),fx=Symbol.for("react.forward_ref"),sg=Symbol.for("react.suspense"),og=Symbol.for("react.suspense_list"),mx=Symbol.for("react.memo"),Ui=Symbol.for("react.lazy"),JC=Symbol.for("react.offscreen"),pw=Symbol.iterator;function fl(e){return e===null||typeof e!="object"?null:(e=pw&&e[pw]||e["@@iterator"],typeof e=="function"?e:null)}var xt=Object.assign,Im;function Rl(e){if(Im===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Im=t&&t[1]||""}return`
`+Im+e}var Dm=!1;function $m(e,t){if(!e||Dm)return"";Dm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,c=o.length-1;1<=l&&0<=c&&i[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(i[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||i[l]!==o[c]){var u=`
`+i[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=c);break}}}finally{Dm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rl(e):""}function gI(e){switch(e.tag){case 5:return Rl(e.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return e=$m(e.type,!1),e;case 11:return e=$m(e.type.render,!1),e;case 1:return e=$m(e.type,!0),e;default:return""}}function ag(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zo:return"Fragment";case qo:return"Portal";case ig:return"Profiler";case hx:return"StrictMode";case sg:return"Suspense";case og:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case YC:return(e.displayName||"Context")+".Consumer";case KC:return(e._context.displayName||"Context")+".Provider";case fx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mx:return t=e.displayName||null,t!==null?t:ag(e.type)||"Memo";case Ui:t=e._payload,e=e._init;try{return ag(e(t))}catch{}}return null}function vI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ag(t);case 8:return t===hx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ls(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function XC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xI(e){var t=XC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ru(e){e._valueTracker||(e._valueTracker=xI(e))}function QC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=XC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lg(e,t){var n=t.checked;return xt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ls(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eS(e,t){t=t.checked,t!=null&&dx(e,"checked",t,!1)}function cg(e,t){eS(e,t);var n=ls(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ug(e,t.type,n):t.hasOwnProperty("defaultValue")&&ug(e,t.type,ls(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ug(e,t,n){(t!=="number"||Fd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ll=Array.isArray;function ca(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ls(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return xt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(oe(92));if(Ll(n)){if(1<n.length)throw Error(oe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ls(n)}}function tS(e,t){var n=ls(t.value),r=ls(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function yw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lu,rS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lu=Lu||document.createElement("div"),Lu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ac(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yI=["Webkit","ms","Moz","O"];Object.keys(Bl).forEach(function(e){yI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bl[t]=Bl[e]})});function iS(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bl.hasOwnProperty(e)&&Bl[e]?(""+t).trim():t+"px"}function sS(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=iS(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var _I=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fg(e,t){if(t){if(_I[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function mg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pg=null;function px(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gg=null,ua=null,da=null;function _w(e){if(e=Hc(e)){if(typeof gg!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=Uh(t),gg(e.stateNode,e.type,t))}}function oS(e){ua?da?da.push(e):da=[e]:ua=e}function aS(){if(ua){var e=ua,t=da;if(da=ua=null,_w(e),t)for(e=0;e<t.length;e++)_w(t[e])}}function lS(e,t){return e(t)}function cS(){}var Fm=!1;function uS(e,t,n){if(Fm)return e(t,n);Fm=!0;try{return lS(e,t,n)}finally{Fm=!1,(ua!==null||da!==null)&&(cS(),aS())}}function lc(e,t){var n=e.stateNode;if(n===null)return null;var r=Uh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(oe(231,t,typeof n));return n}var vg=!1;if(xi)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){vg=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{vg=!1}function wI(e,t,n,r,i,o,l,c,u){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(f){this.onError(f)}}var Ul=!1,Bd=null,Ud=!1,xg=null,bI={onError:function(e){Ul=!0,Bd=e}};function jI(e,t,n,r,i,o,l,c,u){Ul=!1,Bd=null,wI.apply(bI,arguments)}function CI(e,t,n,r,i,o,l,c,u){if(jI.apply(this,arguments),Ul){if(Ul){var h=Bd;Ul=!1,Bd=null}else throw Error(oe(198));Ud||(Ud=!0,xg=h)}}function go(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ww(e){if(go(e)!==e)throw Error(oe(188))}function SI(e){var t=e.alternate;if(!t){if(t=go(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ww(i),e;if(o===r)return ww(i),t;o=o.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,c=i.child;c;){if(c===n){l=!0,n=i,r=o;break}if(c===r){l=!0,r=i,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,r=i;break}if(c===r){l=!0,r=o,n=i;break}c=c.sibling}if(!l)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?e:t}function hS(e){return e=SI(e),e!==null?fS(e):null}function fS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fS(e);if(t!==null)return t;e=e.sibling}return null}var mS=Bn.unstable_scheduleCallback,bw=Bn.unstable_cancelCallback,EI=Bn.unstable_shouldYield,NI=Bn.unstable_requestPaint,Ct=Bn.unstable_now,PI=Bn.unstable_getCurrentPriorityLevel,gx=Bn.unstable_ImmediatePriority,pS=Bn.unstable_UserBlockingPriority,zd=Bn.unstable_NormalPriority,TI=Bn.unstable_LowPriority,gS=Bn.unstable_IdlePriority,Dh=null,Hr=null;function AI(e){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(Dh,e,void 0,(e.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:LI,kI=Math.log,RI=Math.LN2;function LI(e){return e>>>=0,e===0?32:31-(kI(e)/RI|0)|0}var Ou=64,Mu=4194304;function Ol(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~i;c!==0?r=Ol(c):(o&=l,o!==0&&(r=Ol(o)))}else l=n&~i,l!==0?r=Ol(l):o!==0&&(r=Ol(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yr(t),i=1<<n,r|=e[n],t&=~i;return r}function OI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MI(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-yr(o),c=1<<l,u=i[l];u===-1?(!(c&n)||c&r)&&(i[l]=OI(c,t)):u<=t&&(e.expiredLanes|=c),o&=~c}}function yg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vS(){var e=Ou;return Ou<<=1,!(Ou&4194240)&&(Ou=64),e}function Bm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yr(t),e[t]=n}function II(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-yr(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function vx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ze=0;function xS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yS,xx,_S,wS,bS,_g=!1,Iu=[],Ki=null,Yi=null,Ji=null,cc=new Map,uc=new Map,Hi=[],DI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jw(e,t){switch(e){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":cc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(t.pointerId)}}function pl(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Hc(t),t!==null&&xx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $I(e,t,n,r,i){switch(t){case"focusin":return Ki=pl(Ki,e,t,n,r,i),!0;case"dragenter":return Yi=pl(Yi,e,t,n,r,i),!0;case"mouseover":return Ji=pl(Ji,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return cc.set(o,pl(cc.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,uc.set(o,pl(uc.get(o)||null,e,t,n,r,i)),!0}return!1}function jS(e){var t=Ks(e.target);if(t!==null){var n=go(t);if(n!==null){if(t=n.tag,t===13){if(t=dS(n),t!==null){e.blockedOn=t,bS(e.priority,function(){_S(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _d(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pg=r,n.target.dispatchEvent(r),pg=null}else return t=Hc(n),t!==null&&xx(t),e.blockedOn=n,!1;t.shift()}return!0}function Cw(e,t,n){_d(e)&&n.delete(t)}function FI(){_g=!1,Ki!==null&&_d(Ki)&&(Ki=null),Yi!==null&&_d(Yi)&&(Yi=null),Ji!==null&&_d(Ji)&&(Ji=null),cc.forEach(Cw),uc.forEach(Cw)}function gl(e,t){e.blockedOn===t&&(e.blockedOn=null,_g||(_g=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,FI)))}function dc(e){function t(i){return gl(i,e)}if(0<Iu.length){gl(Iu[0],e);for(var n=1;n<Iu.length;n++){var r=Iu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ki!==null&&gl(Ki,e),Yi!==null&&gl(Yi,e),Ji!==null&&gl(Ji,e),cc.forEach(t),uc.forEach(t),n=0;n<Hi.length;n++)r=Hi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)jS(n),n.blockedOn===null&&Hi.shift()}var ha=Ni.ReactCurrentBatchConfig,Hd=!0;function BI(e,t,n,r){var i=Ze,o=ha.transition;ha.transition=null;try{Ze=1,yx(e,t,n,r)}finally{Ze=i,ha.transition=o}}function UI(e,t,n,r){var i=Ze,o=ha.transition;ha.transition=null;try{Ze=4,yx(e,t,n,r)}finally{Ze=i,ha.transition=o}}function yx(e,t,n,r){if(Hd){var i=wg(e,t,n,r);if(i===null)Ym(e,t,r,Wd,n),jw(e,r);else if($I(i,e,t,n,r))r.stopPropagation();else if(jw(e,r),t&4&&-1<DI.indexOf(e)){for(;i!==null;){var o=Hc(i);if(o!==null&&yS(o),o=wg(e,t,n,r),o===null&&Ym(e,t,r,Wd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ym(e,t,r,null,n)}}var Wd=null;function wg(e,t,n,r){if(Wd=null,e=px(r),e=Ks(e),e!==null)if(t=go(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wd=e,null}function CS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PI()){case gx:return 1;case pS:return 4;case zd:case TI:return 16;case gS:return 536870912;default:return 16}default:return 16}}var Gi=null,_x=null,wd=null;function SS(){if(wd)return wd;var e,t=_x,n=t.length,r,i="value"in Gi?Gi.value:Gi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[o-r];r++);return wd=i.slice(e,1<r?1-r:void 0)}function bd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Du(){return!0}function Sw(){return!1}function Hn(e){function t(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Du:Sw,this.isPropagationStopped=Sw,this}return xt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),t}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wx=Hn(za),Vc=xt({},za,{view:0,detail:0}),zI=Hn(Vc),Um,zm,vl,$h=xt({},Vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vl&&(vl&&e.type==="mousemove"?(Um=e.screenX-vl.screenX,zm=e.screenY-vl.screenY):zm=Um=0,vl=e),Um)},movementY:function(e){return"movementY"in e?e.movementY:zm}}),Ew=Hn($h),VI=xt({},$h,{dataTransfer:0}),HI=Hn(VI),WI=xt({},Vc,{relatedTarget:0}),Vm=Hn(WI),GI=xt({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),qI=Hn(GI),ZI=xt({},za,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KI=Hn(ZI),YI=xt({},za,{data:0}),Nw=Hn(YI),JI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QI[e])?!!t[e]:!1}function bx(){return eD}var tD=xt({},Vc,{key:function(e){if(e.key){var t=JI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bx,charCode:function(e){return e.type==="keypress"?bd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nD=Hn(tD),rD=xt({},$h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pw=Hn(rD),iD=xt({},Vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bx}),sD=Hn(iD),oD=xt({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),aD=Hn(oD),lD=xt({},$h,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cD=Hn(lD),uD=[9,13,27,32],jx=xi&&"CompositionEvent"in window,zl=null;xi&&"documentMode"in document&&(zl=document.documentMode);var dD=xi&&"TextEvent"in window&&!zl,ES=xi&&(!jx||zl&&8<zl&&11>=zl),Tw=String.fromCharCode(32),Aw=!1;function NS(e,t){switch(e){case"keyup":return uD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function PS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ko=!1;function hD(e,t){switch(e){case"compositionend":return PS(t);case"keypress":return t.which!==32?null:(Aw=!0,Tw);case"textInput":return e=t.data,e===Tw&&Aw?null:e;default:return null}}function fD(e,t){if(Ko)return e==="compositionend"||!jx&&NS(e,t)?(e=SS(),wd=_x=Gi=null,Ko=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ES&&t.locale!=="ko"?null:t.data;default:return null}}var mD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mD[e.type]:t==="textarea"}function TS(e,t,n,r){oS(r),t=Gd(t,"onChange"),0<t.length&&(n=new wx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vl=null,hc=null;function pD(e){BS(e,0)}function Fh(e){var t=Xo(e);if(QC(t))return e}function gD(e,t){if(e==="change")return t}var AS=!1;if(xi){var Hm;if(xi){var Wm="oninput"in document;if(!Wm){var Rw=document.createElement("div");Rw.setAttribute("oninput","return;"),Wm=typeof Rw.oninput=="function"}Hm=Wm}else Hm=!1;AS=Hm&&(!document.documentMode||9<document.documentMode)}function Lw(){Vl&&(Vl.detachEvent("onpropertychange",kS),hc=Vl=null)}function kS(e){if(e.propertyName==="value"&&Fh(hc)){var t=[];TS(t,hc,e,px(e)),uS(pD,t)}}function vD(e,t,n){e==="focusin"?(Lw(),Vl=t,hc=n,Vl.attachEvent("onpropertychange",kS)):e==="focusout"&&Lw()}function xD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fh(hc)}function yD(e,t){if(e==="click")return Fh(t)}function _D(e,t){if(e==="input"||e==="change")return Fh(t)}function wD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var br=typeof Object.is=="function"?Object.is:wD;function fc(e,t){if(br(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rg.call(t,i)||!br(e[i],t[i]))return!1}return!0}function Ow(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mw(e,t){var n=Ow(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ow(n)}}function RS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?RS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function LS(){for(var e=window,t=Fd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fd(e.document)}return t}function Cx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bD(e){var t=LS(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&RS(n.ownerDocument.documentElement,n)){if(r!==null&&Cx(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Mw(n,o);var l=Mw(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jD=xi&&"documentMode"in document&&11>=document.documentMode,Yo=null,bg=null,Hl=null,jg=!1;function Iw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jg||Yo==null||Yo!==Fd(r)||(r=Yo,"selectionStart"in r&&Cx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hl&&fc(Hl,r)||(Hl=r,r=Gd(bg,"onSelect"),0<r.length&&(t=new wx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yo)))}function $u(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jo={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},Gm={},OS={};xi&&(OS=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function Bh(e){if(Gm[e])return Gm[e];if(!Jo[e])return e;var t=Jo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in OS)return Gm[e]=t[n];return e}var MS=Bh("animationend"),IS=Bh("animationiteration"),DS=Bh("animationstart"),$S=Bh("transitionend"),FS=new Map,Dw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ws(e,t){FS.set(e,t),po(t,[e])}for(var qm=0;qm<Dw.length;qm++){var Zm=Dw[qm],CD=Zm.toLowerCase(),SD=Zm[0].toUpperCase()+Zm.slice(1);ws(CD,"on"+SD)}ws(MS,"onAnimationEnd");ws(IS,"onAnimationIteration");ws(DS,"onAnimationStart");ws("dblclick","onDoubleClick");ws("focusin","onFocus");ws("focusout","onBlur");ws($S,"onTransitionEnd");wa("onMouseEnter",["mouseout","mouseover"]);wa("onMouseLeave",["mouseout","mouseover"]);wa("onPointerEnter",["pointerout","pointerover"]);wa("onPointerLeave",["pointerout","pointerover"]);po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));po("onBeforeInput",["compositionend","keypress","textInput","paste"]);po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ED=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ml));function $w(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,CI(r,t,void 0,e),e.currentTarget=null}function BS(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var c=r[l],u=c.instance,h=c.currentTarget;if(c=c.listener,u!==o&&i.isPropagationStopped())break e;$w(i,c,h),o=u}else for(l=0;l<r.length;l++){if(c=r[l],u=c.instance,h=c.currentTarget,c=c.listener,u!==o&&i.isPropagationStopped())break e;$w(i,c,h),o=u}}}if(Ud)throw e=xg,Ud=!1,xg=null,e}function lt(e,t){var n=t[Pg];n===void 0&&(n=t[Pg]=new Set);var r=e+"__bubble";n.has(r)||(US(t,e,2,!1),n.add(r))}function Km(e,t,n){var r=0;t&&(r|=4),US(n,e,r,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function mc(e){if(!e[Fu]){e[Fu]=!0,ZC.forEach(function(n){n!=="selectionchange"&&(ED.has(n)||Km(n,!1,e),Km(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fu]||(t[Fu]=!0,Km("selectionchange",!1,t))}}function US(e,t,n,r){switch(CS(t)){case 1:var i=BI;break;case 4:i=UI;break;default:i=yx}n=i.bind(null,t,n,e),i=void 0,!vg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ym(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;c!==null;){if(l=Ks(c),l===null)return;if(u=l.tag,u===5||u===6){r=o=l;continue e}c=c.parentNode}}r=r.return}uS(function(){var h=o,f=px(n),p=[];e:{var v=FS.get(e);if(v!==void 0){var y=wx,w=e;switch(e){case"keypress":if(bd(n)===0)break e;case"keydown":case"keyup":y=nD;break;case"focusin":w="focus",y=Vm;break;case"focusout":w="blur",y=Vm;break;case"beforeblur":case"afterblur":y=Vm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ew;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=HI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=sD;break;case MS:case IS:case DS:y=qI;break;case $S:y=aD;break;case"scroll":y=zI;break;case"wheel":y=cD;break;case"copy":case"cut":case"paste":y=KI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Pw}var x=(t&4)!==0,S=!x&&e==="scroll",j=x?v!==null?v+"Capture":null:v;x=[];for(var b=h,C;b!==null;){C=b;var N=C.stateNode;if(C.tag===5&&N!==null&&(C=N,j!==null&&(N=lc(b,j),N!=null&&x.push(pc(b,N,C)))),S)break;b=b.return}0<x.length&&(v=new y(v,w,null,n,f),p.push({event:v,listeners:x}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",v&&n!==pg&&(w=n.relatedTarget||n.fromElement)&&(Ks(w)||w[yi]))break e;if((y||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=h,w=w?Ks(w):null,w!==null&&(S=go(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=h),y!==w)){if(x=Ew,N="onMouseLeave",j="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(x=Pw,N="onPointerLeave",j="onPointerEnter",b="pointer"),S=y==null?v:Xo(y),C=w==null?v:Xo(w),v=new x(N,b+"leave",y,n,f),v.target=S,v.relatedTarget=C,N=null,Ks(f)===h&&(x=new x(j,b+"enter",w,n,f),x.target=C,x.relatedTarget=S,N=x),S=N,y&&w)t:{for(x=y,j=w,b=0,C=x;C;C=Mo(C))b++;for(C=0,N=j;N;N=Mo(N))C++;for(;0<b-C;)x=Mo(x),b--;for(;0<C-b;)j=Mo(j),C--;for(;b--;){if(x===j||j!==null&&x===j.alternate)break t;x=Mo(x),j=Mo(j)}x=null}else x=null;y!==null&&Fw(p,v,y,x,!1),w!==null&&S!==null&&Fw(p,S,w,x,!0)}}e:{if(v=h?Xo(h):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var A=gD;else if(kw(v))if(AS)A=_D;else{A=xD;var P=vD}else(y=v.nodeName)&&y.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(A=yD);if(A&&(A=A(e,h))){TS(p,A,n,f);break e}P&&P(e,v,h),e==="focusout"&&(P=v._wrapperState)&&P.controlled&&v.type==="number"&&ug(v,"number",v.value)}switch(P=h?Xo(h):window,e){case"focusin":(kw(P)||P.contentEditable==="true")&&(Yo=P,bg=h,Hl=null);break;case"focusout":Hl=bg=Yo=null;break;case"mousedown":jg=!0;break;case"contextmenu":case"mouseup":case"dragend":jg=!1,Iw(p,n,f);break;case"selectionchange":if(jD)break;case"keydown":case"keyup":Iw(p,n,f)}var T;if(jx)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ko?NS(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(ES&&n.locale!=="ko"&&(Ko||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ko&&(T=SS()):(Gi=f,_x="value"in Gi?Gi.value:Gi.textContent,Ko=!0)),P=Gd(h,R),0<P.length&&(R=new Nw(R,e,null,n,f),p.push({event:R,listeners:P}),T?R.data=T:(T=PS(n),T!==null&&(R.data=T)))),(T=dD?hD(e,n):fD(e,n))&&(h=Gd(h,"onBeforeInput"),0<h.length&&(f=new Nw("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=T))}BS(p,t)})}function pc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=lc(e,n),o!=null&&r.unshift(pc(e,o,i)),o=lc(e,t),o!=null&&r.push(pc(e,o,i))),e=e.return}return r}function Mo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fw(e,t,n,r,i){for(var o=t._reactName,l=[];n!==null&&n!==r;){var c=n,u=c.alternate,h=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&h!==null&&(c=h,i?(u=lc(n,o),u!=null&&l.unshift(pc(n,u,c))):i||(u=lc(n,o),u!=null&&l.push(pc(n,u,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var ND=/\r\n?/g,PD=/\u0000|\uFFFD/g;function Bw(e){return(typeof e=="string"?e:""+e).replace(ND,`
`).replace(PD,"")}function Bu(e,t,n){if(t=Bw(t),Bw(e)!==t&&n)throw Error(oe(425))}function qd(){}var Cg=null,Sg=null;function Eg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ng=typeof setTimeout=="function"?setTimeout:void 0,TD=typeof clearTimeout=="function"?clearTimeout:void 0,Uw=typeof Promise=="function"?Promise:void 0,AD=typeof queueMicrotask=="function"?queueMicrotask:typeof Uw<"u"?function(e){return Uw.resolve(null).then(e).catch(kD)}:Ng;function kD(e){setTimeout(function(){throw e})}function Jm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),dc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);dc(t)}function Xi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Va=Math.random().toString(36).slice(2),Dr="__reactFiber$"+Va,gc="__reactProps$"+Va,yi="__reactContainer$"+Va,Pg="__reactEvents$"+Va,RD="__reactListeners$"+Va,LD="__reactHandles$"+Va;function Ks(e){var t=e[Dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yi]||n[Dr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zw(e);e!==null;){if(n=e[Dr])return n;e=zw(e)}return t}e=n,n=e.parentNode}return null}function Hc(e){return e=e[Dr]||e[yi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function Uh(e){return e[gc]||null}var Tg=[],Qo=-1;function bs(e){return{current:e}}function ct(e){0>Qo||(e.current=Tg[Qo],Tg[Qo]=null,Qo--)}function st(e,t){Qo++,Tg[Qo]=e.current,e.current=t}var cs={},rn=bs(cs),En=bs(!1),ro=cs;function ba(e,t){var n=e.type.contextTypes;if(!n)return cs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Nn(e){return e=e.childContextTypes,e!=null}function Zd(){ct(En),ct(rn)}function Vw(e,t,n){if(rn.current!==cs)throw Error(oe(168));st(rn,t),st(En,n)}function zS(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(oe(108,vI(e)||"Unknown",i));return xt({},n,r)}function Kd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cs,ro=rn.current,st(rn,e),st(En,En.current),!0}function Hw(e,t,n){var r=e.stateNode;if(!r)throw Error(oe(169));n?(e=zS(e,t,ro),r.__reactInternalMemoizedMergedChildContext=e,ct(En),ct(rn),st(rn,e)):ct(En),st(En,n)}var di=null,zh=!1,Xm=!1;function VS(e){di===null?di=[e]:di.push(e)}function OD(e){zh=!0,VS(e)}function js(){if(!Xm&&di!==null){Xm=!0;var e=0,t=Ze;try{var n=di;for(Ze=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}di=null,zh=!1}catch(i){throw di!==null&&(di=di.slice(e+1)),mS(gx,js),i}finally{Ze=t,Xm=!1}}return null}var ea=[],ta=0,Yd=null,Jd=0,Qn=[],er=0,io=null,hi=1,fi="";function Fs(e,t){ea[ta++]=Jd,ea[ta++]=Yd,Yd=e,Jd=t}function HS(e,t,n){Qn[er++]=hi,Qn[er++]=fi,Qn[er++]=io,io=e;var r=hi;e=fi;var i=32-yr(r)-1;r&=~(1<<i),n+=1;var o=32-yr(t)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,hi=1<<32-yr(t)+i|n<<i|r,fi=o+e}else hi=1<<o|n<<i|r,fi=e}function Sx(e){e.return!==null&&(Fs(e,1),HS(e,1,0))}function Ex(e){for(;e===Yd;)Yd=ea[--ta],ea[ta]=null,Jd=ea[--ta],ea[ta]=null;for(;e===io;)io=Qn[--er],Qn[er]=null,fi=Qn[--er],Qn[er]=null,hi=Qn[--er],Qn[er]=null}var $n=null,Dn=null,ft=!1,vr=null;function WS(e,t){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ww(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$n=e,Dn=Xi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$n=e,Dn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=io!==null?{id:hi,overflow:fi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$n=e,Dn=null,!0):!1;default:return!1}}function Ag(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kg(e){if(ft){var t=Dn;if(t){var n=t;if(!Ww(e,t)){if(Ag(e))throw Error(oe(418));t=Xi(n.nextSibling);var r=$n;t&&Ww(e,t)?WS(r,n):(e.flags=e.flags&-4097|2,ft=!1,$n=e)}}else{if(Ag(e))throw Error(oe(418));e.flags=e.flags&-4097|2,ft=!1,$n=e}}}function Gw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$n=e}function Uu(e){if(e!==$n)return!1;if(!ft)return Gw(e),ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eg(e.type,e.memoizedProps)),t&&(t=Dn)){if(Ag(e))throw GS(),Error(oe(418));for(;t;)WS(e,t),t=Xi(t.nextSibling)}if(Gw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Dn=Xi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Dn=null}}else Dn=$n?Xi(e.stateNode.nextSibling):null;return!0}function GS(){for(var e=Dn;e;)e=Xi(e.nextSibling)}function ja(){Dn=$n=null,ft=!1}function Nx(e){vr===null?vr=[e]:vr.push(e)}var MD=Ni.ReactCurrentBatchConfig;function xl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var c=i.refs;l===null?delete c[o]:c[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,e))}return e}function zu(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qw(e){var t=e._init;return t(e._payload)}function qS(e){function t(j,b){if(e){var C=j.deletions;C===null?(j.deletions=[b],j.flags|=16):C.push(b)}}function n(j,b){if(!e)return null;for(;b!==null;)t(j,b),b=b.sibling;return null}function r(j,b){for(j=new Map;b!==null;)b.key!==null?j.set(b.key,b):j.set(b.index,b),b=b.sibling;return j}function i(j,b){return j=ns(j,b),j.index=0,j.sibling=null,j}function o(j,b,C){return j.index=C,e?(C=j.alternate,C!==null?(C=C.index,C<b?(j.flags|=2,b):C):(j.flags|=2,b)):(j.flags|=1048576,b)}function l(j){return e&&j.alternate===null&&(j.flags|=2),j}function c(j,b,C,N){return b===null||b.tag!==6?(b=sp(C,j.mode,N),b.return=j,b):(b=i(b,C),b.return=j,b)}function u(j,b,C,N){var A=C.type;return A===Zo?f(j,b,C.props.children,N,C.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ui&&qw(A)===b.type)?(N=i(b,C.props),N.ref=xl(j,b,C),N.return=j,N):(N=Td(C.type,C.key,C.props,null,j.mode,N),N.ref=xl(j,b,C),N.return=j,N)}function h(j,b,C,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==C.containerInfo||b.stateNode.implementation!==C.implementation?(b=op(C,j.mode,N),b.return=j,b):(b=i(b,C.children||[]),b.return=j,b)}function f(j,b,C,N,A){return b===null||b.tag!==7?(b=to(C,j.mode,N,A),b.return=j,b):(b=i(b,C),b.return=j,b)}function p(j,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return b=sp(""+b,j.mode,C),b.return=j,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ku:return C=Td(b.type,b.key,b.props,null,j.mode,C),C.ref=xl(j,null,b),C.return=j,C;case qo:return b=op(b,j.mode,C),b.return=j,b;case Ui:var N=b._init;return p(j,N(b._payload),C)}if(Ll(b)||fl(b))return b=to(b,j.mode,C,null),b.return=j,b;zu(j,b)}return null}function v(j,b,C,N){var A=b!==null?b.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return A!==null?null:c(j,b,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ku:return C.key===A?u(j,b,C,N):null;case qo:return C.key===A?h(j,b,C,N):null;case Ui:return A=C._init,v(j,b,A(C._payload),N)}if(Ll(C)||fl(C))return A!==null?null:f(j,b,C,N,null);zu(j,C)}return null}function y(j,b,C,N,A){if(typeof N=="string"&&N!==""||typeof N=="number")return j=j.get(C)||null,c(b,j,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ku:return j=j.get(N.key===null?C:N.key)||null,u(b,j,N,A);case qo:return j=j.get(N.key===null?C:N.key)||null,h(b,j,N,A);case Ui:var P=N._init;return y(j,b,C,P(N._payload),A)}if(Ll(N)||fl(N))return j=j.get(C)||null,f(b,j,N,A,null);zu(b,N)}return null}function w(j,b,C,N){for(var A=null,P=null,T=b,R=b=0,O=null;T!==null&&R<C.length;R++){T.index>R?(O=T,T=null):O=T.sibling;var B=v(j,T,C[R],N);if(B===null){T===null&&(T=O);break}e&&T&&B.alternate===null&&t(j,T),b=o(B,b,R),P===null?A=B:P.sibling=B,P=B,T=O}if(R===C.length)return n(j,T),ft&&Fs(j,R),A;if(T===null){for(;R<C.length;R++)T=p(j,C[R],N),T!==null&&(b=o(T,b,R),P===null?A=T:P.sibling=T,P=T);return ft&&Fs(j,R),A}for(T=r(j,T);R<C.length;R++)O=y(T,j,R,C[R],N),O!==null&&(e&&O.alternate!==null&&T.delete(O.key===null?R:O.key),b=o(O,b,R),P===null?A=O:P.sibling=O,P=O);return e&&T.forEach(function(W){return t(j,W)}),ft&&Fs(j,R),A}function x(j,b,C,N){var A=fl(C);if(typeof A!="function")throw Error(oe(150));if(C=A.call(C),C==null)throw Error(oe(151));for(var P=A=null,T=b,R=b=0,O=null,B=C.next();T!==null&&!B.done;R++,B=C.next()){T.index>R?(O=T,T=null):O=T.sibling;var W=v(j,T,B.value,N);if(W===null){T===null&&(T=O);break}e&&T&&W.alternate===null&&t(j,T),b=o(W,b,R),P===null?A=W:P.sibling=W,P=W,T=O}if(B.done)return n(j,T),ft&&Fs(j,R),A;if(T===null){for(;!B.done;R++,B=C.next())B=p(j,B.value,N),B!==null&&(b=o(B,b,R),P===null?A=B:P.sibling=B,P=B);return ft&&Fs(j,R),A}for(T=r(j,T);!B.done;R++,B=C.next())B=y(T,j,R,B.value,N),B!==null&&(e&&B.alternate!==null&&T.delete(B.key===null?R:B.key),b=o(B,b,R),P===null?A=B:P.sibling=B,P=B);return e&&T.forEach(function(U){return t(j,U)}),ft&&Fs(j,R),A}function S(j,b,C,N){if(typeof C=="object"&&C!==null&&C.type===Zo&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ku:e:{for(var A=C.key,P=b;P!==null;){if(P.key===A){if(A=C.type,A===Zo){if(P.tag===7){n(j,P.sibling),b=i(P,C.props.children),b.return=j,j=b;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ui&&qw(A)===P.type){n(j,P.sibling),b=i(P,C.props),b.ref=xl(j,P,C),b.return=j,j=b;break e}n(j,P);break}else t(j,P);P=P.sibling}C.type===Zo?(b=to(C.props.children,j.mode,N,C.key),b.return=j,j=b):(N=Td(C.type,C.key,C.props,null,j.mode,N),N.ref=xl(j,b,C),N.return=j,j=N)}return l(j);case qo:e:{for(P=C.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===C.containerInfo&&b.stateNode.implementation===C.implementation){n(j,b.sibling),b=i(b,C.children||[]),b.return=j,j=b;break e}else{n(j,b);break}else t(j,b);b=b.sibling}b=op(C,j.mode,N),b.return=j,j=b}return l(j);case Ui:return P=C._init,S(j,b,P(C._payload),N)}if(Ll(C))return w(j,b,C,N);if(fl(C))return x(j,b,C,N);zu(j,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,b!==null&&b.tag===6?(n(j,b.sibling),b=i(b,C),b.return=j,j=b):(n(j,b),b=sp(C,j.mode,N),b.return=j,j=b),l(j)):n(j,b)}return S}var Ca=qS(!0),ZS=qS(!1),Xd=bs(null),Qd=null,na=null,Px=null;function Tx(){Px=na=Qd=null}function Ax(e){var t=Xd.current;ct(Xd),e._currentValue=t}function Rg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fa(e,t){Qd=e,Px=na=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Sn=!0),e.firstContext=null)}function sr(e){var t=e._currentValue;if(Px!==e)if(e={context:e,memoizedValue:t,next:null},na===null){if(Qd===null)throw Error(oe(308));na=e,Qd.dependencies={lanes:0,firstContext:e}}else na=na.next=e;return t}var Ys=null;function kx(e){Ys===null?Ys=[e]:Ys.push(e)}function KS(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,kx(t)):(n.next=i.next,i.next=n),t.interleaved=n,_i(e,r)}function _i(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zi=!1;function Rx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_i(e,n)}return i=r.interleaved,i===null?(t.next=t,kx(r)):(t.next=i.next,i.next=t),r.interleaved=t,_i(e,n)}function jd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vx(e,n)}}function Zw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function eh(e,t,n,r){var i=e.updateQueue;zi=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,h=u.next;u.next=null,l===null?o=h:l.next=h,l=u;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==l&&(c===null?f.firstBaseUpdate=h:c.next=h,f.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;l=0,f=h=u=null,c=o;do{var v=c.lane,y=c.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=e,x=c;switch(v=t,y=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){p=w.call(y,p,v);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,v=typeof w=="function"?w.call(y,p,v):w,v==null)break e;p=xt({},p,v);break e;case 2:zi=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[c]:v.push(c))}else y={eventTime:y,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(h=f=y,u=p):f=f.next=y,l|=v;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;v=c,c=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);oo|=l,e.lanes=l,e.memoizedState=p}}function Kw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var Wc={},Wr=bs(Wc),vc=bs(Wc),xc=bs(Wc);function Js(e){if(e===Wc)throw Error(oe(174));return e}function Lx(e,t){switch(st(xc,t),st(vc,e),st(Wr,Wc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hg(t,e)}ct(Wr),st(Wr,t)}function Sa(){ct(Wr),ct(vc),ct(xc)}function JS(e){Js(xc.current);var t=Js(Wr.current),n=hg(t,e.type);t!==n&&(st(vc,e),st(Wr,n))}function Ox(e){vc.current===e&&(ct(Wr),ct(vc))}var pt=bs(0);function th(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qm=[];function Mx(){for(var e=0;e<Qm.length;e++)Qm[e]._workInProgressVersionPrimary=null;Qm.length=0}var Cd=Ni.ReactCurrentDispatcher,ep=Ni.ReactCurrentBatchConfig,so=0,vt=null,Rt=null,$t=null,nh=!1,Wl=!1,yc=0,ID=0;function Xt(){throw Error(oe(321))}function Ix(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!br(e[n],t[n]))return!1;return!0}function Dx(e,t,n,r,i,o){if(so=o,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cd.current=e===null||e.memoizedState===null?BD:UD,e=n(r,i),Wl){o=0;do{if(Wl=!1,yc=0,25<=o)throw Error(oe(301));o+=1,$t=Rt=null,t.updateQueue=null,Cd.current=zD,e=n(r,i)}while(Wl)}if(Cd.current=rh,t=Rt!==null&&Rt.next!==null,so=0,$t=Rt=vt=null,nh=!1,t)throw Error(oe(300));return e}function $x(){var e=yc!==0;return yc=0,e}function Mr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?vt.memoizedState=$t=e:$t=$t.next=e,$t}function or(){if(Rt===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var t=$t===null?vt.memoizedState:$t.next;if(t!==null)$t=t,Rt=e;else{if(e===null)throw Error(oe(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},$t===null?vt.memoizedState=$t=e:$t=$t.next=e}return $t}function _c(e,t){return typeof t=="function"?t(e):t}function tp(e){var t=or(),n=t.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=e;var r=Rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var c=l=null,u=null,h=o;do{var f=h.lane;if((so&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(c=u=p,l=r):u=u.next=p,vt.lanes|=f,oo|=f}h=h.next}while(h!==null&&h!==o);u===null?l=r:u.next=c,br(r,t.memoizedState)||(Sn=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,vt.lanes|=o,oo|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function np(e){var t=or(),n=t.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);br(o,t.memoizedState)||(Sn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function XS(){}function QS(e,t){var n=vt,r=or(),i=t(),o=!br(r.memoizedState,i);if(o&&(r.memoizedState=i,Sn=!0),r=r.queue,Fx(nE.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,wc(9,tE.bind(null,n,r,i,t),void 0,null),Ut===null)throw Error(oe(349));so&30||eE(n,t,i)}return i}function eE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tE(e,t,n,r){t.value=n,t.getSnapshot=r,rE(t)&&iE(e)}function nE(e,t,n){return n(function(){rE(t)&&iE(e)})}function rE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!br(e,n)}catch{return!0}}function iE(e){var t=_i(e,1);t!==null&&_r(t,e,1,-1)}function Yw(e){var t=Mr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:e},t.queue=e,e=e.dispatch=FD.bind(null,vt,e),[t.memoizedState,e]}function wc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sE(){return or().memoizedState}function Sd(e,t,n,r){var i=Mr();vt.flags|=e,i.memoizedState=wc(1|t,n,void 0,r===void 0?null:r)}function Vh(e,t,n,r){var i=or();r=r===void 0?null:r;var o=void 0;if(Rt!==null){var l=Rt.memoizedState;if(o=l.destroy,r!==null&&Ix(r,l.deps)){i.memoizedState=wc(t,n,o,r);return}}vt.flags|=e,i.memoizedState=wc(1|t,n,o,r)}function Jw(e,t){return Sd(8390656,8,e,t)}function Fx(e,t){return Vh(2048,8,e,t)}function oE(e,t){return Vh(4,2,e,t)}function aE(e,t){return Vh(4,4,e,t)}function lE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cE(e,t,n){return n=n!=null?n.concat([e]):null,Vh(4,4,lE.bind(null,t,e),n)}function Bx(){}function uE(e,t){var n=or();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ix(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dE(e,t){var n=or();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ix(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hE(e,t,n){return so&21?(br(n,t)||(n=vS(),vt.lanes|=n,oo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Sn=!0),e.memoizedState=n)}function DD(e,t){var n=Ze;Ze=n!==0&&4>n?n:4,e(!0);var r=ep.transition;ep.transition={};try{e(!1),t()}finally{Ze=n,ep.transition=r}}function fE(){return or().memoizedState}function $D(e,t,n){var r=ts(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mE(e))pE(t,n);else if(n=KS(e,t,n,r),n!==null){var i=un();_r(n,e,r,i),gE(n,t,r)}}function FD(e,t,n){var r=ts(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mE(e))pE(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,c=o(l,n);if(i.hasEagerState=!0,i.eagerState=c,br(c,l)){var u=t.interleaved;u===null?(i.next=i,kx(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=KS(e,t,i,r),n!==null&&(i=un(),_r(n,e,r,i),gE(n,t,r))}}function mE(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function pE(e,t){Wl=nh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vx(e,n)}}var rh={readContext:sr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},BD={readContext:sr,useCallback:function(e,t){return Mr().memoizedState=[e,t===void 0?null:t],e},useContext:sr,useEffect:Jw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Sd(4194308,4,lE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sd(4,2,e,t)},useMemo:function(e,t){var n=Mr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$D.bind(null,vt,e),[r.memoizedState,e]},useRef:function(e){var t=Mr();return e={current:e},t.memoizedState=e},useState:Yw,useDebugValue:Bx,useDeferredValue:function(e){return Mr().memoizedState=e},useTransition:function(){var e=Yw(!1),t=e[0];return e=DD.bind(null,e[1]),Mr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vt,i=Mr();if(ft){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=t(),Ut===null)throw Error(oe(349));so&30||eE(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Jw(nE.bind(null,r,o,e),[e]),r.flags|=2048,wc(9,tE.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Mr(),t=Ut.identifierPrefix;if(ft){var n=fi,r=hi;n=(r&~(1<<32-yr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ID++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},UD={readContext:sr,useCallback:uE,useContext:sr,useEffect:Fx,useImperativeHandle:cE,useInsertionEffect:oE,useLayoutEffect:aE,useMemo:dE,useReducer:tp,useRef:sE,useState:function(){return tp(_c)},useDebugValue:Bx,useDeferredValue:function(e){var t=or();return hE(t,Rt.memoizedState,e)},useTransition:function(){var e=tp(_c)[0],t=or().memoizedState;return[e,t]},useMutableSource:XS,useSyncExternalStore:QS,useId:fE,unstable_isNewReconciler:!1},zD={readContext:sr,useCallback:uE,useContext:sr,useEffect:Fx,useImperativeHandle:cE,useInsertionEffect:oE,useLayoutEffect:aE,useMemo:dE,useReducer:np,useRef:sE,useState:function(){return np(_c)},useDebugValue:Bx,useDeferredValue:function(e){var t=or();return Rt===null?t.memoizedState=e:hE(t,Rt.memoizedState,e)},useTransition:function(){var e=np(_c)[0],t=or().memoizedState;return[e,t]},useMutableSource:XS,useSyncExternalStore:QS,useId:fE,unstable_isNewReconciler:!1};function mr(e,t){if(e&&e.defaultProps){t=xt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Lg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hh={isMounted:function(e){return(e=e._reactInternals)?go(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=un(),i=ts(e),o=pi(r,i);o.payload=t,n!=null&&(o.callback=n),t=Qi(e,o,i),t!==null&&(_r(t,e,i,r),jd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=un(),i=ts(e),o=pi(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Qi(e,o,i),t!==null&&(_r(t,e,i,r),jd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=un(),r=ts(e),i=pi(n,r);i.tag=2,t!=null&&(i.callback=t),t=Qi(e,i,r),t!==null&&(_r(t,e,r,n),jd(t,e,r))}};function Xw(e,t,n,r,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!fc(n,r)||!fc(i,o):!0}function vE(e,t,n){var r=!1,i=cs,o=t.contextType;return typeof o=="object"&&o!==null?o=sr(o):(i=Nn(t)?ro:rn.current,r=t.contextTypes,o=(r=r!=null)?ba(e,i):cs),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Qw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hh.enqueueReplaceState(t,t.state,null)}function Og(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Rx(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=sr(o):(o=Nn(t)?ro:rn.current,i.context=ba(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Lg(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Hh.enqueueReplaceState(i,i.state,null),eh(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ea(e,t){try{var n="",r=t;do n+=gI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function rp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var VD=typeof WeakMap=="function"?WeakMap:Map;function xE(e,t,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sh||(sh=!0,Wg=r),Mg(e,t)},n}function yE(e,t,n){n=pi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Mg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Mg(e,t),typeof r!="function"&&(es===null?es=new Set([this]):es.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function eb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new VD;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=r4.bind(null,e,t,n),t.then(e,e))}function tb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nb(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pi(-1,1),t.tag=2,Qi(n,t,1))),n.lanes|=1),e)}var HD=Ni.ReactCurrentOwner,Sn=!1;function cn(e,t,n,r){t.child=e===null?ZS(t,null,n,r):Ca(t,e.child,n,r)}function rb(e,t,n,r,i){n=n.render;var o=t.ref;return fa(t,i),r=Dx(e,t,n,r,o,i),n=$x(),e!==null&&!Sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wi(e,t,i)):(ft&&n&&Sx(t),t.flags|=1,cn(e,t,r,i),t.child)}function ib(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Zx(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,_E(e,t,o,r,i)):(e=Td(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:fc,n(l,r)&&e.ref===t.ref)return wi(e,t,i)}return t.flags|=1,e=ns(o,r),e.ref=t.ref,e.return=t,t.child=e}function _E(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(fc(o,r)&&e.ref===t.ref)if(Sn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Sn=!0);else return t.lanes=e.lanes,wi(e,t,i)}return Ig(e,t,n,r,i)}function wE(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(ia,Mn),Mn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,st(ia,Mn),Mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,st(ia,Mn),Mn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,st(ia,Mn),Mn|=r;return cn(e,t,i,n),t.child}function bE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ig(e,t,n,r,i){var o=Nn(n)?ro:rn.current;return o=ba(t,o),fa(t,i),n=Dx(e,t,n,r,o,i),r=$x(),e!==null&&!Sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wi(e,t,i)):(ft&&r&&Sx(t),t.flags|=1,cn(e,t,n,i),t.child)}function sb(e,t,n,r,i){if(Nn(n)){var o=!0;Kd(t)}else o=!1;if(fa(t,i),t.stateNode===null)Ed(e,t),vE(t,n,r),Og(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var u=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=sr(h):(h=Nn(n)?ro:rn.current,h=ba(t,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||u!==h)&&Qw(t,l,r,h),zi=!1;var v=t.memoizedState;l.state=v,eh(t,r,l,i),u=t.memoizedState,c!==r||v!==u||En.current||zi?(typeof f=="function"&&(Lg(t,n,f,r),u=t.memoizedState),(c=zi||Xw(t,n,c,r,v,u,h))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=h,r=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,YS(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:mr(t.type,c),l.props=h,p=t.pendingProps,v=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=sr(u):(u=Nn(n)?ro:rn.current,u=ba(t,u));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==p||v!==u)&&Qw(t,l,r,u),zi=!1,v=t.memoizedState,l.state=v,eh(t,r,l,i);var w=t.memoizedState;c!==p||v!==w||En.current||zi?(typeof y=="function"&&(Lg(t,n,y,r),w=t.memoizedState),(h=zi||Xw(t,n,h,r,v,w,u)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,w,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,w,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),l.props=r,l.state=w,l.context=u,r=h):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return Dg(e,t,n,r,o,i)}function Dg(e,t,n,r,i,o){bE(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&Hw(t,n,!1),wi(e,t,o);r=t.stateNode,HD.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Ca(t,e.child,null,o),t.child=Ca(t,null,c,o)):cn(e,t,c,o),t.memoizedState=r.state,i&&Hw(t,n,!0),t.child}function jE(e){var t=e.stateNode;t.pendingContext?Vw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vw(e,t.context,!1),Lx(e,t.containerInfo)}function ob(e,t,n,r,i){return ja(),Nx(i),t.flags|=256,cn(e,t,n,r),t.child}var $g={dehydrated:null,treeContext:null,retryLane:0};function Fg(e){return{baseLanes:e,cachePool:null,transitions:null}}function CE(e,t,n){var r=t.pendingProps,i=pt.current,o=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),st(pt,i&1),e===null)return kg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=qh(l,r,0,null),e=to(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fg(n),t.memoizedState=$g,e):Ux(t,l));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return WD(e,t,l,r,c,i,n);if(o){o=r.fallback,l=t.mode,i=e.child,c=i.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=ns(i,u),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=ns(c,o):(o=to(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Fg(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=$g,r}return o=e.child,e=o.sibling,r=ns(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ux(e,t){return t=qh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vu(e,t,n,r){return r!==null&&Nx(r),Ca(t,e.child,null,n),e=Ux(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WD(e,t,n,r,i,o,l){if(n)return t.flags&256?(t.flags&=-257,r=rp(Error(oe(422))),Vu(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=qh({mode:"visible",children:r.children},i,0,null),o=to(o,i,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ca(t,e.child,null,l),t.child.memoizedState=Fg(l),t.memoizedState=$g,o);if(!(t.mode&1))return Vu(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(oe(419)),r=rp(o,r,void 0),Vu(e,t,l,r)}if(c=(l&e.childLanes)!==0,Sn||c){if(r=Ut,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,_i(e,i),_r(r,e,i,-1))}return qx(),r=rp(Error(oe(421))),Vu(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=i4.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Dn=Xi(i.nextSibling),$n=t,ft=!0,vr=null,e!==null&&(Qn[er++]=hi,Qn[er++]=fi,Qn[er++]=io,hi=e.id,fi=e.overflow,io=t),t=Ux(t,r.children),t.flags|=4096,t)}function ab(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Rg(e.return,t,n)}function ip(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function SE(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(cn(e,t,r.children,n),r=pt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ab(e,n,t);else if(e.tag===19)ab(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(st(pt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&th(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ip(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&th(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ip(t,!0,n,null,o);break;case"together":ip(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ed(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),oo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,n=ns(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ns(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function GD(e,t,n){switch(t.tag){case 3:jE(t),ja();break;case 5:JS(t);break;case 1:Nn(t.type)&&Kd(t);break;case 4:Lx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;st(Xd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(st(pt,pt.current&1),t.flags|=128,null):n&t.child.childLanes?CE(e,t,n):(st(pt,pt.current&1),e=wi(e,t,n),e!==null?e.sibling:null);st(pt,pt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return SE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(pt,pt.current),r)break;return null;case 22:case 23:return t.lanes=0,wE(e,t,n)}return wi(e,t,n)}var EE,Bg,NE,PE;EE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bg=function(){};NE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Js(Wr.current);var o=null;switch(n){case"input":i=lg(e,i),r=lg(e,r),o=[];break;case"select":i=xt({},i,{value:void 0}),r=xt({},r,{value:void 0}),o=[];break;case"textarea":i=dg(e,i),r=dg(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qd)}fg(n,r);var l;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var c=i[h];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(oc.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(c=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(u!=null||c!=null))if(h==="style")if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(oc.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&lt("scroll",e),o||c===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};PE=function(e,t,n,r){n!==r&&(t.flags|=4)};function yl(e,t){if(!ft)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qD(e,t,n){var r=t.pendingProps;switch(Ex(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(t),null;case 1:return Nn(t.type)&&Zd(),Qt(t),null;case 3:return r=t.stateNode,Sa(),ct(En),ct(rn),Mx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Uu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vr!==null&&(Zg(vr),vr=null))),Bg(e,t),Qt(t),null;case 5:Ox(t);var i=Js(xc.current);if(n=t.type,e!==null&&t.stateNode!=null)NE(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(oe(166));return Qt(t),null}if(e=Js(Wr.current),Uu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Dr]=t,r[gc]=o,e=(t.mode&1)!==0,n){case"dialog":lt("cancel",r),lt("close",r);break;case"iframe":case"object":case"embed":lt("load",r);break;case"video":case"audio":for(i=0;i<Ml.length;i++)lt(Ml[i],r);break;case"source":lt("error",r);break;case"img":case"image":case"link":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"input":gw(r,o),lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},lt("invalid",r);break;case"textarea":xw(r,o),lt("invalid",r)}fg(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&Bu(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Bu(r.textContent,c,e),i=["children",""+c]):oc.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&lt("scroll",r)}switch(n){case"input":Ru(r),vw(r,o,!0);break;case"textarea":Ru(r),yw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=qd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nS(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Dr]=t,e[gc]=r,EE(e,t,!1,!1),t.stateNode=e;e:{switch(l=mg(n,r),n){case"dialog":lt("cancel",e),lt("close",e),i=r;break;case"iframe":case"object":case"embed":lt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ml.length;i++)lt(Ml[i],e);i=r;break;case"source":lt("error",e),i=r;break;case"img":case"image":case"link":lt("error",e),lt("load",e),i=r;break;case"details":lt("toggle",e),i=r;break;case"input":gw(e,r),i=lg(e,r),lt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=xt({},r,{value:void 0}),lt("invalid",e);break;case"textarea":xw(e,r),i=dg(e,r),lt("invalid",e);break;default:i=r}fg(n,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var u=c[o];o==="style"?sS(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&rS(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ac(e,u):typeof u=="number"&&ac(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(oc.hasOwnProperty(o)?u!=null&&o==="onScroll"&&lt("scroll",e):u!=null&&dx(e,o,u,l))}switch(n){case"input":Ru(e),vw(e,r,!1);break;case"textarea":Ru(e),yw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ls(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ca(e,!!r.multiple,o,!1):r.defaultValue!=null&&ca(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=qd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qt(t),null;case 6:if(e&&t.stateNode!=null)PE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(oe(166));if(n=Js(xc.current),Js(Wr.current),Uu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dr]=t,(o=r.nodeValue!==n)&&(e=$n,e!==null))switch(e.tag){case 3:Bu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dr]=t,t.stateNode=r}return Qt(t),null;case 13:if(ct(pt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ft&&Dn!==null&&t.mode&1&&!(t.flags&128))GS(),ja(),t.flags|=98560,o=!1;else if(o=Uu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(oe(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(oe(317));o[Dr]=t}else ja(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qt(t),o=!1}else vr!==null&&(Zg(vr),vr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pt.current&1?Lt===0&&(Lt=3):qx())),t.updateQueue!==null&&(t.flags|=4),Qt(t),null);case 4:return Sa(),Bg(e,t),e===null&&mc(t.stateNode.containerInfo),Qt(t),null;case 10:return Ax(t.type._context),Qt(t),null;case 17:return Nn(t.type)&&Zd(),Qt(t),null;case 19:if(ct(pt),o=t.memoizedState,o===null)return Qt(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)yl(o,!1);else{if(Lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=th(e),l!==null){for(t.flags|=128,yl(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return st(pt,pt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ct()>Na&&(t.flags|=128,r=!0,yl(o,!1),t.lanes=4194304)}else{if(!r)if(e=th(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!ft)return Qt(t),null}else 2*Ct()-o.renderingStartTime>Na&&n!==1073741824&&(t.flags|=128,r=!0,yl(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ct(),t.sibling=null,n=pt.current,st(pt,r?n&1|2:n&1),t):(Qt(t),null);case 22:case 23:return Gx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Mn&1073741824&&(Qt(t),t.subtreeFlags&6&&(t.flags|=8192)):Qt(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function ZD(e,t){switch(Ex(t),t.tag){case 1:return Nn(t.type)&&Zd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sa(),ct(En),ct(rn),Mx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ox(t),null;case 13:if(ct(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ct(pt),null;case 4:return Sa(),null;case 10:return Ax(t.type._context),null;case 22:case 23:return Gx(),null;case 24:return null;default:return null}}var Hu=!1,tn=!1,KD=typeof WeakSet=="function"?WeakSet:Set,pe=null;function ra(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_t(e,t,r)}else n.current=null}function Ug(e,t,n){try{n()}catch(r){_t(e,t,r)}}var lb=!1;function YD(e,t){if(Cg=Hd,e=LS(),Cx(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,c=-1,u=-1,h=0,f=0,p=e,v=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(c=l+i),p!==o||r!==0&&p.nodeType!==3||(u=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(y=p.firstChild)!==null;)v=p,p=y;for(;;){if(p===e)break t;if(v===n&&++h===i&&(c=l),v===o&&++f===r&&(u=l),(y=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=y}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sg={focusedElem:e,selectionRange:n},Hd=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,S=w.memoizedState,j=t.stateNode,b=j.getSnapshotBeforeUpdate(t.elementType===t.type?x:mr(t.type,x),S);j.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(N){_t(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return w=lb,lb=!1,w}function Gl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ug(t,n,o)}i=i.next}while(i!==r)}}function Wh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function TE(e){var t=e.alternate;t!==null&&(e.alternate=null,TE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dr],delete t[gc],delete t[Pg],delete t[RD],delete t[LD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function AE(e){return e.tag===5||e.tag===3||e.tag===4}function cb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||AE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qd));else if(r!==4&&(e=e.child,e!==null))for(Vg(e,t,n),e=e.sibling;e!==null;)Vg(e,t,n),e=e.sibling}function Hg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hg(e,t,n),e=e.sibling;e!==null;)Hg(e,t,n),e=e.sibling}var Ht=null,pr=!1;function Li(e,t,n){for(n=n.child;n!==null;)kE(e,t,n),n=n.sibling}function kE(e,t,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(Dh,n)}catch{}switch(n.tag){case 5:tn||ra(n,t);case 6:var r=Ht,i=pr;Ht=null,Li(e,t,n),Ht=r,pr=i,Ht!==null&&(pr?(e=Ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(pr?(e=Ht,n=n.stateNode,e.nodeType===8?Jm(e.parentNode,n):e.nodeType===1&&Jm(e,n),dc(e)):Jm(Ht,n.stateNode));break;case 4:r=Ht,i=pr,Ht=n.stateNode.containerInfo,pr=!0,Li(e,t,n),Ht=r,pr=i;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Ug(n,t,l),i=i.next}while(i!==r)}Li(e,t,n);break;case 1:if(!tn&&(ra(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){_t(n,t,c)}Li(e,t,n);break;case 21:Li(e,t,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Li(e,t,n),tn=r):Li(e,t,n);break;default:Li(e,t,n)}}function ub(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new KD),t.forEach(function(r){var i=s4.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:Ht=c.stateNode,pr=!1;break e;case 3:Ht=c.stateNode.containerInfo,pr=!0;break e;case 4:Ht=c.stateNode.containerInfo,pr=!0;break e}c=c.return}if(Ht===null)throw Error(oe(160));kE(o,l,i),Ht=null,pr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){_t(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)RE(t,e),t=t.sibling}function RE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hr(t,e),Or(e),r&4){try{Gl(3,e,e.return),Wh(3,e)}catch(x){_t(e,e.return,x)}try{Gl(5,e,e.return)}catch(x){_t(e,e.return,x)}}break;case 1:hr(t,e),Or(e),r&512&&n!==null&&ra(n,n.return);break;case 5:if(hr(t,e),Or(e),r&512&&n!==null&&ra(n,n.return),e.flags&32){var i=e.stateNode;try{ac(i,"")}catch(x){_t(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&eS(i,o),mg(c,l);var h=mg(c,o);for(l=0;l<u.length;l+=2){var f=u[l],p=u[l+1];f==="style"?sS(i,p):f==="dangerouslySetInnerHTML"?rS(i,p):f==="children"?ac(i,p):dx(i,f,p,h)}switch(c){case"input":cg(i,o);break;case"textarea":tS(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?ca(i,!!o.multiple,y,!1):v!==!!o.multiple&&(o.defaultValue!=null?ca(i,!!o.multiple,o.defaultValue,!0):ca(i,!!o.multiple,o.multiple?[]:"",!1))}i[gc]=o}catch(x){_t(e,e.return,x)}}break;case 6:if(hr(t,e),Or(e),r&4){if(e.stateNode===null)throw Error(oe(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(x){_t(e,e.return,x)}}break;case 3:if(hr(t,e),Or(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dc(t.containerInfo)}catch(x){_t(e,e.return,x)}break;case 4:hr(t,e),Or(e);break;case 13:hr(t,e),Or(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Hx=Ct())),r&4&&ub(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(tn=(h=tn)||f,hr(t,e),tn=h):hr(t,e),Or(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!f&&e.mode&1)for(pe=e,f=e.child;f!==null;){for(p=pe=f;pe!==null;){switch(v=pe,y=v.child,v.tag){case 0:case 11:case 14:case 15:Gl(4,v,v.return);break;case 1:ra(v,v.return);var w=v.stateNode;if(typeof w.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){_t(r,n,x)}}break;case 5:ra(v,v.return);break;case 22:if(v.memoizedState!==null){hb(p);continue}}y!==null?(y.return=v,pe=y):hb(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=p.stateNode,u=p.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=iS("display",l))}catch(x){_t(e,e.return,x)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(x){_t(e,e.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:hr(t,e),Or(e),r&4&&ub(e);break;case 21:break;default:hr(t,e),Or(e)}}function Or(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(AE(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ac(i,""),r.flags&=-33);var o=cb(e);Hg(e,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,c=cb(e);Vg(e,c,l);break;default:throw Error(oe(161))}}catch(u){_t(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JD(e,t,n){pe=e,LE(e)}function LE(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var i=pe,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Hu;if(!l){var c=i.alternate,u=c!==null&&c.memoizedState!==null||tn;c=Hu;var h=tn;if(Hu=l,(tn=u)&&!h)for(pe=i;pe!==null;)l=pe,u=l.child,l.tag===22&&l.memoizedState!==null?fb(i):u!==null?(u.return=l,pe=u):fb(i);for(;o!==null;)pe=o,LE(o),o=o.sibling;pe=i,Hu=c,tn=h}db(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,pe=o):db(e)}}function db(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tn||Wh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!tn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Kw(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Kw(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&dc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}tn||t.flags&512&&zg(t)}catch(v){_t(t,t.return,v)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function hb(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function fb(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wh(4,t)}catch(u){_t(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){_t(t,i,u)}}var o=t.return;try{zg(t)}catch(u){_t(t,o,u)}break;case 5:var l=t.return;try{zg(t)}catch(u){_t(t,l,u)}}}catch(u){_t(t,t.return,u)}if(t===e){pe=null;break}var c=t.sibling;if(c!==null){c.return=t.return,pe=c;break}pe=t.return}}var XD=Math.ceil,ih=Ni.ReactCurrentDispatcher,zx=Ni.ReactCurrentOwner,nr=Ni.ReactCurrentBatchConfig,Ue=0,Ut=null,Tt=null,Gt=0,Mn=0,ia=bs(0),Lt=0,bc=null,oo=0,Gh=0,Vx=0,ql=null,jn=null,Hx=0,Na=1/0,li=null,sh=!1,Wg=null,es=null,Wu=!1,qi=null,oh=0,Zl=0,Gg=null,Nd=-1,Pd=0;function un(){return Ue&6?Ct():Nd!==-1?Nd:Nd=Ct()}function ts(e){return e.mode&1?Ue&2&&Gt!==0?Gt&-Gt:MD.transition!==null?(Pd===0&&(Pd=vS()),Pd):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:CS(e.type)),e):1}function _r(e,t,n,r){if(50<Zl)throw Zl=0,Gg=null,Error(oe(185));zc(e,n,r),(!(Ue&2)||e!==Ut)&&(e===Ut&&(!(Ue&2)&&(Gh|=n),Lt===4&&Wi(e,Gt)),Pn(e,r),n===1&&Ue===0&&!(t.mode&1)&&(Na=Ct()+500,zh&&js()))}function Pn(e,t){var n=e.callbackNode;MI(e,t);var r=Vd(e,e===Ut?Gt:0);if(r===0)n!==null&&bw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bw(n),t===1)e.tag===0?OD(mb.bind(null,e)):VS(mb.bind(null,e)),AD(function(){!(Ue&6)&&js()}),n=null;else{switch(xS(r)){case 1:n=gx;break;case 4:n=pS;break;case 16:n=zd;break;case 536870912:n=gS;break;default:n=zd}n=UE(n,OE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function OE(e,t){if(Nd=-1,Pd=0,Ue&6)throw Error(oe(327));var n=e.callbackNode;if(ma()&&e.callbackNode!==n)return null;var r=Vd(e,e===Ut?Gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ah(e,r);else{t=r;var i=Ue;Ue|=2;var o=IE();(Ut!==e||Gt!==t)&&(li=null,Na=Ct()+500,eo(e,t));do try{t4();break}catch(c){ME(e,c)}while(1);Tx(),ih.current=o,Ue=i,Tt!==null?t=0:(Ut=null,Gt=0,t=Lt)}if(t!==0){if(t===2&&(i=yg(e),i!==0&&(r=i,t=qg(e,i))),t===1)throw n=bc,eo(e,0),Wi(e,r),Pn(e,Ct()),n;if(t===6)Wi(e,r);else{if(i=e.current.alternate,!(r&30)&&!QD(i)&&(t=ah(e,r),t===2&&(o=yg(e),o!==0&&(r=o,t=qg(e,o))),t===1))throw n=bc,eo(e,0),Wi(e,r),Pn(e,Ct()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(oe(345));case 2:Bs(e,jn,li);break;case 3:if(Wi(e,r),(r&130023424)===r&&(t=Hx+500-Ct(),10<t)){if(Vd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){un(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ng(Bs.bind(null,e,jn,li),t);break}Bs(e,jn,li);break;case 4:if(Wi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-yr(r);o=1<<l,l=t[l],l>i&&(i=l),r&=~o}if(r=i,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XD(r/1960))-r,10<r){e.timeoutHandle=Ng(Bs.bind(null,e,jn,li),r);break}Bs(e,jn,li);break;case 5:Bs(e,jn,li);break;default:throw Error(oe(329))}}}return Pn(e,Ct()),e.callbackNode===n?OE.bind(null,e):null}function qg(e,t){var n=ql;return e.current.memoizedState.isDehydrated&&(eo(e,t).flags|=256),e=ah(e,t),e!==2&&(t=jn,jn=n,t!==null&&Zg(t)),e}function Zg(e){jn===null?jn=e:jn.push.apply(jn,e)}function QD(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!br(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wi(e,t){for(t&=~Vx,t&=~Gh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yr(t),r=1<<n;e[n]=-1,t&=~r}}function mb(e){if(Ue&6)throw Error(oe(327));ma();var t=Vd(e,0);if(!(t&1))return Pn(e,Ct()),null;var n=ah(e,t);if(e.tag!==0&&n===2){var r=yg(e);r!==0&&(t=r,n=qg(e,r))}if(n===1)throw n=bc,eo(e,0),Wi(e,t),Pn(e,Ct()),n;if(n===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bs(e,jn,li),Pn(e,Ct()),null}function Wx(e,t){var n=Ue;Ue|=1;try{return e(t)}finally{Ue=n,Ue===0&&(Na=Ct()+500,zh&&js())}}function ao(e){qi!==null&&qi.tag===0&&!(Ue&6)&&ma();var t=Ue;Ue|=1;var n=nr.transition,r=Ze;try{if(nr.transition=null,Ze=1,e)return e()}finally{Ze=r,nr.transition=n,Ue=t,!(Ue&6)&&js()}}function Gx(){Mn=ia.current,ct(ia)}function eo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,TD(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(Ex(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zd();break;case 3:Sa(),ct(En),ct(rn),Mx();break;case 5:Ox(r);break;case 4:Sa();break;case 13:ct(pt);break;case 19:ct(pt);break;case 10:Ax(r.type._context);break;case 22:case 23:Gx()}n=n.return}if(Ut=e,Tt=e=ns(e.current,null),Gt=Mn=t,Lt=0,bc=null,Vx=Gh=oo=0,jn=ql=null,Ys!==null){for(t=0;t<Ys.length;t++)if(n=Ys[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}Ys=null}return e}function ME(e,t){do{var n=Tt;try{if(Tx(),Cd.current=rh,nh){for(var r=vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nh=!1}if(so=0,$t=Rt=vt=null,Wl=!1,yc=0,zx.current=null,n===null||n.return===null){Lt=1,bc=t,Tt=null;break}e:{var o=e,l=n.return,c=n,u=t;if(t=Gt,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=tb(l);if(y!==null){y.flags&=-257,nb(y,l,c,o,t),y.mode&1&&eb(o,h,t),t=y,u=h;var w=t.updateQueue;if(w===null){var x=new Set;x.add(u),t.updateQueue=x}else w.add(u);break e}else{if(!(t&1)){eb(o,h,t),qx();break e}u=Error(oe(426))}}else if(ft&&c.mode&1){var S=tb(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),nb(S,l,c,o,t),Nx(Ea(u,c));break e}}o=u=Ea(u,c),Lt!==4&&(Lt=2),ql===null?ql=[o]:ql.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var j=xE(o,u,t);Zw(o,j);break e;case 1:c=u;var b=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(es===null||!es.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var N=yE(o,c,t);Zw(o,N);break e}}o=o.return}while(o!==null)}$E(n)}catch(A){t=A,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(1)}function IE(){var e=ih.current;return ih.current=rh,e===null?rh:e}function qx(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Ut===null||!(oo&268435455)&&!(Gh&268435455)||Wi(Ut,Gt)}function ah(e,t){var n=Ue;Ue|=2;var r=IE();(Ut!==e||Gt!==t)&&(li=null,eo(e,t));do try{e4();break}catch(i){ME(e,i)}while(1);if(Tx(),Ue=n,ih.current=r,Tt!==null)throw Error(oe(261));return Ut=null,Gt=0,Lt}function e4(){for(;Tt!==null;)DE(Tt)}function t4(){for(;Tt!==null&&!EI();)DE(Tt)}function DE(e){var t=BE(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,t===null?$E(e):Tt=t,zx.current=null}function $E(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ZD(n,t),n!==null){n.flags&=32767,Tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lt=6,Tt=null;return}}else if(n=qD(n,t,Mn),n!==null){Tt=n;return}if(t=t.sibling,t!==null){Tt=t;return}Tt=t=e}while(t!==null);Lt===0&&(Lt=5)}function Bs(e,t,n){var r=Ze,i=nr.transition;try{nr.transition=null,Ze=1,n4(e,t,n,r)}finally{nr.transition=i,Ze=r}return null}function n4(e,t,n,r){do ma();while(qi!==null);if(Ue&6)throw Error(oe(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(II(e,o),e===Ut&&(Tt=Ut=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wu||(Wu=!0,UE(zd,function(){return ma(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nr.transition,nr.transition=null;var l=Ze;Ze=1;var c=Ue;Ue|=4,zx.current=null,YD(e,n),RE(n,e),bD(Sg),Hd=!!Cg,Sg=Cg=null,e.current=n,JD(n),NI(),Ue=c,Ze=l,nr.transition=o}else e.current=n;if(Wu&&(Wu=!1,qi=e,oh=i),o=e.pendingLanes,o===0&&(es=null),AI(n.stateNode),Pn(e,Ct()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sh)throw sh=!1,e=Wg,Wg=null,e;return oh&1&&e.tag!==0&&ma(),o=e.pendingLanes,o&1?e===Gg?Zl++:(Zl=0,Gg=e):Zl=0,js(),null}function ma(){if(qi!==null){var e=xS(oh),t=nr.transition,n=Ze;try{if(nr.transition=null,Ze=16>e?16:e,qi===null)var r=!1;else{if(e=qi,qi=null,oh=0,Ue&6)throw Error(oe(331));var i=Ue;for(Ue|=4,pe=e.current;pe!==null;){var o=pe,l=o.child;if(pe.flags&16){var c=o.deletions;if(c!==null){for(var u=0;u<c.length;u++){var h=c[u];for(pe=h;pe!==null;){var f=pe;switch(f.tag){case 0:case 11:case 15:Gl(8,f,o)}var p=f.child;if(p!==null)p.return=f,pe=p;else for(;pe!==null;){f=pe;var v=f.sibling,y=f.return;if(TE(f),f===h){pe=null;break}if(v!==null){v.return=y,pe=v;break}pe=y}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}pe=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,pe=l;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gl(9,o,o.return)}var j=o.sibling;if(j!==null){j.return=o.return,pe=j;break e}pe=o.return}}var b=e.current;for(pe=b;pe!==null;){l=pe;var C=l.child;if(l.subtreeFlags&2064&&C!==null)C.return=l,pe=C;else e:for(l=b;pe!==null;){if(c=pe,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Wh(9,c)}}catch(A){_t(c,c.return,A)}if(c===l){pe=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,pe=N;break e}pe=c.return}}if(Ue=i,js(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(Dh,e)}catch{}r=!0}return r}finally{Ze=n,nr.transition=t}}return!1}function pb(e,t,n){t=Ea(n,t),t=xE(e,t,1),e=Qi(e,t,1),t=un(),e!==null&&(zc(e,1,t),Pn(e,t))}function _t(e,t,n){if(e.tag===3)pb(e,e,n);else for(;t!==null;){if(t.tag===3){pb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(es===null||!es.has(r))){e=Ea(n,e),e=yE(t,e,1),t=Qi(t,e,1),e=un(),t!==null&&(zc(t,1,e),Pn(t,e));break}}t=t.return}}function r4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=un(),e.pingedLanes|=e.suspendedLanes&n,Ut===e&&(Gt&n)===n&&(Lt===4||Lt===3&&(Gt&130023424)===Gt&&500>Ct()-Hx?eo(e,0):Vx|=n),Pn(e,t)}function FE(e,t){t===0&&(e.mode&1?(t=Mu,Mu<<=1,!(Mu&130023424)&&(Mu=4194304)):t=1);var n=un();e=_i(e,t),e!==null&&(zc(e,t,n),Pn(e,n))}function i4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),FE(e,n)}function s4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(t),FE(e,n)}var BE;BE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||En.current)Sn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Sn=!1,GD(e,t,n);Sn=!!(e.flags&131072)}else Sn=!1,ft&&t.flags&1048576&&HS(t,Jd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ed(e,t),e=t.pendingProps;var i=ba(t,rn.current);fa(t,n),i=Dx(null,t,r,e,i,n);var o=$x();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nn(r)?(o=!0,Kd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rx(t),i.updater=Hh,t.stateNode=i,i._reactInternals=t,Og(t,r,e,n),t=Dg(null,t,r,!0,o,n)):(t.tag=0,ft&&o&&Sx(t),cn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ed(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=a4(r),e=mr(r,e),i){case 0:t=Ig(null,t,r,e,n);break e;case 1:t=sb(null,t,r,e,n);break e;case 11:t=rb(null,t,r,e,n);break e;case 14:t=ib(null,t,r,mr(r.type,e),n);break e}throw Error(oe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mr(r,i),Ig(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mr(r,i),sb(e,t,r,i,n);case 3:e:{if(jE(t),e===null)throw Error(oe(387));r=t.pendingProps,o=t.memoizedState,i=o.element,YS(e,t),eh(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ea(Error(oe(423)),t),t=ob(e,t,r,n,i);break e}else if(r!==i){i=Ea(Error(oe(424)),t),t=ob(e,t,r,n,i);break e}else for(Dn=Xi(t.stateNode.containerInfo.firstChild),$n=t,ft=!0,vr=null,n=ZS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ja(),r===i){t=wi(e,t,n);break e}cn(e,t,r,n)}t=t.child}return t;case 5:return JS(t),e===null&&kg(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,Eg(r,i)?l=null:o!==null&&Eg(r,o)&&(t.flags|=32),bE(e,t),cn(e,t,l,n),t.child;case 6:return e===null&&kg(t),null;case 13:return CE(e,t,n);case 4:return Lx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ca(t,null,r,n):cn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mr(r,i),rb(e,t,r,i,n);case 7:return cn(e,t,t.pendingProps,n),t.child;case 8:return cn(e,t,t.pendingProps.children,n),t.child;case 12:return cn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,st(Xd,r._currentValue),r._currentValue=l,o!==null)if(br(o.value,l)){if(o.children===i.children&&!En.current){t=wi(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=pi(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Rg(o.return,n,t),c.lanes|=n;break}u=u.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(oe(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Rg(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}cn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fa(t,n),i=sr(i),r=r(i),t.flags|=1,cn(e,t,r,n),t.child;case 14:return r=t.type,i=mr(r,t.pendingProps),i=mr(r.type,i),ib(e,t,r,i,n);case 15:return _E(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mr(r,i),Ed(e,t),t.tag=1,Nn(r)?(e=!0,Kd(t)):e=!1,fa(t,n),vE(t,r,i),Og(t,r,i,n),Dg(null,t,r,!0,e,n);case 19:return SE(e,t,n);case 22:return wE(e,t,n)}throw Error(oe(156,t.tag))};function UE(e,t){return mS(e,t)}function o4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(e,t,n,r){return new o4(e,t,n,r)}function Zx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function a4(e){if(typeof e=="function")return Zx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fx)return 11;if(e===mx)return 14}return 2}function ns(e,t){var n=e.alternate;return n===null?(n=tr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Td(e,t,n,r,i,o){var l=2;if(r=e,typeof e=="function")Zx(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Zo:return to(n.children,i,o,t);case hx:l=8,i|=8;break;case ig:return e=tr(12,n,t,i|2),e.elementType=ig,e.lanes=o,e;case sg:return e=tr(13,n,t,i),e.elementType=sg,e.lanes=o,e;case og:return e=tr(19,n,t,i),e.elementType=og,e.lanes=o,e;case JC:return qh(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case KC:l=10;break e;case YC:l=9;break e;case fx:l=11;break e;case mx:l=14;break e;case Ui:l=16,r=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=tr(l,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function to(e,t,n,r){return e=tr(7,e,r,t),e.lanes=n,e}function qh(e,t,n,r){return e=tr(22,e,r,t),e.elementType=JC,e.lanes=n,e.stateNode={isHidden:!1},e}function sp(e,t,n){return e=tr(6,e,null,t),e.lanes=n,e}function op(e,t,n){return t=tr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function l4(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bm(0),this.expirationTimes=Bm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kx(e,t,n,r,i,o,l,c,u){return e=new l4(e,t,n,c,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=tr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rx(o),e}function c4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zE(e){if(!e)return cs;e=e._reactInternals;e:{if(go(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var n=e.type;if(Nn(n))return zS(e,n,t)}return t}function VE(e,t,n,r,i,o,l,c,u){return e=Kx(n,r,!0,e,i,o,l,c,u),e.context=zE(null),n=e.current,r=un(),i=ts(n),o=pi(r,i),o.callback=t??null,Qi(n,o,i),e.current.lanes=i,zc(e,i,r),Pn(e,r),e}function Zh(e,t,n,r){var i=t.current,o=un(),l=ts(i);return n=zE(n),t.context===null?t.context=n:t.pendingContext=n,t=pi(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qi(i,t,l),e!==null&&(_r(e,i,l,o),jd(e,i,l)),l}function lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yx(e,t){gb(e,t),(e=e.alternate)&&gb(e,t)}function u4(){return null}var HE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jx(e){this._internalRoot=e}Kh.prototype.render=Jx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));Zh(e,t,null,null)};Kh.prototype.unmount=Jx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ao(function(){Zh(null,e,null,null)}),t[yi]=null}};function Kh(e){this._internalRoot=e}Kh.prototype.unstable_scheduleHydration=function(e){if(e){var t=wS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hi.length&&t!==0&&t<Hi[n].priority;n++);Hi.splice(n,0,e),n===0&&jS(e)}};function Xx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vb(){}function d4(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=lh(l);o.call(h)}}var l=VE(t,r,e,0,null,!1,!1,"",vb);return e._reactRootContainer=l,e[yi]=l.current,mc(e.nodeType===8?e.parentNode:e),ao(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var h=lh(u);c.call(h)}}var u=Kx(e,0,!1,null,null,!1,!1,"",vb);return e._reactRootContainer=u,e[yi]=u.current,mc(e.nodeType===8?e.parentNode:e),ao(function(){Zh(t,u,n,r)}),u}function Jh(e,t,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var c=i;i=function(){var u=lh(l);c.call(u)}}Zh(t,l,e,i)}else l=d4(n,t,e,i,r);return lh(l)}yS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ol(t.pendingLanes);n!==0&&(vx(t,n|1),Pn(t,Ct()),!(Ue&6)&&(Na=Ct()+500,js()))}break;case 13:ao(function(){var r=_i(e,1);if(r!==null){var i=un();_r(r,e,1,i)}}),Yx(e,1)}};xx=function(e){if(e.tag===13){var t=_i(e,134217728);if(t!==null){var n=un();_r(t,e,134217728,n)}Yx(e,134217728)}};_S=function(e){if(e.tag===13){var t=ts(e),n=_i(e,t);if(n!==null){var r=un();_r(n,e,t,r)}Yx(e,t)}};wS=function(){return Ze};bS=function(e,t){var n=Ze;try{return Ze=e,t()}finally{Ze=n}};gg=function(e,t,n){switch(t){case"input":if(cg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Uh(r);if(!i)throw Error(oe(90));QC(r),cg(r,i)}}}break;case"textarea":tS(e,n);break;case"select":t=n.value,t!=null&&ca(e,!!n.multiple,t,!1)}};lS=Wx;cS=ao;var h4={usingClientEntryPoint:!1,Events:[Hc,Xo,Uh,oS,aS,Wx]},_l={findFiberByHostInstance:Ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f4={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hS(e),e===null?null:e.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance||u4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Dh=Gu.inject(f4),Hr=Gu}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h4;Vn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xx(t))throw Error(oe(200));return c4(e,t,null,n)};Vn.createRoot=function(e,t){if(!Xx(e))throw Error(oe(299));var n=!1,r="",i=HE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Kx(e,1,!1,null,null,n,!1,r,i),e[yi]=t.current,mc(e.nodeType===8?e.parentNode:e),new Jx(t)};Vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=hS(t),e=e===null?null:e.stateNode,e};Vn.flushSync=function(e){return ao(e)};Vn.hydrate=function(e,t,n){if(!Yh(t))throw Error(oe(200));return Jh(null,e,t,!0,n)};Vn.hydrateRoot=function(e,t,n){if(!Xx(e))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=HE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=VE(t,null,e,1,n??null,i,!1,o,l),e[yi]=t.current,mc(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kh(t)};Vn.render=function(e,t,n){if(!Yh(t))throw Error(oe(200));return Jh(null,e,t,!1,n)};Vn.unmountComponentAtNode=function(e){if(!Yh(e))throw Error(oe(40));return e._reactRootContainer?(ao(function(){Jh(null,null,e,!1,function(){e._reactRootContainer=null,e[yi]=null})}),!0):!1};Vn.unstable_batchedUpdates=Wx;Vn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yh(n))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return Jh(e,t,n,!1,r)};Vn.version="18.3.1-next-f1338f8080-20240426";function WE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WE)}catch(e){console.error(e)}}WE(),WC.exports=Vn;var Xr=WC.exports;const Qx=_s(Xr);var xb=Xr;ng.createRoot=xb.createRoot,ng.hydrateRoot=xb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jc.apply(this,arguments)}var Zi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zi||(Zi={}));const yb="popstate";function m4(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:l,hash:c}=r.location;return Kg("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ch(i)}return g4(t,n,null,e)}function bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function GE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function p4(){return Math.random().toString(36).substr(2,8)}function _b(e,t){return{usr:e.state,key:e.key,idx:t}}function Kg(e,t,n,r){return n===void 0&&(n=null),jc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ha(t):t,{state:n,key:t&&t.key||r||p4()})}function ch(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ha(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g4(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c=Zi.Pop,u=null,h=f();h==null&&(h=0,l.replaceState(jc({},l.state,{idx:h}),""));function f(){return(l.state||{idx:null}).idx}function p(){c=Zi.Pop;let S=f(),j=S==null?null:S-h;h=S,u&&u({action:c,location:x.location,delta:j})}function v(S,j){c=Zi.Push;let b=Kg(x.location,S,j);n&&n(b,S),h=f()+1;let C=_b(b,h),N=x.createHref(b);try{l.pushState(C,"",N)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(N)}o&&u&&u({action:c,location:x.location,delta:1})}function y(S,j){c=Zi.Replace;let b=Kg(x.location,S,j);n&&n(b,S),h=f();let C=_b(b,h),N=x.createHref(b);l.replaceState(C,"",N),o&&u&&u({action:c,location:x.location,delta:0})}function w(S){let j=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof S=="string"?S:ch(S);return b=b.replace(/ $/,"%20"),bt(j,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,j)}let x={get action(){return c},get location(){return e(i,l)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(yb,p),u=S,()=>{i.removeEventListener(yb,p),u=null}},createHref(S){return t(i,S)},createURL:w,encodeLocation(S){let j=w(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:v,replace:y,go(S){return l.go(S)}};return x}var wb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wb||(wb={}));function v4(e,t,n){return n===void 0&&(n="/"),x4(e,t,n,!1)}function x4(e,t,n,r){let i=typeof t=="string"?Ha(t):t,o=Pa(i.pathname||"/",n);if(o==null)return null;let l=qE(e);y4(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let h=A4(o);c=P4(l[u],h,r)}return c}function qE(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};u.relativePath.startsWith("/")&&(bt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=rs([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),qE(o.children,t,f,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:E4(h,o.index),routesMeta:f})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of ZE(o.path))i(o,l,u)}),t}function ZE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=ZE(r.join("/")),c=[];return c.push(...l.map(u=>u===""?o:[o,u].join("/"))),i&&c.push(...l),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function y4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:N4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _4=/^:[\w-]+$/,w4=3,b4=2,j4=1,C4=10,S4=-2,bb=e=>e==="*";function E4(e,t){let n=e.split("/"),r=n.length;return n.some(bb)&&(r+=S4),t&&(r+=b4),n.filter(i=>!bb(i)).reduce((i,o)=>i+(_4.test(o)?w4:o===""?j4:C4),r)}function N4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function P4(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},o="/",l=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,f=o==="/"?t:t.slice(o.length)||"/",p=uh({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),v=u.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=uh({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:rs([o,p.pathname]),pathnameBase:O4(rs([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=rs([o,p.pathnameBase]))}return l}function uh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=T4(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,f,p)=>{let{paramName:v,isOptional:y}=f;if(v==="*"){let x=c[p]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=c[p];return y&&!w?h[v]=void 0:h[v]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function T4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),GE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function A4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return GE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Pa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function k4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ha(e):e;return{pathname:n?n.startsWith("/")?n:R4(n,t):t,search:M4(r),hash:I4(i)}}function R4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ap(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function L4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function KE(e,t){let n=L4(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function YE(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ha(e):(i=jc({},e),bt(!i.pathname||!i.pathname.includes("?"),ap("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),ap("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),ap("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let p=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}c=p>=0?t[p]:"/"}let u=k4(i,c),h=l&&l!=="/"&&l.endsWith("/"),f=(o||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const rs=e=>e.join("/").replace(/\/\/+/g,"/"),O4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,I4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function D4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const JE=["post","put","patch","delete"];new Set(JE);const $4=["get",...JE];new Set($4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cc.apply(this,arguments)}const Xh=m.createContext(null),XE=m.createContext(null),Cs=m.createContext(null),Qh=m.createContext(null),Ss=m.createContext({outlet:null,matches:[],isDataRoute:!1}),QE=m.createContext(null);function F4(e,t){let{relative:n}=t===void 0?{}:t;Gc()||bt(!1);let{basename:r,navigator:i}=m.useContext(Cs),{hash:o,pathname:l,search:c}=tf(e,{relative:n}),u=l;return r!=="/"&&(u=l==="/"?r:rs([r,l])),i.createHref({pathname:u,search:c,hash:o})}function Gc(){return m.useContext(Qh)!=null}function Wa(){return Gc()||bt(!1),m.useContext(Qh).location}function eN(e){m.useContext(Cs).static||m.useLayoutEffect(e)}function kn(){let{isDataRoute:e}=m.useContext(Ss);return e?X4():B4()}function B4(){Gc()||bt(!1);let e=m.useContext(Xh),{basename:t,future:n,navigator:r}=m.useContext(Cs),{matches:i}=m.useContext(Ss),{pathname:o}=Wa(),l=JSON.stringify(KE(i,n.v7_relativeSplatPath)),c=m.useRef(!1);return eN(()=>{c.current=!0}),m.useCallback(function(h,f){if(f===void 0&&(f={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let p=YE(h,JSON.parse(l),o,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:rs([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,l,o,e])}function ef(){let{matches:e}=m.useContext(Ss),t=e[e.length-1];return t?t.params:{}}function tf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(Cs),{matches:i}=m.useContext(Ss),{pathname:o}=Wa(),l=JSON.stringify(KE(i,r.v7_relativeSplatPath));return m.useMemo(()=>YE(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function U4(e,t){return z4(e,t)}function z4(e,t,n,r){Gc()||bt(!1);let{navigator:i}=m.useContext(Cs),{matches:o}=m.useContext(Ss),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let h=Wa(),f;if(t){var p;let S=typeof t=="string"?Ha(t):t;u==="/"||(p=S.pathname)!=null&&p.startsWith(u)||bt(!1),f=S}else f=h;let v=f.pathname||"/",y=v;if(u!=="/"){let S=u.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=v4(e,{pathname:y}),x=q4(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:rs([u,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:rs([u,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return t&&x?m.createElement(Qh.Provider,{value:{location:Cc({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Zi.Pop}},x):x}function V4(){let e=J4(),t=D4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,o)}const H4=m.createElement(V4,null);class W4 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(Ss.Provider,{value:this.props.routeContext},m.createElement(QE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G4(e){let{routeContext:t,match:n,children:r}=e,i=m.useContext(Xh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Ss.Provider,{value:t},r)}function q4(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=(i=n)==null?void 0:i.errors;if(c!=null){let f=l.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);f>=0||bt(!1),l=l.slice(0,Math.min(l.length,f+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<l.length;f++){let p=l[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:v,errors:y}=n,w=p.route.loader&&v[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((f,p,v)=>{let y,w=!1,x=null,S=null;n&&(y=c&&p.route.id?c[p.route.id]:void 0,x=p.route.errorElement||H4,u&&(h<0&&v===0?(Q4("route-fallback",!1),w=!0,S=null):h===v&&(w=!0,S=p.route.hydrateFallbackElement||null)));let j=t.concat(l.slice(0,v+1)),b=()=>{let C;return y?C=x:w?C=S:p.route.Component?C=m.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,m.createElement(G4,{match:p,routeContext:{outlet:f,matches:j,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?m.createElement(W4,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:b(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):b()},null)}var tN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tN||{}),dh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dh||{});function Z4(e){let t=m.useContext(Xh);return t||bt(!1),t}function K4(e){let t=m.useContext(XE);return t||bt(!1),t}function Y4(e){let t=m.useContext(Ss);return t||bt(!1),t}function nN(e){let t=Y4(),n=t.matches[t.matches.length-1];return n.route.id||bt(!1),n.route.id}function J4(){var e;let t=m.useContext(QE),n=K4(dh.UseRouteError),r=nN(dh.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function X4(){let{router:e}=Z4(tN.UseNavigateStable),t=nN(dh.UseNavigateStable),n=m.useRef(!1);return eN(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Cc({fromRouteId:t},o)))},[e,t])}const jb={};function Q4(e,t,n){!t&&!jb[e]&&(jb[e]=!0)}function e$(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Xe(e){bt(!1)}function t$(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Zi.Pop,navigator:o,static:l=!1,future:c}=e;Gc()&&bt(!1);let u=t.replace(/^\/*/,"/"),h=m.useMemo(()=>({basename:u,navigator:o,static:l,future:Cc({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);typeof r=="string"&&(r=Ha(r));let{pathname:f="/",search:p="",hash:v="",state:y=null,key:w="default"}=r,x=m.useMemo(()=>{let S=Pa(f,u);return S==null?null:{location:{pathname:S,search:p,hash:v,state:y,key:w},navigationType:i}},[u,f,p,v,y,w,i]);return x==null?null:m.createElement(Cs.Provider,{value:h},m.createElement(Qh.Provider,{children:n,value:x}))}function n$(e){let{children:t,location:n}=e;return U4(Yg(t),n)}new Promise(()=>{});function Yg(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,i)=>{if(!m.isValidElement(r))return;let o=[...t,i];if(r.type===m.Fragment){n.push.apply(n,Yg(r.props.children,o));return}r.type!==Xe&&bt(!1),!r.props.index||!r.props.children||bt(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Yg(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hh.apply(this,arguments)}function rN(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function r$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function i$(e,t){return e.button===0&&(!t||t==="_self")&&!r$(e)}const s$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],o$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],a$="6";try{window.__reactRouterVersion=a$}catch{}const l$=m.createContext({isTransitioning:!1}),c$="startTransition",Cb=Uc[c$];function u$(e){let{basename:t,children:n,future:r,window:i}=e,o=m.useRef();o.current==null&&(o.current=m4({window:i,v5Compat:!0}));let l=o.current,[c,u]=m.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},f=m.useCallback(p=>{h&&Cb?Cb(()=>u(p)):u(p)},[u,h]);return m.useLayoutEffect(()=>l.listen(f),[l,f]),m.useEffect(()=>e$(r),[r]),m.createElement(t$,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const d$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",h$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sc=m.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:c,target:u,to:h,preventScrollReset:f,viewTransition:p}=t,v=rN(t,s$),{basename:y}=m.useContext(Cs),w,x=!1;if(typeof h=="string"&&h$.test(h)&&(w=h,d$))try{let C=new URL(window.location.href),N=h.startsWith("//")?new URL(C.protocol+h):new URL(h),A=Pa(N.pathname,y);N.origin===C.origin&&A!=null?h=A+N.search+N.hash:x=!0}catch{}let S=F4(h,{relative:i}),j=m$(h,{replace:l,state:c,target:u,preventScrollReset:f,relative:i,viewTransition:p});function b(C){r&&r(C),C.defaultPrevented||j(C)}return m.createElement("a",hh({},v,{href:w||S,onClick:x||o?r:b,ref:n,target:u}))}),lp=m.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:l=!1,style:c,to:u,viewTransition:h,children:f}=t,p=rN(t,o$),v=tf(u,{relative:p.relative}),y=Wa(),w=m.useContext(XE),{navigator:x,basename:S}=m.useContext(Cs),j=w!=null&&p$(v)&&h===!0,b=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,C=y.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(C=C.toLowerCase(),N=N?N.toLowerCase():null,b=b.toLowerCase()),N&&S&&(N=Pa(N,S)||N);const A=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let P=C===b||!l&&C.startsWith(b)&&C.charAt(A)==="/",T=N!=null&&(N===b||!l&&N.startsWith(b)&&N.charAt(b.length)==="/"),R={isActive:P,isPending:T,isTransitioning:j},O=P?r:void 0,B;typeof o=="function"?B=o(R):B=[o,P?"active":null,T?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let W=typeof c=="function"?c(R):c;return m.createElement(Sc,hh({},p,{"aria-current":O,className:B,ref:n,style:W,to:u,viewTransition:h}),typeof f=="function"?f(R):f)});var Jg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jg||(Jg={}));var Sb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Sb||(Sb={}));function f$(e){let t=m.useContext(Xh);return t||bt(!1),t}function m$(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:c}=t===void 0?{}:t,u=kn(),h=Wa(),f=tf(e,{relative:l});return m.useCallback(p=>{if(i$(p,n)){p.preventDefault();let v=r!==void 0?r:ch(h)===ch(f);u(e,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[h,u,f,r,i,n,e,o,l,c])}function p$(e,t){t===void 0&&(t={});let n=m.useContext(l$);n==null&&bt(!1);let{basename:r}=f$(Jg.useViewTransitionState),i=tf(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Pa(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Pa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uh(i.pathname,l)!=null||uh(i.pathname,o)!=null}var iN={exports:{}},g$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",v$=g$,x$=v$;function sN(){}function oN(){}oN.resetWarningCache=sN;var y$=function(){function e(r,i,o,l,c,u){if(u!==x$){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oN,resetWarningCache:sN};return n.PropTypes=n,n};iN.exports=y$();var _$=iN.exports;const dt=_s(_$);function w$(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var aN=m,b$=w$(aN);function Eb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j$(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var C$=!!(typeof window<"u"&&window.document&&window.document.createElement);function S$(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var l=[],c;function u(){c=e(l.map(function(f){return f.props})),h.canUseDOM?t(c):n&&(c=n(c))}var h=function(f){j$(p,f);function p(){return f.apply(this,arguments)||this}p.peek=function(){return c},p.rewind=function(){if(p.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var w=c;return c=void 0,l=[],w};var v=p.prototype;return v.UNSAFE_componentWillMount=function(){l.push(this),u()},v.componentDidUpdate=function(){u()},v.componentWillUnmount=function(){var w=l.indexOf(this);l.splice(w,1),u()},v.render=function(){return b$.createElement(o,this.props)},p}(aN.PureComponent);return Eb(h,"displayName","SideEffect("+r(o)+")"),Eb(h,"canUseDOM",C$),h}}var E$=S$;const N$=_s(E$);var P$=typeof Element<"u",T$=typeof Map=="function",A$=typeof Set=="function",k$=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ad(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Ad(e[r],t[r]))return!1;return!0}var o;if(T$&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!Ad(r.value[1],t.get(r.value[0])))return!1;return!0}if(A$&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(k$&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(P$&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!Ad(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var R$=function(t,n){try{return Ad(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const L$=_s(R$);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Nb=Object.getOwnPropertySymbols,O$=Object.prototype.hasOwnProperty,M$=Object.prototype.propertyIsEnumerable;function I$(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function D$(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var $$=D$()?Object.assign:function(e,t){for(var n,r=I$(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var l in n)O$.call(n,l)&&(r[l]=n[l]);if(Nb){i=Nb(n);for(var c=0;c<i.length;c++)M$.call(n,i[c])&&(r[i[c]]=n[i[c]])}}return r};const F$=_s($$);var no={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Re={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Re).map(function(e){return Re[e]});var ht={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},fh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ec={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},B$=Object.keys(fh).reduce(function(e,t){return e[fh[t]]=t,e},{}),U$=[Re.NOSCRIPT,Re.SCRIPT,Re.STYLE],xr="data-react-helmet",z$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V$=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},H$=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W$=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Pb=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},G$=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Xg=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},q$=function(t){var n=pa(t,Re.TITLE),r=pa(t,Ec.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=pa(t,Ec.DEFAULT_TITLE);return n||i||void 0},Z$=function(t){return pa(t,Ec.ON_CHANGE_CLIENT_STATE)||function(){}},cp=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return bn({},r,i)},{})},K$=function(t,n){return n.filter(function(r){return typeof r[Re.BASE]<"u"}).map(function(r){return r[Re.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var o=Object.keys(i),l=0;l<o.length;l++){var c=o[l],u=c.toLowerCase();if(t.indexOf(u)!==-1&&i[u])return r.concat(i)}return r},[])},wl=function(t,n,r){var i={};return r.filter(function(o){return Array.isArray(o[t])?!0:(typeof o[t]<"u"&&Q$("Helmet: "+t+' should be of type "Array". Instead found type "'+z$(o[t])+'"'),!1)}).map(function(o){return o[t]}).reverse().reduce(function(o,l){var c={};l.filter(function(v){for(var y=void 0,w=Object.keys(v),x=0;x<w.length;x++){var S=w[x],j=S.toLowerCase();n.indexOf(j)!==-1&&!(y===ht.REL&&v[y].toLowerCase()==="canonical")&&!(j===ht.REL&&v[j].toLowerCase()==="stylesheet")&&(y=j),n.indexOf(S)!==-1&&(S===ht.INNER_HTML||S===ht.CSS_TEXT||S===ht.ITEM_PROP)&&(y=S)}if(!y||!v[y])return!1;var b=v[y].toLowerCase();return i[y]||(i[y]={}),c[y]||(c[y]={}),i[y][b]?!1:(c[y][b]=!0,!0)}).reverse().forEach(function(v){return o.push(v)});for(var u=Object.keys(c),h=0;h<u.length;h++){var f=u[h],p=F$({},i[f],c[f]);i[f]=p}return o},[]).reverse()},pa=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},Y$=function(t){return{baseTag:K$([ht.HREF,ht.TARGET],t),bodyAttributes:cp(no.BODY,t),defer:pa(t,Ec.DEFER),encode:pa(t,Ec.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:cp(no.HTML,t),linkTags:wl(Re.LINK,[ht.REL,ht.HREF],t),metaTags:wl(Re.META,[ht.NAME,ht.CHARSET,ht.HTTPEQUIV,ht.PROPERTY,ht.ITEM_PROP],t),noscriptTags:wl(Re.NOSCRIPT,[ht.INNER_HTML],t),onChangeClientState:Z$(t),scriptTags:wl(Re.SCRIPT,[ht.SRC,ht.INNER_HTML],t),styleTags:wl(Re.STYLE,[ht.CSS_TEXT],t),title:q$(t),titleAttributes:cp(no.TITLE,t)}},Qg=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Qg(t)},0)}}(),Tb=function(t){return clearTimeout(t)},J$=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Qg:global.requestAnimationFrame||Qg,X$=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Tb:global.cancelAnimationFrame||Tb,Q$=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},bl=null,eF=function(t){bl&&X$(bl),t.defer?bl=J$(function(){Ab(t,function(){bl=null})}):(Ab(t),bl=null)},Ab=function(t,n){var r=t.baseTag,i=t.bodyAttributes,o=t.htmlAttributes,l=t.linkTags,c=t.metaTags,u=t.noscriptTags,h=t.onChangeClientState,f=t.scriptTags,p=t.styleTags,v=t.title,y=t.titleAttributes;ev(Re.BODY,i),ev(Re.HTML,o),tF(v,y);var w={baseTag:Io(Re.BASE,r),linkTags:Io(Re.LINK,l),metaTags:Io(Re.META,c),noscriptTags:Io(Re.NOSCRIPT,u),scriptTags:Io(Re.SCRIPT,f),styleTags:Io(Re.STYLE,p)},x={},S={};Object.keys(w).forEach(function(j){var b=w[j],C=b.newTags,N=b.oldTags;C.length&&(x[j]=C),N.length&&(S[j]=w[j].oldTags)}),n&&n(),h(t,x,S)},lN=function(t){return Array.isArray(t)?t.join(""):t},tF=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=lN(t)),ev(Re.TITLE,n)},ev=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(xr),o=i?i.split(","):[],l=[].concat(o),c=Object.keys(n),u=0;u<c.length;u++){var h=c[u],f=n[h]||"";r.getAttribute(h)!==f&&r.setAttribute(h,f),o.indexOf(h)===-1&&o.push(h);var p=l.indexOf(h);p!==-1&&l.splice(p,1)}for(var v=l.length-1;v>=0;v--)r.removeAttribute(l[v]);o.length===l.length?r.removeAttribute(xr):r.getAttribute(xr)!==c.join(",")&&r.setAttribute(xr,c.join(","))}},Io=function(t,n){var r=document.head||document.querySelector(Re.HEAD),i=r.querySelectorAll(t+"["+xr+"]"),o=Array.prototype.slice.call(i),l=[],c=void 0;return n&&n.length&&n.forEach(function(u){var h=document.createElement(t);for(var f in u)if(u.hasOwnProperty(f))if(f===ht.INNER_HTML)h.innerHTML=u.innerHTML;else if(f===ht.CSS_TEXT)h.styleSheet?h.styleSheet.cssText=u.cssText:h.appendChild(document.createTextNode(u.cssText));else{var p=typeof u[f]>"u"?"":u[f];h.setAttribute(f,p)}h.setAttribute(xr,"true"),o.some(function(v,y){return c=y,h.isEqualNode(v)})?o.splice(c,1):l.push(h)}),o.forEach(function(u){return u.parentNode.removeChild(u)}),l.forEach(function(u){return r.appendChild(u)}),{oldTags:o,newTags:l}},cN=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},nF=function(t,n,r,i){var o=cN(r),l=lN(n);return o?"<"+t+" "+xr+'="true" '+o+">"+Xg(l,i)+"</"+t+">":"<"+t+" "+xr+'="true">'+Xg(l,i)+"</"+t+">"},rF=function(t,n,r){return n.reduce(function(i,o){var l=Object.keys(o).filter(function(h){return!(h===ht.INNER_HTML||h===ht.CSS_TEXT)}).reduce(function(h,f){var p=typeof o[f]>"u"?f:f+'="'+Xg(o[f],r)+'"';return h?h+" "+p:p},""),c=o.innerHTML||o.cssText||"",u=U$.indexOf(t)===-1;return i+"<"+t+" "+xr+'="true" '+l+(u?"/>":">"+c+"</"+t+">")},"")},uN=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[fh[i]||i]=t[i],r},n)},iF=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[B$[i]||i]=t[i],r},n)},sF=function(t,n,r){var i,o=(i={key:n},i[xr]=!0,i),l=uN(r,o);return[se.createElement(Re.TITLE,l,n)]},oF=function(t,n){return n.map(function(r,i){var o,l=(o={key:i},o[xr]=!0,o);return Object.keys(r).forEach(function(c){var u=fh[c]||c;if(u===ht.INNER_HTML||u===ht.CSS_TEXT){var h=r.innerHTML||r.cssText;l.dangerouslySetInnerHTML={__html:h}}else l[u]=r[c]}),se.createElement(t,l)})},si=function(t,n,r){switch(t){case Re.TITLE:return{toComponent:function(){return sF(t,n.title,n.titleAttributes)},toString:function(){return nF(t,n.title,n.titleAttributes,r)}};case no.BODY:case no.HTML:return{toComponent:function(){return uN(n)},toString:function(){return cN(n)}};default:return{toComponent:function(){return oF(t,n)},toString:function(){return rF(t,n,r)}}}},dN=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,o=t.htmlAttributes,l=t.linkTags,c=t.metaTags,u=t.noscriptTags,h=t.scriptTags,f=t.styleTags,p=t.title,v=p===void 0?"":p,y=t.titleAttributes;return{base:si(Re.BASE,n,i),bodyAttributes:si(no.BODY,r,i),htmlAttributes:si(no.HTML,o,i),link:si(Re.LINK,l,i),meta:si(Re.META,c,i),noscript:si(Re.NOSCRIPT,u,i),script:si(Re.SCRIPT,h,i),style:si(Re.STYLE,f,i),title:si(Re.TITLE,{title:v,titleAttributes:y},i)}},aF=function(t){var n,r;return r=n=function(i){W$(o,i);function o(){return V$(this,o),G$(this,i.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(c){return!L$(this.props,c)},o.prototype.mapNestedChildrenToProps=function(c,u){if(!u)return null;switch(c.type){case Re.SCRIPT:case Re.NOSCRIPT:return{innerHTML:u};case Re.STYLE:return{cssText:u}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(c){var u,h=c.child,f=c.arrayTypeChildren,p=c.newChildProps,v=c.nestedChildren;return bn({},f,(u={},u[h.type]=[].concat(f[h.type]||[],[bn({},p,this.mapNestedChildrenToProps(h,v))]),u))},o.prototype.mapObjectTypeChildren=function(c){var u,h,f=c.child,p=c.newProps,v=c.newChildProps,y=c.nestedChildren;switch(f.type){case Re.TITLE:return bn({},p,(u={},u[f.type]=y,u.titleAttributes=bn({},v),u));case Re.BODY:return bn({},p,{bodyAttributes:bn({},v)});case Re.HTML:return bn({},p,{htmlAttributes:bn({},v)})}return bn({},p,(h={},h[f.type]=bn({},v),h))},o.prototype.mapArrayTypeChildrenToProps=function(c,u){var h=bn({},u);return Object.keys(c).forEach(function(f){var p;h=bn({},h,(p={},p[f]=c[f],p))}),h},o.prototype.warnOnInvalidChildren=function(c,u){return!0},o.prototype.mapChildrenToProps=function(c,u){var h=this,f={};return se.Children.forEach(c,function(p){if(!(!p||!p.props)){var v=p.props,y=v.children,w=Pb(v,["children"]),x=iF(w);switch(h.warnOnInvalidChildren(p,y),p.type){case Re.LINK:case Re.META:case Re.NOSCRIPT:case Re.SCRIPT:case Re.STYLE:f=h.flattenArrayTypeChildren({child:p,arrayTypeChildren:f,newChildProps:x,nestedChildren:y});break;default:u=h.mapObjectTypeChildren({child:p,newProps:u,newChildProps:x,nestedChildren:y});break}}}),u=this.mapArrayTypeChildrenToProps(f,u),u},o.prototype.render=function(){var c=this.props,u=c.children,h=Pb(c,["children"]),f=bn({},h);return u&&(f=this.mapChildrenToProps(u,f)),se.createElement(t,f)},H$(o,null,[{key:"canUseDOM",set:function(c){t.canUseDOM=c}}]),o}(se.Component),n.propTypes={base:dt.object,bodyAttributes:dt.object,children:dt.oneOfType([dt.arrayOf(dt.node),dt.node]),defaultTitle:dt.string,defer:dt.bool,encodeSpecialCharacters:dt.bool,htmlAttributes:dt.object,link:dt.arrayOf(dt.object),meta:dt.arrayOf(dt.object),noscript:dt.arrayOf(dt.object),onChangeClientState:dt.func,script:dt.arrayOf(dt.object),style:dt.arrayOf(dt.object),title:dt.string,titleAttributes:dt.object,titleTemplate:dt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=dN({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},lF=function(){return null},cF=N$(Y$,eF,dN)(lF),yt=aF(cF);yt.renderStatic=yt.rewind;const uF=e=>s.jsx(yt,{...e});function hN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=hN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function fN(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=hN(e))&&(r&&(r+=" "),r+=t);return r}function dF(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=mN(t))&&(r&&(r+=" "),r+=n);return r}function mN(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=mN(e[r]))&&(n&&(n+=" "),n+=t);return n}var ey="-";function hF(e){var t=mF(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=r===void 0?{}:r;function o(c){var u=c.split(ey);return u[0]===""&&u.length!==1&&u.shift(),pN(u,t)||fF(c)}function l(c,u){var h=n[c]||[];return u&&i[c]?[].concat(h,i[c]):h}return{getClassGroupId:o,getConflictingClassGroupIds:l}}function pN(e,t){var l;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),i=r?pN(e.slice(1),r):void 0;if(i)return i;if(t.validators.length!==0){var o=e.join(ey);return(l=t.validators.find(function(c){var u=c.validator;return u(o)}))==null?void 0:l.classGroupId}}var kb=/^\[(.+)\]$/;function fF(e){if(kb.test(e)){var t=kb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function mF(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=gF(Object.entries(e.classGroups),n);return i.forEach(function(o){var l=o[0],c=o[1];tv(c,r,l,t)}),r}function tv(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var o=i===""?t:Rb(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(pF(i)){tv(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(l){var c=l[0],u=l[1];tv(u,Rb(t,c),n,r)})})}function Rb(e,t){var n=e;return t.split(ey).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function pF(e){return e.isThemeGetter}function gF(e,t){return t?e.map(function(n){var r=n[0],i=n[1],o=i.map(function(l){return typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(function(c){var u=c[0],h=c[1];return[t+u,h]})):l});return[r,o]}):e}function vF(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(o,l){n.set(o,l),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(l){var c=n.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return i(l,c),c},set:function(l,c){n.has(l)?n.set(l,c):i(l,c)}}}var gN="!";function xF(e){var t=e.separator||":",n=t.length===1,r=t[0],i=t.length;return function(l){for(var c=[],u=0,h=0,f,p=0;p<l.length;p++){var v=l[p];if(u===0){if(v===r&&(n||l.slice(p,p+i)===t)){c.push(l.slice(h,p)),h=p+i;continue}if(v==="/"){f=p;continue}}v==="["?u++:v==="]"&&u--}var y=c.length===0?l:l.substring(h),w=y.startsWith(gN),x=w?y.substring(1):y,S=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:S}}}function yF(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function _F(e){return{cache:vF(e.cacheSize),splitModifiers:xF(e),...hF(e)}}var wF=/\s+/;function bF(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(wF).map(function(l){var c=n(l),u=c.modifiers,h=c.hasImportantModifier,f=c.baseClassName,p=c.maybePostfixModifierPosition,v=r(p?f.substring(0,p):f),y=!!p;if(!v){if(!p)return{isTailwindClass:!1,originalClassName:l};if(v=r(f),!v)return{isTailwindClass:!1,originalClassName:l};y=!1}var w=yF(u).join(":"),x=h?w+gN:w;return{isTailwindClass:!0,modifierId:x,classGroupId:v,originalClassName:l,hasPostfixModifier:y}}).reverse().filter(function(l){if(!l.isTailwindClass)return!0;var c=l.modifierId,u=l.classGroupId,h=l.hasPostfixModifier,f=c+u;return o.has(f)?!1:(o.add(f),i(u,h).forEach(function(p){return o.add(c+p)}),!0)}).reverse().map(function(l){return l.originalClassName}).join(" ")}function jF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,o,l=c;function c(h){var f=t[0],p=t.slice(1),v=p.reduce(function(y,w){return w(y)},f());return r=_F(v),i=r.cache.get,o=r.cache.set,l=u,u(h)}function u(h){var f=i(h);if(f)return f;var p=bF(h,r);return o(h,p),p}return function(){return l(dF.apply(null,arguments))}}function at(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var vN=/^\[(?:([a-z-]+):)?(.+)\]$/i,CF=/^\d+\/\d+$/,SF=new Set(["px","full","screen"]),EF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PF=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function fr(e){return Xs(e)||SF.has(e)||CF.test(e)||nv(e)}function nv(e){return vo(e,"length",OF)}function TF(e){return vo(e,"size",xN)}function AF(e){return vo(e,"position",xN)}function kF(e){return vo(e,"url",MF)}function qu(e){return vo(e,"number",Xs)}function Xs(e){return!Number.isNaN(Number(e))}function RF(e){return e.endsWith("%")&&Xs(e.slice(0,-1))}function jl(e){return Lb(e)||vo(e,"number",Lb)}function De(e){return vN.test(e)}function Cl(){return!0}function Oi(e){return EF.test(e)}function LF(e){return vo(e,"",IF)}function vo(e,t,n){var r=vN.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function OF(e){return NF.test(e)}function xN(){return!1}function MF(e){return e.startsWith("url(")}function Lb(e){return Number.isInteger(Number(e))}function IF(e){return PF.test(e)}function DF(){var e=at("colors"),t=at("spacing"),n=at("blur"),r=at("brightness"),i=at("borderColor"),o=at("borderRadius"),l=at("borderSpacing"),c=at("borderWidth"),u=at("contrast"),h=at("grayscale"),f=at("hueRotate"),p=at("invert"),v=at("gap"),y=at("gradientColorStops"),w=at("gradientColorStopPositions"),x=at("inset"),S=at("margin"),j=at("opacity"),b=at("padding"),C=at("saturate"),N=at("scale"),A=at("sepia"),P=at("skew"),T=at("space"),R=at("translate"),O=function(){return["auto","contain","none"]},B=function(){return["auto","hidden","clip","visible","scroll"]},W=function(){return["auto",De,t]},U=function(){return[De,t]},K=function(){return["",fr]},$=function(){return["auto",Xs,De]},k=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},I=function(){return["solid","dashed","dotted","double","none"]},F=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},D=function(){return["start","end","center","between","around","evenly","stretch"]},H=function(){return["","0",De]},G=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ee=function(){return[Xs,qu]},z=function(){return[Xs,De]};return{cacheSize:500,theme:{colors:[Cl],spacing:[fr],blur:["none","",Oi,De],brightness:ee(),borderColor:[e],borderRadius:["none","","full",Oi,De],borderSpacing:U(),borderWidth:K(),contrast:ee(),grayscale:H(),hueRotate:z(),invert:H(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[RF,nv],inset:W(),margin:W(),opacity:ee(),padding:U(),saturate:ee(),scale:ee(),sepia:H(),skew:z(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[Oi]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(k(),[De])}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jl]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",jl]}],"grid-cols":[{"grid-cols":[Cl]}],"col-start-end":[{col:["auto",{span:["full",jl]},De]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Cl]}],"row-start-end":[{row:["auto",{span:[jl]},De]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal"].concat(D())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(D(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(D(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",De,t]}],"min-w":[{"min-w":["min","max","fit",De,fr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Oi]},Oi,De]}],h:[{h:[De,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",De,fr]}],"max-h":[{"max-h":[De,t,"min","max","fit"]}],"font-size":[{text:["base",Oi,nv]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qu]}],"font-family":[{font:[Cl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",Xs,qu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",De,fr]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(I(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",fr]}],"underline-offset":[{"underline-offset":["auto",De,fr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(k(),[AF])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",TF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[].concat(I(),["hidden"])}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:I()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(I())}],"outline-offset":[{"outline-offset":[De,fr]}],"outline-w":[{outline:[fr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[fr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Oi,LF]}],"shadow-color":[{shadow:[Cl]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":F()}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Oi,De]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[jl,De]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fr,qu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var $F=jF(DF),FF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ae=(e,t)=>{const n=m.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c,...u},h)=>m.createElement("svg",{ref:h,...FF,width:i,height:i,stroke:r,strokeWidth:l?Number(o)*24/Number(i):o,className:`lucide lucide-${BF(e)}`,...u},[...t.map(([f,p])=>m.createElement(f,p)),...(Array.isArray(c)?c:[c])||[]]));return n.displayName=`${e}`,n},Ws=ae("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),ty=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),UF=ae("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]),zF=ae("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),us=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),VF=ae("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),nf=ae("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),yN=ae("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]),mh=ae("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),rf=ae("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]),HF=ae("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),WF=ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),xo=ae("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ny=ae("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),rv=ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ry=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),iy=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),GF=ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),_N=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),qF=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ob=ae("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),ZF=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),sf=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),wN=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Mb=ae("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),of=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),sy=ae("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]),KF=ae("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),lo=ae("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),YF=ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ta=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),bN=ae("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),oy=ae("FileQuestion",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["path",{d:"M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"1umxtm"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),rr=ae("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),af=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),JF=ae("FolderHeart",[["path",{d:"M11 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v1.5",key:"6hud8k"}],["path",{d:"M13.9 17.45c-1.2-1.2-1.14-2.8-.2-3.73a2.43 2.43 0 0 1 3.44 0l.36.34.34-.34a2.43 2.43 0 0 1 3.45-.01v0c.95.95 1 2.53-.2 3.74L17.5 21Z",key:"vgq86i"}]]),ay=ae("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),XF=ae("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),QF=ae("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),jN=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),lf=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),e3=ae("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),qc=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Aa=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),CN=ae("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),SN=ae("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),ka=ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),EN=ae("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),$e=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),t3=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),n3=ae("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),r3=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),i3=ae("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]),NN=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ly=ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),PN=ae("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),s3=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),o3=ae("MountainSnow",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}],["path",{d:"M4.14 15.08c2.62-1.57 5.24-1.43 7.86.42 2.74 1.94 5.49 2 8.23.19",key:"1pvmmp"}]]),TN=ae("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]),a3=ae("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]),Qr=ae("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),l3=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ga=ae("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Ra=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),AN=ae("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]),c3=ae("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),u3=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),cf=ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),bi=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),d3=ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),kN=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),RN=ae("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),uf=ae("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),LN=ae("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),h3=ae("Siren",[["path",{d:"M7 12a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v6H7v-6Z",key:"rmc51c"}],["path",{d:"M5 20a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v2H5v-2Z",key:"yyvmjy"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]]),ON=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Wn=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),MN=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),qa=ae("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),IN=ae("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),cy=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Nc=ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),f3=ae("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),uy=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),m3=ae("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),wr=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Yt=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),DN=ae("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),up=ae("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),p3=ae("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),g3=ae("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Er=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ib=ae("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function ce(...e){return $F(fN(e))}function it(e,t,n=!1){if(!e)return t||"";if(!t)return e||"";const r=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();if(n){const o=t.toUpperCase();return`${r} ${o}`}const i=`${t.charAt(0).toUpperCase()}.`;return`${r} ${i}`}function Db(e){if(!e)return"";const t=e.split(" ");if(t.length<2)return e;const n=t.slice(0,-1).join(" "),r=t[t.length-1];return it(n,r)}function xe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function $b(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function df(...e){return t=>{let n=!1;const r=e.map(i=>{const o=$b(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():$b(e[i],null)}}}}function ut(...e){return m.useCallback(df(...e),e)}function v3(e,t){const n=m.createContext(t),r=o=>{const{children:l,...c}=o,u=m.useMemo(()=>c,Object.values(c));return s.jsx(n.Provider,{value:u,children:l})};r.displayName=e+"Provider";function i(o){const l=m.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function Gn(e,t=[]){let n=[];function r(o,l){const c=m.createContext(l),u=n.length;n=[...n,l];const h=p=>{var j;const{scope:v,children:y,...w}=p,x=((j=v==null?void 0:v[e])==null?void 0:j[u])||c,S=m.useMemo(()=>w,Object.values(w));return s.jsx(x.Provider,{value:S,children:y})};h.displayName=o+"Provider";function f(p,v){var x;const y=((x=v==null?void 0:v[e])==null?void 0:x[u])||c,w=m.useContext(y);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[h,f]}const i=()=>{const o=n.map(l=>m.createContext(l));return function(c){const u=(c==null?void 0:c[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return i.scopeName=e,[r,x3(i,...t)]}function x3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:u,scopeName:h})=>{const p=u(o)[`__scope${h}`];return{...c,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function La(e){const t=_3(e),n=m.forwardRef((r,i)=>{const{children:o,...l}=r,c=m.Children.toArray(o),u=c.find(b3);if(u){const h=u.props.children,f=c.map(p=>p===u?m.Children.count(h)>1?m.Children.only(null):m.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...l,ref:i,children:m.isValidElement(h)?m.cloneElement(h,void 0,f):null})}return s.jsx(t,{...l,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var y3=La("Slot");function _3(e){const t=m.forwardRef((n,r)=>{const{children:i,...o}=n;if(m.isValidElement(i)){const l=C3(i),c=j3(o,i.props);return i.type!==m.Fragment&&(c.ref=r?df(r,l):l),m.cloneElement(i,c)}return m.Children.count(i)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $N=Symbol("radix.slottable");function w3(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=$N,t}function b3(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$N}function j3(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...c)=>{const u=o(...c);return i(...c),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function C3(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function hf(e){const t=e+"CollectionProvider",[n,r]=Gn(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:S,children:j}=x,b=se.useRef(null),C=se.useRef(new Map).current;return s.jsx(i,{scope:S,itemMap:C,collectionRef:b,children:j})};l.displayName=t;const c=e+"CollectionSlot",u=La(c),h=se.forwardRef((x,S)=>{const{scope:j,children:b}=x,C=o(c,j),N=ut(S,C.collectionRef);return s.jsx(u,{ref:N,children:b})});h.displayName=c;const f=e+"CollectionItemSlot",p="data-radix-collection-item",v=La(f),y=se.forwardRef((x,S)=>{const{scope:j,children:b,...C}=x,N=se.useRef(null),A=ut(S,N),P=o(f,j);return se.useEffect(()=>(P.itemMap.set(N,{ref:N,...C}),()=>void P.itemMap.delete(N))),s.jsx(v,{[p]:"",ref:A,children:b})});y.displayName=f;function w(x){const S=o(e+"CollectionConsumer",x);return se.useCallback(()=>{const b=S.collectionRef.current;if(!b)return[];const C=Array.from(b.querySelectorAll(`[${p}]`));return Array.from(S.itemMap.values()).sort((P,T)=>C.indexOf(P.ref.current)-C.indexOf(T.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:l,Slot:h,ItemSlot:y},w,r]}var S3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ee=S3.reduce((e,t)=>{const n=La(`Primitive.${t}`),r=m.forwardRef((i,o)=>{const{asChild:l,...c}=i,u=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...c,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function dy(e,t){e&&Xr.flushSync(()=>e.dispatchEvent(t))}function Tn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function E3(e,t=globalThis==null?void 0:globalThis.document){const n=Tn(e);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var N3="DismissableLayer",iv="dismissableLayer.update",P3="dismissableLayer.pointerDownOutside",T3="dismissableLayer.focusOutside",Fb,FN=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ff=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...u}=e,h=m.useContext(FN),[f,p]=m.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),w=ut(t,T=>p(T)),x=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),j=x.indexOf(S),b=f?x.indexOf(f):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,N=b>=j,A=k3(T=>{const R=T.target,O=[...h.branches].some(B=>B.contains(R));!N||O||(i==null||i(T),l==null||l(T),T.defaultPrevented||c==null||c())},v),P=R3(T=>{const R=T.target;[...h.branches].some(B=>B.contains(R))||(o==null||o(T),l==null||l(T),T.defaultPrevented||c==null||c())},v);return E3(T=>{b===h.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},v),m.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Fb=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),Bb(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Fb)}},[f,v,n,h]),m.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),Bb())},[f,h]),m.useEffect(()=>{const T=()=>y({});return document.addEventListener(iv,T),()=>document.removeEventListener(iv,T)},[]),s.jsx(Ee.div,{...u,ref:w,style:{pointerEvents:C?N?"auto":"none":void 0,...e.style},onFocusCapture:xe(e.onFocusCapture,P.onFocusCapture),onBlurCapture:xe(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:xe(e.onPointerDownCapture,A.onPointerDownCapture)})});ff.displayName=N3;var A3="DismissableLayerBranch",BN=m.forwardRef((e,t)=>{const n=m.useContext(FN),r=m.useRef(null),i=ut(t,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(Ee.div,{...e,ref:i})});BN.displayName=A3;function k3(e,t=globalThis==null?void 0:globalThis.document){const n=Tn(e),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let u=function(){UN(P3,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function R3(e,t=globalThis==null?void 0:globalThis.document){const n=Tn(e),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&UN(T3,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Bb(){const e=new CustomEvent(iv);document.dispatchEvent(e)}function UN(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?dy(i,o):i.dispatchEvent(o)}var L3=ff,O3=BN,Un=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},M3="Portal",mf=m.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[i,o]=m.useState(!1);Un(()=>o(!0),[]);const l=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Qx.createPortal(s.jsx(Ee.div,{...r,ref:t}),l):null});mf.displayName=M3;function I3(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var lr=e=>{const{present:t,children:n}=e,r=D3(t),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=ut(r.ref,$3(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};lr.displayName="Presence";function D3(e){const[t,n]=m.useState(),r=m.useRef(null),i=m.useRef(e),o=m.useRef("none"),l=e?"mounted":"unmounted",[c,u]=I3(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const h=Zu(r.current);o.current=c==="mounted"?h:"none"},[c]),Un(()=>{const h=r.current,f=i.current;if(f!==e){const v=o.current,y=Zu(h);e?u("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(f&&v!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),Un(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,p=y=>{const x=Zu(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&x&&(u("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},v=y=>{y.target===t&&(o.current=Zu(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:m.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Zu(e){return(e==null?void 0:e.animationName)||"none"}function $3(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var F3=Uc[" useInsertionEffect ".trim().toString()]||Un;function Pi({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,l]=B3({defaultProp:t,onChange:n}),c=e!==void 0,u=c?e:i;{const f=m.useRef(e!==void 0);m.useEffect(()=>{const p=f.current;p!==c&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,r])}const h=m.useCallback(f=>{var p;if(c){const v=U3(f)?f(e):f;v!==e&&((p=l.current)==null||p.call(l,v))}else o(f)},[c,e,o,l]);return[u,h]}function B3({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),i=m.useRef(n),o=m.useRef(t);return F3(()=>{o.current=t},[t]),m.useEffect(()=>{var l;i.current!==n&&((l=o.current)==null||l.call(o,n),i.current=n)},[n,i]),[n,r,o]}function U3(e){return typeof e=="function"}var z3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),V3="VisuallyHidden",hy=m.forwardRef((e,t)=>s.jsx(Ee.span,{...e,ref:t,style:{...z3,...e.style}}));hy.displayName=V3;var fy="ToastProvider",[my,H3,W3]=hf("Toast"),[zN,UQ]=Gn("Toast",[W3]),[G3,pf]=zN(fy),VN=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:l}=e,[c,u]=m.useState(null),[h,f]=m.useState(0),p=m.useRef(!1),v=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${fy}\`. Expected non-empty \`string\`.`),s.jsx(my.Provider,{scope:t,children:s.jsx(G3,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:h,viewport:c,onViewportChange:u,onToastAdd:m.useCallback(()=>f(y=>y+1),[]),onToastRemove:m.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:v,children:l})})};VN.displayName=fy;var HN="ToastViewport",q3=["F8"],sv="toast.viewportPause",ov="toast.viewportResume",WN=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=q3,label:i="Notifications ({hotkey})",...o}=e,l=pf(HN,n),c=H3(n),u=m.useRef(null),h=m.useRef(null),f=m.useRef(null),p=m.useRef(null),v=ut(t,p,l.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=l.toastCount>0;m.useEffect(()=>{const S=j=>{var C;r.length!==0&&r.every(N=>j[N]||j.code===N)&&((C=p.current)==null||C.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),m.useEffect(()=>{const S=u.current,j=p.current;if(w&&S&&j){const b=()=>{if(!l.isClosePausedRef.current){const P=new CustomEvent(sv);j.dispatchEvent(P),l.isClosePausedRef.current=!0}},C=()=>{if(l.isClosePausedRef.current){const P=new CustomEvent(ov);j.dispatchEvent(P),l.isClosePausedRef.current=!1}},N=P=>{!S.contains(P.relatedTarget)&&C()},A=()=>{S.contains(document.activeElement)||C()};return S.addEventListener("focusin",b),S.addEventListener("focusout",N),S.addEventListener("pointermove",b),S.addEventListener("pointerleave",A),window.addEventListener("blur",b),window.addEventListener("focus",C),()=>{S.removeEventListener("focusin",b),S.removeEventListener("focusout",N),S.removeEventListener("pointermove",b),S.removeEventListener("pointerleave",A),window.removeEventListener("blur",b),window.removeEventListener("focus",C)}}},[w,l.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:S})=>{const b=c().map(C=>{const N=C.ref.current,A=[N,...o5(N)];return S==="forwards"?A:A.reverse()});return(S==="forwards"?b.reverse():b).flat()},[c]);return m.useEffect(()=>{const S=p.current;if(S){const j=b=>{var A,P,T;const C=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!C){const R=document.activeElement,O=b.shiftKey;if(b.target===S&&O){(A=h.current)==null||A.focus();return}const U=x({tabbingDirection:O?"backwards":"forwards"}),K=U.findIndex($=>$===R);dp(U.slice(K+1))?b.preventDefault():O?(P=h.current)==null||P.focus():(T=f.current)==null||T.focus()}};return S.addEventListener("keydown",j),()=>S.removeEventListener("keydown",j)}},[c,x]),s.jsxs(O3,{ref:u,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&s.jsx(av,{ref:h,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"forwards"});dp(S)}}),s.jsx(my.Slot,{scope:n,children:s.jsx(Ee.ol,{tabIndex:-1,...o,ref:v})}),w&&s.jsx(av,{ref:f,onFocusFromOutsideViewport:()=>{const S=x({tabbingDirection:"backwards"});dp(S)}})]})});WN.displayName=HN;var GN="ToastFocusProxy",av=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=pf(GN,n);return s.jsx(hy,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{var h;const c=l.relatedTarget;!((h=o.viewport)!=null&&h.contains(c))&&r()}})});av.displayName=GN;var Zc="Toast",Z3="toast.swipeStart",K3="toast.swipeMove",Y3="toast.swipeCancel",J3="toast.swipeEnd",qN=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...l}=e,[c,u]=Pi({prop:r,defaultProp:i??!0,onChange:o,caller:Zc});return s.jsx(lr,{present:n||c,children:s.jsx(e5,{open:c,...l,ref:t,onClose:()=>u(!1),onPause:Tn(e.onPause),onResume:Tn(e.onResume),onSwipeStart:xe(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(e.onSwipeMove,h=>{const{x:f,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:xe(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(e.onSwipeEnd,h=>{const{x:f,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});qN.displayName=Zc;var[X3,Q3]=zN(Zc,{onClose(){}}),e5=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:l,onEscapeKeyDown:c,onPause:u,onResume:h,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:v,onSwipeEnd:y,...w}=e,x=pf(Zc,n),[S,j]=m.useState(null),b=ut(t,$=>j($)),C=m.useRef(null),N=m.useRef(null),A=i||x.duration,P=m.useRef(0),T=m.useRef(A),R=m.useRef(0),{onToastAdd:O,onToastRemove:B}=x,W=Tn(()=>{var k;(S==null?void 0:S.contains(document.activeElement))&&((k=x.viewport)==null||k.focus()),l()}),U=m.useCallback($=>{!$||$===1/0||(window.clearTimeout(R.current),P.current=new Date().getTime(),R.current=window.setTimeout(W,$))},[W]);m.useEffect(()=>{const $=x.viewport;if($){const k=()=>{U(T.current),h==null||h()},I=()=>{const F=new Date().getTime()-P.current;T.current=T.current-F,window.clearTimeout(R.current),u==null||u()};return $.addEventListener(sv,I),$.addEventListener(ov,k),()=>{$.removeEventListener(sv,I),$.removeEventListener(ov,k)}}},[x.viewport,A,u,h,U]),m.useEffect(()=>{o&&!x.isClosePausedRef.current&&U(A)},[o,A,x.isClosePausedRef,U]),m.useEffect(()=>(O(),()=>B()),[O,B]);const K=m.useMemo(()=>S?eP(S):null,[S]);return x.viewport?s.jsxs(s.Fragment,{children:[K&&s.jsx(t5,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:K}),s.jsx(X3,{scope:n,onClose:W,children:Xr.createPortal(s.jsx(my.ItemSlot,{scope:n,children:s.jsx(L3,{asChild:!0,onEscapeKeyDown:xe(c,()=>{x.isFocusedToastEscapeKeyDownRef.current||W(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ee.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...w,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:xe(e.onKeyDown,$=>{$.key==="Escape"&&(c==null||c($.nativeEvent),$.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:xe(e.onPointerDown,$=>{$.button===0&&(C.current={x:$.clientX,y:$.clientY})}),onPointerMove:xe(e.onPointerMove,$=>{if(!C.current)return;const k=$.clientX-C.current.x,I=$.clientY-C.current.y,F=!!N.current,D=["left","right"].includes(x.swipeDirection),H=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,G=D?H(0,k):0,ee=D?0:H(0,I),z=$.pointerType==="touch"?10:2,Z={x:G,y:ee},q={originalEvent:$,delta:Z};F?(N.current=Z,Ku(K3,p,q,{discrete:!1})):Ub(Z,x.swipeDirection,z)?(N.current=Z,Ku(Z3,f,q,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(k)>z||Math.abs(I)>z)&&(C.current=null)}),onPointerUp:xe(e.onPointerUp,$=>{const k=N.current,I=$.target;if(I.hasPointerCapture($.pointerId)&&I.releasePointerCapture($.pointerId),N.current=null,C.current=null,k){const F=$.currentTarget,D={originalEvent:$,delta:k};Ub(k,x.swipeDirection,x.swipeThreshold)?Ku(J3,y,D,{discrete:!0}):Ku(Y3,v,D,{discrete:!0}),F.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),t5=e=>{const{__scopeToast:t,children:n,...r}=e,i=pf(Zc,t),[o,l]=m.useState(!1),[c,u]=m.useState(!1);return i5(()=>l(!0)),m.useEffect(()=>{const h=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:s.jsx(mf,{asChild:!0,children:s.jsx(hy,{...r,children:o&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},n5="ToastTitle",ZN=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ee.div,{...r,ref:t})});ZN.displayName=n5;var r5="ToastDescription",KN=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Ee.div,{...r,ref:t})});KN.displayName=r5;var YN="ToastAction",JN=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(QN,{altText:n,asChild:!0,children:s.jsx(py,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${YN}\`. Expected non-empty \`string\`.`),null)});JN.displayName=YN;var XN="ToastClose",py=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=Q3(XN,n);return s.jsx(QN,{asChild:!0,children:s.jsx(Ee.button,{type:"button",...r,ref:t,onClick:xe(e.onClick,i.onClose)})})});py.displayName=XN;var QN=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return s.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function eP(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),s5(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...eP(r))}}),t}function Ku(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?dy(i,o):i.dispatchEvent(o)}var Ub=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function i5(e=()=>{}){const t=Tn(e);Un(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function s5(e){return e.nodeType===e.ELEMENT_NODE}function o5(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function dp(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var a5=VN,tP=WN,nP=qN,rP=ZN,iP=KN,sP=JN,oP=py;const zb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Vb=fN,Kc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Vb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(h=>{const f=n==null?void 0:n[h],p=o==null?void 0:o[h];if(f===null)return null;const v=zb(f)||zb(p);return i[h][v]}),c=n&&Object.entries(n).reduce((h,f)=>{let[p,v]=f;return v===void 0||(h[p]=v),h},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,f)=>{let{class:p,className:v,...y}=f;return Object.entries(y).every(w=>{let[x,S]=w;return Array.isArray(S)?S.includes({...o,...c}[x]):{...o,...c}[x]===S})?[...h,p,v]:h},[]);return Vb(e,l,u,n==null?void 0:n.class,n==null?void 0:n.className)},l5=a5,aP=se.forwardRef(({className:e,...t},n)=>s.jsx(tP,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));aP.displayName=tP.displayName;const c5=Kc("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lP=se.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(nP,{ref:r,className:ce(c5({variant:t}),e),...n}));lP.displayName=nP.displayName;const u5=se.forwardRef(({className:e,...t},n)=>s.jsx(sP,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));u5.displayName=sP.displayName;const cP=se.forwardRef(({className:e,...t},n)=>s.jsx(oP,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Er,{className:"h-4 w-4"})}));cP.displayName=oP.displayName;const uP=se.forwardRef(({className:e,...t},n)=>s.jsx(rP,{ref:n,className:ce("text-sm font-semibold",e),...t}));uP.displayName=rP.displayName;const dP=se.forwardRef(({className:e,...t},n)=>s.jsx(iP,{ref:n,className:ce("text-sm opacity-90",e),...t}));dP.displayName=iP.displayName;const d5=1;let hp=0;function h5(){return hp=(hp+1)%Number.MAX_VALUE,hp.toString()}const an={state:{toasts:[]},listeners:[],getState:()=>an.state,setState:e=>{typeof e=="function"?an.state=e(an.state):an.state={...an.state,...e},an.listeners.forEach(t=>t(an.state))},subscribe:e=>(an.listeners.push(e),()=>{an.listeners=an.listeners.filter(t=>t!==e)})},f5=({...e})=>{const t=h5(),n=i=>an.setState(o=>({...o,toasts:o.toasts.map(l=>l.id===t?{...l,...i}:l)})),r=()=>an.setState(i=>({...i,toasts:i.toasts.filter(o=>o.id!==t)}));return an.setState(i=>({...i,toasts:[{...e,id:t,dismiss:r},...i.toasts].slice(0,d5)})),{id:t,dismiss:r,update:n}};function tt(){const[e,t]=m.useState(an.getState());return m.useEffect(()=>an.subscribe(r=>{t(r)}),[]),m.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:f5,toasts:e.toasts}}function m5(){const{toasts:e}=tt();return s.jsxs(l5,{children:[e.map(({id:t,title:n,description:r,action:i,...o})=>s.jsxs(lP,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(uP,{children:n}),r&&s.jsx(dP,{children:r})]}),i,s.jsx(cP,{})]},t)),s.jsx(aP,{})]})}const hP=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),gf=m.createContext({}),vf=m.createContext(null),xf=typeof document<"u",gy=xf?m.useLayoutEffect:m.useEffect,fP=m.createContext({strict:!1}),vy=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),p5="framerAppearId",mP="data-"+vy(p5);function g5(e,t,n,r){const{visualElement:i}=m.useContext(gf),o=m.useContext(fP),l=m.useContext(vf),c=m.useContext(hP).reducedMotion,u=m.useRef();r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=u.current;m.useInsertionEffect(()=>{h&&h.update(n,l)});const f=m.useRef(!!(n[mP]&&!window.HandoffComplete));return gy(()=>{h&&(h.render(),f.current&&h.animationState&&h.animationState.animateChanges())}),m.useEffect(()=>{h&&(h.updateFeatures(),!f.current&&h.animationState&&h.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),h}function sa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function v5(e,t,n){return m.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):sa(n)&&(n.current=r))},[t])}function Pc(e){return typeof e=="string"||Array.isArray(e)}function yf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const xy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yy=["initial",...xy];function _f(e){return yf(e.animate)||yy.some(t=>Pc(e[t]))}function pP(e){return!!(_f(e)||e.variants)}function x5(e,t){if(_f(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Pc(n)?n:void 0,animate:Pc(r)?r:void 0}}return e.inherit!==!1?t:{}}function y5(e){const{initial:t,animate:n}=x5(e,m.useContext(gf));return m.useMemo(()=>({initial:t,animate:n}),[Hb(t),Hb(n)])}function Hb(e){return Array.isArray(e)?e.join(" "):e}const Wb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tc={};for(const e in Wb)Tc[e]={isEnabled:t=>Wb[e].some(n=>!!t[n])};function _5(e){for(const t in e)Tc[t]={...Tc[t],...e[t]}}const _y=m.createContext({}),gP=m.createContext({}),w5=Symbol.for("motionComponentSymbol");function b5({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&_5(e);function o(c,u){let h;const f={...m.useContext(hP),...c,layoutId:j5(c)},{isStatic:p}=f,v=y5(c),y=r(c,p);if(!p&&xf){v.visualElement=g5(i,y,f,t);const w=m.useContext(gP),x=m.useContext(fP).strict;v.visualElement&&(h=v.visualElement.loadFeatures(f,x,e,w))}return m.createElement(gf.Provider,{value:v},h&&v.visualElement?m.createElement(h,{visualElement:v.visualElement,...f}):null,n(i,c,v5(y,v.visualElement,u),y,p,v.visualElement))}const l=m.forwardRef(o);return l[w5]=i,l}function j5({layoutId:e}){const t=m.useContext(_y).id;return t&&e!==void 0?t+"-"+e:e}function C5(e){function t(r,i={}){return b5(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const S5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wy(e){return typeof e!="string"||e.includes("-")?!1:!!(S5.indexOf(e)>-1||/[A-Z]/.test(e))}const ph={};function E5(e){Object.assign(ph,e)}const Yc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yo=new Set(Yc);function vP(e,{layout:t,layoutId:n}){return yo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ph[e]||e==="opacity")}const An=e=>!!(e&&e.getVelocity),N5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},P5=Yc.length;function T5(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let o="";for(let l=0;l<P5;l++){const c=Yc[l];if(e[c]!==void 0){const u=N5[c]||c;o+=`${u}(${e[c]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,r?"":o):n&&r&&(o="none"),o}const xP=e=>t=>typeof t=="string"&&t.startsWith(e),yP=xP("--"),lv=xP("var(--"),A5=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,k5=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ds=(e,t,n)=>Math.min(Math.max(n,e),t),_o={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Kl={..._o,transform:e=>ds(0,1,e)},Yu={..._o,default:1},Yl=e=>Math.round(e*1e5)/1e5,wf=/(-)?([\d]*\.?[\d])+/g,_P=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,R5=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Jc(e){return typeof e=="string"}const Xc=e=>({test:t=>Jc(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Di=Xc("deg"),Gr=Xc("%"),Ae=Xc("px"),L5=Xc("vh"),O5=Xc("vw"),Gb={...Gr,parse:e=>Gr.parse(e)/100,transform:e=>Gr.transform(e*100)},qb={..._o,transform:Math.round},wP={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,size:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,rotate:Di,rotateX:Di,rotateY:Di,rotateZ:Di,scale:Yu,scaleX:Yu,scaleY:Yu,scaleZ:Yu,skew:Di,skewX:Di,skewY:Di,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:Kl,originX:Gb,originY:Gb,originZ:Ae,zIndex:qb,fillOpacity:Kl,strokeOpacity:Kl,numOctaves:qb};function by(e,t,n,r){const{style:i,vars:o,transform:l,transformOrigin:c}=e;let u=!1,h=!1,f=!0;for(const p in t){const v=t[p];if(yP(p)){o[p]=v;continue}const y=wP[p],w=k5(v,y);if(yo.has(p)){if(u=!0,l[p]=w,!f)continue;v!==(y.default||0)&&(f=!1)}else p.startsWith("origin")?(h=!0,c[p]=w):i[p]=w}if(t.transform||(u||r?i.transform=T5(e.transform,n,f,r):i.transform&&(i.transform="none")),h){const{originX:p="50%",originY:v="50%",originZ:y=0}=c;i.transformOrigin=`${p} ${v} ${y}`}}const jy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bP(e,t,n){for(const r in t)!An(t[r])&&!vP(r,n)&&(e[r]=t[r])}function M5({transformTemplate:e},t,n){return m.useMemo(()=>{const r=jy();return by(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function I5(e,t,n){const r=e.style||{},i={};return bP(i,r,e),Object.assign(i,M5(e,t,n)),e.transformValues?e.transformValues(i):i}function D5(e,t,n){const r={},i=I5(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const $5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$5.has(e)}let jP=e=>!gh(e);function F5(e){e&&(jP=t=>t.startsWith("on")?!gh(t):e(t))}try{F5(require("@emotion/is-prop-valid").default)}catch{}function B5(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(jP(i)||n===!0&&gh(i)||!t&&!gh(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Zb(e,t,n){return typeof e=="string"?e:Ae.transform(t+n*e)}function U5(e,t,n){const r=Zb(t,e.x,e.width),i=Zb(n,e.y,e.height);return`${r} ${i}`}const z5={offset:"stroke-dashoffset",array:"stroke-dasharray"},V5={offset:"strokeDashoffset",array:"strokeDasharray"};function H5(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?z5:V5;e[o.offset]=Ae.transform(-r);const l=Ae.transform(t),c=Ae.transform(n);e[o.array]=`${l} ${c}`}function Cy(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:u=0,...h},f,p,v){if(by(e,h,f,v),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:w,dimensions:x}=e;y.transform&&(x&&(w.transform=y.transform),delete y.transform),x&&(i!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=U5(x,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),l!==void 0&&H5(y,l,c,u,!1)}const CP=()=>({...jy(),attrs:{}}),Sy=e=>typeof e=="string"&&e.toLowerCase()==="svg";function W5(e,t,n,r){const i=m.useMemo(()=>{const o=CP();return Cy(o,t,{enableHardwareAcceleration:!1},Sy(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};bP(o,e.style,e),i.style={...o,...i.style}}return i}function G5(e=!1){return(n,r,i,{latestValues:o},l)=>{const u=(wy(n)?W5:D5)(r,o,l,n),f={...B5(r,typeof n=="string",e),...u,ref:i},{children:p}=r,v=m.useMemo(()=>An(p)?p.get():p,[p]);return m.createElement(n,{...f,children:v})}}function SP(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const EP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NP(e,t,n,r){SP(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(EP.has(i)?i:vy(i),t.attrs[i])}function Ey(e,t){const{style:n}=e,r={};for(const i in n)(An(n[i])||t.style&&An(t.style[i])||vP(i,e))&&(r[i]=n[i]);return r}function PP(e,t){const n=Ey(e,t);for(const r in e)if(An(e[r])||An(t[r])){const i=Yc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function Ny(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function TP(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const vh=e=>Array.isArray(e),q5=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Z5=e=>vh(e)?e[e.length-1]||0:e;function kd(e){const t=An(e)?e.get():e;return q5(t)?t.toValue():t}function K5({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const l={latestValues:Y5(r,i,o,e),renderState:t()};return n&&(l.mount=c=>n(r,c,l)),l}const AP=e=>(t,n)=>{const r=m.useContext(gf),i=m.useContext(vf),o=()=>K5(e,t,r,i);return n?o():TP(o)};function Y5(e,t,n,r){const i={},o=r(e,{});for(const v in o)i[v]=kd(o[v]);let{initial:l,animate:c}=e;const u=_f(e),h=pP(e);t&&h&&!u&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let f=n?n.initial===!1:!1;f=f||l===!1;const p=f?c:l;return p&&typeof p!="boolean"&&!yf(p)&&(Array.isArray(p)?p:[p]).forEach(y=>{const w=Ny(e,y);if(!w)return;const{transitionEnd:x,transition:S,...j}=w;for(const b in j){let C=j[b];if(Array.isArray(C)){const N=f?C.length-1:0;C=C[N]}C!==null&&(i[b]=C)}for(const b in x)i[b]=x[b]}),i}const wt=e=>e;class Kb{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function J5(e){let t=new Kb,n=new Kb,r=0,i=!1,o=!1;const l=new WeakSet,c={schedule:(u,h=!1,f=!1)=>{const p=f&&i,v=p?t:n;return h&&l.add(u),v.add(u)&&p&&i&&(r=t.order.length),u},cancel:u=>{n.remove(u),l.delete(u)},process:u=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let h=0;h<r;h++){const f=t.order[h];f(u),l.has(f)&&(c.schedule(f),e())}i=!1,o&&(o=!1,c.process(u))}};return c}const Ju=["prepare","read","update","preRender","render","postRender"],X5=40;function Q5(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Ju.reduce((p,v)=>(p[v]=J5(()=>n=!0),p),{}),l=p=>o[p].process(i),c=()=>{const p=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(p-i.timestamp,X5),1),i.timestamp=p,i.isProcessing=!0,Ju.forEach(l),i.isProcessing=!1,n&&t&&(r=!1,e(c))},u=()=>{n=!0,r=!0,i.isProcessing||e(c)};return{schedule:Ju.reduce((p,v)=>{const y=o[v];return p[v]=(w,x=!1,S=!1)=>(n||u(),y.schedule(w,x,S)),p},{}),cancel:p=>Ju.forEach(v=>o[v].cancel(p)),state:i,steps:o}}const{schedule:ot,cancel:ji,state:en,steps:fp}=Q5(typeof requestAnimationFrame<"u"?requestAnimationFrame:wt,!0),eB={useVisualState:AP({scrapeMotionValuesFromProps:PP,createRenderState:CP,onMount:(e,t,{renderState:n,latestValues:r})=>{ot.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ot.render(()=>{Cy(n,r,{enableHardwareAcceleration:!1},Sy(t.tagName),e.transformTemplate),NP(t,n)})}})},tB={useVisualState:AP({scrapeMotionValuesFromProps:Ey,createRenderState:jy})};function nB(e,{forwardMotionProps:t=!1},n,r){return{...wy(e)?eB:tB,preloadedFeatures:n,useRender:G5(t),createVisualElement:r,Component:e}}function mi(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const kP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function bf(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const rB=e=>t=>kP(t)&&e(t,bf(t));function gi(e,t,n,r){return mi(e,t,rB(n),r)}const iB=(e,t)=>n=>t(e(n)),is=(...e)=>e.reduce(iB);function RP(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Yb=RP("dragHorizontal"),Jb=RP("dragVertical");function LP(e){let t=!1;if(e==="y")t=Jb();else if(e==="x")t=Yb();else{const n=Yb(),r=Jb();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function OP(){const e=LP(!0);return e?(e(),!1):!0}class Es{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Xb(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(o,l)=>{if(o.pointerType==="touch"||OP())return;const c=e.getProps();e.animationState&&c.whileHover&&e.animationState.setActive("whileHover",t),c[r]&&ot.update(()=>c[r](o,l))};return gi(e.current,n,i,{passive:!e.getProps()[r]})}class sB extends Es{mount(){this.unmount=is(Xb(this.node,!0),Xb(this.node,!1))}unmount(){}}class oB extends Es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=is(mi(this.node.current,"focus",()=>this.onFocus()),mi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const MP=(e,t)=>t?e===t?!0:MP(e,t.parentElement):!1;function mp(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,bf(n))}class aB extends Es{constructor(){super(...arguments),this.removeStartListeners=wt,this.removeEndListeners=wt,this.removeAccessibleListeners=wt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=gi(window,"pointerup",(c,u)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:f,globalTapTarget:p}=this.node.getProps();ot.update(()=>{!p&&!MP(this.node.current,c.target)?f&&f(c,u):h&&h(c,u)})},{passive:!(r.onTap||r.onPointerUp)}),l=gi(window,"pointercancel",(c,u)=>this.cancelPress(c,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=is(o,l),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const l=c=>{c.key!=="Enter"||!this.checkPressEnd()||mp("up",(u,h)=>{const{onTap:f}=this.node.getProps();f&&ot.update(()=>f(u,h))})};this.removeEndListeners(),this.removeEndListeners=mi(this.node.current,"keyup",l),mp("down",(c,u)=>{this.startPress(c,u)})},n=mi(this.node.current,"keydown",t),r=()=>{this.isPressing&&mp("cancel",(o,l)=>this.cancelPress(o,l))},i=mi(this.node.current,"blur",r);this.removeAccessibleListeners=is(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ot.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!OP()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ot.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=gi(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=mi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=is(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const cv=new WeakMap,pp=new WeakMap,lB=e=>{const t=cv.get(e.target);t&&t(e)},cB=e=>{e.forEach(lB)};function uB({root:e,...t}){const n=e||document;pp.has(n)||pp.set(n,{});const r=pp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(cB,{root:e,...t})),r[i]}function dB(e,t,n){const r=uB(t);return cv.set(e,n),r.observe(e),()=>{cv.delete(e),r.unobserve(e)}}const hB={some:0,all:1};class fB extends Es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:hB[i]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),v=h?f:p;v&&v(u)};return dB(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(mB(t,n))&&this.startObserver()}unmount(){}}function mB({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const pB={inView:{Feature:fB},tap:{Feature:aB},focus:{Feature:oB},hover:{Feature:sB}};function IP(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function gB(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function vB(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function jf(e,t,n){const r=e.getProps();return Ny(r,t,n!==void 0?n:r.custom,gB(e),vB(e))}let xB=wt,Py=wt;const ss=e=>e*1e3,vi=e=>e/1e3,yB={current:!1},DP=e=>Array.isArray(e)&&typeof e[0]=="number";function $P(e){return!!(!e||typeof e=="string"&&FP[e]||DP(e)||Array.isArray(e)&&e.every($P))}const Il=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,FP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Il([0,.65,.55,1]),circOut:Il([.55,0,1,.45]),backIn:Il([.31,.01,.66,-.59]),backOut:Il([.33,1.53,.69,.99])};function BP(e){if(e)return DP(e)?Il(e):Array.isArray(e)?e.map(BP):FP[e]}function _B(e,t,n,{delay:r=0,duration:i,repeat:o=0,repeatType:l="loop",ease:c,times:u}={}){const h={[t]:n};u&&(h.offset=u);const f=BP(c);return Array.isArray(f)&&(h.easing=f),e.animate(h,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}function wB(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const UP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,bB=1e-7,jB=12;function CB(e,t,n,r,i){let o,l,c=0;do l=t+(n-t)/2,o=UP(l,r,i)-e,o>0?n=l:t=l;while(Math.abs(o)>bB&&++c<jB);return l}function Qc(e,t,n,r){if(e===t&&n===r)return wt;const i=o=>CB(o,0,1,e,n);return o=>o===0||o===1?o:UP(i(o),t,r)}const SB=Qc(.42,0,1,1),EB=Qc(0,0,.58,1),zP=Qc(.42,0,.58,1),NB=e=>Array.isArray(e)&&typeof e[0]!="number",VP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,HP=e=>t=>1-e(1-t),Ty=e=>1-Math.sin(Math.acos(e)),WP=HP(Ty),PB=VP(Ty),GP=Qc(.33,1.53,.69,.99),Ay=HP(GP),TB=VP(Ay),AB=e=>(e*=2)<1?.5*Ay(e):.5*(2-Math.pow(2,-10*(e-1))),kB={linear:wt,easeIn:SB,easeInOut:zP,easeOut:EB,circIn:Ty,circInOut:PB,circOut:WP,backIn:Ay,backInOut:TB,backOut:GP,anticipate:AB},Qb=e=>{if(Array.isArray(e)){Py(e.length===4);const[t,n,r,i]=e;return Qc(t,n,r,i)}else if(typeof e=="string")return kB[e];return e},ky=(e,t)=>n=>!!(Jc(n)&&R5.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),qP=(e,t,n)=>r=>{if(!Jc(r))return r;const[i,o,l,c]=r.match(wf);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},RB=e=>ds(0,255,e),gp={..._o,transform:e=>Math.round(RB(e))},Qs={test:ky("rgb","red"),parse:qP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+gp.transform(e)+", "+gp.transform(t)+", "+gp.transform(n)+", "+Yl(Kl.transform(r))+")"};function LB(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const uv={test:ky("#"),parse:LB,transform:Qs.transform},oa={test:ky("hsl","hue"),parse:qP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Gr.transform(Yl(t))+", "+Gr.transform(Yl(n))+", "+Yl(Kl.transform(r))+")"},ln={test:e=>Qs.test(e)||uv.test(e)||oa.test(e),parse:e=>Qs.test(e)?Qs.parse(e):oa.test(e)?oa.parse(e):uv.parse(e),transform:e=>Jc(e)?e:e.hasOwnProperty("red")?Qs.transform(e):oa.transform(e)},gt=(e,t,n)=>-n*e+n*t+e;function vp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function OB({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,l=0;if(!t)i=o=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,u=2*n-c;i=vp(u,c,e+1/3),o=vp(u,c,e),l=vp(u,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}const xp=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},MB=[uv,Qs,oa],IB=e=>MB.find(t=>t.test(e));function e1(e){const t=IB(e);let n=t.parse(e);return t===oa&&(n=OB(n)),n}const ZP=(e,t)=>{const n=e1(e),r=e1(t),i={...n};return o=>(i.red=xp(n.red,r.red,o),i.green=xp(n.green,r.green,o),i.blue=xp(n.blue,r.blue,o),i.alpha=gt(n.alpha,r.alpha,o),Qs.transform(i))};function DB(e){var t,n;return isNaN(e)&&Jc(e)&&(((t=e.match(wf))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(_P))===null||n===void 0?void 0:n.length)||0)>0}const KP={regex:A5,countKey:"Vars",token:"${v}",parse:wt},YP={regex:_P,countKey:"Colors",token:"${c}",parse:ln.parse},JP={regex:wf,countKey:"Numbers",token:"${n}",parse:_o.parse};function yp(e,{regex:t,countKey:n,token:r,parse:i}){const o=e.tokenised.match(t);o&&(e["num"+n]=o.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...o.map(i)))}function xh(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&yp(n,KP),yp(n,YP),yp(n,JP),n}function XP(e){return xh(e).values}function QP(e){const{values:t,numColors:n,numVars:r,tokenised:i}=xh(e),o=t.length;return l=>{let c=i;for(let u=0;u<o;u++)u<r?c=c.replace(KP.token,l[u]):u<r+n?c=c.replace(YP.token,ln.transform(l[u])):c=c.replace(JP.token,Yl(l[u]));return c}}const $B=e=>typeof e=="number"?0:e;function FB(e){const t=XP(e);return QP(e)(t.map($B))}const hs={test:DB,parse:XP,createTransformer:QP,getAnimatableNone:FB},eT=(e,t)=>n=>`${n>0?t:e}`;function tT(e,t){return typeof e=="number"?n=>gt(e,t,n):ln.test(e)?ZP(e,t):e.startsWith("var(")?eT(e,t):rT(e,t)}const nT=(e,t)=>{const n=[...e],r=n.length,i=e.map((o,l)=>tT(o,t[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}},BB=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=tT(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},rT=(e,t)=>{const n=hs.createTransformer(t),r=xh(e),i=xh(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?is(nT(r.values,i.values),n):eT(e,t)},Ac=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},t1=(e,t)=>n=>gt(e,t,n);function UB(e){return typeof e=="number"?t1:typeof e=="string"?ln.test(e)?ZP:rT:Array.isArray(e)?nT:typeof e=="object"?BB:t1}function zB(e,t,n){const r=[],i=n||UB(e[0]),o=e.length-1;for(let l=0;l<o;l++){let c=i(e[l],e[l+1]);if(t){const u=Array.isArray(t)?t[l]||wt:t;c=is(u,c)}r.push(c)}return r}function iT(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(Py(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=zB(t,r,i),c=l.length,u=h=>{let f=0;if(c>1)for(;f<e.length-2&&!(h<e[f+1]);f++);const p=Ac(e[f],e[f+1],h);return l[f](p)};return n?h=>u(ds(e[0],e[o-1],h)):u}function VB(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Ac(0,t,r);e.push(gt(n,1,i))}}function HB(e){const t=[0];return VB(t,e.length-1),t}function WB(e,t){return e.map(n=>n*t)}function GB(e,t){return e.map(()=>t||zP).splice(0,e.length-1)}function yh({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=NB(r)?r.map(Qb):Qb(r),o={done:!1,value:t[0]},l=WB(n&&n.length===t.length?n:HB(t),e),c=iT(l,t,{ease:Array.isArray(i)?i:GB(t,i)});return{calculatedDuration:e,next:u=>(o.value=c(u),o.done=u>=e,o)}}function sT(e,t){return t?e*(1e3/t):0}const qB=5;function oT(e,t,n){const r=Math.max(t-qB,0);return sT(n-e(r),t-r)}const _p=.001,ZB=.01,n1=10,KB=.05,YB=1;function JB({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o;xB(e<=ss(n1));let l=1-t;l=ds(KB,YB,l),e=ds(ZB,n1,vi(e)),l<1?(i=h=>{const f=h*l,p=f*e,v=f-n,y=dv(h,l),w=Math.exp(-p);return _p-v/y*w},o=h=>{const p=h*l*e,v=p*n+n,y=Math.pow(l,2)*Math.pow(h,2)*e,w=Math.exp(-p),x=dv(Math.pow(h,2),l);return(-i(h)+_p>0?-1:1)*((v-y)*w)/x}):(i=h=>{const f=Math.exp(-h*e),p=(h-n)*e+1;return-_p+f*p},o=h=>{const f=Math.exp(-h*e),p=(n-h)*(e*e);return f*p});const c=5/e,u=QB(i,o,c);if(e=ss(e),isNaN(u))return{stiffness:100,damping:10,duration:e};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:e}}}const XB=12;function QB(e,t,n){let r=n;for(let i=1;i<XB;i++)r=r-e(r)/t(r);return r}function dv(e,t){return e*Math.sqrt(1-t*t)}const eU=["duration","bounce"],tU=["stiffness","damping","mass"];function r1(e,t){return t.some(n=>e[n]!==void 0)}function nU(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!r1(e,tU)&&r1(e,eU)){const n=JB(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function aT({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],o=e[e.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:h,duration:f,velocity:p,isResolvedFromDuration:v}=nU({...r,velocity:-vi(r.velocity||0)}),y=p||0,w=u/(2*Math.sqrt(c*h)),x=o-i,S=vi(Math.sqrt(c/h)),j=Math.abs(x)<5;n||(n=j?.01:2),t||(t=j?.005:.5);let b;if(w<1){const C=dv(S,w);b=N=>{const A=Math.exp(-w*S*N);return o-A*((y+w*S*x)/C*Math.sin(C*N)+x*Math.cos(C*N))}}else if(w===1)b=C=>o-Math.exp(-S*C)*(x+(y+S*x)*C);else{const C=S*Math.sqrt(w*w-1);b=N=>{const A=Math.exp(-w*S*N),P=Math.min(C*N,300);return o-A*((y+w*S*x)*Math.sinh(P)+C*x*Math.cosh(P))/C}}return{calculatedDuration:v&&f||null,next:C=>{const N=b(C);if(v)l.done=C>=f;else{let A=y;C!==0&&(w<1?A=oT(b,C,N):A=0);const P=Math.abs(A)<=n,T=Math.abs(o-N)<=t;l.done=P&&T}return l.value=l.done?o:N,l}}}function i1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:u,restDelta:h=.5,restSpeed:f}){const p=e[0],v={done:!1,value:p},y=R=>c!==void 0&&R<c||u!==void 0&&R>u,w=R=>c===void 0?u:u===void 0||Math.abs(c-R)<Math.abs(u-R)?c:u;let x=n*t;const S=p+x,j=l===void 0?S:l(S);j!==S&&(x=j-p);const b=R=>-x*Math.exp(-R/r),C=R=>j+b(R),N=R=>{const O=b(R),B=C(R);v.done=Math.abs(O)<=h,v.value=v.done?j:B};let A,P;const T=R=>{y(v.value)&&(A=R,P=aT({keyframes:[v.value,w(v.value)],velocity:oT(C,R,v.value),damping:i,stiffness:o,restDelta:h,restSpeed:f}))};return T(0),{calculatedDuration:null,next:R=>{let O=!1;return!P&&A===void 0&&(O=!0,N(R),T(R)),A!==void 0&&R>A?P.next(R-A):(!O&&N(R),v)}}}const rU=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ot.update(t,!0),stop:()=>ji(t),now:()=>en.isProcessing?en.timestamp:performance.now()}},s1=2e4;function o1(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<s1;)t+=n,r=e.next(t);return t>=s1?1/0:t}const iU={decay:i1,inertia:i1,tween:yh,keyframes:yh,spring:aT};function _h({autoplay:e=!0,delay:t=0,driver:n=rU,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",onPlay:u,onStop:h,onComplete:f,onUpdate:p,...v}){let y=1,w=!1,x,S;const j=()=>{S=new Promise(ee=>{x=ee})};j();let b;const C=iU[i]||yh;let N;C!==yh&&typeof r[0]!="number"&&(N=iT([0,100],r,{clamp:!1}),r=[0,100]);const A=C({...v,keyframes:r});let P;c==="mirror"&&(P=C({...v,keyframes:[...r].reverse(),velocity:-(v.velocity||0)}));let T="idle",R=null,O=null,B=null;A.calculatedDuration===null&&o&&(A.calculatedDuration=o1(A));const{calculatedDuration:W}=A;let U=1/0,K=1/0;W!==null&&(U=W+l,K=U*(o+1)-l);let $=0;const k=ee=>{if(O===null)return;y>0&&(O=Math.min(O,ee)),y<0&&(O=Math.min(ee-K/y,O)),R!==null?$=R:$=Math.round(ee-O)*y;const z=$-t*(y>=0?1:-1),Z=y>=0?z<0:z>K;$=Math.max(z,0),T==="finished"&&R===null&&($=K);let q=$,Q=A;if(o){const Se=Math.min($,K)/U;let je=Math.floor(Se),Ne=Se%1;!Ne&&Se>=1&&(Ne=1),Ne===1&&je--,je=Math.min(je,o+1),!!(je%2)&&(c==="reverse"?(Ne=1-Ne,l&&(Ne-=l/U)):c==="mirror"&&(Q=P)),q=ds(0,1,Ne)*U}const ie=Z?{done:!1,value:r[0]}:Q.next(q);N&&(ie.value=N(ie.value));let{done:ne}=ie;!Z&&W!==null&&(ne=y>=0?$>=K:$<=0);const de=R===null&&(T==="finished"||T==="running"&&ne);return p&&p(ie.value),de&&D(),ie},I=()=>{b&&b.stop(),b=void 0},F=()=>{T="idle",I(),x(),j(),O=B=null},D=()=>{T="finished",f&&f(),I(),x()},H=()=>{if(w)return;b||(b=n(k));const ee=b.now();u&&u(),R!==null?O=ee-R:(!O||T==="finished")&&(O=ee),T==="finished"&&j(),B=O,R=null,T="running",b.start()};e&&H();const G={then(ee,z){return S.then(ee,z)},get time(){return vi($)},set time(ee){ee=ss(ee),$=ee,R!==null||!b||y===0?R=ee:O=b.now()-ee/y},get duration(){const ee=A.calculatedDuration===null?o1(A):A.calculatedDuration;return vi(ee)},get speed(){return y},set speed(ee){ee===y||!b||(y=ee,G.time=vi($))},get state(){return T},play:H,pause:()=>{T="paused",R=$},stop:()=>{w=!0,T!=="idle"&&(T="idle",h&&h(),F())},cancel:()=>{B!==null&&k(B),F()},complete:()=>{T="finished"},sample:ee=>(O=0,k(ee))};return G}function sU(e){let t;return()=>(t===void 0&&(t=e()),t)}const oU=sU(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),aU=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Xu=10,lU=2e4,cU=(e,t)=>t.type==="spring"||e==="backgroundColor"||!$P(t.ease);function uU(e,t,{onUpdate:n,onComplete:r,...i}){if(!(oU()&&aU.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let l=!1,c,u,h=!1;const f=()=>{u=new Promise(C=>{c=C})};f();let{keyframes:p,duration:v=300,ease:y,times:w}=i;if(cU(t,i)){const C=_h({...i,repeat:0,delay:0});let N={done:!1,value:p[0]};const A=[];let P=0;for(;!N.done&&P<lU;)N=C.sample(P),A.push(N.value),P+=Xu;w=void 0,p=A,v=P-Xu,y="linear"}const x=_B(e.owner.current,t,p,{...i,duration:v,ease:y,times:w}),S=()=>{h=!1,x.cancel()},j=()=>{h=!0,ot.update(S),c(),f()};return x.onfinish=()=>{h||(e.set(wB(p,i)),r&&r(),j())},{then(C,N){return u.then(C,N)},attachTimeline(C){return x.timeline=C,x.onfinish=null,wt},get time(){return vi(x.currentTime||0)},set time(C){x.currentTime=ss(C)},get speed(){return x.playbackRate},set speed(C){x.playbackRate=C},get duration(){return vi(v)},play:()=>{l||(x.play(),ji(S))},pause:()=>x.pause(),stop:()=>{if(l=!0,x.playState==="idle")return;const{currentTime:C}=x;if(C){const N=_h({...i,autoplay:!1});e.setWithVelocity(N.sample(C-Xu).value,N.sample(C).value,Xu)}j()},complete:()=>{h||x.finish()},cancel:j}}function dU({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:wt,pause:wt,stop:wt,then:o=>(o(),Promise.resolve()),cancel:wt,complete:wt});return t?_h({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const hU={type:"spring",stiffness:500,damping:25,restSpeed:10},fU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),mU={type:"keyframes",duration:.8},pU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gU=(e,{keyframes:t})=>t.length>2?mU:yo.has(e)?e.startsWith("scale")?fU(t[1]):hU:pU,hv=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hs.test(t)||t==="0")&&!t.startsWith("url(")),vU=new Set(["brightness","contrast","saturate","opacity"]);function xU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(wf)||[];if(!r)return e;const i=n.replace(r,"");let o=vU.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const yU=/([a-z-]*)\(.*?\)/g,fv={...hs,getAnimatableNone:e=>{const t=e.match(yU);return t?t.map(xU).join(" "):e}},_U={...wP,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:fv,WebkitFilter:fv},Ry=e=>_U[e];function lT(e,t){let n=Ry(e);return n!==fv&&(n=hs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const cT=e=>/^0[^.\s]+$/.test(e);function wU(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||cT(e)}function bU(e,t,n,r){const i=hv(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const l=r.from!==void 0?r.from:e.get();let c;const u=[];for(let h=0;h<o.length;h++)o[h]===null&&(o[h]=h===0?l:o[h-1]),wU(o[h])&&u.push(h),typeof o[h]=="string"&&o[h]!=="none"&&o[h]!=="0"&&(c=o[h]);if(i&&u.length&&c)for(let h=0;h<u.length;h++){const f=u[h];o[f]=lT(t,c)}return o}function jU({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:u,elapsed:h,...f}){return!!Object.keys(f).length}function Ly(e,t){return e[t]||e.default||e}const CU={skipAnimations:!1},Oy=(e,t,n,r={})=>i=>{const o=Ly(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ss(l);const u=bU(t,e,n,o),h=u[0],f=u[u.length-1],p=hv(e,h),v=hv(e,f);let y={keyframes:u,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-c,onUpdate:w=>{t.set(w),o.onUpdate&&o.onUpdate(w)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(jU(o)||(y={...y,...gU(e,y)}),y.duration&&(y.duration=ss(y.duration)),y.repeatDelay&&(y.repeatDelay=ss(y.repeatDelay)),!p||!v||yB.current||o.type===!1||CU.skipAnimations)return dU(y);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=uU(t,e,y);if(w)return w}return _h(y)};function wh(e){return!!(An(e)&&e.add)}const uT=e=>/^\-?\d*\.?\d+$/.test(e);function My(e,t){e.indexOf(t)===-1&&e.push(t)}function Iy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Dy{constructor(){this.subscriptions=[]}add(t){return My(this.subscriptions,t),()=>Iy(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const SU=e=>!isNaN(parseFloat(e));class EU{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:l}=en;this.lastUpdated!==l&&(this.timeDelta=o,this.lastUpdated=l,ot.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ot.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=SU(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Dy);const r=this.events[t].add(n);return t==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?sT(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oa(e,t){return new EU(e,t)}const dT=e=>t=>t.test(e),NU={test:e=>e==="auto",parse:e=>e},hT=[_o,Ae,Gr,Di,O5,L5,NU],Sl=e=>hT.find(dT(e)),PU=[...hT,ln,hs],TU=e=>PU.find(dT(e));function AU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Oa(n))}function kU(e,t){const n=jf(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const l in o){const c=Z5(o[l]);AU(e,l,c)}}function RU(e,t,n){var r,i;const o=Object.keys(t).filter(c=>!e.hasValue(c)),l=o.length;if(l)for(let c=0;c<l;c++){const u=o[c],h=t[u];let f=null;Array.isArray(h)&&(f=h[0]),f===null&&(f=(i=(r=n[u])!==null&&r!==void 0?r:e.readValue(u))!==null&&i!==void 0?i:t[u]),f!=null&&(typeof f=="string"&&(uT(f)||cT(f))?f=parseFloat(f):!TU(f)&&hs.test(h)&&(f=lT(u,h)),e.addValue(u,Oa(f,{owner:e})),n[u]===void 0&&(n[u]=f),f!==null&&e.setBaseTarget(u,f))}}function LU(e,t){return t?(t[e]||t.default||t).from:void 0}function OU(e,t,n){const r={};for(const i in e){const o=LU(i,t);if(o!==void 0)r[i]=o;else{const l=n.getValue(i);l&&(r[i]=l.get())}}return r}function MU({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function IU(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function fT(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=e.makeTargetAnimatable(t);const u=e.getValue("willChange");r&&(o=r);const h=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in c){const v=e.getValue(p),y=c[p];if(!v||y===void 0||f&&MU(f,p))continue;const w={delay:n,elapsed:0,...Ly(o||{},p)};if(window.HandoffAppearAnimations){const j=e.getProps()[mP];if(j){const b=window.HandoffAppearAnimations(j,p,v,ot);b!==null&&(w.elapsed=b,w.isHandoff=!0)}}let x=!w.isHandoff&&!IU(v,y);if(w.type==="spring"&&(v.getVelocity()||w.velocity)&&(x=!1),v.animation&&(x=!1),x)continue;v.start(Oy(p,v,y,e.shouldReduceMotion&&yo.has(p)?{type:!1}:w));const S=v.animation;wh(u)&&(u.add(p),S.then(()=>u.remove(p))),h.push(S)}return l&&Promise.all(h).then(()=>{l&&kU(e,l)}),h}function mv(e,t,n={}){const r=jf(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(fT(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return DU(e,t,h+u,f,p,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,h]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function DU(e,t,n=0,r=0,i=1,o){const l=[],c=(e.variantChildren.size-1)*r,u=i===1?(h=0)=>h*r:(h=0)=>c-h*r;return Array.from(e.variantChildren).sort($U).forEach((h,f)=>{h.notify("AnimationStart",t),l.push(mv(h,t,{...o,delay:n+u(f)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(l)}function $U(e,t){return e.sortNodePosition(t)}function FU(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>mv(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=mv(e,t,n);else{const i=typeof t=="function"?jf(e,t,n.custom):t;r=Promise.all(fT(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const BU=[...xy].reverse(),UU=xy.length;function zU(e){return t=>Promise.all(t.map(({animation:n,options:r})=>FU(e,n,r)))}function VU(e){let t=zU(e);const n=WU();let r=!0;const i=(u,h)=>{const f=jf(e,h);if(f){const{transition:p,transitionEnd:v,...y}=f;u={...u,...y,...v}}return u};function o(u){t=u(e)}function l(u,h){const f=e.getProps(),p=e.getVariantContext(!0)||{},v=[],y=new Set;let w={},x=1/0;for(let j=0;j<UU;j++){const b=BU[j],C=n[b],N=f[b]!==void 0?f[b]:p[b],A=Pc(N),P=b===h?C.isActive:null;P===!1&&(x=j);let T=N===p[b]&&N!==f[b]&&A;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),C.protectedKeys={...w},!C.isActive&&P===null||!N&&!C.prevProp||yf(N)||typeof N=="boolean")continue;let O=HU(C.prevProp,N)||b===h&&C.isActive&&!T&&A||j>x&&A,B=!1;const W=Array.isArray(N)?N:[N];let U=W.reduce(i,{});P===!1&&(U={});const{prevResolvedValues:K={}}=C,$={...K,...U},k=I=>{O=!0,y.has(I)&&(B=!0,y.delete(I)),C.needsAnimating[I]=!0};for(const I in $){const F=U[I],D=K[I];if(w.hasOwnProperty(I))continue;let H=!1;vh(F)&&vh(D)?H=!IP(F,D):H=F!==D,H?F!==void 0?k(I):y.add(I):F!==void 0&&y.has(I)?k(I):C.protectedKeys[I]=!0}C.prevProp=N,C.prevResolvedValues=U,C.isActive&&(w={...w,...U}),r&&e.blockInitialAnimation&&(O=!1),O&&(!T||B)&&v.push(...W.map(I=>({animation:I,options:{type:b,...u}})))}if(y.size){const j={};y.forEach(b=>{const C=e.getBaseTarget(b);C!==void 0&&(j[b]=C)}),v.push({animation:j})}let S=!!v.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(v):Promise.resolve()}function c(u,h,f){var p;if(n[u].isActive===h)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(y=>{var w;return(w=y.animationState)===null||w===void 0?void 0:w.setActive(u,h)}),n[u].isActive=h;const v=l(f,u);for(const y in n)n[y].protectedKeys={};return v}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n}}function HU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!IP(t,e):!1}function Is(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WU(){return{animate:Is(!0),whileInView:Is(),whileHover:Is(),whileTap:Is(),whileDrag:Is(),whileFocus:Is(),exit:Is()}}class GU extends Es{constructor(t){super(t),t.animationState||(t.animationState=VU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),yf(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let qU=0;class ZU extends Es{constructor(){super(...arguments),this.id=qU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const KU={animation:{Feature:GU},exit:{Feature:ZU}},a1=(e,t)=>Math.abs(e-t);function YU(e,t){const n=a1(e.x,t.x),r=a1(e.y,t.y);return Math.sqrt(n**2+r**2)}class mT{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=bp(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,y=YU(p.offset,{x:0,y:0})>=3;if(!v&&!y)return;const{point:w}=p,{timestamp:x}=en;this.history.push({...w,timestamp:x});const{onStart:S,onMove:j}=this.handlers;v||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=wp(v,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=bp(p.type==="pointercancel"?this.lastMoveEventInfo:wp(v,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,S),w&&w(p,S)},!kP(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=bf(t),c=wp(l,this.transformPagePoint),{point:u}=c,{timestamp:h}=en;this.history=[{...u,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,bp(c,this.history)),this.removeListeners=is(gi(this.contextWindow,"pointermove",this.handlePointerMove),gi(this.contextWindow,"pointerup",this.handlePointerUp),gi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ji(this.updatePoint)}}function wp(e,t){return t?{point:t(e.point)}:e}function l1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bp({point:e},t){return{point:e,delta:l1(e,pT(t)),offset:l1(e,JU(t)),velocity:XU(t,.1)}}function JU(e){return e[0]}function pT(e){return e[e.length-1]}function XU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=pT(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>ss(t)));)n--;if(!r)return{x:0,y:0};const o=vi(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function zn(e){return e.max-e.min}function pv(e,t=0,n=.01){return Math.abs(e-t)<=n}function c1(e,t,n,r=.5){e.origin=r,e.originPoint=gt(t.min,t.max,e.origin),e.scale=zn(n)/zn(t),(pv(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=gt(n.min,n.max,e.origin)-e.originPoint,(pv(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Jl(e,t,n,r){c1(e.x,t.x,n.x,r?r.originX:void 0),c1(e.y,t.y,n.y,r?r.originY:void 0)}function u1(e,t,n){e.min=n.min+t.min,e.max=e.min+zn(t)}function QU(e,t,n){u1(e.x,t.x,n.x),u1(e.y,t.y,n.y)}function d1(e,t,n){e.min=t.min-n.min,e.max=e.min+zn(t)}function Xl(e,t,n){d1(e.x,t.x,n.x),d1(e.y,t.y,n.y)}function ez(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?gt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?gt(n,e,r.max):Math.min(e,n)),e}function h1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function tz(e,{top:t,left:n,bottom:r,right:i}){return{x:h1(e.x,n,i),y:h1(e.y,t,r)}}function f1(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function nz(e,t){return{x:f1(e.x,t.x),y:f1(e.y,t.y)}}function rz(e,t){let n=.5;const r=zn(e),i=zn(t);return i>r?n=Ac(t.min,t.max-r,e.min):r>i&&(n=Ac(e.min,e.max-i,t.min)),ds(0,1,n)}function iz(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const gv=.35;function sz(e=gv){return e===!1?e=0:e===!0&&(e=gv),{x:m1(e,"left","right"),y:m1(e,"top","bottom")}}function m1(e,t,n){return{min:p1(e,t),max:p1(e,n)}}function p1(e,t){return typeof e=="number"?e:e[t]||0}const g1=()=>({translate:0,scale:1,origin:0,originPoint:0}),aa=()=>({x:g1(),y:g1()}),v1=()=>({min:0,max:0}),Nt=()=>({x:v1(),y:v1()});function Xn(e){return[e("x"),e("y")]}function gT({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function oz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function az(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jp(e){return e===void 0||e===1}function vv({scale:e,scaleX:t,scaleY:n}){return!jp(e)||!jp(t)||!jp(n)}function Us(e){return vv(e)||vT(e)||e.z||e.rotate||e.rotateX||e.rotateY}function vT(e){return x1(e.x)||x1(e.y)}function x1(e){return e&&e!=="0%"}function bh(e,t,n){const r=e-n,i=t*r;return n+i}function y1(e,t,n,r,i){return i!==void 0&&(e=bh(e,i,r)),bh(e,n,r)+t}function xv(e,t=0,n=1,r,i){e.min=y1(e.min,t,n,r,i),e.max=y1(e.max,t,n,r,i)}function xT(e,{x:t,y:n}){xv(e.x,t.translate,t.scale,t.originPoint),xv(e.y,n.translate,n.scale,n.originPoint)}function lz(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,l;for(let c=0;c<i;c++){o=n[c],l=o.projectionDelta;const u=o.instance;u&&u.style&&u.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&la(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,xT(e,l)),r&&Us(o.latestValues)&&la(e,o.latestValues))}t.x=_1(t.x),t.y=_1(t.y)}function _1(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Vi(e,t){e.min=e.min+t,e.max=e.max+t}function w1(e,t,[n,r,i]){const o=t[i]!==void 0?t[i]:.5,l=gt(e.min,e.max,o);xv(e,t[n],t[r],l,t.scale)}const cz=["x","scaleX","originX"],uz=["y","scaleY","originY"];function la(e,t){w1(e.x,t,cz),w1(e.y,t,uz)}function yT(e,t){return gT(az(e.getBoundingClientRect(),t))}function dz(e,t,n){const r=yT(e,n),{scroll:i}=t;return i&&(Vi(r.x,i.offset.x),Vi(r.y,i.offset.y)),r}const _T=({current:e})=>e?e.ownerDocument.defaultView:null,hz=new WeakMap;class fz{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bf(f,"page").point)},o=(f,p)=>{const{drag:v,dragPropagation:y,onDragStart:w}=this.getProps();if(v&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=LP(v),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(S=>{let j=this.getAxisMotionValue(S).get()||0;if(Gr.test(j)){const{projection:b}=this.visualElement;if(b&&b.layout){const C=b.layout.layoutBox[S];C&&(j=zn(C)*(parseFloat(j)/100))}}this.originPoint[S]=j}),w&&ot.update(()=>w(f,p),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(f,p)=>{const{dragPropagation:v,dragDirectionLock:y,onDirectionLock:w,onDrag:x}=this.getProps();if(!v&&!this.openGlobalLock)return;const{offset:S}=p;if(y&&this.currentDirection===null){this.currentDirection=mz(S),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),x&&x(f,p)},c=(f,p)=>this.stop(f,p),u=()=>Xn(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new mT(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:_T(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&ot.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Qu(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=ez(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&sa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=tz(i.layoutBox,n):this.constraints=!1,this.elastic=sz(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Xn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=iz(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!sa(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=dz(r,i.root,this.visualElement.getTransformPagePoint());let l=nz(i.layout.layoutBox,o);if(n){const c=n(oz(l));this.hasMutatedConstraints=!!c,c&&(l=gT(c))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=Xn(f=>{if(!Qu(f,n,this.currentDirection))return;let p=u&&u[f]||{};l&&(p={min:0,max:0});const v=i?200:1e6,y=i?40:1e7,w={type:"inertia",velocity:r?t[f]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(f,w)});return Promise.all(h).then(c)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Oy(t,r,0,n))}stopAnimation(){Xn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Xn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Xn(n=>{const{drag:r}=this.getProps();if(!Qu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];o.set(t[n]-gt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xn(l=>{const c=this.getAxisMotionValue(l);if(c){const u=c.get();i[l]=rz({min:u,max:u},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Xn(l=>{if(!Qu(l,t,null))return;const c=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];c.set(gt(u,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;hz.set(this.visualElement,this);const t=this.visualElement.current,n=gi(t,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();sa(u)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const l=mi(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Xn(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=gv,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function Qu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function mz(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class pz extends Es{constructor(t){super(t),this.removeGroupControls=wt,this.removeListeners=wt,this.controls=new fz(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wt}unmount(){this.removeGroupControls(),this.removeListeners()}}const b1=e=>(t,n)=>{e&&ot.update(()=>e(t,n))};class gz extends Es{constructor(){super(...arguments),this.removePointerDownListener=wt}onPointerDown(t){this.session=new mT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_T(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:b1(t),onStart:b1(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&ot.update(()=>i(o,l))}}}mount(){this.removePointerDownListener=gi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function vz(){const e=m.useContext(vf);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=m.useId();return m.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function j1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const El={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ae.test(e))e=parseFloat(e);else return e;const n=j1(e,t.target.x),r=j1(e,t.target.y);return`${n}% ${r}%`}},xz={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=hs.parse(e);if(i.length>5)return r;const o=hs.createTransformer(e),l=typeof i[0]!="number"?1:0,c=n.x.scale*t.x,u=n.y.scale*t.y;i[0+l]/=c,i[1+l]/=u;const h=gt(c,u,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),o(i)}};class yz extends se.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;E5(_z),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,i||t.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||ot.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function wT(e){const[t,n]=vz(),r=m.useContext(_y);return se.createElement(yz,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(gP),isPresent:t,safeToRemove:n})}const _z={borderRadius:{...El,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:El,borderTopRightRadius:El,borderBottomLeftRadius:El,borderBottomRightRadius:El,boxShadow:xz},bT=["TopLeft","TopRight","BottomLeft","BottomRight"],wz=bT.length,C1=e=>typeof e=="string"?parseFloat(e):e,S1=e=>typeof e=="number"||Ae.test(e);function bz(e,t,n,r,i,o){i?(e.opacity=gt(0,n.opacity!==void 0?n.opacity:1,jz(r)),e.opacityExit=gt(t.opacity!==void 0?t.opacity:1,0,Cz(r))):o&&(e.opacity=gt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<wz;l++){const c=`border${bT[l]}Radius`;let u=E1(t,c),h=E1(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||S1(u)===S1(h)?(e[c]=Math.max(gt(C1(u),C1(h),r),0),(Gr.test(h)||Gr.test(u))&&(e[c]+="%")):e[c]=h}(t.rotate||n.rotate)&&(e.rotate=gt(t.rotate||0,n.rotate||0,r))}function E1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const jz=jT(0,.5,WP),Cz=jT(.5,.95,wt);function jT(e,t,n){return r=>r<e?0:r>t?1:n(Ac(e,t,r))}function N1(e,t){e.min=t.min,e.max=t.max}function Jn(e,t){N1(e.x,t.x),N1(e.y,t.y)}function P1(e,t,n,r,i){return e-=t,e=bh(e,1/n,r),i!==void 0&&(e=bh(e,1/i,r)),e}function Sz(e,t=0,n=1,r=.5,i,o=e,l=e){if(Gr.test(t)&&(t=parseFloat(t),t=gt(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=gt(o.min,o.max,r);e===o&&(c-=t),e.min=P1(e.min,t,n,c,i),e.max=P1(e.max,t,n,c,i)}function T1(e,t,[n,r,i],o,l){Sz(e,t[n],t[r],t[i],t.scale,o,l)}const Ez=["x","scaleX","originX"],Nz=["y","scaleY","originY"];function A1(e,t,n,r){T1(e.x,t,Ez,n?n.x:void 0,r?r.x:void 0),T1(e.y,t,Nz,n?n.y:void 0,r?r.y:void 0)}function k1(e){return e.translate===0&&e.scale===1}function CT(e){return k1(e.x)&&k1(e.y)}function Pz(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function ST(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function R1(e){return zn(e.x)/zn(e.y)}class Tz{constructor(){this.members=[]}add(t){My(this.members,t),t.scheduleRender()}remove(t){if(Iy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function L1(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:u,rotateX:h,rotateY:f}=n;u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Az=(e,t)=>e.depth-t.depth;class kz{constructor(){this.children=[],this.isDirty=!1}add(t){My(this.children,t),this.isDirty=!0}remove(t){Iy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Az),this.isDirty=!1,this.children.forEach(t)}}function Rz(e,t){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(ji(r),e(o-t))};return ot.read(r,!0),()=>ji(r)}function Lz(e){window.MotionDebug&&window.MotionDebug.record(e)}function Oz(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Mz(e,t,n){const r=An(e)?e:Oa(e);return r.start(Oy("",r,t,n)),r.animation}const O1=["","X","Y","Z"],Iz={visibility:"hidden"},M1=1e3;let Dz=0;const zs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ET({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=t==null?void 0:t()){this.id=Dz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zs.totalNodes=zs.resolvedTargetDeltas=zs.recalculatedProjection=0,this.nodes.forEach(Bz),this.nodes.forEach(Wz),this.nodes.forEach(Gz),this.nodes.forEach(Uz),Lz(zs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new kz)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Dy),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Oz(l),this.instance=l;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(h||u)&&(this.isLayoutDirty=!0),e){let p;const v=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=Rz(v,250),Rd.hasAnimatedSinceResize&&(Rd.hasAnimatedSinceResize=!1,this.nodes.forEach(D1))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeTargetChanged:y,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||Jz,{onLayoutAnimationStart:S,onLayoutAnimationComplete:j}=f.getProps(),b=!this.targetLayout||!ST(this.targetLayout,w)||y,C=!v&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||v&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,C);const N={...Ly(x,"layout"),onPlay:S,onComplete:j};(f.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else v||D1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ji(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qz),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(I1);return}this.isUpdating||this.nodes.forEach(Vz),this.isUpdating=!1,this.nodes.forEach(Hz),this.nodes.forEach($z),this.nodes.forEach(Fz),this.clearAllSnapshots();const c=performance.now();en.delta=ds(0,1e3/60,c-en.timestamp),en.timestamp=c,en.isProcessing=!0,fp.update.process(en),fp.preRender.process(en),fp.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(zz),this.sharedNodes.forEach(Zz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!CT(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;l&&(c||Us(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),Xz(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Nt();const c=l.measureViewportBox(),{scroll:u}=this.root;return u&&(Vi(c.x,u.offset.x),Vi(c.y,u.offset.y)),c}removeElementScroll(l){const c=Nt();Jn(c,l);for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:p}=h;if(h!==this.root&&f&&p.layoutScroll){if(f.isRoot){Jn(c,l);const{scroll:v}=this.root;v&&(Vi(c.x,-v.offset.x),Vi(c.y,-v.offset.y))}Vi(c.x,f.offset.x),Vi(c.y,f.offset.y)}}return c}applyTransform(l,c=!1){const u=Nt();Jn(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&la(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Us(f.latestValues)&&la(u,f.latestValues)}return Us(this.latestValues)&&la(u,this.latestValues),u}removeTransform(l){const c=Nt();Jn(c,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Us(h.latestValues))continue;vv(h.latestValues)&&h.updateSnapshot();const f=Nt(),p=h.measurePageBox();Jn(f,p),A1(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return Us(this.latestValues)&&A1(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=en.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Xl(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jn(this.target,this.layout.layoutBox),xT(this.target,this.targetDelta)):Jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Xl(this.relativeTargetOrigin,this.target,y.target),Jn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||vv(this.parent.latestValues)||vT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===en.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Jn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,y=this.treeScale.y;lz(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:w}=c;if(!w){this.projectionTransform&&(this.projectionDelta=aa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=aa(),this.projectionDeltaWithTransform=aa());const x=this.projectionTransform;Jl(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=L1(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==v||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),zs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,c=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},p=aa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=Nt(),y=u?u.source:void 0,w=this.layout?this.layout.source:void 0,x=y!==w,S=this.getStack(),j=!S||S.members.length<=1,b=!!(x&&!j&&this.options.crossfade===!0&&!this.path.some(Yz));this.animationProgress=0;let C;this.mixTargetDelta=N=>{const A=N/1e3;$1(p.x,l.x,A),$1(p.y,l.y,A),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xl(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Kz(this.relativeTarget,this.relativeTargetOrigin,v,A),C&&Pz(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Nt()),Jn(C,this.relativeTarget)),x&&(this.animationValues=f,bz(f,h,this.latestValues,A,b,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ji(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{Rd.hasAnimatedSinceResize=!0,this.currentAnimation=Mz(0,M1,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(M1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:f}=l;if(!(!c||!u||!h)){if(this!==l&&this.layout&&h&&NT(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Nt();const p=zn(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+p;const v=zn(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+v}Jn(c,u),la(c,f),Jl(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Tz),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(c=!0),!c)return;const h={};for(let f=0;f<O1.length;f++){const p="rotate"+O1[f];u[p]&&(h[p]=u[p],l.setStaticValue(p,0))}l.render();for(const f in h)l.setStaticValue(f,h[f]);l.scheduleRender()}getProjectionStyles(l){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Iz;const h={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=kd(l==null?void 0:l.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=kd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Us(this.latestValues)&&(x.transform=f?f({},""):"none",this.hasProjected=!1),x}const v=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=L1(this.projectionDeltaWithTransform,this.treeScale,v),f&&(h.transform=f(v,h.transform));const{x:y,y:w}=this.projectionDelta;h.transformOrigin=`${y.origin*100}% ${w.origin*100}% 0`,p.animationValues?h.opacity=p===this?(u=(c=v.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const x in ph){if(v[x]===void 0)continue;const{correct:S,applyTo:j}=ph[x],b=h.transform==="none"?v[x]:S(v[x],p);if(j){const C=j.length;for(let N=0;N<C;N++)h[j[N]]=b}else h[x]=b}return this.options.layoutId&&(h.pointerEvents=p===this?kd(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(I1),this.root.sharedNodes.clear()}}}function $z(e){e.updateLayout()}function Fz(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,l=n.source!==e.layout.source;o==="size"?Xn(p=>{const v=l?n.measuredBox[p]:n.layoutBox[p],y=zn(v);v.min=r[p].min,v.max=v.min+y}):NT(o,n.layoutBox,r)&&Xn(p=>{const v=l?n.measuredBox[p]:n.layoutBox[p],y=zn(r[p]);v.max=v.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+y)});const c=aa();Jl(c,r,n.layoutBox);const u=aa();l?Jl(u,e.applyTransform(i,!0),n.measuredBox):Jl(u,r,n.layoutBox);const h=!CT(c);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:v,layout:y}=p;if(v&&y){const w=Nt();Xl(w,n.layoutBox,v.layoutBox);const x=Nt();Xl(x,r,y.layoutBox),ST(w,x)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=w,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Bz(e){zs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Uz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zz(e){e.clearSnapshot()}function I1(e){e.clearMeasurements()}function Vz(e){e.isLayoutDirty=!1}function Hz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function D1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Wz(e){e.resolveTargetDelta()}function Gz(e){e.calcProjection()}function qz(e){e.resetRotation()}function Zz(e){e.removeLeadSnapshot()}function $1(e,t,n){e.translate=gt(t.translate,0,n),e.scale=gt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function F1(e,t,n,r){e.min=gt(t.min,n.min,r),e.max=gt(t.max,n.max,r)}function Kz(e,t,n,r){F1(e.x,t.x,n.x,r),F1(e.y,t.y,n.y,r)}function Yz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Jz={duration:.45,ease:[.4,0,.1,1]},B1=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),U1=B1("applewebkit/")&&!B1("chrome/")?Math.round:wt;function z1(e){e.min=U1(e.min),e.max=U1(e.max)}function Xz(e){z1(e.x),z1(e.y)}function NT(e,t,n){return e==="position"||e==="preserve-aspect"&&!pv(R1(t),R1(n),.2)}const Qz=ET({attachResizeListener:(e,t)=>mi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cp={current:void 0},PT=ET({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cp.current){const e=new Qz({});e.mount(window),e.setOptions({layoutScroll:!0}),Cp.current=e}return Cp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),e6={pan:{Feature:gz},drag:{Feature:pz,ProjectionNode:PT,MeasureLayout:wT}},t6=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function n6(e){const t=t6.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function yv(e,t,n=1){const[r,i]=n6(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const l=o.trim();return uT(l)?parseFloat(l):l}else return lv(i)?yv(i,t,n+1):i}function r6(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const o=i.get();if(!lv(o))return;const l=yv(o,r);l&&i.set(l)});for(const i in t){const o=t[i];if(!lv(o))continue;const l=yv(o,r);l&&(t[i]=l,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:t,transitionEnd:n}}const i6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),TT=e=>i6.has(e),s6=e=>Object.keys(e).some(TT),V1=e=>e===_o||e===Ae,H1=(e,t)=>parseFloat(e.split(", ")[t]),W1=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return H1(i[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?H1(o[1],e):0}},o6=new Set(["x","y","z"]),a6=Yc.filter(e=>!o6.has(e));function l6(e){const t=[];return a6.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ma={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:W1(4,13),y:W1(5,14)};Ma.translateX=Ma.x;Ma.translateY=Ma.y;const c6=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:l}=o,c={};l==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(h=>{c[h]=Ma[h](r,o)}),t.render();const u=t.measureViewportBox();return n.forEach(h=>{const f=t.getValue(h);f&&f.jump(c[h]),e[h]=Ma[h](u,o)}),e},u6=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(TT);let o=[],l=!1;const c=[];if(i.forEach(u=>{const h=e.getValue(u);if(!e.hasValue(u))return;let f=n[u],p=Sl(f);const v=t[u];let y;if(vh(v)){const w=v.length,x=v[0]===null?1:0;f=v[x],p=Sl(f);for(let S=x;S<w&&v[S]!==null;S++)y?Py(Sl(v[S])===y):y=Sl(v[S])}else y=Sl(v);if(p!==y)if(V1(p)&&V1(y)){const w=h.get();typeof w=="string"&&h.set(parseFloat(w)),typeof v=="string"?t[u]=parseFloat(v):Array.isArray(v)&&y===Ae&&(t[u]=v.map(parseFloat))}else p!=null&&p.transform&&(y!=null&&y.transform)&&(f===0||v===0)?f===0?h.set(y.transform(f)):t[u]=p.transform(v):(l||(o=l6(e),l=!0),c.push(u),r[u]=r[u]!==void 0?r[u]:t[u],h.jump(v))}),c.length){const u=c.indexOf("height")>=0?window.pageYOffset:null,h=c6(t,e,c);return o.length&&o.forEach(([f,p])=>{e.getValue(f).set(p)}),e.render(),xf&&u!==null&&window.scrollTo({top:u}),{target:h,transitionEnd:r}}else return{target:t,transitionEnd:r}};function d6(e,t,n,r){return s6(t)?u6(e,t,n,r):{target:t,transitionEnd:r}}const h6=(e,t,n,r)=>{const i=r6(e,t,r);return t=i.target,r=i.transitionEnd,d6(e,t,n,r)},_v={current:null},AT={current:!1};function f6(){if(AT.current=!0,!!xf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_v.current=e.matches;e.addListener(t),t()}else _v.current=!1}function m6(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],l=n[i];if(An(o))e.addValue(i,o),wh(r)&&r.add(i);else if(An(l))e.addValue(i,Oa(o,{owner:e})),wh(r)&&r.remove(i);else if(l!==o)if(e.hasValue(i)){const c=e.getValue(i);!c.hasAnimated&&c.set(o)}else{const c=e.getStaticValue(i);e.addValue(i,Oa(c!==void 0?c:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const G1=new WeakMap,kT=Object.keys(Tc),p6=kT.length,q1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],g6=yy.length;class v6{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ot.render(this.render,!1,!0);const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.isControllingVariants=_f(n),this.isVariantNode=pP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{});for(const p in f){const v=f[p];c[p]!==void 0&&An(v)&&(v.set(c[p],!1),wh(h)&&h.add(p))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,G1.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AT.current||f6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_v.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){G1.delete(this.current),this.projection&&this.projection.unmount(),ji(this.notifyUpdate),ji(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=yo.has(t),i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ot.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,o){let l,c;for(let u=0;u<p6;u++){const h=kT[u],{isEnabled:f,Feature:p,ProjectionNode:v,MeasureLayout:y}=Tc[h];v&&(l=v),f(n)&&(!this.features[h]&&p&&(this.features[h]=new p(this)),y&&(c=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:h,drag:f,dragConstraints:p,layoutScroll:v,layoutRoot:y}=n;this.projection.setOptions({layoutId:u,layout:h,alwaysMeasureLayout:!!f||p&&sa(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:o,layoutScroll:v,layoutRoot:y})}return c}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<q1.length;r++){const i=q1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=m6(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<g6;r++){const i=yy[r],o=this.props[i];(Pc(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Oa(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Ny(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!An(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Dy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class RT extends v6{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},o){let l=OU(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),l&&(l=i(l))),o){RU(this,r,l);const c=h6(this,r,l,n);n=c.transitionEnd,r=c.target}return{transition:t,transitionEnd:n,...r}}}function x6(e){return window.getComputedStyle(e)}class y6 extends RT{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(yo.has(n)){const r=Ry(n);return r&&r.default||0}else{const r=x6(t),i=(yP(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return yT(t,n)}build(t,n,r,i){by(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Ey(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;An(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){SP(t,n,r,i)}}class _6 extends RT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(yo.has(n)){const r=Ry(n);return r&&r.default||0}return n=EP.has(n)?n:vy(n),t.getAttribute(n)}measureInstanceViewportBox(){return Nt()}scrapeMotionValuesFromProps(t,n){return PP(t,n)}build(t,n,r,i){Cy(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){NP(t,n,r,i)}mount(t){this.isSVGTag=Sy(t.tagName),super.mount(t)}}const w6=(e,t)=>wy(e)?new _6(t,{enableHardwareAcceleration:!1}):new y6(t,{enableHardwareAcceleration:!0}),b6={layout:{ProjectionNode:PT,MeasureLayout:wT}},j6={...KU,...pB,...e6,...b6},ue=C5((e,t)=>nB(e,t,j6,w6));function LT(){const e=m.useRef(!1);return gy(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function C6(){const e=LT(),[t,n]=m.useState(0),r=m.useCallback(()=>{e.current&&n(t+1)},[t]);return[m.useCallback(()=>ot.postRender(r),[r]),t]}class S6 extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function E6({children:e,isPresent:t}){const n=m.useId(),r=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=i.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),m.createElement(S6,{isPresent:t,childRef:r,sizeRef:i},m.cloneElement(e,{ref:r}))}const Sp=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l})=>{const c=TP(N6),u=m.useId(),h=m.useMemo(()=>({id:u,initial:t,isPresent:n,custom:i,onExitComplete:f=>{c.set(f,!0);for(const p of c.values())if(!p)return;r&&r()},register:f=>(c.set(f,!1),()=>c.delete(f))}),o?void 0:[n]);return m.useMemo(()=>{c.forEach((f,p)=>c.set(p,!1))},[n]),m.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),l==="popLayout"&&(e=m.createElement(E6,{isPresent:n},e)),m.createElement(vf.Provider,{value:h},e)};function N6(){return new Map}function P6(e){return m.useEffect(()=>()=>e(),[])}const Vs=e=>e.key||"";function T6(e,t){e.forEach(n=>{const r=Vs(n);t.set(r,n)})}function A6(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const Ot=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:l="sync"})=>{const c=m.useContext(_y).forceRender||C6()[0],u=LT(),h=A6(e);let f=h;const p=m.useRef(new Map).current,v=m.useRef(f),y=m.useRef(new Map).current,w=m.useRef(!0);if(gy(()=>{w.current=!1,T6(h,y),v.current=f}),P6(()=>{w.current=!0,y.clear(),p.clear()}),w.current)return m.createElement(m.Fragment,null,f.map(b=>m.createElement(Sp,{key:Vs(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:l},b)));f=[...f];const x=v.current.map(Vs),S=h.map(Vs),j=x.length;for(let b=0;b<j;b++){const C=x[b];S.indexOf(C)===-1&&!p.has(C)&&p.set(C,void 0)}return l==="wait"&&p.size&&(f=[]),p.forEach((b,C)=>{if(S.indexOf(C)!==-1)return;const N=y.get(C);if(!N)return;const A=x.indexOf(C);let P=b;if(!P){const T=()=>{p.delete(C);const R=Array.from(y.keys()).filter(O=>!S.includes(O));if(R.forEach(O=>y.delete(O)),v.current=h.filter(O=>{const B=Vs(O);return B===C||R.includes(B)}),!p.size){if(u.current===!1)return;c(),r&&r()}};P=m.createElement(Sp,{key:Vs(N),isPresent:!1,onExitComplete:T,custom:t,presenceAffectsLayout:o,mode:l},N),p.set(C,P)}f.splice(A,0,P)}),f=f.map(b=>{const C=b.key;return p.has(C)?b:m.createElement(Sp,{key:Vs(b),isPresent:!0,presenceAffectsLayout:o,mode:l},b)}),m.createElement(m.Fragment,null,p.size?f:f.map(b=>m.cloneElement(b)))},$y=Kc("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=se.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const l=r?y3:"button";return s.jsx(l,{className:ce($y({variant:t,size:n,className:e})),ref:o,...i})});X.displayName="Button";const k6="modulepreload",R6=function(e){return"/ALJ_Jonage_Escalade/"+e},Z1={},eu=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=R6(o),o in Z1)return;Z1[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const p=i[f];if(p.href===o&&(!l||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":k6,l||(h.as="script",h.crossOrigin=""),h.href=o,document.head.appendChild(h),l)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},L6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>eu(()=>Promise.resolve().then(()=>nu),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Fy extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class K1 extends Fy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Y1 extends Fy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class J1 extends Fy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wv||(wv={}));var O6=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};class M6{constructor(t,{headers:n={},customFetch:r,region:i=wv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=L6(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return O6(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:h}=n;h||(h=this.region);const f=new URL(`${this.url}/${t}`);h&&h!=="any"&&(u["x-region"]=h,f.searchParams.set("forceFunctionRegion",h));let p;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(u["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(u["Content-Type"]="application/json",p=JSON.stringify(l)));const v=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:p,signal:c}).catch(S=>{throw S.name==="AbortError"?S:new K1(S)}),y=v.headers.get("x-relay-error");if(y&&y==="true")throw new Y1(v);if(!v.ok)throw new J1(v);let w=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return w==="application/json"?x=yield v.json():w==="application/octet-stream"?x=yield v.blob():w==="text/event-stream"?x=v:w==="multipart/form-data"?x=yield v.formData():x=yield v.text(),{data:x,error:null,response:v}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new K1(i)}:{data:null,error:i,response:i instanceof J1||i instanceof Y1?i.context:void 0}}})}}var Cn={},By={},Cf={},tu={},Sf={},Ef={},I6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ia=I6();const D6=Ia.fetch,$6=Ia.fetch.bind(Ia),F6=Ia.Headers,B6=Ia.Request,U6=Ia.Response,nu=Object.freeze(Object.defineProperty({__proto__:null,Headers:F6,Request:B6,Response:U6,default:$6,fetch:D6},Symbol.toStringTag,{value:"Module"})),z6=zM(nu);var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});let V6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Nf.default=V6;var OT=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ef,"__esModule",{value:!0});const H6=OT(z6),W6=OT(Nf);let G6=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=H6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var l,c,u,h;let f=null,p=null,v=null,y=o.status,w=o.statusText;if(o.ok){if(this.method!=="HEAD"){const b=await o.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?p=b:p=JSON.parse(b))}const S=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),j=(u=o.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");S&&j&&j.length>1&&(v=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,y=406,w="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const S=await o.text();try{f=JSON.parse(S),Array.isArray(f)&&o.status===404&&(p=[],f=null,y=200,w="OK")}catch{o.status===404&&S===""?(y=204,w="No Content"):f={message:S}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,y=200,w="OK"),f&&this.shouldThrowOnError)throw new W6.default(f)}return{error:f,data:p,count:v,status:y,statusText:w}});return this.shouldThrowOnError||(i=i.catch(o=>{var l,c,u;return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(c=o==null?void 0:o.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(u=o==null?void 0:o.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Ef.default=G6;var q6=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sf,"__esModule",{value:!0});const Z6=q6(Ef);let K6=class extends Z6.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:l="text"}={}){var c;const u=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${u};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Sf.default=K6;var Y6=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tu,"__esModule",{value:!0});const J6=Y6(Sf);let X6=class extends J6.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${l}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};tu.default=X6;var Q6=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cf,"__esModule",{value:!0});const Nl=Q6(tu);let e8=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),r&&this.headers.append("Prefer",`count=${r}`),new Nl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Nl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new Nl.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Nl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Nl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Cf.default=e8;var MT=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(By,"__esModule",{value:!0});const t8=MT(Cf),n8=MT(tu);let r8=class IT{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new t8.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new IT(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var l;let c;const u=new URL(`${this.url}/rpc/${t}`);let h;r||i?(c=r?"HEAD":"GET",Object.entries(n).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{u.searchParams.append(p,v)})):(c="POST",h=n);const f=new Headers(this.headers);return o&&f.set("Prefer",`count=${o}`),new n8.default({method:c,url:u,headers:f,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};By.default=r8;var Za=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.PostgrestError=Cn.PostgrestBuilder=Cn.PostgrestTransformBuilder=Cn.PostgrestFilterBuilder=Cn.PostgrestQueryBuilder=Cn.PostgrestClient=void 0;const DT=Za(By);Cn.PostgrestClient=DT.default;const $T=Za(Cf);Cn.PostgrestQueryBuilder=$T.default;const FT=Za(tu);Cn.PostgrestFilterBuilder=FT.default;const BT=Za(Sf);Cn.PostgrestTransformBuilder=BT.default;const UT=Za(Ef);Cn.PostgrestBuilder=UT.default;const zT=Za(Nf);Cn.PostgrestError=zT.default;var i8=Cn.default={PostgrestClient:DT.default,PostgrestQueryBuilder:$T.default,PostgrestFilterBuilder:FT.default,PostgrestTransformBuilder:BT.default,PostgrestBuilder:UT.default,PostgrestError:zT.default};const{PostgrestClient:s8,PostgrestQueryBuilder:ZQ,PostgrestFilterBuilder:KQ,PostgrestTransformBuilder:YQ,PostgrestBuilder:JQ,PostgrestError:XQ}=i8;class o8{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const a8="2.15.6",l8=`realtime-js/${a8}`,c8="1.0.0",bv=1e4,u8=1e3,d8=100;var Ql;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ql||(Ql={}));var kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kt||(kt={}));var gr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gr||(gr={}));var jv;(function(e){e.websocket="websocket"})(jv||(jv={}));var Gs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Gs||(Gs={}));class h8{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(t.slice(l,l+i));l=l+i;const u=r.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:u,payload:h}}}class VT{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(rt||(rt={}));const X1=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=f8(l,e,t,i),o),{}):{}},f8=(e,t,n,r)=>{const i=t.find(c=>c.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?HT(o,l):Cv(l)},HT=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return v8(t,n)}switch(e){case rt.bool:return m8(t);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return p8(t);case rt.json:case rt.jsonb:return g8(t);case rt.timestamp:return x8(t);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return Cv(t);default:return Cv(t)}},Cv=e=>e,m8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},p8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},g8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},v8=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>HT(t,c))}return e},x8=e=>typeof e=="string"?e.replace(" ","T"):e,WT=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ep{constructor(t,n,r={},i=bv){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Q1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Q1||(Q1={}));class ec{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ec.syncState(this.state,i,o,l),this.pendingDiffs.forEach(u=>{this.state=ec.syncDiff(this.state,u,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ec.syncDiff(this.state,i,o,l),c())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),c={},u={};return this.map(o,(h,f)=>{l[h]||(u[h]=f)}),this.map(l,(h,f)=>{const p=o[h];if(p){const v=f.map(S=>S.presence_ref),y=p.map(S=>S.presence_ref),w=f.filter(S=>y.indexOf(S.presence_ref)<0),x=p.filter(S=>v.indexOf(S.presence_ref)<0);w.length>0&&(c[h]=w),x.length>0&&(u[h]=x)}else c[h]=f}),this.syncDiff(o,{joins:c,leaves:u},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(c,u)=>{var h;const f=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(u),f.length>0){const p=t[c].map(y=>y.presence_ref),v=f.filter(y=>p.indexOf(y.presence_ref)<0);t[c].unshift(...v)}r(c,f,u)}),this.map(l,(c,u)=>{let h=t[c];if(!h)return;const f=u.map(p=>p.presence_ref);h=h.filter(p=>f.indexOf(p.presence_ref)<0),t[c]=h,i(c,h,u),h.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ej;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ej||(ej={}));var tc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(tc||(tc={}));var ci;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ci||(ci={}));class Uy{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ep(this,gr.join,this.params,this.timeout),this.rejoinTimer=new VT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gr.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new ec(this),this.broadcastEndpointURL=WT(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:l,presence:c,private:u}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[tc.PRESENCE]&&this.bindings[tc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},v={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:f}),postgres_changes:h,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(ci.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(ci.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket.setAuth(),y===void 0){t==null||t(ci.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,S=(w=x==null?void 0:x.length)!==null&&w!==void 0?w:0,j=[];for(let b=0;b<S;b++){const C=x[b],{filter:{event:N,schema:A,table:P,filter:T}}=C,R=y&&y[b];if(R&&R.event===N&&R.schema===A&&R.table===P&&R.filter===T)j.push(Object.assign(Object.assign({},C),{id:R.id}));else{this.unsubscribe(),this.state=kt.errored,t==null||t(ci.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(ci.SUBSCRIBED);return}}).receive("error",y=>{this.state=kt.errored,t==null||t(ci.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ci.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===kt.joined&&t===tc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,u;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ep(this,gr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ep(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>d8){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:c,error:u,leave:h,join:f}=gr;if(r&&[c,u,h,f].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var w,x,S;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(x=y.filter)===null||x===void 0?void 0:x.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(y=>y.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(y=>{var w,x,S,j,b,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const N=y.id,A=(w=y.filter)===null||w===void 0?void 0:w.event;return N&&((x=n.ids)===null||x===void 0?void 0:x.includes(N))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const N=(b=(j=y==null?void 0:y.filter)===null||j===void 0?void 0:j.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return N==="*"||N===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:x,table:S,commit_timestamp:j,type:b,errors:C}=w;v=Object.assign(Object.assign({},{schema:x,table:S,commit_timestamp:j,eventType:b,new:{},old:{},errors:C}),this._getPayloadRecords(w))}y.callback(v,r)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Uy.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gr.close,{},t)}_onError(t){this._on(gr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=X1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=X1(t.columns,t.old_record)),n}}const Np=()=>{},ed={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},y8=[1e3,2e3,5e3,1e4],_8=1e4,w8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class b8{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bv,this.transport=null,this.heartbeatIntervalMs=ed.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Np,this.ref=0,this.reconnectTimer=null,this.logger=Np,this.conn=null,this.sendBuffer=[],this.serializer=new h8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>eu(()=>Promise.resolve().then(()=>nu),void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${jv.websocket}`,this.httpEndpoint=WT(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=o8.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:c8}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ql.connecting:return Gs.Connecting;case Ql.open:return Gs.Open;case Ql.closing:return Gs.Closing;default:return Gs.Closed}}isConnected(){return this.connectionState()===Gs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Uy(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(u8,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ed.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,c=l?`(${l})`:"",u=o.status||"";this.log("receive",`${u} ${r} ${i} ${c}`.trim(),o),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(gr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([w8],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:l8};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(gr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new VT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ed.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,c,u,h,f;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:bv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ed.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:Np,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:p=>y8[p-1]||_8,this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(p,v)=>v(JSON.stringify(p)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class zy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class j8 extends zy{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sv extends zy{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var C8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};const GT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>eu(()=>Promise.resolve().then(()=>nu),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},S8=()=>C8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield eu(()=>Promise.resolve().then(()=>nu),void 0)).Response:Response}),Ev=e=>{if(Array.isArray(e))return e.map(n=>Ev(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Ev(r)}),t},E8=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var wo=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};const Pp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),N8=(e,t,n)=>wo(void 0,void 0,void 0,function*(){const r=yield S8();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new j8(Pp(i),o,l))}).catch(i=>{t(new Sv(Pp(i),i))}):t(new Sv(Pp(e),e))}),P8=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(E8(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function ru(e,t,n,r,i,o){return wo(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(n,P8(t,r,i,o)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>l(u)).catch(u=>N8(u,c,r))})})}function jh(e,t,n,r){return wo(this,void 0,void 0,function*(){return ru(e,"GET",t,n,r)})}function Ir(e,t,n,r,i){return wo(this,void 0,void 0,function*(){return ru(e,"POST",t,r,i,n)})}function Nv(e,t,n,r,i){return wo(this,void 0,void 0,function*(){return ru(e,"PUT",t,r,i,n)})}function T8(e,t,n,r){return wo(this,void 0,void 0,function*(){return ru(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function qT(e,t,n,r,i){return wo(this,void 0,void 0,function*(){return ru(e,"DELETE",t,r,i,n)})}var A8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};class k8{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return A8(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pt(t))return{data:null,error:t};throw t}})}}var R8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};class L8{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new k8(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return R8(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pt(t))return{data:null,error:t};throw t}})}}var _n=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};const O8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class M8{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=GT(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return _n(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},tj),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const u=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),u&&o.append("metadata",this.encodeMetadata(u)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),u&&o.append("metadata",this.encodeMetadata(u))):(o=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const h=this._removeEmptyFolders(n),f=this._getFinalPath(h),p=yield(t=="PUT"?Nv:Ir)(this.fetch,`${this.url}/object/${f}`,o,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return _n(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return _n(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let u;const h=Object.assign({upsert:tj.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",h.cacheControl)):(u=r,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const p=yield Nv(this.fetch,c.toString(),u,{headers:f});return{data:{path:o,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pt(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return _n(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Ir(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new zy("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}update(t,n,r){return _n(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return _n(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return _n(this,void 0,void 0,function*(){try{return{data:{path:(yield Ir(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return _n(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Ir(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return _n(this,void 0,void 0,function*(){try{const i=yield Ir(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",c=this._getFinalPath(t),u=()=>jh(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new L8(u,this.shouldThrowOnError)}info(t){return _n(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield jh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ev(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}exists(t){return _n(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield T8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r)&&r instanceof Sv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${h}`)}}}remove(t){return _n(this,void 0,void 0,function*(){try{return{data:yield qT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}list(t,n,r){return _n(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},O8),n),{prefix:t||""});return{data:yield Ir(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pt(i))return{data:null,error:i};throw i}})}listV2(t,n){return _n(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ir(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const I8="2.12.2",D8={"X-Client-Info":`storage-js/${I8}`};var Do=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};class $8{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},D8),n),this.fetch=GT(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Do(this,void 0,void 0,function*(){try{return{data:yield jh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pt(t))return{data:null,error:t};throw t}})}getBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield jh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Do(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Do(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Do(this,void 0,void 0,function*(){try{return{data:yield qT(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}}class F8 extends $8{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new M8(this.url,this.headers,t,this.fetch)}}const B8="2.30.0",U8={"X-Client-Info":`supabase-js/${B8}`};var Pv={exports:{}};(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Wt<"u"&&Wt,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(l){var c=typeof o<"u"&&o||typeof self<"u"&&self||typeof Wt<"u"&&Wt||{},u={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function h(k){return k&&DataView.prototype.isPrototypeOf(k)}if(u.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(k){return k&&f.indexOf(Object.prototype.toString.call(k))>-1};function v(k){if(typeof k!="string"&&(k=String(k)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(k)||k==="")throw new TypeError('Invalid character in header field name: "'+k+'"');return k.toLowerCase()}function y(k){return typeof k!="string"&&(k=String(k)),k}function w(k){var I={next:function(){var F=k.shift();return{done:F===void 0,value:F}}};return u.iterable&&(I[Symbol.iterator]=function(){return I}),I}function x(k){this.map={},k instanceof x?k.forEach(function(I,F){this.append(F,I)},this):Array.isArray(k)?k.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(I){this.append(I,k[I])},this)}x.prototype.append=function(k,I){k=v(k),I=y(I);var F=this.map[k];this.map[k]=F?F+", "+I:I},x.prototype.delete=function(k){delete this.map[v(k)]},x.prototype.get=function(k){return k=v(k),this.has(k)?this.map[k]:null},x.prototype.has=function(k){return this.map.hasOwnProperty(v(k))},x.prototype.set=function(k,I){this.map[v(k)]=y(I)},x.prototype.forEach=function(k,I){for(var F in this.map)this.map.hasOwnProperty(F)&&k.call(I,this.map[F],F,this)},x.prototype.keys=function(){var k=[];return this.forEach(function(I,F){k.push(F)}),w(k)},x.prototype.values=function(){var k=[];return this.forEach(function(I){k.push(I)}),w(k)},x.prototype.entries=function(){var k=[];return this.forEach(function(I,F){k.push([F,I])}),w(k)},u.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function S(k){if(!k._noBody){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}}function j(k){return new Promise(function(I,F){k.onload=function(){I(k.result)},k.onerror=function(){F(k.error)}})}function b(k){var I=new FileReader,F=j(I);return I.readAsArrayBuffer(k),F}function C(k){var I=new FileReader,F=j(I),D=/charset=([A-Za-z0-9_-]+)/.exec(k.type),H=D?D[1]:"utf-8";return I.readAsText(k,H),F}function N(k){for(var I=new Uint8Array(k),F=new Array(I.length),D=0;D<I.length;D++)F[D]=String.fromCharCode(I[D]);return F.join("")}function A(k){if(k.slice)return k.slice(0);var I=new Uint8Array(k.byteLength);return I.set(new Uint8Array(k)),I.buffer}function P(){return this.bodyUsed=!1,this._initBody=function(k){this.bodyUsed=this.bodyUsed,this._bodyInit=k,k?typeof k=="string"?this._bodyText=k:u.blob&&Blob.prototype.isPrototypeOf(k)?this._bodyBlob=k:u.formData&&FormData.prototype.isPrototypeOf(k)?this._bodyFormData=k:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)?this._bodyText=k.toString():u.arrayBuffer&&u.blob&&h(k)?(this._bodyArrayBuffer=A(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(k)||p(k))?this._bodyArrayBuffer=A(k):this._bodyText=k=Object.prototype.toString.call(k):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof k=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var k=S(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var k=S(this);return k||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var k=S(this);if(k)return k;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(N(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var T=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function R(k){var I=k.toUpperCase();return T.indexOf(I)>-1?I:k}function O(k,I){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var F=I.body;if(k instanceof O){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,I.headers||(this.headers=new x(k.headers)),this.method=k.method,this.mode=k.mode,this.signal=k.signal,!F&&k._bodyInit!=null&&(F=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new x(I.headers)),this.method=R(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in c){var G=new AbortController;return G.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&F)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(F),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var D=/([?&])_=[^&]*/;if(D.test(this.url))this.url=this.url.replace(D,"$1_="+new Date().getTime());else{var H=/\?/;this.url+=(H.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};function B(k){var I=new FormData;return k.trim().split("&").forEach(function(F){if(F){var D=F.split("="),H=D.shift().replace(/\+/g," "),G=D.join("=").replace(/\+/g," ");I.append(decodeURIComponent(H),decodeURIComponent(G))}}),I}function W(k){var I=new x,F=k.replace(/\r?\n[\t ]+/g," ");return F.split("\r").map(function(D){return D.indexOf(`
`)===0?D.substr(1,D.length):D}).forEach(function(D){var H=D.split(":"),G=H.shift().trim();if(G){var ee=H.join(":").trim();try{I.append(G,ee)}catch(z){console.warn("Response "+z.message)}}}),I}P.call(O.prototype);function U(k,I){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new x(I.headers),this.url=I.url||"",this._initBody(k)}P.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},U.error=function(){var k=new U(null,{status:200,statusText:""});return k.ok=!1,k.status=0,k.type="error",k};var K=[301,302,303,307,308];U.redirect=function(k,I){if(K.indexOf(I)===-1)throw new RangeError("Invalid status code");return new U(null,{status:I,headers:{location:k}})},l.DOMException=c.DOMException;try{new l.DOMException}catch{l.DOMException=function(I,F){this.message=I,this.name=F;var D=Error(I);this.stack=D.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function $(k,I){return new Promise(function(F,D){var H=new O(k,I);if(H.signal&&H.signal.aborted)return D(new l.DOMException("Aborted","AbortError"));var G=new XMLHttpRequest;function ee(){G.abort()}G.onload=function(){var q={statusText:G.statusText,headers:W(G.getAllResponseHeaders()||"")};H.url.indexOf("file://")===0&&(G.status<200||G.status>599)?q.status=200:q.status=G.status,q.url="responseURL"in G?G.responseURL:q.headers.get("X-Request-URL");var Q="response"in G?G.response:G.responseText;setTimeout(function(){F(new U(Q,q))},0)},G.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},G.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request timed out"))},0)},G.onabort=function(){setTimeout(function(){D(new l.DOMException("Aborted","AbortError"))},0)};function z(q){try{return q===""&&c.location.href?c.location.href:q}catch{return q}}if(G.open(H.method,z(H.url),!0),H.credentials==="include"?G.withCredentials=!0:H.credentials==="omit"&&(G.withCredentials=!1),"responseType"in G&&(u.blob?G.responseType="blob":u.arrayBuffer&&(G.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof x||c.Headers&&I.headers instanceof c.Headers)){var Z=[];Object.getOwnPropertyNames(I.headers).forEach(function(q){Z.push(v(q)),G.setRequestHeader(q,y(I.headers[q]))}),H.headers.forEach(function(q,Q){Z.indexOf(Q)===-1&&G.setRequestHeader(Q,q)})}else H.headers.forEach(function(q,Q){G.setRequestHeader(Q,q)});H.signal&&(H.signal.addEventListener("abort",ee),G.onreadystatechange=function(){G.readyState===4&&H.signal.removeEventListener("abort",ee)}),G.send(typeof H._bodyInit>"u"?null:H._bodyInit)})}return $.polyfill=!0,c.fetch||(c.fetch=$,c.Headers=x,c.Request=O,c.Response=U),l.Headers=x,l.Request=O,l.Response=U,l.fetch=$,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(Pv,Pv.exports);var Vy=Pv.exports;const ZT=_s(Vy),z8=LC({__proto__:null,default:ZT},[Vy]);var V8=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};const H8=e=>{let t;return e?t=e:typeof fetch>"u"?t=ZT:t=fetch,(...n)=>t(...n)},W8=()=>typeof Headers>"u"?Vy.Headers:Headers,G8=(e,t,n)=>{const r=H8(n),i=W8();return(o,l)=>V8(void 0,void 0,void 0,function*(){var c;const u=(c=yield t())!==null&&c!==void 0?c:e;let h=new i(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${u}`),r(o,Object.assign(Object.assign({},l),{headers:h}))})};function q8(e){return e.replace(/\/$/,"")}function Z8(e,t){const{db:n,auth:r,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:h}=t;return{db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign({},h),o)}}function K8(e){return Math.round(Date.now()/1e3)+e}function Y8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ai=()=>typeof document<"u",Ds={tested:!1,writable:!1},Ld=()=>{if(!ai())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ds.tested)return Ds.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ds.tested=!0,Ds.writable=!0}catch{Ds.tested=!0,Ds.writable=!1}return Ds.writable};function wn(e,t){var n;t||(t=((n=window==null?void 0:window.location)===null||n===void 0?void 0:n.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const KT=e=>{let t;return e?t=e:typeof fetch>"u"?t=async(...n)=>await(await eu(()=>Promise.resolve().then(()=>z8),void 0)).fetch(...n):t=fetch,(...n)=>t(...n)},J8=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},td=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tp=async(e,t)=>{await e.removeItem(t)};function X8(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,o,l,c,u,h,f=0;for(e=e.replace("-","+").replace("_","/");f<e.length;)l=t.indexOf(e.charAt(f++)),c=t.indexOf(e.charAt(f++)),u=t.indexOf(e.charAt(f++)),h=t.indexOf(e.charAt(f++)),r=l<<2|c>>4,i=(c&15)<<4|u>>2,o=(u&3)<<6|h,n=n+String.fromCharCode(r),u!=64&&i!=0&&(n=n+String.fromCharCode(i)),h!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}class Pf{constructor(){this.promise=new Pf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Pf.promiseConstructor=Promise;function nj(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(X8(r))}function Q8(e){return new Promise(t=>{setTimeout(()=>t(null),e)})}function eV(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function tV(e){return("0"+e.toString(16)).substr(-2)}function nd(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,tV).join("")}async function nV(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}function rV(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rd(e){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await nV(e);return rV(t)}const iV="__stack_guard__",sV="__",oV=/__stack_guard__([a-zA-Z0-9_-]+)__/;let rj=!1,Hy;function Tv(e){var t,n;Hy();let r;try{throw new Error}catch(o){r=o}const i=(n=(t=r.stack)===null||t===void 0?void 0:t.split(`
`))!==null&&n!==void 0?n:[];for(let o=0;o<i.length;o+=1){const c=i[o].match(oV);if(c&&c[1]===e)return!0}return!1}async function Av(e,t){await Hy();const n=`${iV}${e}${sV}`;return await{[n]:async()=>await t()}[n]()}Hy=async()=>{rj||(rj=!0,await Av("ENV_CHECK",async()=>{const e=Tv("ENV_CHECK");return e||console.warn("@supabase/gotrue-js: Stack guards not supported in this environment. Generally not an issue but may point to a very conservative transpilation environment (use ES2017 or above) that implements async/await with generators, or this is a JavaScript engine that does not support async/await stack traces."),e}))};class Wy extends Error{constructor(t,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class aV extends Wy{constructor(t,n){super(t,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function lV(e){return Be(e)&&e.name==="AuthApiError"}class YT extends Wy{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ka extends Wy{constructor(t,n,r){super(t),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class $o extends Ka{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Ap extends Ka{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class id extends Ka{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class oi extends Ka{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kp extends Ka{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kv extends Ka{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}function ij(e){return Be(e)&&e.name==="AuthRetryableFetchError"}var cV=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Dl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uV=[502,503,504];async function sj(e){if(!J8(e))throw new kv(Dl(e),0);if(uV.includes(e.status))throw new kv(Dl(e),e.status);let t;try{t=await e.json()}catch(n){throw new YT(Dl(n),n)}throw new aV(Dl(t),e.status||500)}const dV=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function He(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",u=await hV(e,t,n+c,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function hV(e,t,n,r,i,o){const l=dV(t,r,i,o);let c;try{c=await e(n,l)}catch(u){throw console.error(u),new kv(Dl(u),0)}if(c.ok||await sj(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(u){await sj(u)}}function Mi(e){var t;let n=null;gV(e)&&(n=Object.assign({},e),n.expires_at=K8(e.expires_in));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function qs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fV(e){return{data:e,error:null}}function mV(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=cV(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},u=Object.assign({},l);return{data:{properties:c,user:u},error:null}}function pV(e){return e}function gV(e){return e.access_token&&e.refresh_token&&e.expires_in}var vV=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class xV{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=KT(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=vV(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:mV,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,c,u;try{const h={nextPage:null,lastPage:0,total:0},f=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:pV});if(f.error)throw f.error;const p=await f.json(),v=(l=f.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);h[`${S}Page`]=x}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Be(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){try{return await He(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qs})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:qs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:qs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await He(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}}const yV="2.43.1",_V="http://localhost:9999",wV="supabase.auth.token",bV={"X-Client-Info":`gotrue-js/${yV}`},oj=10,aj={getItem:e=>Ld()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ld()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ld()&&globalThis.localStorage.removeItem(e)}};function jV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}jV();const CV={url:_V,storageKey:wV,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bV,flowType:"implicit",debug:!1},sd=30*1e3,lj=3;class kc{constructor(t){var n;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null,this.instanceID=kc.nextInstanceID,kc.nextInstanceID+=1,this.instanceID>0&&ai()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},CV),t);if(this.logDebugMessages=r.debug,this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||aj,this.admin=new xV({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=KT(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession&&this.storage===aj&&!Ld()&&console.warn(`No storage option exists to persist the session, which may result in unexpected behavior when using auth.
        If you want to set persistSession to true, please provide a storage option or you may set persistSession to false to disable this warning.`),ai()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&console.log(`GoTrueClient@${this.instanceID} ${new Date().toISOString()}`,...t),this}initialize(){return this.initializePromise?this.initializePromise:this._initialize()}async _initialize(){if(this.initializePromise)throw new Error("Double call of #_initialize()");return this.initializePromise=Av("_initialize",async()=>{try{const t=ai()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromUrl(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),await this._removeSession(),{error:r};const{session:i,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Be(t)?{error:t}:{error:new YT("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}),await this.initializePromise}async signUp(t){var n,r,i;try{await this._removeSession();let o;if("email"in t){const{email:f,password:p,options:v}=t;let y=null,w=null;if(this.flowType==="pkce"){const x=nd();await Pl(this.storage,`${this.storageKey}-code-verifier`,x),y=await rd(x),w=x===y?"plain":"s256"}o=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:f,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:y,code_challenge_method:w},xform:Mi})}else if("phone"in t){const{phone:f,password:p,options:v}=t;o=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Mi})}else throw new id("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const u=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:h,session:u},error:null}}catch(o){if(Be(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{await this._removeSession();let n;if("email"in t){const{email:o,password:l,options:c}=t;n=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Mi})}else if("phone"in t){const{phone:o,password:l,options:c}=t;n=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Mi})}else throw new id("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ap}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:{user:r.user,session:r.session},error:i})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){const n=await td(this.storage,`${this.storageKey}-code-verifier`),{data:r,error:i}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Mi});return await Tp(this.storage,`${this.storageKey}-code-verifier`),i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ap}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:i})}async signInWithIdToken(t){await this._removeSession();try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,c=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Mi}),{data:u,error:h}=c;return h?{data:{user:null,session:null},error:h}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Ap}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:h})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if(await this._removeSession(),"email"in t){const{email:c,options:u}=t;let h=null,f=null;if(this.flowType==="pkce"){const v=nd();await Pl(this.storage,`${this.storageKey}-code-verifier`,v),h=await rd(v),f=v===h?"plain":"s256"}const{error:p}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:c,options:u}=t,{data:h,error:f}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(o=u==null?void 0:u.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(l=u==null?void 0:u.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f}}throw new id("You must provide either an email or phone number.")}catch(c){if(Be(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();const{data:i,error:o}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:(n=t.options)===null||n===void 0?void 0:n.captchaToken}}),redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,xform:Mi});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Be(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{return await this._removeSession(),await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:fV})}catch(o){if(Be(o))return{data:null,error:o};throw o}}async reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new $o;const{error:i}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await He(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:c}=await He(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new id("You must provide either an email or phone number and a type")}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return this._useSession(async t=>t)}async _useSession(t){return await Av("_useSession",async()=>{const n=await this.__loadSession();return await t(n)})}async __loadSession(){if(this._debug("#__loadSession()","begin"),this.logDebugMessages&&!Tv("_useSession"))throw new Error("Please use #_useSession()");Tv("_initialize")||await this.initializePromise;try{let t=null;if(this.persistSession){const o=await td(this.storage,this.storageKey);this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?t=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession()))}else t=this.inMemorySession,this._debug("#getSession()","session from memory",t);if(!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n)return{data:{session:t},error:null};const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){try{return await this._useSession(async n=>{var r,i;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0}return await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qs})})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new $o;const l=i.session,{data:c,error:u}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:t,jwt:l.access_token,xform:qs});if(u)throw u;return l.user=c.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return nj(t)}async setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $o;const n=Date.now()/1e3;let r=n,i=!0,o=null;const l=nj(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{session:c,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:u}=await this.getUser(t.access_token);if(u)throw u;o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Be(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new $o;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Be(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromUrl(t){try{if(!ai())throw new oi("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new oi("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new kp("Not a valid PKCE flow url.");if(t){const S=wn("code");if(!S)throw new kp("No code detected.");const{data:j,error:b}=await this.exchangeCodeForSession(S);if(b)throw b;if(!j.session)throw new kp("No session detected.");let C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:j.session,redirectType:null},error:null}}const n=wn("error_description");if(n){const S=wn("error_code");if(!S)throw new oi("No error_code detected.");const j=wn("error");throw j?new oi(n,{error:j,code:S}):new oi("No error detected.")}const r=wn("provider_token"),i=wn("provider_refresh_token"),o=wn("access_token");if(!o)throw new oi("No access_token detected.");const l=wn("expires_in");if(!l)throw new oi("No expires_in detected.");const c=wn("refresh_token");if(!c)throw new oi("No refresh_token detected.");const u=wn("token_type");if(!u)throw new oi("No token_type detected.");const f=Math.round(Date.now()/1e3)+parseInt(l),{data:p,error:v}=await this.getUser(o);if(v)throw v;const y=p.user,w={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:parseInt(l),expires_at:f,refresh_token:c,token_type:u,user:y},x=wn("type");return window.location.hash="",this._debug("#_getSessionFromUrl()","clearing window.location.hash"),{data:{session:w,redirectType:x},error:null}}catch(n){if(Be(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){return ai()&&(!!wn("access_token")||!!wn("error_description"))}async _isPKCEFlow(){const t=await td(this.storage,`${this.storageKey}-code-verifier`);return!!wn("code")&&!!t}async signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(lV(c)&&(c.status===404||c.status===401)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Tp(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const n=Y8(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),this._emitInitialSession(n),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;if(this.flowType==="pkce"){const o=nd();await Pl(this.storage,`${this.storageKey}-code-verifier`,o),r=await rd(o),i=o===r?"plain":"s256"}try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Be(o))return{data:null,error:o};throw o}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await eV(async i=>(await Q8(i*200),this._debug(n,"refreshing attempt",i),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mi})),(i,o,l)=>l&&l.error&&ij(l.error)&&Date.now()+(i+1)*200-r<sd)}catch(r){if(this._debug(n,"error",r),Be(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ai()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await td(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<i+oj;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${oj}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),ij(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new $o;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pf;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new $o;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(i,"error",o),Be(o)){const l={session:null,error:o};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(u){o.push(u)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.persistSession||(this.inMemorySession=t),this.persistSession&&t.expires_at&&await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),Pl(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),this.persistSession?await Tp(this.storage,this.storageKey):this.inMemorySession=null}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ai()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),await this._autoRefreshTokenTick()}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/sd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${sd}ms, refresh threshold is ${lj} ticks`),i<=lj&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ai()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){this._debug(`#_onVisibilityChanged(${t})`,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(t||(await this.initializePromise,await this._recoverAndRefresh(),this._debug("#_onVisibilityChanged()","finished waiting for initialize, _recoverAndRefresh")),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n){const r=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const i=nd();await Pl(this.storage,`${this.storageKey}-code-verifier`,i);const o=await rd(i),l=i===o?"plain":"s256";this._debug("PKCE","code verifier",`${i.substring(0,5)}...`,"code challenge",o,"method",l);const c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});r.push(c.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return`${this.url}/authorize?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await He(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const{data:c,error:u}=await He(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _verify(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:c}=await He(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _challenge(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await He(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified");return{data:{all:r,totp:i},error:null}}async _getAuthenticatorAssuranceLevel(){return await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(i.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:f},error:null}})}}kc.nextInstanceID=0;class SV extends kc{constructor(t){super(t)}}var EV=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(f){try{h(r.next(f))}catch(p){l(p)}}function u(f){try{h(r.throw(f))}catch(p){l(p)}}function h(f){f.done?o(f.value):i(f.value).then(c,u)}h((r=r.apply(e,t||[])).next())})};const NV={headers:U8},PV={schema:"public"},TV={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AV={};class kV{constructor(t,n,r){var i,o,l,c,u,h,f,p;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const v=q8(t);this.realtimeUrl=`${v}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${v}/auth/v1`,this.storageUrl=`${v}/storage/v1`,this.functionsUrl=`${v}/functions/v1`;const y=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:PV,realtime:AV,auth:Object.assign(Object.assign({},TV),{storageKey:y}),global:NV},x=Z8(r??{},w);this.storageKey=(o=(i=x.auth)===null||i===void 0?void 0:i.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=(l=x.global)===null||l===void 0?void 0:l.headers)!==null&&c!==void 0?c:{},this.auth=this._initSupabaseAuthClient((u=x.auth)!==null&&u!==void 0?u:{},this.headers,(h=x.global)===null||h===void 0?void 0:h.fetch),this.fetch=G8(n,this._getAccessToken.bind(this),(f=x.global)===null||f===void 0?void 0:f.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},x.realtime)),this.rest=new s8(`${v}/rest/v1`,{headers:this.headers,schema:(p=x.db)===null||p===void 0?void 0:p.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new M6(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new F8(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return EV(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:l,debug:c},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SV({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:l,debug:c,fetch:h})}_initRealtimeClient(t){return new b8(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RV=(e,t,n)=>new kV(e,t,n),LV="https://hvugiirundpxynozxxnd.supabase.co",OV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh2dWdpaXJ1bmRweHlub3p4eG5kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkyNTM0NjYsImV4cCI6MjA3NDgyOTQ2Nn0.aEH6Lp5B8qceXfY-uLIPJJYoE-ecUq78beLBcyD-bww",te=RV(LV,OV),nc={PROFILE_CACHE:{TTL:5*60*1e3,MAX_SIZE:100},RATE_LIMITING:{MAX_CONCURRENT_REQUESTS:3,MAX_CONCURRENT_LOGS:2,REQUEST_TIMEOUT:3e3,LOG_TIMEOUT:2e3},RETRY_CONFIG:{MAX_ATTEMPTS:2,INITIAL_DELAY:1e3,BACKOFF_MULTIPLIER:1.5},DEBOUNCE:{SEARCH_DELAY:300,FILTER_DELAY:500,RESIZE_DELAY:250},PAGINATION:{DEFAULT_PAGE_SIZE:20,MAX_PAGE_SIZE:100},SUPABASE:{MINIMAL_PROFILE_SELECT:"id, member_id, email",MINIMAL_MEMBER_SELECT:"id, first_name, last_name, email",REALTIME_THROTTLE:2e3,BATCH_SIZE:10}},MV={delay:e=>new Promise(t=>setTimeout(t,e)),withTimeout:(e,t)=>{const n=new Promise((r,i)=>setTimeout(()=>i(new Error("Timeout")),t));return Promise.race([e,n])},calculateRetryDelay:e=>{const{INITIAL_DELAY:t,BACKOFF_MULTIPLIER:n}=nc.RETRY_CONFIG;return t*Math.pow(n,e-1)},isCacheValid:(e,t=nc.PROFILE_CACHE.TTL)=>Date.now()-e<t,cleanExpiredCache:(e,t=nc.PROFILE_CACHE.TTL)=>{const n=Date.now();for(const[r,i]of e.entries())n-i.timestamp>=t&&e.delete(r)}};let Od=0;const{MAX_CONCURRENT_LOGS:JT}=nc.RATE_LIMITING,rc=[],XT=async()=>{for(;rc.length>0&&Od<JT;){const e=rc.shift();Od++;try{await e()}catch(t){console.error("Erreur dans la queue de logs:",t)}finally{Od--,rc.length>0&&setTimeout(XT,100)}}},IV=()=>{const e=async(n,r="login",i=null)=>{if(!n)return;if(Od>=JT){rc.push(()=>e(n,r,i));return}const o=async()=>{var l;try{let c=n.email;i!=null&&i.members&&(c=`${i.members.first_name} ${i.members.last_name}`.trim());const u={user_id:n.id,user_email:n.email||"unknown",user_name:c||n.email||"unknown",action:r||"login",ip_address:"localhost",user_agent:navigator.userAgent?navigator.userAgent.substring(0,255):"unknown",session_id:`session_${Date.now()}`,log_type:"connection"},h=new Promise((p,v)=>setTimeout(()=>v(new Error("Timeout")),nc.RATE_LIMITING.LOG_TIMEOUT)),f=te.from("access_logs").insert(u);try{const{data:p,error:v}=await Promise.race([f,h]);if(v){if(v.code==="PGRST106"||(l=v.message)!=null&&l.includes("access_logs")){console.warn("Table access_logs non trouvée - logging désactivé");return}throw v}console.log(`Connexion loggée: ${u.action} pour ${u.user_name}`)}catch(p){if(p.message==="Timeout"||p.name==="NetworkError"){console.warn("Timeout ou erreur réseau lors du logging - ignoré");return}console.error("Erreur lors du logging de la connexion:",p.message)}}catch(c){console.error("Erreur générale dans logRequest:",c.message)}};rc.push(o),XT()};return{logConnection:e,logDisconnection:async(n,r=null)=>{await e(n,"logout",r)}}},QT=m.createContext(void 0),DV=({children:e})=>{const{toast:t}=tt(),{logConnection:n,logDisconnection:r}=IV(),[i,o]=m.useState(null),[l,c]=m.useState(null),[u,h]=m.useState(!0),[f,p]=m.useState(null),v=m.useMemo(()=>new Map,[]),y=m.useMemo(()=>new Map,[]),w=m.useCallback(async P=>{if(v.has(P)){const R=v.get(P);if(Date.now()-R.timestamp<3e5)return R.data}if(y.has(P))return y.get(P);const T=(async()=>{try{const{data:R,error:O}=await te.from("profiles").select("role, member_id, members(id, first_name, last_name)").eq("id",P).single();return O&&O.code!=="PGRST116"?(console.error("Error fetching user profile:",O),null):(v.set(P,{data:R,timestamp:Date.now()}),R)}catch(R){return console.error("Error in profile fetch:",R),null}finally{y.delete(P)}})();return y.set(P,T),T},[v,y]),x=m.useCallback(async(P,T=!1)=>{try{const R=i;c(P);const O=(P==null?void 0:P.user)??null;if(o(O),O){let B={role:"member",member_id:null};if(T&&!v.has(O.id))try{const W=await w(O.id);W&&(B=W)}catch(W){console.warn("Utilisation du profil par défaut suite à l'erreur:",W.message)}else if(v.has(O.id)){const W=v.get(O.id);W&&MV.isCacheValid(W.timestamp)&&(B=W.data)}if(p(B),T&&!R)try{await n(O,"login",B)}catch(W){console.warn("Logging ignoré suite à l'erreur:",W.message)}}else{if(R)try{await r(R,f)}catch(B){console.warn("Logging de déconnexion ignoré:",B.message)}p(null)}}catch(R){console.error("Error in handleSession:",R),o((P==null?void 0:P.user)??null),p(P!=null&&P.user?{role:"member"}:null)}finally{h(!1)}},[i,n,r,f,w,v]);m.useEffect(()=>{let P=!0;const T=setTimeout(()=>{P&&u&&(console.warn("Auth loading timeout - forcing completion"),h(!1))},1e4);(async()=>{try{const{data:{session:B},error:W}=await te.auth.getSession();W&&console.error("Error getting session:",W),P&&await x(B)}catch(B){console.error("Error in getSession:",B),P&&h(!1)}})();const{data:{subscription:O}}=te.auth.onAuthStateChange(async(B,W)=>{P&&await x(W,B==="SIGNED_IN")});return()=>{P=!1,clearTimeout(T),O.unsubscribe()}},[x,u]);const S=m.useCallback(async(P,T,R)=>{const{data:O,error:B}=await te.auth.signUp({email:P,password:T,options:R});return B&&t({variant:"destructive",title:"Sign up Failed",description:B.message||"Something went wrong"}),{data:O,error:B}},[t]),j=m.useCallback(async(P,T)=>{const{error:R}=await te.auth.signInWithPassword({email:P,password:T});return R&&t({variant:"destructive",title:"Sign in Failed",description:R.message||"Something went wrong"}),{error:R}},[t]),b=m.useCallback(async()=>{const{error:P}=await te.auth.signOut();return await x(null),P&&P.message!=="Session from session_id claim in JWT does not exist"?t({variant:"destructive",title:"Sign out Failed",description:P.message||"Something went wrong"}):t({title:"Déconnexion réussie."}),{error:P}},[t,x]),C=m.useMemo(()=>(f==null?void 0:f.role)==="admin",[f]),N=m.useMemo(()=>["adherent","admin"].includes(f==null?void 0:f.role),[f]),A=m.useMemo(()=>({user:i,session:l,loading:u,profile:f,isAdmin:C,isAdherent:N,signUp:S,signIn:j,signOut:b}),[i,l,u,f,C,N,S,j,b]);return s.jsx(QT.Provider,{value:A,children:e})},zt=()=>{const e=m.useContext(QT);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};var $V=Uc[" useId ".trim().toString()]||(()=>{}),FV=0;function dn(e){const[t,n]=m.useState($V());return Un(()=>{e||n(r=>r??String(FV++))},[e]),e||(t?`radix-${t}`:"")}var Rp="focusScope.autoFocusOnMount",Lp="focusScope.autoFocusOnUnmount",cj={bubbles:!1,cancelable:!0},BV="FocusScope",Gy=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[c,u]=m.useState(null),h=Tn(i),f=Tn(o),p=m.useRef(null),v=ut(t,x=>u(x)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(C){if(y.paused||!c)return;const N=C.target;c.contains(N)?p.current=N:$i(p.current,{select:!0})},S=function(C){if(y.paused||!c)return;const N=C.relatedTarget;N!==null&&(c.contains(N)||$i(p.current,{select:!0}))},j=function(C){if(document.activeElement===document.body)for(const A of C)A.removedNodes.length>0&&$i(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const b=new MutationObserver(j);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),b.disconnect()}}},[r,c,y.paused]),m.useEffect(()=>{if(c){dj.add(y);const x=document.activeElement;if(!c.contains(x)){const j=new CustomEvent(Rp,cj);c.addEventListener(Rp,h),c.dispatchEvent(j),j.defaultPrevented||(UV(GV(e2(c)),{select:!0}),document.activeElement===x&&$i(c))}return()=>{c.removeEventListener(Rp,h),setTimeout(()=>{const j=new CustomEvent(Lp,cj);c.addEventListener(Lp,f),c.dispatchEvent(j),j.defaultPrevented||$i(x??document.body,{select:!0}),c.removeEventListener(Lp,f),dj.remove(y)},0)}}},[c,h,f,y]);const w=m.useCallback(x=>{if(!n&&!r||y.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,j=document.activeElement;if(S&&j){const b=x.currentTarget,[C,N]=zV(b);C&&N?!x.shiftKey&&j===N?(x.preventDefault(),n&&$i(C,{select:!0})):x.shiftKey&&j===C&&(x.preventDefault(),n&&$i(N,{select:!0})):j===b&&x.preventDefault()}},[n,r,y.paused]);return s.jsx(Ee.div,{tabIndex:-1,...l,ref:v,onKeyDown:w})});Gy.displayName=BV;function UV(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if($i(r,{select:t}),document.activeElement!==n)return}function zV(e){const t=e2(e),n=uj(t,e),r=uj(t.reverse(),e);return[n,r]}function e2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function uj(e,t){for(const n of e)if(!VV(n,{upTo:t}))return n}function VV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function HV(e){return e instanceof HTMLInputElement&&"select"in e}function $i(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&HV(e)&&t&&e.select()}}var dj=WV();function WV(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=hj(e,t),e.unshift(t)},remove(t){var n;e=hj(e,t),(n=e[0])==null||n.resume()}}}function hj(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function GV(e){return e.filter(t=>t.tagName!=="A")}var Op=0;function t2(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??fj()),document.body.insertAdjacentElement("beforeend",e[1]??fj()),Op++,()=>{Op===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Op--}},[])}function fj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nn=function(){return nn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},nn.apply(this,arguments)};function qy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function n2(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var ic="right-scroll-bar-position",sc="width-before-scroll-bar",qV="with-scroll-bars-hidden",ZV="--removed-body-scroll-bar-size";function Mp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function KV(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var YV=typeof window<"u"?m.useLayoutEffect:m.useEffect,mj=new WeakMap;function r2(e,t){var n=KV(t||null,function(r){return e.forEach(function(i){return Mp(i,r)})});return YV(function(){var r=mj.get(n);if(r){var i=new Set(r),o=new Set(e),l=n.current;i.forEach(function(c){o.has(c)||Mp(c,null)}),o.forEach(function(c){i.has(c)||Mp(c,l)})}mj.set(n,e)},[e]),n}function JV(e){return e}function XV(e,t){t===void 0&&(t=JV);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(o),l=n}var u=function(){var f=l;l=[],f.forEach(o)},h=function(){return Promise.resolve().then(u)};h(),n={push:function(f){l.push(f),h()},filter:function(f){return l=l.filter(f),n}}}};return i}function i2(e){e===void 0&&(e={});var t=XV(null);return t.options=nn({async:!0,ssr:!1},e),t}var s2=function(e){var t=e.sideCar,n=qy(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,nn({},n))};s2.isSideCarExport=!0;function o2(e,t){return e.useMedium(t),s2}var a2=i2(),Ip=function(){},Tf=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Ip,onWheelCapture:Ip,onTouchMoveCapture:Ip}),i=r[0],o=r[1],l=e.forwardProps,c=e.children,u=e.className,h=e.removeScrollBar,f=e.enabled,p=e.shards,v=e.sideCar,y=e.noRelative,w=e.noIsolation,x=e.inert,S=e.allowPinchZoom,j=e.as,b=j===void 0?"div":j,C=e.gapMode,N=qy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=v,P=r2([n,t]),T=nn(nn({},N),i);return m.createElement(m.Fragment,null,f&&m.createElement(A,{sideCar:a2,removeScrollBar:h,shards:p,noRelative:y,noIsolation:w,inert:x,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:C}),l?m.cloneElement(m.Children.only(c),nn(nn({},T),{ref:P})):m.createElement(b,nn({},T,{className:u,ref:P}),c))});Tf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tf.classNames={fullWidth:sc,zeroRight:ic};var pj,QV=function(){if(pj)return pj;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function e7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=QV();return t&&e.setAttribute("nonce",t),e}function t7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function n7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var r7=function(){var e=0,t=null;return{add:function(n){e==0&&(t=e7())&&(t7(t,n),n7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},i7=function(){var e=r7();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Zy=function(){var e=i7(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},s7={left:0,top:0,right:0,gap:0},Dp=function(e){return parseInt(e||"",10)||0},o7=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Dp(n),Dp(r),Dp(i)]},a7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return s7;var t=o7(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},l7=Zy(),ga="data-scroll-locked",c7=function(e,t,n,r){var i=e.left,o=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(qV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(ga,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ic,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(sc,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(ic," .").concat(ic,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(sc," .").concat(sc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ga,`] {
    `).concat(ZV,": ").concat(c,`px;
  }
`)},gj=function(){var e=parseInt(document.body.getAttribute(ga)||"0",10);return isFinite(e)?e:0},u7=function(){m.useEffect(function(){return document.body.setAttribute(ga,(gj()+1).toString()),function(){var e=gj()-1;e<=0?document.body.removeAttribute(ga):document.body.setAttribute(ga,e.toString())}},[])},l2=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;u7();var o=m.useMemo(function(){return a7(i)},[i]);return m.createElement(l7,{styles:c7(o,!t,i,n?"":"!important")})},Rv=!1;if(typeof window<"u")try{var od=Object.defineProperty({},"passive",{get:function(){return Rv=!0,!0}});window.addEventListener("test",od,od),window.removeEventListener("test",od,od)}catch{Rv=!1}var Fo=Rv?{passive:!1}:!1,d7=function(e){return e.tagName==="TEXTAREA"},c2=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!d7(e)&&n[t]==="visible")},h7=function(e){return c2(e,"overflowY")},f7=function(e){return c2(e,"overflowX")},vj=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=u2(e,r);if(i){var o=d2(e,r),l=o[1],c=o[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},m7=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},p7=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},u2=function(e,t){return e==="v"?h7(t):f7(t)},d2=function(e,t){return e==="v"?m7(t):p7(t)},g7=function(e,t){return e==="h"&&t==="rtl"?-1:1},v7=function(e,t,n,r,i){var o=g7(e,window.getComputedStyle(t).direction),l=o*r,c=n.target,u=t.contains(c),h=!1,f=l>0,p=0,v=0;do{if(!c)break;var y=d2(e,c),w=y[0],x=y[1],S=y[2],j=x-S-o*w;(w||j)&&u2(e,c)&&(p+=j,v+=w);var b=c.parentNode;c=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(f&&(i&&Math.abs(p)<1||!i&&l>p)||!f&&(i&&Math.abs(v)<1||!i&&-l>v))&&(h=!0),h},ad=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xj=function(e){return[e.deltaX,e.deltaY]},yj=function(e){return e&&"current"in e?e.current:e},x7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},y7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_7=0,Bo=[];function w7(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(_7++)[0],o=m.useState(Zy)[0],l=m.useRef(e);m.useEffect(function(){l.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=n2([e.lockRef.current],(e.shards||[]).map(yj),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=m.useCallback(function(x,S){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var j=ad(x),b=n.current,C="deltaX"in x?x.deltaX:b[0]-j[0],N="deltaY"in x?x.deltaY:b[1]-j[1],A,P=x.target,T=Math.abs(C)>Math.abs(N)?"h":"v";if("touches"in x&&T==="h"&&P.type==="range")return!1;var R=vj(T,P);if(!R)return!0;if(R?A=T:(A=T==="v"?"h":"v",R=vj(T,P)),!R)return!1;if(!r.current&&"changedTouches"in x&&(C||N)&&(r.current=A),!A)return!0;var O=r.current||A;return v7(O,S,x,O==="h"?C:N,!0)},[]),u=m.useCallback(function(x){var S=x;if(!(!Bo.length||Bo[Bo.length-1]!==o)){var j="deltaY"in S?xj(S):ad(S),b=t.current.filter(function(A){return A.name===S.type&&(A.target===S.target||S.target===A.shadowParent)&&x7(A.delta,j)})[0];if(b&&b.should){S.cancelable&&S.preventDefault();return}if(!b){var C=(l.current.shards||[]).map(yj).filter(Boolean).filter(function(A){return A.contains(S.target)}),N=C.length>0?c(S,C[0]):!l.current.noIsolation;N&&S.cancelable&&S.preventDefault()}}},[]),h=m.useCallback(function(x,S,j,b){var C={name:x,delta:S,target:j,should:b,shadowParent:b7(j)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(N){return N!==C})},1)},[]),f=m.useCallback(function(x){n.current=ad(x),r.current=void 0},[]),p=m.useCallback(function(x){h(x.type,xj(x),x.target,c(x,e.lockRef.current))},[]),v=m.useCallback(function(x){h(x.type,ad(x),x.target,c(x,e.lockRef.current))},[]);m.useEffect(function(){return Bo.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",u,Fo),document.addEventListener("touchmove",u,Fo),document.addEventListener("touchstart",f,Fo),function(){Bo=Bo.filter(function(x){return x!==o}),document.removeEventListener("wheel",u,Fo),document.removeEventListener("touchmove",u,Fo),document.removeEventListener("touchstart",f,Fo)}},[]);var y=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:y7(i)}):null,y?m.createElement(l2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function b7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const j7=o2(a2,w7);var h2=m.forwardRef(function(e,t){return m.createElement(Tf,nn({},e,{ref:t,sideCar:j7}))});h2.classNames=Tf.classNames;const Ky=h2;var C7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Uo=new WeakMap,ld=new WeakMap,cd={},$p=0,f2=function(e){return e&&(e.host||f2(e.parentNode))},S7=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=f2(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},E7=function(e,t,n,r){var i=S7(t,Array.isArray(e)?e:[e]);cd[n]||(cd[n]=new WeakMap);var o=cd[n],l=[],c=new Set,u=new Set(i),h=function(p){!p||c.has(p)||(c.add(p),h(p.parentNode))};i.forEach(h);var f=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(v){if(c.has(v))f(v);else try{var y=v.getAttribute(r),w=y!==null&&y!=="false",x=(Uo.get(v)||0)+1,S=(o.get(v)||0)+1;Uo.set(v,x),o.set(v,S),l.push(v),x===1&&w&&ld.set(v,!0),S===1&&v.setAttribute(n,"true"),w||v.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",v,j)}})};return f(t),c.clear(),$p++,function(){l.forEach(function(p){var v=Uo.get(p)-1,y=o.get(p)-1;Uo.set(p,v),o.set(p,y),v||(ld.has(p)||p.removeAttribute(r),ld.delete(p)),y||p.removeAttribute(n)}),$p--,$p||(Uo=new WeakMap,Uo=new WeakMap,ld=new WeakMap,cd={})}},Af=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||C7(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),E7(r,i,n,"aria-hidden")):function(){return null}},kf="Dialog",[m2,p2]=Gn(kf),[N7,Nr]=m2(kf),g2=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=m.useRef(null),u=m.useRef(null),[h,f]=Pi({prop:r,defaultProp:i??!1,onChange:o,caller:kf});return s.jsx(N7,{scope:t,triggerRef:c,contentRef:u,contentId:dn(),titleId:dn(),descriptionId:dn(),open:h,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(p=>!p),[f]),modal:l,children:n})};g2.displayName=kf;var v2="DialogTrigger",x2=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nr(v2,n),o=ut(t,i.triggerRef);return s.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Xy(i.open),...r,ref:o,onClick:xe(e.onClick,i.onOpenToggle)})});x2.displayName=v2;var Yy="DialogPortal",[P7,y2]=m2(Yy,{forceMount:void 0}),_2=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Nr(Yy,t);return s.jsx(P7,{scope:t,forceMount:n,children:m.Children.map(r,l=>s.jsx(lr,{present:n||o.open,children:s.jsx(mf,{asChild:!0,container:i,children:l})}))})};_2.displayName=Yy;var Ch="DialogOverlay",w2=m.forwardRef((e,t)=>{const n=y2(Ch,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Nr(Ch,e.__scopeDialog);return o.modal?s.jsx(lr,{present:r||o.open,children:s.jsx(A7,{...i,ref:t})}):null});w2.displayName=Ch;var T7=La("DialogOverlay.RemoveScroll"),A7=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nr(Ch,n);return s.jsx(Ky,{as:T7,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Ee.div,{"data-state":Xy(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),co="DialogContent",b2=m.forwardRef((e,t)=>{const n=y2(co,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Nr(co,e.__scopeDialog);return s.jsx(lr,{present:r||o.open,children:o.modal?s.jsx(k7,{...i,ref:t}):s.jsx(R7,{...i,ref:t})})});b2.displayName=co;var k7=m.forwardRef((e,t)=>{const n=Nr(co,e.__scopeDialog),r=m.useRef(null),i=ut(t,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return Af(o)},[]),s.jsx(j2,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:xe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&o.preventDefault()}),onFocusOutside:xe(e.onFocusOutside,o=>o.preventDefault())})}),R7=m.forwardRef((e,t)=>{const n=Nr(co,e.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return s.jsx(j2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var u,h;(u=e.onInteractOutside)==null||u.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),j2=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,c=Nr(co,n),u=m.useRef(null),h=ut(t,u);return t2(),s.jsxs(s.Fragment,{children:[s.jsx(Gy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:s.jsx(ff,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Xy(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(O7,{titleId:c.titleId}),s.jsx(I7,{contentRef:u,descriptionId:c.descriptionId})]})]})}),Jy="DialogTitle",C2=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nr(Jy,n);return s.jsx(Ee.h2,{id:i.titleId,...r,ref:t})});C2.displayName=Jy;var S2="DialogDescription",E2=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nr(S2,n);return s.jsx(Ee.p,{id:i.descriptionId,...r,ref:t})});E2.displayName=S2;var N2="DialogClose",P2=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nr(N2,n);return s.jsx(Ee.button,{type:"button",...r,ref:t,onClick:xe(e.onClick,()=>i.onOpenChange(!1))})});P2.displayName=N2;function Xy(e){return e?"open":"closed"}var T2="DialogTitleWarning",[L7,A2]=v3(T2,{contentName:co,titleName:Jy,docsSlug:"dialog"}),O7=({titleId:e})=>{const t=A2(T2),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},M7="DialogDescriptionWarning",I7=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${A2(M7).contentName}}.`;return m.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Qy=g2,k2=x2,e0=_2,Rf=w2,Lf=b2,t0=C2,n0=E2,r0=P2;const Mt=Qy,R2=k2,D7=e0,L2=m.forwardRef(({className:e,...t},n)=>s.jsx(Rf,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));L2.displayName=Rf.displayName;const At=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(D7,{children:[s.jsx(L2,{}),s.jsxs(Lf,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(r0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Er,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));At.displayName=Lf.displayName;const qt=({className:e,...t})=>s.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});qt.displayName="DialogHeader";const cr=({className:e,...t})=>s.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});cr.displayName="DialogFooter";const Zt=m.forwardRef(({className:e,...t},n)=>s.jsx(t0,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",e),...t}));Zt.displayName=t0.displayName;const Zr=m.forwardRef(({className:e,...t},n)=>s.jsx(n0,{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));Zr.displayName=n0.displayName;const be=se.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));be.displayName="Input";var $7="Label",O2=m.forwardRef((e,t)=>s.jsx(Ee.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));O2.displayName=$7;var M2=O2;const F7=Kc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),le=se.forwardRef(({className:e,...t},n)=>s.jsx(M2,{ref:n,className:ce(F7(),e),...t}));le.displayName=M2.displayName;const I2=m.createContext(),B7=({children:e})=>{const[t,n]=m.useState({}),[r,i]=m.useState(!0),{isAdmin:o}=zt(),l=m.useCallback(async()=>{i(!0);const{data:h,error:f}=await te.from("site_config").select("config_key, config_value");if(f)console.error("Error fetching site config:",f);else{const p=h.reduce((v,y)=>(v[y.config_key]=y.config_value,v),{});n(p)}i(!1)},[]);m.useEffect(()=>{l();const h=te.channel("site_config_changes").on("postgres_changes",{event:"*",schema:"public",table:"site_config"},f=>{l()}).subscribe();return()=>{te.removeChannel(h)}},[l]);const u={config:t,loadingConfig:r,updateConfig:async(h,f)=>{if(!o)return console.error("User is not authorized to update config."),{error:"Not authorized"};const{data:p,error:v}=await te.from("site_config").upsert({config_key:h,config_value:f},{onConflict:"config_key"}).select().single();return v?console.error(`Error updating config key ${h}:`,v):p&&n(y=>({...y,[p.config_key]:p.config_value})),{data:p,error:v}},refetchConfig:l};return s.jsx(I2.Provider,{value:u,children:e})},Ya=()=>{const e=m.useContext(I2);if(e===void 0)throw new Error("useConfig must be used within a ConfigProvider");return e};var U7=m.createContext(void 0);function Of(e){const t=m.useContext(U7);return e||t||"ltr"}const z7=["top","right","bottom","left"],fs=Math.min,In=Math.max,Sh=Math.round,ud=Math.floor,qr=e=>({x:e,y:e}),V7={left:"right",right:"left",bottom:"top",top:"bottom"},H7={start:"end",end:"start"};function Lv(e,t,n){return In(e,fs(t,n))}function Ci(e,t){return typeof e=="function"?e(t):e}function Si(e){return e.split("-")[0]}function Ja(e){return e.split("-")[1]}function i0(e){return e==="x"?"y":"x"}function s0(e){return e==="y"?"height":"width"}const W7=new Set(["top","bottom"]);function Br(e){return W7.has(Si(e))?"y":"x"}function o0(e){return i0(Br(e))}function G7(e,t,n){n===void 0&&(n=!1);const r=Ja(e),i=o0(e),o=s0(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Eh(l)),[l,Eh(l)]}function q7(e){const t=Eh(e);return[Ov(e),t,Ov(t)]}function Ov(e){return e.replace(/start|end/g,t=>H7[t])}const _j=["left","right"],wj=["right","left"],Z7=["top","bottom"],K7=["bottom","top"];function Y7(e,t,n){switch(e){case"top":case"bottom":return n?t?wj:_j:t?_j:wj;case"left":case"right":return t?Z7:K7;default:return[]}}function J7(e,t,n,r){const i=Ja(e);let o=Y7(Si(e),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(Ov)))),o}function Eh(e){return e.replace(/left|right|bottom|top/g,t=>V7[t])}function X7(e){return{top:0,right:0,bottom:0,left:0,...e}}function D2(e){return typeof e!="number"?X7(e):{top:e,right:e,bottom:e,left:e}}function Nh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function bj(e,t,n){let{reference:r,floating:i}=e;const o=Br(t),l=o0(t),c=s0(l),u=Si(t),h=o==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,v=r[c]/2-i[c]/2;let y;switch(u){case"top":y={x:f,y:r.y-i.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(Ja(t)){case"start":y[l]-=v*(n&&h?-1:1);break;case"end":y[l]+=v*(n&&h?-1:1);break}return y}const Q7=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:p}=bj(h,r,u),v=r,y={},w=0;for(let x=0;x<c.length;x++){const{name:S,fn:j}=c[x],{x:b,y:C,data:N,reset:A}=await j({x:f,y:p,initialPlacement:r,placement:v,strategy:i,middlewareData:y,rects:h,platform:l,elements:{reference:e,floating:t}});f=b??f,p=C??p,y={...y,[S]:{...y[S],...N}},A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(v=A.placement),A.rects&&(h=A.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:f,y:p}=bj(h,v,u)),x=-1)}return{x:f,y:p,placement:v,strategy:i,middlewareData:y}};async function Rc(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:u}=e,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:v=!1,padding:y=0}=Ci(t,e),w=D2(y),S=c[v?p==="floating"?"reference":"floating":p],j=Nh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:f,strategy:u})),b=p==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),N=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},A=Nh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:C,strategy:u}):b);return{top:(j.top-A.top+w.top)/N.y,bottom:(A.bottom-j.bottom+w.bottom)/N.y,left:(j.left-A.left+w.left)/N.x,right:(A.right-j.right+w.right)/N.x}}const e9=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:l,elements:c,middlewareData:u}=t,{element:h,padding:f=0}=Ci(e,t)||{};if(h==null)return{};const p=D2(f),v={x:n,y:r},y=o0(i),w=s0(y),x=await l.getDimensions(h),S=y==="y",j=S?"top":"left",b=S?"bottom":"right",C=S?"clientHeight":"clientWidth",N=o.reference[w]+o.reference[y]-v[y]-o.floating[w],A=v[y]-o.reference[y],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let T=P?P[C]:0;(!T||!await(l.isElement==null?void 0:l.isElement(P)))&&(T=c.floating[C]||o.floating[w]);const R=N/2-A/2,O=T/2-x[w]/2-1,B=fs(p[j],O),W=fs(p[b],O),U=B,K=T-x[w]-W,$=T/2-x[w]/2+R,k=Lv(U,$,K),I=!u.arrow&&Ja(i)!=null&&$!==k&&o.reference[w]/2-($<U?B:W)-x[w]/2<0,F=I?$<U?$-U:$-K:0;return{[y]:v[y]+F,data:{[y]:k,centerOffset:$-k-F,...I&&{alignmentOffset:F}},reset:I}}}),t9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:u,elements:h}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...S}=Ci(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const j=Si(i),b=Br(c),C=Si(c)===c,N=await(u.isRTL==null?void 0:u.isRTL(h.floating)),A=v||(C||!x?[Eh(c)]:q7(c)),P=w!=="none";!v&&P&&A.push(...J7(c,x,w,N));const T=[c,...A],R=await Rc(t,S),O=[];let B=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&O.push(R[j]),p){const $=G7(i,l,N);O.push(R[$[0]],R[$[1]])}if(B=[...B,{placement:i,overflows:O}],!O.every($=>$<=0)){var W,U;const $=(((W=o.flip)==null?void 0:W.index)||0)+1,k=T[$];if(k&&(!(p==="alignment"?b!==Br(k):!1)||B.every(D=>Br(D.placement)===b?D.overflows[0]>0:!0)))return{data:{index:$,overflows:B},reset:{placement:k}};let I=(U=B.filter(F=>F.overflows[0]<=0).sort((F,D)=>F.overflows[1]-D.overflows[1])[0])==null?void 0:U.placement;if(!I)switch(y){case"bestFit":{var K;const F=(K=B.filter(D=>{if(P){const H=Br(D.placement);return H===b||H==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(H=>H>0).reduce((H,G)=>H+G,0)]).sort((D,H)=>D[1]-H[1])[0])==null?void 0:K[0];F&&(I=F);break}case"initialPlacement":I=c;break}if(i!==I)return{reset:{placement:I}}}return{}}}};function jj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Cj(e){return z7.some(t=>e[t]>=0)}const n9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Ci(e,t);switch(r){case"referenceHidden":{const o=await Rc(t,{...i,elementContext:"reference"}),l=jj(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Cj(l)}}}case"escaped":{const o=await Rc(t,{...i,altBoundary:!0}),l=jj(o,n.floating);return{data:{escapedOffsets:l,escaped:Cj(l)}}}default:return{}}}}},$2=new Set(["left","top"]);async function r9(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Si(n),c=Ja(n),u=Br(n)==="y",h=$2.has(l)?-1:1,f=o&&u?-1:1,p=Ci(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof w=="number"&&(y=c==="end"?w*-1:w),u?{x:y*f,y:v*h}:{x:v*h,y:y*f}}const i9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:l,middlewareData:c}=t,u=await r9(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:l}}}}},s9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:S=>{let{x:j,y:b}=S;return{x:j,y:b}}},...u}=Ci(e,t),h={x:n,y:r},f=await Rc(t,u),p=Br(Si(i)),v=i0(p);let y=h[v],w=h[p];if(o){const S=v==="y"?"top":"left",j=v==="y"?"bottom":"right",b=y+f[S],C=y-f[j];y=Lv(b,y,C)}if(l){const S=p==="y"?"top":"left",j=p==="y"?"bottom":"right",b=w+f[S],C=w-f[j];w=Lv(b,w,C)}const x=c.fn({...t,[v]:y,[p]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[v]:o,[p]:l}}}}}},o9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:l}=t,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=Ci(e,t),f={x:n,y:r},p=Br(i),v=i0(p);let y=f[v],w=f[p];const x=Ci(c,t),S=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(u){const C=v==="y"?"height":"width",N=o.reference[v]-o.floating[C]+S.mainAxis,A=o.reference[v]+o.reference[C]-S.mainAxis;y<N?y=N:y>A&&(y=A)}if(h){var j,b;const C=v==="y"?"width":"height",N=$2.has(Si(i)),A=o.reference[p]-o.floating[C]+(N&&((j=l.offset)==null?void 0:j[p])||0)+(N?0:S.crossAxis),P=o.reference[p]+o.reference[C]+(N?0:((b=l.offset)==null?void 0:b[p])||0)-(N?S.crossAxis:0);w<A?w=A:w>P&&(w=P)}return{[v]:y,[p]:w}}}},a9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:l,elements:c}=t,{apply:u=()=>{},...h}=Ci(e,t),f=await Rc(t,h),p=Si(i),v=Ja(i),y=Br(i)==="y",{width:w,height:x}=o.floating;let S,j;p==="top"||p==="bottom"?(S=p,j=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(j=p,S=v==="end"?"top":"bottom");const b=x-f.top-f.bottom,C=w-f.left-f.right,N=fs(x-f[S],b),A=fs(w-f[j],C),P=!t.middlewareData.shift;let T=N,R=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=b),P&&!v){const B=In(f.left,0),W=In(f.right,0),U=In(f.top,0),K=In(f.bottom,0);y?R=w-2*(B!==0||W!==0?B+W:In(f.left,f.right)):T=x-2*(U!==0||K!==0?U+K:In(f.top,f.bottom))}await u({...t,availableWidth:R,availableHeight:T});const O=await l.getDimensions(c.floating);return w!==O.width||x!==O.height?{reset:{rects:!0}}:{}}}};function Mf(){return typeof window<"u"}function Xa(e){return F2(e)?(e.nodeName||"").toLowerCase():"#document"}function Fn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ei(e){var t;return(t=(F2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function F2(e){return Mf()?e instanceof Node||e instanceof Fn(e).Node:!1}function jr(e){return Mf()?e instanceof Element||e instanceof Fn(e).Element:!1}function Kr(e){return Mf()?e instanceof HTMLElement||e instanceof Fn(e).HTMLElement:!1}function Sj(e){return!Mf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fn(e).ShadowRoot}const l9=new Set(["inline","contents"]);function iu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Cr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!l9.has(i)}const c9=new Set(["table","td","th"]);function u9(e){return c9.has(Xa(e))}const d9=[":popover-open",":modal"];function If(e){return d9.some(t=>{try{return e.matches(t)}catch{return!1}})}const h9=["transform","translate","scale","rotate","perspective"],f9=["transform","translate","scale","rotate","perspective","filter"],m9=["paint","layout","strict","content"];function a0(e){const t=l0(),n=jr(e)?Cr(e):e;return h9.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||f9.some(r=>(n.willChange||"").includes(r))||m9.some(r=>(n.contain||"").includes(r))}function p9(e){let t=ms(e);for(;Kr(t)&&!Da(t);){if(a0(t))return t;if(If(t))return null;t=ms(t)}return null}function l0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const g9=new Set(["html","body","#document"]);function Da(e){return g9.has(Xa(e))}function Cr(e){return Fn(e).getComputedStyle(e)}function Df(e){return jr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ms(e){if(Xa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Sj(e)&&e.host||ei(e);return Sj(t)?t.host:t}function B2(e){const t=ms(e);return Da(t)?e.ownerDocument?e.ownerDocument.body:e.body:Kr(t)&&iu(t)?t:B2(t)}function Lc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=B2(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),l=Fn(i);if(o){const c=Mv(l);return t.concat(l,l.visualViewport||[],iu(i)?i:[],c&&n?Lc(c):[])}return t.concat(i,Lc(i,[],n))}function Mv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function U2(e){const t=Cr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Kr(e),o=i?e.offsetWidth:n,l=i?e.offsetHeight:r,c=Sh(n)!==o||Sh(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function c0(e){return jr(e)?e:e.contextElement}function va(e){const t=c0(e);if(!Kr(t))return qr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=U2(t);let l=(o?Sh(n.width):n.width)/r,c=(o?Sh(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const v9=qr(0);function z2(e){const t=Fn(e);return!l0()||!t.visualViewport?v9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function x9(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fn(e)?!1:t}function uo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=c0(e);let l=qr(1);t&&(r?jr(r)&&(l=va(r)):l=va(e));const c=x9(o,n,r)?z2(o):qr(0);let u=(i.left+c.x)/l.x,h=(i.top+c.y)/l.y,f=i.width/l.x,p=i.height/l.y;if(o){const v=Fn(o),y=r&&jr(r)?Fn(r):r;let w=v,x=Mv(w);for(;x&&r&&y!==w;){const S=va(x),j=x.getBoundingClientRect(),b=Cr(x),C=j.left+(x.clientLeft+parseFloat(b.paddingLeft))*S.x,N=j.top+(x.clientTop+parseFloat(b.paddingTop))*S.y;u*=S.x,h*=S.y,f*=S.x,p*=S.y,u+=C,h+=N,w=Fn(x),x=Mv(w)}}return Nh({width:f,height:p,x:u,y:h})}function $f(e,t){const n=Df(e).scrollLeft;return t?t.left+n:uo(ei(e)).left+n}function V2(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-$f(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function y9(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",l=ei(r),c=t?If(t.floating):!1;if(r===l||c&&o)return n;let u={scrollLeft:0,scrollTop:0},h=qr(1);const f=qr(0),p=Kr(r);if((p||!p&&!o)&&((Xa(r)!=="body"||iu(l))&&(u=Df(r)),Kr(r))){const y=uo(r);h=va(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const v=l&&!p&&!o?V2(l,u):qr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-u.scrollLeft*h.x+f.x+v.x,y:n.y*h.y-u.scrollTop*h.y+f.y+v.y}}function _9(e){return Array.from(e.getClientRects())}function w9(e){const t=ei(e),n=Df(e),r=e.ownerDocument.body,i=In(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=In(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+$f(e);const c=-n.scrollTop;return Cr(r).direction==="rtl"&&(l+=In(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}const Ej=25;function b9(e,t){const n=Fn(e),r=ei(e),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,u=0;if(i){o=i.width,l=i.height;const f=l0();(!f||f&&t==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}const h=$f(r);if(h<=0){const f=r.ownerDocument,p=f.body,v=getComputedStyle(p),y=f.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(r.clientWidth-p.clientWidth-y);w<=Ej&&(o-=w)}else h<=Ej&&(o+=h);return{width:o,height:l,x:c,y:u}}const j9=new Set(["absolute","fixed"]);function C9(e,t){const n=uo(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Kr(e)?va(e):qr(1),l=e.clientWidth*o.x,c=e.clientHeight*o.y,u=i*o.x,h=r*o.y;return{width:l,height:c,x:u,y:h}}function Nj(e,t,n){let r;if(t==="viewport")r=b9(e,n);else if(t==="document")r=w9(ei(e));else if(jr(t))r=C9(t,n);else{const i=z2(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Nh(r)}function H2(e,t){const n=ms(e);return n===t||!jr(n)||Da(n)?!1:Cr(n).position==="fixed"||H2(n,t)}function S9(e,t){const n=t.get(e);if(n)return n;let r=Lc(e,[],!1).filter(c=>jr(c)&&Xa(c)!=="body"),i=null;const o=Cr(e).position==="fixed";let l=o?ms(e):e;for(;jr(l)&&!Da(l);){const c=Cr(l),u=a0(l);!u&&c.position==="fixed"&&(i=null),(o?!u&&!i:!u&&c.position==="static"&&!!i&&j9.has(i.position)||iu(l)&&!u&&H2(e,l))?r=r.filter(f=>f!==l):i=c,l=ms(l)}return t.set(e,r),r}function E9(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?If(t)?[]:S9(t,this._c):[].concat(n),r],c=l[0],u=l.reduce((h,f)=>{const p=Nj(t,f,i);return h.top=In(p.top,h.top),h.right=fs(p.right,h.right),h.bottom=fs(p.bottom,h.bottom),h.left=In(p.left,h.left),h},Nj(t,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function N9(e){const{width:t,height:n}=U2(e);return{width:t,height:n}}function P9(e,t,n){const r=Kr(t),i=ei(t),o=n==="fixed",l=uo(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const u=qr(0);function h(){u.x=$f(i)}if(r||!r&&!o)if((Xa(t)!=="body"||iu(i))&&(c=Df(t)),r){const y=uo(t,!0,o,t);u.x=y.x+t.clientLeft,u.y=y.y+t.clientTop}else i&&h();o&&!r&&i&&h();const f=i&&!r&&!o?V2(i,c):qr(0),p=l.left+c.scrollLeft-u.x-f.x,v=l.top+c.scrollTop-u.y-f.y;return{x:p,y:v,width:l.width,height:l.height}}function Fp(e){return Cr(e).position==="static"}function Pj(e,t){if(!Kr(e)||Cr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ei(e)===n&&(n=n.ownerDocument.body),n}function W2(e,t){const n=Fn(e);if(If(e))return n;if(!Kr(e)){let i=ms(e);for(;i&&!Da(i);){if(jr(i)&&!Fp(i))return i;i=ms(i)}return n}let r=Pj(e,t);for(;r&&u9(r)&&Fp(r);)r=Pj(r,t);return r&&Da(r)&&Fp(r)&&!a0(r)?n:r||p9(e)||n}const T9=async function(e){const t=this.getOffsetParent||W2,n=this.getDimensions,r=await n(e.floating);return{reference:P9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function A9(e){return Cr(e).direction==="rtl"}const k9={convertOffsetParentRelativeRectToViewportRelativeRect:y9,getDocumentElement:ei,getClippingRect:E9,getOffsetParent:W2,getElementRects:T9,getClientRects:_9,getDimensions:N9,getScale:va,isElement:jr,isRTL:A9};function G2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function R9(e,t){let n=null,r;const i=ei(e);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),o();const h=e.getBoundingClientRect(),{left:f,top:p,width:v,height:y}=h;if(c||t(),!v||!y)return;const w=ud(p),x=ud(i.clientWidth-(f+v)),S=ud(i.clientHeight-(p+y)),j=ud(f),C={rootMargin:-w+"px "+-x+"px "+-S+"px "+-j+"px",threshold:In(0,fs(1,u))||1};let N=!0;function A(P){const T=P[0].intersectionRatio;if(T!==u){if(!N)return l();T?l(!1,T):r=setTimeout(()=>{l(!1,1e-7)},1e3)}T===1&&!G2(h,e.getBoundingClientRect())&&l(),N=!1}try{n=new IntersectionObserver(A,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,C)}n.observe(e)}return l(!0),o}function u0(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,h=c0(e),f=i||o?[...h?Lc(h):[],...Lc(t)]:[];f.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),o&&j.addEventListener("resize",n)});const p=h&&c?R9(h,n):null;let v=-1,y=null;l&&(y=new ResizeObserver(j=>{let[b]=j;b&&b.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(t)})),n()}),h&&!u&&y.observe(h),y.observe(t));let w,x=u?uo(e):null;u&&S();function S(){const j=uo(e);x&&!G2(x,j)&&n(),x=j,w=requestAnimationFrame(S)}return n(),()=>{var j;f.forEach(b=>{i&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),p==null||p(),(j=y)==null||j.disconnect(),y=null,u&&cancelAnimationFrame(w)}}const L9=i9,O9=s9,M9=t9,I9=a9,D9=n9,Tj=e9,$9=o9,F9=(e,t,n)=>{const r=new Map,i={platform:k9,...n},o={...i.platform,_c:r};return Q7(e,t,{...i,platform:o})};var B9=typeof document<"u",U9=function(){},Md=B9?m.useLayoutEffect:U9;function Ph(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ph(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Ph(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function q2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Aj(e,t){const n=q2(e);return Math.round(t*n)/n}function Bp(e){const t=m.useRef(e);return Md(()=>{t.current=e}),t}function d0(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:u,open:h}=e,[f,p]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=m.useState(r);Ph(v,r)||y(r);const[w,x]=m.useState(null),[S,j]=m.useState(null),b=m.useCallback(D=>{D!==P.current&&(P.current=D,x(D))},[]),C=m.useCallback(D=>{D!==T.current&&(T.current=D,j(D))},[]),N=o||w,A=l||S,P=m.useRef(null),T=m.useRef(null),R=m.useRef(f),O=u!=null,B=Bp(u),W=Bp(i),U=Bp(h),K=m.useCallback(()=>{if(!P.current||!T.current)return;const D={placement:t,strategy:n,middleware:v};W.current&&(D.platform=W.current),F9(P.current,T.current,D).then(H=>{const G={...H,isPositioned:U.current!==!1};$.current&&!Ph(R.current,G)&&(R.current=G,Xr.flushSync(()=>{p(G)}))})},[v,t,n,W,U]);Md(()=>{h===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,p(D=>({...D,isPositioned:!1})))},[h]);const $=m.useRef(!1);Md(()=>($.current=!0,()=>{$.current=!1}),[]),Md(()=>{if(N&&(P.current=N),A&&(T.current=A),N&&A){if(B.current)return B.current(N,A,K);K()}},[N,A,K,B,O]);const k=m.useMemo(()=>({reference:P,floating:T,setReference:b,setFloating:C}),[b,C]),I=m.useMemo(()=>({reference:N,floating:A}),[N,A]),F=m.useMemo(()=>{const D={position:n,left:0,top:0};if(!I.floating)return D;const H=Aj(I.floating,f.x),G=Aj(I.floating,f.y);return c?{...D,transform:"translate("+H+"px, "+G+"px)",...q2(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:G}},[n,c,I.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:K,refs:k,elements:I,floatingStyles:F}),[f,K,k,I,F])}const z9=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Tj({element:r.current,padding:i}).fn(n):{}:r?Tj({element:r,padding:i}).fn(n):{}}}},h0=(e,t)=>({...L9(e),options:[e,t]}),f0=(e,t)=>({...O9(e),options:[e,t]}),m0=(e,t)=>({...$9(e),options:[e,t]}),p0=(e,t)=>({...M9(e),options:[e,t]}),g0=(e,t)=>({...I9(e),options:[e,t]}),v0=(e,t)=>({...D9(e),options:[e,t]}),x0=(e,t)=>({...z9(e),options:[e,t]});var V9="Arrow",Z2=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return s.jsx(Ee.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Z2.displayName=V9;var H9=Z2;function K2(e){const[t,n]=m.useState(void 0);return Un(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,c;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,c=h.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var y0="Popper",[Y2,J2]=Gn(y0),[W9,X2]=Y2(y0),Q2=e=>{const{__scopePopper:t,children:n}=e,[r,i]=m.useState(null);return s.jsx(W9,{scope:t,anchor:r,onAnchorChange:i,children:n})};Q2.displayName=y0;var eA="PopperAnchor",tA=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=X2(eA,n),l=m.useRef(null),c=ut(t,l),u=m.useRef(null);return m.useEffect(()=>{const h=u.current;u.current=(r==null?void 0:r.current)||l.current,h!==u.current&&o.onAnchorChange(u.current)}),r?null:s.jsx(Ee.div,{...i,ref:c})});tA.displayName=eA;var _0="PopperContent",[G9,q9]=Y2(_0),nA=m.forwardRef((e,t)=>{var ne,de,Se,je,Ne,ke;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:w,...x}=e,S=X2(_0,n),[j,b]=m.useState(null),C=ut(t,ze=>b(ze)),[N,A]=m.useState(null),P=K2(N),T=(P==null?void 0:P.width)??0,R=(P==null?void 0:P.height)??0,O=r+(o!=="center"?"-"+o:""),B=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},W=Array.isArray(h)?h:[h],U=W.length>0,K={padding:B,boundary:W.filter(K9),altBoundary:U},{refs:$,floatingStyles:k,placement:I,isPositioned:F,middlewareData:D}=d0({strategy:"fixed",placement:O,whileElementsMounted:(...ze)=>u0(...ze,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[h0({mainAxis:i+R,alignmentAxis:l}),u&&f0({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?m0():void 0,...K}),u&&p0({...K}),g0({...K,apply:({elements:ze,rects:Ke,availableWidth:xn,availableHeight:qn})=>{const{width:Ln,height:Tr}=Ke.reference,On=ze.floating.style;On.setProperty("--radix-popper-available-width",`${xn}px`),On.setProperty("--radix-popper-available-height",`${qn}px`),On.setProperty("--radix-popper-anchor-width",`${Ln}px`),On.setProperty("--radix-popper-anchor-height",`${Tr}px`)}}),N&&x0({element:N,padding:c}),Y9({arrowWidth:T,arrowHeight:R}),v&&v0({strategy:"referenceHidden",...K})]}),[H,G]=sA(I),ee=Tn(w);Un(()=>{F&&(ee==null||ee())},[F,ee]);const z=(ne=D.arrow)==null?void 0:ne.x,Z=(de=D.arrow)==null?void 0:de.y,q=((Se=D.arrow)==null?void 0:Se.centerOffset)!==0,[Q,ie]=m.useState();return Un(()=>{j&&ie(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:F?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(je=D.transformOrigin)==null?void 0:je.x,(Ne=D.transformOrigin)==null?void 0:Ne.y].join(" "),...((ke=D.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(G9,{scope:n,placedSide:H,onArrowChange:A,arrowX:z,arrowY:Z,shouldHideArrow:q,children:s.jsx(Ee.div,{"data-side":H,"data-align":G,...x,ref:C,style:{...x.style,animation:F?void 0:"none"}})})})});nA.displayName=_0;var rA="PopperArrow",Z9={top:"bottom",right:"left",bottom:"top",left:"right"},iA=m.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=q9(rA,r),l=Z9[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(H9,{...i,ref:n,style:{...i.style,display:"block"}})})});iA.displayName=rA;function K9(e){return e!==null}var Y9=e=>({name:"transformOrigin",options:e,fn(t){var S,j,b;const{placement:n,rects:r,middlewareData:i}=t,l=((S=i.arrow)==null?void 0:S.centerOffset)!==0,c=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[h,f]=sA(n),p={start:"0%",center:"50%",end:"100%"}[f],v=(((j=i.arrow)==null?void 0:j.x)??0)+c/2,y=(((b=i.arrow)==null?void 0:b.y)??0)+u/2;let w="",x="";return h==="bottom"?(w=l?p:`${v}px`,x=`${-u}px`):h==="top"?(w=l?p:`${v}px`,x=`${r.floating.height+u}px`):h==="right"?(w=`${-u}px`,x=l?p:`${y}px`):h==="left"&&(w=`${r.floating.width+u}px`,x=l?p:`${y}px`),{data:{x:w,y:x}}}});function sA(e){const[t,n="center"]=e.split("-");return[t,n]}var J9=Q2,X9=tA,Q9=nA,eH=iA,Up="rovingFocusGroup.onEntryFocus",tH={bubbles:!1,cancelable:!0},su="RovingFocusGroup",[Iv,oA,nH]=hf(su),[rH,Ff]=Gn(su,[nH]),[iH,sH]=rH(su),aA=m.forwardRef((e,t)=>s.jsx(Iv.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Iv.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(oH,{...e,ref:t})})}));aA.displayName=su;var oH=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...p}=e,v=m.useRef(null),y=ut(t,v),w=Of(o),[x,S]=Pi({prop:l,defaultProp:c??null,onChange:u,caller:su}),[j,b]=m.useState(!1),C=Tn(h),N=oA(n),A=m.useRef(!1),[P,T]=m.useState(0);return m.useEffect(()=>{const R=v.current;if(R)return R.addEventListener(Up,C),()=>R.removeEventListener(Up,C)},[C]),s.jsx(iH,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:x,onItemFocus:m.useCallback(R=>S(R),[S]),onItemShiftTab:m.useCallback(()=>b(!0),[]),onFocusableItemAdd:m.useCallback(()=>T(R=>R+1),[]),onFocusableItemRemove:m.useCallback(()=>T(R=>R-1),[]),children:s.jsx(Ee.div,{tabIndex:j||P===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:xe(e.onMouseDown,()=>{A.current=!0}),onFocus:xe(e.onFocus,R=>{const O=!A.current;if(R.target===R.currentTarget&&O&&!j){const B=new CustomEvent(Up,tH);if(R.currentTarget.dispatchEvent(B),!B.defaultPrevented){const W=N().filter(I=>I.focusable),U=W.find(I=>I.active),K=W.find(I=>I.id===x),k=[U,K,...W].filter(Boolean).map(I=>I.ref.current);uA(k,f)}}A.current=!1}),onBlur:xe(e.onBlur,()=>b(!1))})})}),lA="RovingFocusGroupItem",cA=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:l,...c}=e,u=dn(),h=o||u,f=sH(lA,n),p=f.currentTabStopId===h,v=oA(n),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:x}=f;return m.useEffect(()=>{if(r)return y(),()=>w()},[r,y,w]),s.jsx(Iv.ItemSlot,{scope:n,id:h,focusable:r,active:i,children:s.jsx(Ee.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:xe(e.onMouseDown,S=>{r?f.onItemFocus(h):S.preventDefault()}),onFocus:xe(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:xe(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){f.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const j=cH(S,f.orientation,f.dir);if(j!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let C=v().filter(N=>N.focusable).map(N=>N.ref.current);if(j==="last")C.reverse();else if(j==="prev"||j==="next"){j==="prev"&&C.reverse();const N=C.indexOf(S.currentTarget);C=f.loop?uH(C,N+1):C.slice(N+1)}setTimeout(()=>uA(C))}}),children:typeof l=="function"?l({isCurrentTabStop:p,hasTabStop:x!=null}):l})})});cA.displayName=lA;var aH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lH(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function cH(e,t,n){const r=lH(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return aH[r]}function uA(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function uH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var dA=aA,hA=cA,Dv=["Enter"," "],dH=["ArrowDown","PageUp","Home"],fA=["ArrowUp","PageDown","End"],hH=[...dH,...fA],fH={ltr:[...Dv,"ArrowRight"],rtl:[...Dv,"ArrowLeft"]},mH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ou="Menu",[Oc,pH,gH]=hf(ou),[bo,mA]=Gn(ou,[gH,J2,Ff]),Bf=J2(),pA=Ff(),[vH,jo]=bo(ou),[xH,au]=bo(ou),gA=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:l=!0}=e,c=Bf(t),[u,h]=m.useState(null),f=m.useRef(!1),p=Tn(o),v=Of(i);return m.useEffect(()=>{const y=()=>{f.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>f.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),s.jsx(J9,{...c,children:s.jsx(vH,{scope:t,open:n,onOpenChange:p,content:u,onContentChange:h,children:s.jsx(xH,{scope:t,onClose:m.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:v,modal:l,children:r})})})};gA.displayName=ou;var yH="MenuAnchor",w0=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Bf(n);return s.jsx(X9,{...i,...r,ref:t})});w0.displayName=yH;var b0="MenuPortal",[_H,vA]=bo(b0,{forceMount:void 0}),xA=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=jo(b0,t);return s.jsx(_H,{scope:t,forceMount:n,children:s.jsx(lr,{present:n||o.open,children:s.jsx(mf,{asChild:!0,container:i,children:r})})})};xA.displayName=b0;var ir="MenuContent",[wH,j0]=bo(ir),yA=m.forwardRef((e,t)=>{const n=vA(ir,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=jo(ir,e.__scopeMenu),l=au(ir,e.__scopeMenu);return s.jsx(Oc.Provider,{scope:e.__scopeMenu,children:s.jsx(lr,{present:r||o.open,children:s.jsx(Oc.Slot,{scope:e.__scopeMenu,children:l.modal?s.jsx(bH,{...i,ref:t}):s.jsx(jH,{...i,ref:t})})})})}),bH=m.forwardRef((e,t)=>{const n=jo(ir,e.__scopeMenu),r=m.useRef(null),i=ut(t,r);return m.useEffect(()=>{const o=r.current;if(o)return Af(o)},[]),s.jsx(C0,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:xe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),jH=m.forwardRef((e,t)=>{const n=jo(ir,e.__scopeMenu);return s.jsx(C0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),CH=La("MenuContent.ScrollLock"),C0=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:v,onDismiss:y,disableOutsideScroll:w,...x}=e,S=jo(ir,n),j=au(ir,n),b=Bf(n),C=pA(n),N=pH(n),[A,P]=m.useState(null),T=m.useRef(null),R=ut(t,T,S.onContentChange),O=m.useRef(0),B=m.useRef(""),W=m.useRef(0),U=m.useRef(null),K=m.useRef("right"),$=m.useRef(0),k=w?Ky:m.Fragment,I=w?{as:CH,allowPinchZoom:!0}:void 0,F=H=>{var ne,de;const G=B.current+H,ee=N().filter(Se=>!Se.disabled),z=document.activeElement,Z=(ne=ee.find(Se=>Se.ref.current===z))==null?void 0:ne.textValue,q=ee.map(Se=>Se.textValue),Q=IH(q,G,Z),ie=(de=ee.find(Se=>Se.textValue===Q))==null?void 0:de.ref.current;(function Se(je){B.current=je,window.clearTimeout(O.current),je!==""&&(O.current=window.setTimeout(()=>Se(""),1e3))})(G),ie&&setTimeout(()=>ie.focus())};m.useEffect(()=>()=>window.clearTimeout(O.current),[]),t2();const D=m.useCallback(H=>{var ee,z;return K.current===((ee=U.current)==null?void 0:ee.side)&&$H(H,(z=U.current)==null?void 0:z.area)},[]);return s.jsx(wH,{scope:n,searchRef:B,onItemEnter:m.useCallback(H=>{D(H)&&H.preventDefault()},[D]),onItemLeave:m.useCallback(H=>{var G;D(H)||((G=T.current)==null||G.focus(),P(null))},[D]),onTriggerLeave:m.useCallback(H=>{D(H)&&H.preventDefault()},[D]),pointerGraceTimerRef:W,onPointerGraceIntentChange:m.useCallback(H=>{U.current=H},[]),children:s.jsx(k,{...I,children:s.jsx(Gy,{asChild:!0,trapped:i,onMountAutoFocus:xe(o,H=>{var G;H.preventDefault(),(G=T.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:s.jsx(ff,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:v,onDismiss:y,children:s.jsx(dA,{asChild:!0,...C,dir:j.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:P,onEntryFocus:xe(u,H=>{j.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Q9,{role:"menu","aria-orientation":"vertical","data-state":MA(S.open),"data-radix-menu-content":"",dir:j.dir,...b,...x,ref:R,style:{outline:"none",...x.style},onKeyDown:xe(x.onKeyDown,H=>{const ee=H.target.closest("[data-radix-menu-content]")===H.currentTarget,z=H.ctrlKey||H.altKey||H.metaKey,Z=H.key.length===1;ee&&(H.key==="Tab"&&H.preventDefault(),!z&&Z&&F(H.key));const q=T.current;if(H.target!==q||!hH.includes(H.key))return;H.preventDefault();const ie=N().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);fA.includes(H.key)&&ie.reverse(),OH(ie)}),onBlur:xe(e.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(O.current),B.current="")}),onPointerMove:xe(e.onPointerMove,Mc(H=>{const G=H.target,ee=$.current!==H.clientX;if(H.currentTarget.contains(G)&&ee){const z=H.clientX>$.current?"right":"left";K.current=z,$.current=H.clientX}}))})})})})})})});yA.displayName=ir;var SH="MenuGroup",S0=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ee.div,{role:"group",...r,ref:t})});S0.displayName=SH;var EH="MenuLabel",_A=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ee.div,{...r,ref:t})});_A.displayName=EH;var Th="MenuItem",kj="menu.itemSelect",Uf=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=m.useRef(null),l=au(Th,e.__scopeMenu),c=j0(Th,e.__scopeMenu),u=ut(t,o),h=m.useRef(!1),f=()=>{const p=o.current;if(!n&&p){const v=new CustomEvent(kj,{bubbles:!0,cancelable:!0});p.addEventListener(kj,y=>r==null?void 0:r(y),{once:!0}),dy(p,v),v.defaultPrevented?h.current=!1:l.onClose()}};return s.jsx(wA,{...i,ref:u,disabled:n,onClick:xe(e.onClick,f),onPointerDown:p=>{var v;(v=e.onPointerDown)==null||v.call(e,p),h.current=!0},onPointerUp:xe(e.onPointerUp,p=>{var v;h.current||(v=p.currentTarget)==null||v.click()}),onKeyDown:xe(e.onKeyDown,p=>{const v=c.searchRef.current!=="";n||v&&p.key===" "||Dv.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Uf.displayName=Th;var wA=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,l=j0(Th,n),c=pA(n),u=m.useRef(null),h=ut(t,u),[f,p]=m.useState(!1),[v,y]=m.useState("");return m.useEffect(()=>{const w=u.current;w&&y((w.textContent??"").trim())},[o.children]),s.jsx(Oc.ItemSlot,{scope:n,disabled:r,textValue:i??v,children:s.jsx(hA,{asChild:!0,...c,focusable:!r,children:s.jsx(Ee.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:h,onPointerMove:xe(e.onPointerMove,Mc(w=>{r?l.onItemLeave(w):(l.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:xe(e.onPointerLeave,Mc(w=>l.onItemLeave(w))),onFocus:xe(e.onFocus,()=>p(!0)),onBlur:xe(e.onBlur,()=>p(!1))})})})}),NH="MenuCheckboxItem",bA=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return s.jsx(NA,{scope:e.__scopeMenu,checked:n,children:s.jsx(Uf,{role:"menuitemcheckbox","aria-checked":Ah(n)?"mixed":n,...i,ref:t,"data-state":N0(n),onSelect:xe(i.onSelect,()=>r==null?void 0:r(Ah(n)?!0:!n),{checkForDefaultPrevented:!1})})})});bA.displayName=NH;var jA="MenuRadioGroup",[PH,TH]=bo(jA,{value:void 0,onValueChange:()=>{}}),CA=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=Tn(r);return s.jsx(PH,{scope:e.__scopeMenu,value:n,onValueChange:o,children:s.jsx(S0,{...i,ref:t})})});CA.displayName=jA;var SA="MenuRadioItem",EA=m.forwardRef((e,t)=>{const{value:n,...r}=e,i=TH(SA,e.__scopeMenu),o=n===i.value;return s.jsx(NA,{scope:e.__scopeMenu,checked:o,children:s.jsx(Uf,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":N0(o),onSelect:xe(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,n)},{checkForDefaultPrevented:!1})})})});EA.displayName=SA;var E0="MenuItemIndicator",[NA,AH]=bo(E0,{checked:!1}),PA=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=AH(E0,n);return s.jsx(lr,{present:r||Ah(o.checked)||o.checked===!0,children:s.jsx(Ee.span,{...i,ref:t,"data-state":N0(o.checked)})})});PA.displayName=E0;var kH="MenuSeparator",TA=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Ee.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});TA.displayName=kH;var RH="MenuArrow",AA=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Bf(n);return s.jsx(eH,{...i,...r,ref:t})});AA.displayName=RH;var LH="MenuSub",[QQ,kA]=bo(LH),$l="MenuSubTrigger",RA=m.forwardRef((e,t)=>{const n=jo($l,e.__scopeMenu),r=au($l,e.__scopeMenu),i=kA($l,e.__scopeMenu),o=j0($l,e.__scopeMenu),l=m.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=o,h={__scopeMenu:e.__scopeMenu},f=m.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return m.useEffect(()=>f,[f]),m.useEffect(()=>{const p=c.current;return()=>{window.clearTimeout(p),u(null)}},[c,u]),s.jsx(w0,{asChild:!0,...h,children:s.jsx(wA,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":MA(n.open),...e,ref:df(t,i.onTriggerChange),onClick:p=>{var v;(v=e.onClick)==null||v.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:xe(e.onPointerMove,Mc(p=>{o.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:xe(e.onPointerLeave,Mc(p=>{var y,w;f();const v=(y=n.content)==null?void 0:y.getBoundingClientRect();if(v){const x=(w=n.content)==null?void 0:w.dataset.side,S=x==="right",j=S?-5:5,b=v[S?"left":"right"],C=v[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:p.clientX+j,y:p.clientY},{x:b,y:v.top},{x:C,y:v.top},{x:C,y:v.bottom},{x:b,y:v.bottom}],side:x}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(p),p.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:xe(e.onKeyDown,p=>{var y;const v=o.searchRef.current!=="";e.disabled||v&&p.key===" "||fH[r.dir].includes(p.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),p.preventDefault())})})})});RA.displayName=$l;var LA="MenuSubContent",OA=m.forwardRef((e,t)=>{const n=vA(ir,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=jo(ir,e.__scopeMenu),l=au(ir,e.__scopeMenu),c=kA(LA,e.__scopeMenu),u=m.useRef(null),h=ut(t,u);return s.jsx(Oc.Provider,{scope:e.__scopeMenu,children:s.jsx(lr,{present:r||o.open,children:s.jsx(Oc.Slot,{scope:e.__scopeMenu,children:s.jsx(C0,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;l.isUsingKeyboardRef.current&&((p=u.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:xe(e.onFocusOutside,f=>{f.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:xe(e.onEscapeKeyDown,f=>{l.onClose(),f.preventDefault()}),onKeyDown:xe(e.onKeyDown,f=>{var y;const p=f.currentTarget.contains(f.target),v=mH[l.dir].includes(f.key);p&&v&&(o.onOpenChange(!1),(y=c.trigger)==null||y.focus(),f.preventDefault())})})})})})});OA.displayName=LA;function MA(e){return e?"open":"closed"}function Ah(e){return e==="indeterminate"}function N0(e){return Ah(e)?"indeterminate":e?"checked":"unchecked"}function OH(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function MH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function IH(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=MH(e,Math.max(o,0));i.length===1&&(l=l.filter(h=>h!==n));const u=l.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function DH(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],u=t[l],h=c.x,f=c.y,p=u.x,v=u.y;f>r!=v>r&&n<(p-h)*(r-f)/(v-f)+h&&(i=!i)}return i}function $H(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return DH(n,t)}function Mc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var FH=gA,BH=w0,UH=xA,zH=yA,VH=S0,HH=_A,WH=Uf,GH=bA,qH=CA,ZH=EA,KH=PA,YH=TA,JH=AA,XH=RA,QH=OA,zf="DropdownMenu",[eW,eee]=Gn(zf,[mA]),vn=mA(),[tW,IA]=eW(zf),DA=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,u=vn(t),h=m.useRef(null),[f,p]=Pi({prop:i,defaultProp:o??!1,onChange:l,caller:zf});return s.jsx(tW,{scope:t,triggerId:dn(),triggerRef:h,contentId:dn(),open:f,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(v=>!v),[p]),modal:c,children:s.jsx(FH,{...u,open:f,onOpenChange:p,dir:r,modal:c,children:n})})};DA.displayName=zf;var $A="DropdownMenuTrigger",FA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=IA($A,n),l=vn(n);return s.jsx(BH,{asChild:!0,...l,children:s.jsx(Ee.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:df(t,o.triggerRef),onPointerDown:xe(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:xe(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});FA.displayName=$A;var nW="DropdownMenuPortal",BA=e=>{const{__scopeDropdownMenu:t,...n}=e,r=vn(t);return s.jsx(UH,{...r,...n})};BA.displayName=nW;var UA="DropdownMenuContent",zA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=IA(UA,n),o=vn(n),l=m.useRef(!1);return s.jsx(zH,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:xe(e.onCloseAutoFocus,c=>{var u;l.current||(u=i.triggerRef.current)==null||u.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:xe(e.onInteractOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,f=u.button===2||h;(!i.modal||f)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zA.displayName=UA;var rW="DropdownMenuGroup",iW=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return s.jsx(VH,{...i,...r,ref:t})});iW.displayName=rW;var sW="DropdownMenuLabel",VA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return s.jsx(HH,{...i,...r,ref:t})});VA.displayName=sW;var oW="DropdownMenuItem",HA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return s.jsx(WH,{...i,...r,ref:t})});HA.displayName=oW;var aW="DropdownMenuCheckboxItem",WA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return s.jsx(GH,{...i,...r,ref:t})});WA.displayName=aW;var lW="DropdownMenuRadioGroup",cW=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return s.jsx(qH,{...i,...r,ref:t})});cW.displayName=lW;var uW="DropdownMenuRadioItem",GA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return s.jsx(ZH,{...i,...r,ref:t})});GA.displayName=uW;var dW="DropdownMenuItemIndicator",qA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return s.jsx(KH,{...i,...r,ref:t})});qA.displayName=dW;var hW="DropdownMenuSeparator",ZA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return s.jsx(YH,{...i,...r,ref:t})});ZA.displayName=hW;var fW="DropdownMenuArrow",mW=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return s.jsx(JH,{...i,...r,ref:t})});mW.displayName=fW;var pW="DropdownMenuSubTrigger",KA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return s.jsx(XH,{...i,...r,ref:t})});KA.displayName=pW;var gW="DropdownMenuSubContent",YA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return s.jsx(QH,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YA.displayName=gW;var vW=DA,xW=FA,yW=BA,JA=zA,XA=VA,QA=HA,ek=WA,tk=GA,nk=qA,rk=ZA,ik=KA,sk=YA;const _W=vW,wW=xW,bW=se.forwardRef(({className:e,inset:t,children:n,...r},i)=>s.jsxs(ik,{ref:i,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(_N,{className:"ml-auto h-4 w-4"})]}));bW.displayName=ik.displayName;const jW=se.forwardRef(({className:e,...t},n)=>s.jsx(sk,{ref:n,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));jW.displayName=sk.displayName;const ok=se.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(yW,{children:s.jsx(JA,{ref:r,sideOffset:t,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ok.displayName=JA.displayName;const Id=se.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(QA,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Id.displayName=QA.displayName;const CW=se.forwardRef(({className:e,children:t,checked:n,...r},i)=>s.jsxs(ek,{ref:i,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(nk,{children:s.jsx(ry,{className:"h-4 w-4"})})}),t]}));CW.displayName=ek.displayName;const SW=se.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(tk,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(nk,{children:s.jsx(ZF,{className:"h-2 w-2 fill-current"})})}),t]}));SW.displayName=tk.displayName;const ak=se.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(XA,{ref:r,className:ce("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));ak.displayName=XA.displayName;const $v=se.forwardRef(({className:e,...t},n)=>s.jsx(rk,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));$v.displayName=rk.displayName;const EW=({mode:e,setMode:t,onAuthSuccess:n})=>{const[r,i]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(!1),{signIn:h,signUp:f}=zt(),{toast:p}=tt(),v=async y=>{y.preventDefault(),u(!0);const{error:w}=e==="signIn"?await h(r,o):await f(r,o);u(!1),w||(n(),p({title:e==="signIn"?"Connexion réussie":"Inscription réussie",description:"Bienvenue !"}))};return s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs(qt,{children:[s.jsx(Zt,{children:e==="signIn"?"Connexion":"Inscription"}),s.jsx(Zr,{children:e==="signIn"?"Connectez-vous pour accéder à votre espace.":"Créez un compte pour rejoindre le club."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"email",children:"Email"}),s.jsx(be,{id:"email",type:"email",value:r,onChange:y=>i(y.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"password",children:"Mot de passe"}),s.jsx(be,{id:"password",type:"password",value:o,onChange:y=>l(y.target.value),required:!0})]})]}),s.jsxs(cr,{className:"flex flex-col sm:flex-row sm:justify-between items-center",children:[s.jsx(X,{type:"button",variant:"link",onClick:()=>t(e==="signIn"?"signUp":"signIn"),children:e==="signIn"?"Pas de compte ? S'inscrire":"Déjà un compte ? Se connecter"}),s.jsx(X,{type:"submit",disabled:c,children:c?"Chargement...":e==="signIn"?"Se connecter":"S'inscrire"})]})]})},NW=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(!1),[i,o]=m.useState("signIn"),{user:l,signOut:c,isAdmin:u,isAdherent:h,profile:f}=zt(),{config:p,loadingConfig:v}=Ya(),y=kn(),w=["/news","/schedule","/inscriptions","/contact","/volunteers","/members","/competitors","/competitions","/agenda","/session-log","/pedagogy","/connection-logs"],x=[{to:"/news",text:"Actualités",roles:["public","user","adherent","admin"]},{to:"/schedule",text:"Planning",roles:["public","user","adherent","admin"]},{to:"/inscriptions",text:"Inscription",roles:["public","user","adherent","admin"]},{to:"/contact",text:"Contact",roles:["public","user","adherent","admin"]},{to:"/volunteers",text:"Bénévoles",roles:["public","user","adherent","admin"]},{to:"/members",text:"Adhérents",roles:["adherent","admin"]},{to:"/competitors",text:"Compétiteurs",roles:["adherent","admin"]},{to:"/competitions",text:"Compétitions",roles:["public","user","adherent","admin"]},{to:"/agenda",text:"Agenda",roles:["public","user","adherent","admin"]},{to:"/session-log",text:"Séances",roles:["adherent","admin"]},{to:"/pedagogy",text:"Fiches Pédagogiques",roles:["adherent","admin"]},{to:"/connection-logs",text:"Logs Connexion",roles:["admin"]}],[S,j]=m.useState(x);m.useEffect(()=>{if(!v&&p.nav_config)try{const P=JSON.parse(p.nav_config);j(T=>{const R=[...T];return P.forEach(O=>{const B=R.findIndex(W=>W.to===O.to);B!==-1&&(R[B].roles=O.roles)}),R})}catch(P){console.error("Failed to parse nav_config:",P)}},[p.nav_config,v]);const b=async()=>{await c(),y("/")},C=()=>t(!1),N=u?"admin":h?"adherent":l?"user":"public",A=S.filter(P=>P.roles.includes(N)).sort((P,T)=>w.indexOf(P.to)-w.indexOf(T.to));return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:"bg-background/80 backdrop-blur-sm sticky top-0 z-40 border-b",children:s.jsxs("nav",{className:"container mx-auto px-4 flex justify-between items-center h-16",children:[s.jsx(lp,{to:"/",className:"text-2xl font-bold text-primary",children:!v&&p.site_logo?s.jsx("img",{alt:"Logo ALJ Escalade",className:"h-12",src:p.site_logo}):s.jsx("div",{className:"h-12 w-24 bg-muted rounded animate-pulse"})}),s.jsx("div",{className:"hidden md:flex items-center space-x-6",children:A.map(P=>s.jsx(lp,{to:P.to,className:({isActive:T})=>`text-sm font-medium transition-colors hover:text-primary ${T?"text-primary":"text-muted-foreground"}`,children:P.text},P.to))}),s.jsxs("div",{className:"flex items-center gap-2",children:[l?s.jsxs(_W,{children:[s.jsx(wW,{asChild:!0,children:s.jsxs(X,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[s.jsx(wr,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:f!=null&&f.members?it(f.members.first_name,f.members.last_name,!1):l.email})]})}),s.jsxs(ok,{align:"end",children:[s.jsx(ak,{children:"Mon Compte"}),s.jsx($v,{}),u&&s.jsxs(s.Fragment,{children:[s.jsxs(Id,{onClick:()=>y("/site-settings"),children:[s.jsx(kN,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Réglages du site"})]}),s.jsxs(Id,{onClick:()=>y("/admin-management"),children:[s.jsx(uf,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Gestion des Rôles"})]}),s.jsx($v,{})]}),s.jsxs(Id,{onClick:b,children:[s.jsx(r3,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Déconnexion"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(X,{onClick:()=>{o("signIn"),r(!0)},variant:"ghost",size:"sm",className:"hidden sm:inline-flex",children:[s.jsx(n3,{className:"w-4 h-4 mr-2"})," Connexion"]}),s.jsxs(X,{onClick:()=>{o("signUp"),r(!0)},size:"sm",children:[s.jsx(uy,{className:"w-4 h-4 mr-2"})," Inscription"]})]}),s.jsx("div",{className:"md:hidden",children:s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>t(!e),children:e?s.jsx(Er,{}):s.jsx(s3,{})})})]})]})}),s.jsx(Ot,{children:e&&s.jsx(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-background border-b",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex flex-col space-y-4",children:[A.map(P=>s.jsx(lp,{to:P.to,onClick:C,className:({isActive:T})=>`text-lg font-medium transition-colors hover:text-primary ${T?"text-primary":"text-muted-foreground"}`,children:P.text},P.to)),!l&&s.jsx(X,{onClick:()=>{C(),o("signIn"),r(!0)},variant:"outline",children:"Connexion"})]})})}),s.jsx(Mt,{open:n,onOpenChange:r,children:s.jsx(At,{children:s.jsx(EW,{mode:i,setMode:o,onAuthSuccess:()=>r(!1)})})})]})},PW=Kc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",competition:"border-transparent bg-red-200 text-red-800",loisir:"border-transparent bg-blue-200 text-blue-800",bloc:"border-transparent bg-purple-200 text-purple-800 dark:bg-purple-800 dark:text-purple-100",difficulte:"border-transparent bg-green-200 text-green-800 dark:bg-green-800 dark:text-green-100",vitesse:"border-transparent bg-orange-200 text-orange-800 dark:bg-orange-800 dark:text-orange-100",perf:"border-transparent bg-yellow-200 text-yellow-800",autonomes:"border-transparent bg-blue-200 text-blue-800",game:"border-transparent bg-purple-200 text-purple-800"}},defaultVariants:{variant:"default"}});function Pe({className:e,variant:t,...n}){return s.jsx("div",{className:ce(PW({variant:t}),e),...n})}const TW=[{key:"partner_logo_metropole_lyon",name:"Métropole de Lyon",alt:"Logo Métropole de Lyon",url:"https://www.grandlyon.com/",className:"h-16"},{key:"partner_logo_ffme",name:"FFME",alt:"Logo FFME",url:"https://www.ffme.fr/",className:"h-12"},{key:"partner_logo_auvergne_rhone_alpes",name:"Région Auvergne-Rhône-Alpes",alt:"Logo Région Auvergne-Rhône-Alpes",url:"https://www.auvergnerhonealpes.fr/",className:"h-14"},{key:"partner_logo_mairie_jonage",name:"Mairie de Jonage",alt:"Logo Mairie de Jonage",url:"https://www.mairiedejonage.com/",className:"h-16"}],AW=()=>{const{config:e,loadingConfig:t}=Ya(),[n,r]=m.useState(null);m.useEffect(()=>{fetch("/ALJ_Jonage_Escalade/version.json").then(o=>o.ok?o.json():null).then(o=>r(o)).catch(()=>r(null))},[]);const i=({p_key:o,p_url:l,p_alt:c,p_className:u})=>t||!e[o]?s.jsx("div",{className:`${u} w-24 bg-muted/50 rounded animate-pulse`}):s.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"opacity-80 hover:opacity-100 transition-opacity",children:s.jsx("img",{alt:c,className:`${u} object-contain`,src:e[o]})});return s.jsx("footer",{className:"bg-secondary/50 border-t mt-12",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("p",{className:"font-semibold text-lg",children:"ALJ Escalade Jonage"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Espace Agora, 23 Rue du Lavoir, 69330 Jonage"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(X,{asChild:!0,variant:"ghost",size:"icon",children:s.jsx("a",{href:"https://www.instagram.com/aljescalade/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:s.jsx(CN,{className:"h-6 w-6"})})}),s.jsx(X,{asChild:!0,variant:"ghost",size:"icon",children:s.jsx("a",{href:"https://www.facebook.com/amicalelaiquedejonage",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:s.jsx(bN,{className:"h-6 w-6"})})})]})]}),s.jsx("div",{className:"border-t my-8"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-md font-semibold mb-4",children:"Nos partenaires"}),s.jsx("div",{className:"flex flex-wrap justify-center items-center gap-x-8 gap-y-4",children:TW.map(o=>s.jsx(i,{p_key:o.key,p_url:o.url,p_alt:o.alt,p_className:o.className},o.key))})]}),s.jsx("div",{className:"border-t my-8"}),s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-2 mb-2",children:[s.jsxs("p",{children:["© ",new Date().getFullYear()," ALJ Escalade Jonage. Tous droits réservés."]}),n&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"hidden sm:inline",children:"•"}),s.jsxs(Pe,{variant:"outline",className:"text-xs",children:["v",n.version]}),n.buildDate&&s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(n.buildDate).toLocaleDateString("fr-FR")})]})]})})]})})},fe=se.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));fe.displayName="Card";const ye=se.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",e),...t}));ye.displayName="CardHeader";const _e=se.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));_e.displayName="CardTitle";const Yr=se.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));Yr.displayName="CardDescription";const me=se.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ce("p-6 pt-0",e),...t}));me.displayName="CardContent";const Ns=se.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",e),...t}));Ns.displayName="CardFooter";const Ft=se.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Ft.displayName="Textarea";function os(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Rj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function lk(...e){return t=>{let n=!1;const r=e.map(i=>{const o=Rj(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Rj(e[i],null)}}}}function Ps(...e){return m.useCallback(lk(...e),e)}function ck(e,t=[]){let n=[];function r(o,l){const c=m.createContext(l),u=n.length;n=[...n,l];const h=p=>{var j;const{scope:v,children:y,...w}=p,x=((j=v==null?void 0:v[e])==null?void 0:j[u])||c,S=m.useMemo(()=>w,Object.values(w));return s.jsx(x.Provider,{value:S,children:y})};h.displayName=o+"Provider";function f(p,v){var x;const y=((x=v==null?void 0:v[e])==null?void 0:x[u])||c,w=m.useContext(y);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[h,f]}const i=()=>{const o=n.map(l=>m.createContext(l));return function(c){const u=(c==null?void 0:c[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return i.scopeName=e,[r,kW(i,...t)]}function kW(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:u,scopeName:h})=>{const p=u(o)[`__scope${h}`];return{...c,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var P0=m.forwardRef((e,t)=>{const{children:n,...r}=e,i=m.Children.toArray(n),o=i.find(LW);if(o){const l=o.props.children,c=i.map(u=>u===o?m.Children.count(l)>1?m.Children.only(null):m.isValidElement(l)?l.props.children:null:u);return s.jsx(Fv,{...r,ref:t,children:m.isValidElement(l)?m.cloneElement(l,void 0,c):null})}return s.jsx(Fv,{...r,ref:t,children:n})});P0.displayName="Slot";var Fv=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const i=MW(n);return m.cloneElement(n,{...OW(r,n.props),ref:t?lk(t,i):i})}return m.Children.count(n)>1?m.Children.only(null):null});Fv.displayName="SlotClone";var RW=({children:e})=>s.jsx(s.Fragment,{children:e});function LW(e){return m.isValidElement(e)&&e.type===RW}function OW(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...c)=>{o(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function MW(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var IW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ti=IW.reduce((e,t)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?P0:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function DW(e,t){e&&Xr.flushSync(()=>e.dispatchEvent(t))}function ps(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function $W(e,t=globalThis==null?void 0:globalThis.document){const n=ps(e);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var FW="DismissableLayer",Bv="dismissableLayer.update",BW="dismissableLayer.pointerDownOutside",UW="dismissableLayer.focusOutside",Lj,uk=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dk=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...u}=e,h=m.useContext(uk),[f,p]=m.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),w=Ps(t,T=>p(T)),x=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),j=x.indexOf(S),b=f?x.indexOf(f):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,N=b>=j,A=HW(T=>{const R=T.target,O=[...h.branches].some(B=>B.contains(R));!N||O||(i==null||i(T),l==null||l(T),T.defaultPrevented||c==null||c())},v),P=WW(T=>{const R=T.target;[...h.branches].some(B=>B.contains(R))||(o==null||o(T),l==null||l(T),T.defaultPrevented||c==null||c())},v);return $W(T=>{b===h.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},v),m.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Lj=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),Oj(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Lj)}},[f,v,n,h]),m.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),Oj())},[f,h]),m.useEffect(()=>{const T=()=>y({});return document.addEventListener(Bv,T),()=>document.removeEventListener(Bv,T)},[]),s.jsx(Ti.div,{...u,ref:w,style:{pointerEvents:C?N?"auto":"none":void 0,...e.style},onFocusCapture:os(e.onFocusCapture,P.onFocusCapture),onBlurCapture:os(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:os(e.onPointerDownCapture,A.onPointerDownCapture)})});dk.displayName=FW;var zW="DismissableLayerBranch",VW=m.forwardRef((e,t)=>{const n=m.useContext(uk),r=m.useRef(null),i=Ps(t,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(Ti.div,{...e,ref:i})});VW.displayName=zW;function HW(e,t=globalThis==null?void 0:globalThis.document){const n=ps(e),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let u=function(){hk(BW,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function WW(e,t=globalThis==null?void 0:globalThis.document){const n=ps(e),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&hk(UW,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Oj(){const e=new CustomEvent(Bv);document.dispatchEvent(e)}function hk(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?DW(i,o):i.dispatchEvent(o)}var zp=0;function GW(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Mj()),document.body.insertAdjacentElement("beforeend",e[1]??Mj()),zp++,()=>{zp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),zp--}},[])}function Mj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vp="focusScope.autoFocusOnMount",Hp="focusScope.autoFocusOnUnmount",Ij={bubbles:!1,cancelable:!0},qW="FocusScope",fk=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[c,u]=m.useState(null),h=ps(i),f=ps(o),p=m.useRef(null),v=Ps(t,x=>u(x)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(C){if(y.paused||!c)return;const N=C.target;c.contains(N)?p.current=N:Fi(p.current,{select:!0})},S=function(C){if(y.paused||!c)return;const N=C.relatedTarget;N!==null&&(c.contains(N)||Fi(p.current,{select:!0}))},j=function(C){if(document.activeElement===document.body)for(const A of C)A.removedNodes.length>0&&Fi(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",S);const b=new MutationObserver(j);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",S),b.disconnect()}}},[r,c,y.paused]),m.useEffect(()=>{if(c){$j.add(y);const x=document.activeElement;if(!c.contains(x)){const j=new CustomEvent(Vp,Ij);c.addEventListener(Vp,h),c.dispatchEvent(j),j.defaultPrevented||(ZW(QW(mk(c)),{select:!0}),document.activeElement===x&&Fi(c))}return()=>{c.removeEventListener(Vp,h),setTimeout(()=>{const j=new CustomEvent(Hp,Ij);c.addEventListener(Hp,f),c.dispatchEvent(j),j.defaultPrevented||Fi(x??document.body,{select:!0}),c.removeEventListener(Hp,f),$j.remove(y)},0)}}},[c,h,f,y]);const w=m.useCallback(x=>{if(!n&&!r||y.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,j=document.activeElement;if(S&&j){const b=x.currentTarget,[C,N]=KW(b);C&&N?!x.shiftKey&&j===N?(x.preventDefault(),n&&Fi(C,{select:!0})):x.shiftKey&&j===C&&(x.preventDefault(),n&&Fi(N,{select:!0})):j===b&&x.preventDefault()}},[n,r,y.paused]);return s.jsx(Ti.div,{tabIndex:-1,...l,ref:v,onKeyDown:w})});fk.displayName=qW;function ZW(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Fi(r,{select:t}),document.activeElement!==n)return}function KW(e){const t=mk(e),n=Dj(t,e),r=Dj(t.reverse(),e);return[n,r]}function mk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Dj(e,t){for(const n of e)if(!YW(n,{upTo:t}))return n}function YW(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function JW(e){return e instanceof HTMLInputElement&&"select"in e}function Fi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&JW(e)&&t&&e.select()}}var $j=XW();function XW(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Fj(e,t),e.unshift(t)},remove(t){var n;e=Fj(e,t),(n=e[0])==null||n.resume()}}}function Fj(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function QW(e){return e.filter(t=>t.tagName!=="A")}var ho=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},eG=Uc["useId".toString()]||(()=>{}),tG=0;function nG(e){const[t,n]=m.useState(eG());return ho(()=>{e||n(r=>r??String(tG++))},[e]),e||(t?`radix-${t}`:"")}var rG="Arrow",pk=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return s.jsx(Ti.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});pk.displayName=rG;var iG=pk;function sG(e){const[t,n]=m.useState(void 0);return ho(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,c;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,c=h.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var T0="Popper",[gk,vk]=ck(T0),[oG,xk]=gk(T0),yk=e=>{const{__scopePopper:t,children:n}=e,[r,i]=m.useState(null);return s.jsx(oG,{scope:t,anchor:r,onAnchorChange:i,children:n})};yk.displayName=T0;var _k="PopperAnchor",wk=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=xk(_k,n),l=m.useRef(null),c=Ps(t,l);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:s.jsx(Ti.div,{...i,ref:c})});wk.displayName=_k;var A0="PopperContent",[aG,lG]=gk(A0),bk=m.forwardRef((e,t)=>{var ne,de,Se,je,Ne,ke;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:w,...x}=e,S=xk(A0,n),[j,b]=m.useState(null),C=Ps(t,ze=>b(ze)),[N,A]=m.useState(null),P=sG(N),T=(P==null?void 0:P.width)??0,R=(P==null?void 0:P.height)??0,O=r+(o!=="center"?"-"+o:""),B=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},W=Array.isArray(h)?h:[h],U=W.length>0,K={padding:B,boundary:W.filter(uG),altBoundary:U},{refs:$,floatingStyles:k,placement:I,isPositioned:F,middlewareData:D}=d0({strategy:"fixed",placement:O,whileElementsMounted:(...ze)=>u0(...ze,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[h0({mainAxis:i+R,alignmentAxis:l}),u&&f0({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?m0():void 0,...K}),u&&p0({...K}),g0({...K,apply:({elements:ze,rects:Ke,availableWidth:xn,availableHeight:qn})=>{const{width:Ln,height:Tr}=Ke.reference,On=ze.floating.style;On.setProperty("--radix-popper-available-width",`${xn}px`),On.setProperty("--radix-popper-available-height",`${qn}px`),On.setProperty("--radix-popper-anchor-width",`${Ln}px`),On.setProperty("--radix-popper-anchor-height",`${Tr}px`)}}),N&&x0({element:N,padding:c}),dG({arrowWidth:T,arrowHeight:R}),v&&v0({strategy:"referenceHidden",...K})]}),[H,G]=Sk(I),ee=ps(w);ho(()=>{F&&(ee==null||ee())},[F,ee]);const z=(ne=D.arrow)==null?void 0:ne.x,Z=(de=D.arrow)==null?void 0:de.y,q=((Se=D.arrow)==null?void 0:Se.centerOffset)!==0,[Q,ie]=m.useState();return ho(()=>{j&&ie(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:F?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(je=D.transformOrigin)==null?void 0:je.x,(Ne=D.transformOrigin)==null?void 0:Ne.y].join(" "),...((ke=D.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(aG,{scope:n,placedSide:H,onArrowChange:A,arrowX:z,arrowY:Z,shouldHideArrow:q,children:s.jsx(Ti.div,{"data-side":H,"data-align":G,...x,ref:C,style:{...x.style,animation:F?void 0:"none"}})})})});bk.displayName=A0;var jk="PopperArrow",cG={top:"bottom",right:"left",bottom:"top",left:"right"},Ck=m.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=lG(jk,r),l=cG[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(iG,{...i,ref:n,style:{...i.style,display:"block"}})})});Ck.displayName=jk;function uG(e){return e!==null}var dG=e=>({name:"transformOrigin",options:e,fn(t){var S,j,b;const{placement:n,rects:r,middlewareData:i}=t,l=((S=i.arrow)==null?void 0:S.centerOffset)!==0,c=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[h,f]=Sk(n),p={start:"0%",center:"50%",end:"100%"}[f],v=(((j=i.arrow)==null?void 0:j.x)??0)+c/2,y=(((b=i.arrow)==null?void 0:b.y)??0)+u/2;let w="",x="";return h==="bottom"?(w=l?p:`${v}px`,x=`${-u}px`):h==="top"?(w=l?p:`${v}px`,x=`${r.floating.height+u}px`):h==="right"?(w=`${-u}px`,x=l?p:`${y}px`):h==="left"&&(w=`${r.floating.width+u}px`,x=l?p:`${y}px`),{data:{x:w,y:x}}}});function Sk(e){const[t,n="center"]=e.split("-");return[t,n]}var hG=yk,Ek=wk,fG=bk,mG=Ck,pG="Portal",Nk=m.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[i,o]=m.useState(!1);ho(()=>o(!0),[]);const l=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Qx.createPortal(s.jsx(Ti.div,{...r,ref:t}),l):null});Nk.displayName=pG;function gG(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var k0=e=>{const{present:t,children:n}=e,r=vG(t),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=Ps(r.ref,xG(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:o}):null};k0.displayName="Presence";function vG(e){const[t,n]=m.useState(),r=m.useRef({}),i=m.useRef(e),o=m.useRef("none"),l=e?"mounted":"unmounted",[c,u]=gG(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const h=dd(r.current);o.current=c==="mounted"?h:"none"},[c]),ho(()=>{const h=r.current,f=i.current;if(f!==e){const v=o.current,y=dd(h);e?u("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(f&&v!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),ho(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,p=y=>{const x=dd(r.current).includes(y.animationName);if(y.target===t&&x&&(u("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},v=y=>{y.target===t&&(o.current=dd(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:m.useCallback(h=>{h&&(r.current=getComputedStyle(h)),n(h)},[])}}function dd(e){return(e==null?void 0:e.animationName)||"none"}function xG(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function yG({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=_G({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:r,c=ps(n),u=m.useCallback(h=>{if(o){const p=typeof h=="function"?h(e):h;p!==e&&c(p)}else i(h)},[o,e,i,c]);return[l,u]}function _G({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,i=m.useRef(r),o=ps(t);return m.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var R0="Popover",[Pk,tee]=ck(R0,[vk]),lu=vk(),[wG,Ts]=Pk(R0),Tk=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:l=!1}=e,c=lu(t),u=m.useRef(null),[h,f]=m.useState(!1),[p=!1,v]=yG({prop:r,defaultProp:i,onChange:o});return s.jsx(hG,{...c,children:s.jsx(wG,{scope:t,contentId:nG(),triggerRef:u,open:p,onOpenChange:v,onOpenToggle:m.useCallback(()=>v(y=>!y),[v]),hasCustomAnchor:h,onCustomAnchorAdd:m.useCallback(()=>f(!0),[]),onCustomAnchorRemove:m.useCallback(()=>f(!1),[]),modal:l,children:n})})};Tk.displayName=R0;var Ak="PopoverAnchor",bG=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ts(Ak,n),o=lu(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=i;return m.useEffect(()=>(l(),()=>c()),[l,c]),s.jsx(Ek,{...o,...r,ref:t})});bG.displayName=Ak;var kk="PopoverTrigger",Rk=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ts(kk,n),o=lu(n),l=Ps(t,i.triggerRef),c=s.jsx(Ti.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Dk(i.open),...r,ref:l,onClick:os(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:s.jsx(Ek,{asChild:!0,...o,children:c})});Rk.displayName=kk;var L0="PopoverPortal",[jG,CG]=Pk(L0,{forceMount:void 0}),Lk=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=Ts(L0,t);return s.jsx(jG,{scope:t,forceMount:n,children:s.jsx(k0,{present:n||o.open,children:s.jsx(Nk,{asChild:!0,container:i,children:r})})})};Lk.displayName=L0;var $a="PopoverContent",Ok=m.forwardRef((e,t)=>{const n=CG($a,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=Ts($a,e.__scopePopover);return s.jsx(k0,{present:r||o.open,children:o.modal?s.jsx(SG,{...i,ref:t}):s.jsx(EG,{...i,ref:t})})});Ok.displayName=$a;var SG=m.forwardRef((e,t)=>{const n=Ts($a,e.__scopePopover),r=m.useRef(null),i=Ps(t,r),o=m.useRef(!1);return m.useEffect(()=>{const l=r.current;if(l)return Af(l)},[]),s.jsx(Ky,{as:P0,allowPinchZoom:!0,children:s.jsx(Mk,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:os(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),o.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:os(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:os(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),EG=m.forwardRef((e,t)=>{const n=Ts($a,e.__scopePopover),r=m.useRef(!1),i=m.useRef(!1);return s.jsx(Mk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var u,h;(u=e.onInteractOutside)==null||u.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Mk=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,...p}=e,v=Ts($a,n),y=lu(n);return GW(),s.jsx(fk,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:s.jsx(dk,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onDismiss:()=>v.onOpenChange(!1),children:s.jsx(fG,{"data-state":Dk(v.open),role:"dialog",id:v.contentId,...y,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ik="PopoverClose",NG=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ts(Ik,n);return s.jsx(Ti.button,{type:"button",...r,ref:t,onClick:os(e.onClick,()=>i.onOpenChange(!1))})});NG.displayName=Ik;var PG="PopoverArrow",TG=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=lu(n);return s.jsx(mG,{...i,...r,ref:t})});TG.displayName=PG;function Dk(e){return e?"open":"closed"}var AG=Tk,kG=Rk,RG=Lk,$k=Ok;const O0=AG,M0=kG,Vf=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>s.jsx(RG,{children:s.jsx($k,{ref:i,align:t,sideOffset:n,className:ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Vf.displayName=$k.displayName;const Bj="exercise_images",LG=()=>{const{config:e,loadingConfig:t}=Ya(),n=e.news_banner_image||"https://cdn.helloasso.com/img/photos/adhesions/croppedimage-6803a6ee62bc411ba750df859ee08f93.png?resize=fill:1920:250";return t?s.jsx("div",{className:"w-full h-48 md:h-64 bg-muted rounded-lg animate-pulse mb-12"}):s.jsx(ue.div,{className:"mb-12 rounded-lg overflow-hidden shadow-lg",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.7,ease:"easeInOut"},children:s.jsx("img",{src:n,alt:"Bannière des actualités",className:"w-full h-auto object-cover"})})},OG=()=>s.jsx(ue.section,{className:"mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs(fe,{className:"bg-gradient-to-br from-card to-muted/30",children:[s.jsxs(ye,{className:"flex flex-row items-center gap-4",children:[s.jsx(Yt,{className:"w-8 h-8 text-primary"}),s.jsx(_e,{children:"Pôle escalade"})]}),s.jsx(me,{children:s.jsx("p",{className:"text-muted-foreground",children:"Débutant ou confirmé, Enfants, Adolescents ou Adultes, Vous êtes tous les bienvenus."})})]}),s.jsxs(fe,{className:"bg-gradient-to-br from-card to-muted/30",children:[s.jsxs(ye,{className:"flex flex-row items-center gap-4",children:[s.jsx(lf,{className:"w-8 h-8 text-primary"}),s.jsx(_e,{children:"L'amicale"})]}),s.jsx(me,{children:s.jsx("p",{className:"text-muted-foreground",children:"L’ALJ est une association. Nous organisons diverses animations tout au long de l’année."})})]}),s.jsxs(fe,{className:"bg-gradient-to-br from-card to-muted/30",children:[s.jsxs(ye,{className:"flex flex-row items-center gap-4",children:[s.jsx(o3,{className:"w-8 h-8 text-primary"}),s.jsx(_e,{children:"Pôle Ski"})]}),s.jsx(me,{children:s.jsx("p",{className:"text-muted-foreground",children:"ALJ, c’est aussi du ski pour les élèves d’école primaire chaque hiver, les mercredis en janvier et février."})})]})]})}),MG=({newsItem:e,onSave:t,onCancel:n,isSaving:r})=>{const[i,o]=m.useState(e||{title:"",date:new Date().toISOString().split("T")[0],short_description:"",long_description:"",external_link:"",image_url:"",document_url:""}),[l,c]=m.useState(null),[u,h]=m.useState(null),f=y=>{const{name:w,value:x}=y.target;o(S=>({...S,[w]:x}))},p=(y,w)=>{y.target.files&&y.target.files[0]&&w(y.target.files[0])},v=y=>{y.preventDefault(),t({...i,imageFile:l,documentFile:u})};return s.jsx(Mt,{open:!0,onOpenChange:n,children:s.jsx(At,{className:"sm:max-w-[625px]",children:s.jsxs("form",{onSubmit:v,children:[s.jsx(qt,{children:s.jsx(Zt,{children:e?"Modifier l'actualité":"Créer une actualité"})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(le,{htmlFor:"title",className:"text-right",children:"Titre"}),s.jsx(be,{id:"title",name:"title",value:i.title,onChange:f,className:"col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(le,{htmlFor:"date",className:"text-right",children:"Date"}),s.jsx(be,{id:"date",name:"date",type:"date",value:i.date,onChange:f,className:"col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(le,{htmlFor:"short_description",className:"text-right",children:"Description courte"}),s.jsx(Ft,{id:"short_description",name:"short_description",value:i.short_description,onChange:f,className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(le,{htmlFor:"long_description",className:"text-right",children:"Description longue"}),s.jsx(Ft,{id:"long_description",name:"long_description",value:i.long_description,onChange:f,className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(le,{htmlFor:"external_link",className:"text-right",children:"Lien externe"}),s.jsx(be,{id:"external_link",name:"external_link",value:i.external_link,onChange:f,className:"col-span-3",placeholder:"https://..."})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(le,{htmlFor:"image",className:"text-right",children:"Image"}),s.jsx(be,{id:"image",type:"file",onChange:y=>p(y,c),className:"col-span-3",accept:"image/*"})]}),i.image_url&&!l&&s.jsx("div",{className:"col-start-2 col-span-3",children:s.jsx("img",{src:i.image_url,alt:"Aperçu",className:"h-20 rounded-md"})}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(le,{htmlFor:"document",className:"text-right",children:"Document"}),s.jsx(be,{id:"document",type:"file",onChange:y=>p(y,h),className:"col-span-3"})]}),i.document_url&&!u&&s.jsx("div",{className:"col-start-2 col-span-3",children:s.jsx("a",{href:i.document_url,target:"_blank",rel:"noreferrer",className:"text-sm text-primary hover:underline",children:"Voir le document actuel"})})]}),s.jsxs(cr,{children:[s.jsx(X,{type:"button",variant:"ghost",onClick:n,children:"Annuler"}),s.jsx(X,{type:"submit",disabled:r,children:r?s.jsx($e,{className:"animate-spin"}):"Sauvegarder"})]})]})})})},Uj=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,o]=m.useState(!1),[l,c]=m.useState(null),[u,h]=m.useState(!1),[f,p]=m.useState(null),[v,y]=m.useState("asc"),{toast:w}=tt(),{isAdmin:x,loading:S}=zt(),j=m.useCallback(async()=>{r(!0);const{data:O,error:B}=await te.from("news").select("*");B?w({title:"Erreur",description:"Impossible de charger les actualités.",variant:"destructive"}):t(O),r(!1)},[w]);m.useEffect(()=>{j()},[j]);const b=m.useMemo(()=>[...e].sort((O,B)=>{const W=new Date(O.date),U=new Date(B.date);return v==="desc"?U-W:W-U}),[e,v]),C=async(O,B)=>{if(!O)return null;const W=O.name.split(".").pop(),U=`news/${Date.now()}.${W}`,{error:K}=await te.storage.from(B).upload(U,O);if(K)throw K;const{data:$}=te.storage.from(B).getPublicUrl(U);return $.publicUrl},N=async O=>{h(!0);try{const{id:B,imageFile:W,documentFile:U,...K}=O,$=await C(W,Bj);$&&(K.image_url=$);const k=await C(U,Bj);if(k&&(K.document_url=k),l){const{error:I}=await te.from("news").update(K).eq("id",l.id);if(I)throw I}else{const{error:I}=await te.from("news").insert(K);if(I)throw I}w({title:"Succès",description:"Actualité sauvegardée."}),o(!1),c(null),j()}catch(B){w({title:"Erreur",description:B.message,variant:"destructive"})}finally{h(!1)}},A=async O=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette actualité ?"))try{const{error:B}=await te.from("news").delete().eq("id",O);if(B)throw B;w({title:"Succès",description:"Actualité supprimée."}),j()}catch(B){w({title:"Erreur",description:B.message,variant:"destructive"})}},P=!S&&x,T=(O,B)=>{const W=`${window.location.origin}/news/${B.id}`,U=`${B.title}

${B.short_description||""}

Pour en savoir plus, visitez notre site !`;let K="";O==="facebook"?K=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(W)}`:O==="whatsapp"&&(K=`https://api.whatsapp.com/send?text=${encodeURIComponent(U+`
`+W)}`),K&&window.open(K,"_blank","noopener,noreferrer")},R=()=>n||S?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):b.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-16",children:"Aucune actualité pour le moment."}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.jsx(Ot,{children:b.map(O=>s.jsx(ue.div,{layout:!0,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.3},children:s.jsxs(fe,{className:"flex flex-col h-full",children:[O.image_url&&s.jsx("div",{className:"cursor-pointer",onClick:()=>p(O.image_url),children:s.jsx("img",{src:O.image_url,alt:O.title,className:"w-full h-48 object-cover rounded-t-lg"})}),s.jsxs(ye,{children:[s.jsx(_e,{children:O.title}),s.jsx(Yr,{children:new Date(O.date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),s.jsx(me,{className:"flex-grow",children:s.jsx("p",{className:"text-sm",children:O.short_description})}),s.jsxs(Ns,{className:"flex flex-col items-start gap-2",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(X,{asChild:!0,variant:"link",size:"sm",children:s.jsxs(Sc,{to:`/news/${O.id}`,children:[s.jsx(Ta,{className:"w-4 h-4 mr-2"}),"Voir plus"]})}),O.document_url&&s.jsx(X,{asChild:!0,variant:"link",size:"sm",children:s.jsxs("a",{href:O.document_url,target:"_blank",rel:"noreferrer",children:[s.jsx(of,{className:"w-4 h-4 mr-2"}),"Télécharger"]})})]}),s.jsxs("div",{className:"flex gap-2 self-end items-center",children:[s.jsxs(O0,{children:[s.jsx(M0,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"icon",children:s.jsx(RN,{className:"w-4 h-4"})})}),s.jsx(Vf,{className:"w-auto p-2",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(X,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>T("facebook",O),children:"Facebook"}),s.jsx(X,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>T("whatsapp",O),children:"WhatsApp"})]})})]}),P&&s.jsxs(s.Fragment,{children:[s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>{c(O),o(!0)},children:s.jsx(Qr,{className:"w-4 h-4"})}),s.jsx(X,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>A(O.id),children:s.jsx(Wn,{className:"w-4 h-4"})})]})]})]})]})},O.id))})});return s.jsxs("div",{className:"space-y-8",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Actualités - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Les dernières actualités et annonces du club d'escalade."})]}),s.jsx(OG,{}),s.jsx(LG,{}),s.jsx(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(a3,{className:"w-10 h-10 text-primary"}),"Actualités du Club"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",onClick:()=>y(O=>O==="desc"?"asc":"desc"),children:[s.jsx(UF,{className:"w-4 h-4 mr-2"}),"Trier par date (",v==="desc"?"récent":"ancien",")"]}),P&&s.jsxs(X,{onClick:()=>{c(null),o(!0)},children:[s.jsx(Ga,{className:"w-4 h-4 mr-2"})," Ajouter"]})]})]})}),s.jsx(Ot,{children:i&&P&&s.jsx(MG,{newsItem:l,onSave:N,onCancel:()=>{o(!1),c(null)},isSaving:u},l?l.id:"new")}),R(),s.jsx(Mt,{open:!!f,onOpenChange:()=>p(null),children:s.jsx(At,{className:"max-w-4xl p-2",children:s.jsx("img",{src:f,alt:"Aperçu de l'actualité",className:"w-full h-auto max-h-[90vh] object-contain rounded-md"})})})]})},IG=({newsItem:e,onSave:t,onCancel:n,isSaving:r})=>{const[i,o]=m.useState([]),l=u=>{u.target.files&&o(Array.from(u.target.files))},c=u=>{u.preventDefault(),i.length>0&&t(e.id,i)};return s.jsx(Mt,{open:!0,onOpenChange:n,children:s.jsx(At,{children:s.jsxs("form",{onSubmit:c,children:[s.jsx(qt,{children:s.jsxs(Zt,{children:["Ajouter des photos pour ",e.title]})}),s.jsxs("div",{className:"py-4",children:[s.jsx(le,{htmlFor:"photos",children:"Sélectionner des photos"}),s.jsx(be,{id:"photos",type:"file",multiple:!0,onChange:l,accept:"image/*"}),i.length>0&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[i.length," photo(s) sélectionnée(s)"]})]}),s.jsxs(cr,{children:[s.jsx(X,{type:"button",variant:"ghost",onClick:n,children:"Annuler"}),s.jsx(X,{type:"submit",disabled:r||i.length===0,children:r?s.jsx($e,{className:"animate-spin"}):"Télécharger"})]})]})})})},DG=()=>{const{id:e}=ef(),[t,n]=m.useState(null),[r,i]=m.useState(!0),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[h,f]=m.useState(null),{toast:p}=tt(),{isAdmin:v,loading:y}=zt(),w=m.useCallback(async()=>{i(!0);const{data:N,error:A}=await te.from("news").select("*").eq("id",e).single();A?p({title:"Erreur",description:"Impossible de charger cette actualité.",variant:"destructive"}):n(N),i(!1)},[e,p]);m.useEffect(()=>{w()},[w]);const x=async N=>{if(!N)return null;const A=N.name.split(".").pop(),P=`news_gallery/${e}/${Date.now()}-${Math.random()}.${A}`,{error:T}=await te.storage.from("exercise_images").upload(P,N);if(T)throw T;const{data:R}=te.storage.from("exercise_images").getPublicUrl(P);return R.publicUrl},S=async(N,A)=>{l(!0);try{const P=A.map(W=>x(W)),T=await Promise.all(P),O=[...t.photo_gallery||[],...T.filter(W=>W)],{error:B}=await te.from("news").update({photo_gallery:O}).eq("id",N);if(B)throw B;p({title:"Succès",description:"Photos ajoutées."}),u(!1),w()}catch(P){p({title:"Erreur",description:P.message,variant:"destructive"})}finally{l(!1)}},j=async N=>{if(!window.confirm("Êtes-vous sûr de vouloir supprimer cette photo ?"))return;const A=(t.photo_gallery||[]).filter(T=>T!==N),{error:P}=await te.from("news").update({photo_gallery:A}).eq("id",e);if(P)p({title:"Erreur",description:"Impossible de supprimer la photo.",variant:"destructive"});else{p({title:"Succès",description:"Photo supprimée."}),w();const T=N.substring(N.indexOf("news_gallery/"));await te.storage.from("exercise_images").remove([T])}},b=N=>{const A=window.location.href,P=`${t.title}

${t.short_description||""}

Pour en savoir plus, visitez notre site !`;let T="";N==="facebook"?T=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(A)}`:N==="whatsapp"&&(T=`https://api.whatsapp.com/send?text=${encodeURIComponent(P+`
`+A)}`),T&&window.open(T,"_blank","noopener,noreferrer")},C=!y&&v;return r?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):t?s.jsxs(s.Fragment,{children:[s.jsxs(yt,{children:[s.jsx("title",{children:`${t.title} - Actualités`}),s.jsx("meta",{name:"description",content:t.short_description}),s.jsx("meta",{property:"og:title",content:t.title}),s.jsx("meta",{property:"og:description",content:t.short_description}),t.image_url&&s.jsx("meta",{property:"og:image",content:t.image_url}),s.jsx("meta",{property:"og:url",content:window.location.href}),s.jsx("meta",{property:"og:type",content:"article"})]}),s.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsx(X,{asChild:!0,variant:"outline",className:"mb-8",children:s.jsxs(Sc,{to:"/news",children:[s.jsx(us,{className:"mr-2 h-4 w-4"})," Retour aux actualités"]})}),s.jsxs(fe,{children:[t.image_url&&s.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-64 md:h-96 object-cover rounded-t-lg"}),s.jsxs(ye,{children:[s.jsx(_e,{className:"text-3xl md:text-4xl font-bold headline",children:t.title}),s.jsxs(Yr,{className:"flex items-center gap-2 pt-2",children:[s.jsx(xo,{className:"w-4 h-4"}),new Date(t.date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]})]}),s.jsxs(me,{className:"space-y-6 text-lg",children:[s.jsx("p",{className:"font-semibold",children:t.short_description}),t.long_description&&s.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:t.long_description}),t.photo_gallery&&t.photo_gallery.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Photos"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.photo_gallery.map((N,A)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:N,alt:`Photo de l'actualité ${A+1}`,className:"w-full h-32 object-cover rounded-md cursor-pointer",onClick:()=>f(N)}),C&&s.jsx(X,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>j(N),children:s.jsx(Er,{className:"h-4 w-4"})})]},A))})]})]}),s.jsxs(Ns,{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[t.external_link&&s.jsx(X,{asChild:!0,variant:"outline",children:s.jsxs("a",{href:t.external_link,target:"_blank",rel:"noreferrer",children:[s.jsx(lo,{className:"w-4 h-4 mr-2"}),"Plus d'infos"]})}),t.document_url&&s.jsx(X,{asChild:!0,variant:"outline",children:s.jsxs("a",{href:t.document_url,target:"_blank",rel:"noreferrer",children:[s.jsx(of,{className:"w-4 h-4 mr-2"}),"Télécharger"]})}),C&&s.jsxs(X,{variant:"outline",onClick:()=>u(!0),children:[s.jsx(e3,{className:"w-4 h-4 mr-2"})," Ajouter des photos"]})]}),s.jsxs(O0,{children:[s.jsx(M0,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"icon",children:s.jsx(RN,{className:"w-5 h-5"})})}),s.jsx(Vf,{className:"w-auto p-2",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(X,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>b("facebook"),children:"Facebook"}),s.jsx(X,{variant:"ghost",size:"sm",className:"justify-start",onClick:()=>b("whatsapp"),children:"WhatsApp"})]})})]})]})]})]}),s.jsx(Ot,{children:c&&C&&s.jsx(IG,{newsItem:t,onSave:S,onCancel:()=>u(!1),isSaving:o})}),s.jsx(Mt,{open:!!h,onOpenChange:()=>f(null),children:s.jsx(At,{className:"max-w-4xl p-2",children:s.jsx("img",{src:h,alt:"Aperçu de la photo",className:"w-full h-auto max-h-[90vh] object-contain rounded-md"})})})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Actualité non trouvée"}),s.jsx("p",{className:"text-muted-foreground",children:"Cette actualité n'existe pas ou a été supprimée."}),s.jsx(X,{asChild:!0,className:"mt-4",children:s.jsxs(Sc,{to:"/news",children:[s.jsx(us,{className:"mr-2 h-4 w-4"})," Retour aux actualités"]})})]})};var Hf="Tabs",[$G,nee]=Gn(Hf,[Ff]),Fk=Ff(),[FG,I0]=$G(Hf),Bk=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:l="horizontal",dir:c,activationMode:u="automatic",...h}=e,f=Of(c),[p,v]=Pi({prop:r,onChange:i,defaultProp:o??"",caller:Hf});return s.jsx(FG,{scope:n,baseId:dn(),value:p,onValueChange:v,orientation:l,dir:f,activationMode:u,children:s.jsx(Ee.div,{dir:f,"data-orientation":l,...h,ref:t})})});Bk.displayName=Hf;var Uk="TabsList",zk=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=I0(Uk,n),l=Fk(n);return s.jsx(dA,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:r,children:s.jsx(Ee.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});zk.displayName=Uk;var Vk="TabsTrigger",Hk=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,l=I0(Vk,n),c=Fk(n),u=qk(l.baseId,r),h=Zk(l.baseId,r),f=r===l.value;return s.jsx(hA,{asChild:!0,...c,focusable:!i,active:f,children:s.jsx(Ee.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...o,ref:t,onMouseDown:xe(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?l.onValueChange(r):p.preventDefault()}),onKeyDown:xe(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(r)}),onFocus:xe(e.onFocus,()=>{const p=l.activationMode!=="manual";!f&&!i&&p&&l.onValueChange(r)})})})});Hk.displayName=Vk;var Wk="TabsContent",Gk=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...l}=e,c=I0(Wk,n),u=qk(c.baseId,r),h=Zk(c.baseId,r),f=r===c.value,p=m.useRef(f);return m.useEffect(()=>{const v=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(v)},[]),s.jsx(lr,{present:i||f,children:({present:v})=>s.jsx(Ee.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!v,id:h,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:v&&o})})});Gk.displayName=Wk;function qk(e,t){return`${e}-trigger-${t}`}function Zk(e,t){return`${e}-content-${t}`}var BG=Bk,Kk=zk,Yk=Hk,Jk=Gk;const kh=BG,Ic=se.forwardRef(({className:e,...t},n)=>s.jsx(Kk,{ref:n,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ic.displayName=Kk.displayName;const Ur=se.forwardRef(({className:e,...t},n)=>s.jsx(Yk,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ur.displayName=Yk.displayName;const zr=se.forwardRef(({className:e,...t},n)=>s.jsx(Jk,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));zr.displayName=Jk.displayName;var Wf="Collapsible",[UG,Xk]=Gn(Wf),[zG,D0]=UG(Wf),Qk=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:l,...c}=e,[u,h]=Pi({prop:r,defaultProp:i??!1,onChange:l,caller:Wf});return s.jsx(zG,{scope:n,disabled:o,contentId:dn(),open:u,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),children:s.jsx(Ee.div,{"data-state":F0(u),"data-disabled":o?"":void 0,...c,ref:t})})});Qk.displayName=Wf;var eR="CollapsibleTrigger",tR=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=D0(eR,n);return s.jsx(Ee.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":F0(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:xe(e.onClick,i.onOpenToggle)})});tR.displayName=eR;var $0="CollapsibleContent",nR=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=D0($0,e.__scopeCollapsible);return s.jsx(lr,{present:n||i.open,children:({present:o})=>s.jsx(VG,{...r,ref:t,present:o})})});nR.displayName=$0;var VG=m.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=e,l=D0($0,n),[c,u]=m.useState(r),h=m.useRef(null),f=ut(t,h),p=m.useRef(0),v=p.current,y=m.useRef(0),w=y.current,x=l.open||c,S=m.useRef(x),j=m.useRef(void 0);return m.useEffect(()=>{const b=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(b)},[]),Un(()=>{const b=h.current;if(b){j.current=j.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const C=b.getBoundingClientRect();p.current=C.height,y.current=C.width,S.current||(b.style.transitionDuration=j.current.transitionDuration,b.style.animationName=j.current.animationName),u(r)}},[l.open,r]),s.jsx(Ee.div,{"data-state":F0(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!x,...o,ref:f,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:x&&i})});function F0(e){return e?"open":"closed"}var HG=Qk,WG=tR,GG=nR,Pr="Accordion",qG=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[B0,ZG,KG]=hf(Pr),[Gf,ree]=Gn(Pr,[KG,Xk]),U0=Xk(),rR=se.forwardRef((e,t)=>{const{type:n,...r}=e,i=r,o=r;return s.jsx(B0.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?s.jsx(QG,{...o,ref:t}):s.jsx(XG,{...i,ref:t})})});rR.displayName=Pr;var[iR,YG]=Gf(Pr),[sR,JG]=Gf(Pr,{collapsible:!1}),XG=se.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...l}=e,[c,u]=Pi({prop:n,defaultProp:r??"",onChange:i,caller:Pr});return s.jsx(iR,{scope:e.__scopeAccordion,value:se.useMemo(()=>c?[c]:[],[c]),onItemOpen:u,onItemClose:se.useCallback(()=>o&&u(""),[o,u]),children:s.jsx(sR,{scope:e.__scopeAccordion,collapsible:o,children:s.jsx(oR,{...l,ref:t})})})}),QG=se.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=e,[l,c]=Pi({prop:n,defaultProp:r??[],onChange:i,caller:Pr}),u=se.useCallback(f=>c((p=[])=>[...p,f]),[c]),h=se.useCallback(f=>c((p=[])=>p.filter(v=>v!==f)),[c]);return s.jsx(iR,{scope:e.__scopeAccordion,value:l,onItemOpen:u,onItemClose:h,children:s.jsx(sR,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(oR,{...o,ref:t})})})}),[eq,qf]=Gf(Pr),oR=se.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...l}=e,c=se.useRef(null),u=ut(c,t),h=ZG(n),p=Of(i)==="ltr",v=xe(e.onKeyDown,y=>{var R;if(!qG.includes(y.key))return;const w=y.target,x=h().filter(O=>{var B;return!((B=O.ref.current)!=null&&B.disabled)}),S=x.findIndex(O=>O.ref.current===w),j=x.length;if(S===-1)return;y.preventDefault();let b=S;const C=0,N=j-1,A=()=>{b=S+1,b>N&&(b=C)},P=()=>{b=S-1,b<C&&(b=N)};switch(y.key){case"Home":b=C;break;case"End":b=N;break;case"ArrowRight":o==="horizontal"&&(p?A():P());break;case"ArrowDown":o==="vertical"&&A();break;case"ArrowLeft":o==="horizontal"&&(p?P():A());break;case"ArrowUp":o==="vertical"&&P();break}const T=b%j;(R=x[T].ref.current)==null||R.focus()});return s.jsx(eq,{scope:n,disabled:r,direction:i,orientation:o,children:s.jsx(B0.Slot,{scope:n,children:s.jsx(Ee.div,{...l,"data-orientation":o,ref:u,onKeyDown:r?void 0:v})})})}),Rh="AccordionItem",[tq,z0]=Gf(Rh),aR=se.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...i}=e,o=qf(Rh,n),l=YG(Rh,n),c=U0(n),u=dn(),h=r&&l.value.includes(r)||!1,f=o.disabled||e.disabled;return s.jsx(tq,{scope:n,open:h,disabled:f,triggerId:u,children:s.jsx(HG,{"data-orientation":o.orientation,"data-state":fR(h),...c,...i,ref:t,disabled:f,open:h,onOpenChange:p=>{p?l.onItemOpen(r):l.onItemClose(r)}})})});aR.displayName=Rh;var lR="AccordionHeader",cR=se.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=qf(Pr,n),o=z0(lR,n);return s.jsx(Ee.h3,{"data-orientation":i.orientation,"data-state":fR(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:t})});cR.displayName=lR;var Uv="AccordionTrigger",uR=se.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=qf(Pr,n),o=z0(Uv,n),l=JG(Uv,n),c=U0(n);return s.jsx(B0.ItemSlot,{scope:n,children:s.jsx(WG,{"aria-disabled":o.open&&!l.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId,...c,...r,ref:t})})});uR.displayName=Uv;var dR="AccordionContent",hR=se.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=qf(Pr,n),o=z0(dR,n),l=U0(n);return s.jsx(GG,{role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation,...l,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});hR.displayName=dR;function fR(e){return e?"open":"closed"}var nq=rR,rq=aR,iq=cR,mR=uR,pR=hR;const V0=nq,Zf=se.forwardRef(({className:e,...t},n)=>s.jsx(rq,{ref:n,className:ce("border-b",e),...t}));Zf.displayName="AccordionItem";const Kf=se.forwardRef(({className:e,children:t,...n},r)=>s.jsx(iq,{className:"flex",children:s.jsxs(mR,{ref:r,className:ce("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,s.jsx(iy,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Kf.displayName=mR.displayName;const Yf=se.forwardRef(({className:e,children:t,...n},r)=>s.jsx(pR,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:s.jsx("div",{className:ce("pb-4 pt-0",e),children:t})}));Yf.displayName=pR.displayName;const gR=m.createContext(),Sr=()=>m.useContext(gR),sq=({children:e})=>{const[t,n]=m.useState(null),[r,i]=m.useState(!1),[o,l]=m.useState(!1),[c,u]=m.useState(null),[h,f]=m.useState(!1),p=m.useCallback(async S=>{if(!S)return;l(!0),i(!0),n(null);const j=te.from("members").select(`
        *,
        profiles(role),
        emergency_contact_1:emergency_contact_1_id(id, first_name, last_name, phone),
        emergency_contact_2:emergency_contact_2_id(id, first_name, last_name, phone)
      `).eq("id",S).single(),b=te.from("members").select("id, first_name, last_name").or(`emergency_contact_1_id.eq.${S},emergency_contact_2_id.eq.${S}`),[{data:C,error:N},{data:A,error:P}]=await Promise.all([j,b]);if(N&&console.error("Error fetching member details:",N),P&&console.error("Error fetching 'is emergency contact for' data:",P),C){const T={...C,profiles:Array.isArray(C.profiles)?C.profiles[0]:C.profiles,dynamic_roles:[],isEmergencyContactFor:A||[]};n(T)}l(!1)},[]),v=m.useCallback(()=>{i(!1),n(null)},[]),y=m.useCallback(S=>{v(),u(S),f(!0)},[v]),w=m.useCallback(()=>{f(!1),u(null)},[]),x={selectedMember:t,isDetailVisible:r,loading:o,showMemberDetails:p,hideMemberDetails:v,editingMember:c,isFormVisible:h,openEditFormForMember:y,closeEditForm:w};return s.jsx(gR.Provider,{value:x,children:e})},oq=({participants:e=[],showRemoveButton:t=!1,onRemoveParticipant:n=null,onParticipantClick:r=null,compact:i=!1})=>{const{isAdmin:o}=zt();if(e.length===0)return s.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[s.jsx(Yt,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Aucun participant inscrit."})]});const l=e.filter(y=>y.role==="Competiteur"),c=e.filter(y=>y.role==="Arbitre"),u=e.filter(y=>y.role==="Coach"),h=e.filter(y=>y.role!=="Competiteur"&&y.role!=="Arbitre"&&y.role!=="Coach"),p=(y=>{const w={femmes:{},hommes:{},inconnu:{}};return y.forEach(x=>{if(!x.members)return;let S;x.members.sexe==="F"?S="femmes":x.members.sexe==="H"?S="hommes":S="inconnu";const j=x.members.category||"Sans catégorie";w[S][j]||(w[S][j]=[]),w[S][j].push(x)}),w})(l),v=({participant:y,showRemove:w})=>y.members?s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 hover:bg-muted/30 transition-colors group border-b border-muted/30 last:border-b-0",children:[s.jsxs("div",{className:"flex items-center justify-between flex-1 cursor-pointer",onClick:()=>r&&r(y.members.id),children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("span",{className:"text-sm font-medium",children:it(y.members.first_name,y.members.last_name,o)})}),s.jsxs("div",{className:"flex items-center gap-2",children:[y.members.licence&&s.jsxs(Pe,{variant:"secondary",className:"text-xs",children:["Licence: ",y.members.licence]}),y.ranking&&s.jsxs(Pe,{variant:"secondary",className:"text-xs",children:["#",y.ranking,y.nb_competitor&&` / ${y.nb_competitor}`]})]})]}),w&&n&&s.jsx(X,{variant:"ghost",size:"sm",onClick:x=>{x.stopPropagation(),n(y.id)},className:"opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Wn,{className:"w-4 h-4 text-destructive"})})]}):s.jsx("div",{className:"text-sm text-muted-foreground py-1",children:"Membre introuvable"});return s.jsxs("div",{className:"space-y-4",children:[l.length>0&&s.jsxs("div",{children:[s.jsxs("h5",{className:`font-medium mb-3 text-primary flex items-center gap-2 ${i?"text-sm":""}`,children:[s.jsx(qa,{className:"w-4 h-4"}),"Compétiteurs (",l.length,")"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h6",{className:"text-sm font-semibold text-pink-700 mb-2 flex items-center gap-1 border-b border-pink-200 pb-1",children:["👩 Filles (",Object.values(p.femmes).flat().length,")"]}),Object.keys(p.femmes).length>0?s.jsx("div",{className:"space-y-2",children:Object.entries(p.femmes).map(([y,w])=>s.jsxs("div",{className:"border rounded-lg p-2 bg-pink-50",children:[s.jsxs("div",{className:"text-xs font-medium text-pink-600 mb-1",children:[y," (",w.length,")"]}),s.jsx("div",{className:"space-y-0",children:w.map(x=>s.jsx(v,{participant:x,showRemove:t},x.id))})]},`f-${y}`))}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Aucune fille inscrite"})]}),s.jsxs("div",{children:[s.jsxs("h6",{className:"text-sm font-semibold text-blue-700 mb-2 flex items-center gap-1 border-b border-blue-200 pb-1",children:["👨 Garçons (",Object.values(p.hommes).flat().length,")"]}),Object.keys(p.hommes).length>0?s.jsx("div",{className:"space-y-2",children:Object.entries(p.hommes).map(([y,w])=>s.jsxs("div",{className:"border rounded-lg p-2 bg-blue-50",children:[s.jsxs("div",{className:"text-xs font-medium text-blue-600 mb-1",children:[y," (",w.length,")"]}),s.jsx("div",{className:"space-y-0",children:w.map(x=>s.jsx(v,{participant:x,showRemove:t},x.id))})]},`h-${y}`))}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Aucun garçon inscrit"})]})]})]}),(c.length>0||u.length>0)&&s.jsxs("div",{children:[s.jsxs("h5",{className:`font-medium mb-3 text-green-700 flex items-center gap-2 ${i?"text-sm":""}`,children:[s.jsx(Nc,{className:"w-4 h-4"}),"Encadrement (",c.length+u.length,")"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h6",{className:"text-sm font-semibold text-purple-700 mb-2 flex items-center gap-1 border-b border-purple-200 pb-1",children:["🏃‍♀️ Coaches (",u.length,")"]}),u.length>0?s.jsx("div",{className:"border rounded-lg bg-purple-50",children:u.map(y=>s.jsx(v,{participant:y,showRemove:t},y.id))}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Aucun coach inscrit"})]}),s.jsxs("div",{children:[s.jsxs("h6",{className:"text-sm font-semibold text-blue-700 mb-2 flex items-center gap-1 border-b border-blue-200 pb-1",children:["⚖️ Arbitres (",c.length,")"]}),c.length>0?s.jsx("div",{className:"border rounded-lg bg-blue-50",children:c.map(y=>s.jsx(v,{participant:y,showRemove:t},y.id))}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Aucun arbitre inscrit"})]})]})]}),h.length>0&&s.jsxs("div",{children:[s.jsxs("h5",{className:`font-medium mb-3 text-green-700 flex items-center gap-2 ${i?"text-sm":""}`,children:[s.jsx(Nc,{className:"w-4 h-4"}),"Autre Encadrement (",h.length,")"]}),s.jsx("div",{className:"border rounded-lg",children:h.map(y=>s.jsx(v,{participant:y,showRemove:t},y.id))})]})]})},aq=({participant:e,onSave:t,onCancel:n,isSaving:r})=>{const[i,o]=m.useState(e.ranking||""),[l,c]=m.useState(e.nb_competitor||""),u=f=>{f.preventDefault(),t(e.id,i,l)},{showMemberDetail:h}=Sr();return s.jsx(Mt,{open:!0,onOpenChange:n,children:s.jsx(At,{children:s.jsxs("form",{onSubmit:u,children:[s.jsx(qt,{children:s.jsxs(Zt,{children:["Classement de ",it(e.members.first_name,e.members.last_name,!0)]})}),s.jsxs("div",{className:"py-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"ranking",children:"Classement"}),s.jsx(be,{id:"ranking",type:"number",value:i,onChange:f=>o(f.target.value),placeholder:"Entrez le classement"})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"nb_competitor",children:"Nombre de compétiteurs"}),s.jsx(be,{id:"nb_competitor",type:"number",value:l,onChange:f=>c(f.target.value),placeholder:"Nombre total"})]})]}),s.jsxs(cr,{className:"justify-between w-full",children:[s.jsxs("div",{children:[s.jsxs(X,{type:"button",variant:"outline",onClick:()=>h(e.member_id),className:"mr-2",children:[s.jsx(Ta,{className:"w-4 h-4 mr-2"})," Fiche détail"]}),s.jsx(X,{asChild:!0,type:"button",variant:"outline",children:s.jsxs(Sc,{to:`/competitor-summary/${e.member_id}`,target:"_blank",children:[s.jsx(nf,{className:"w-4 h-4 mr-2"})," Voir palmarès"]})})]}),s.jsxs("div",{children:[s.jsx(X,{type:"button",variant:"ghost",onClick:n,children:"Annuler"}),s.jsx(X,{type:"submit",disabled:r,children:r?s.jsx($e,{className:"animate-spin"}):"Sauvegarder"})]})]})]})})})},lq=()=>{const[e,t]=m.useState([]),[n,r]=m.useState({}),[i,o]=m.useState(!0),[l,c]=m.useState({isOpen:!1,photos:[],currentIndex:0,competitionName:""}),[u,h]=m.useState(null),[f,p]=m.useState(!1),{toast:v}=tt(),{showMemberDetails:y}=Sr(),w=kn(),x=m.useCallback(async()=>{o(!0);try{const{data:O,error:B}=await te.from("competitions").select("*").order("start_date",{ascending:!1});if(B)throw B;t(O);const{data:W,error:U}=await te.from("competition_participants").select("*").order("role").order("created_at");if(U)throw U;let K=[];if(W&&W.length>0){const k=[...new Set(W.map(D=>D.member_id))],{data:I,error:F}=await te.from("members").select(`
            id,
            first_name,
            last_name,
            category,
            sexe,
            licence,
            phone,
            email,
            photo_url,
            brevet_federaux,
            title,
            sub_group
          `).in("id",k);if(F)throw F;K=W.map(D=>({...D,members:(I==null?void 0:I.find(H=>H.id===D.member_id))||null})),console.log("Debug ClubCompetitions - Participants enrichis:",K.length),console.log("Debug ClubCompetitions - Exemple:",K[0]),K.forEach((D,H)=>{D.members&&console.log(`Debug Sexe ${H}:`,{nom:`${D.members.last_name} ${D.members.first_name}`,sexe:D.members.sexe,sexeType:typeof D.members.sexe,category:D.members.category})})}const $={};K.forEach(k=>{const I=k.competition_id;$[I]||($[I]=[]),$[I].push(k)}),r($)}catch(O){console.error("Error loading data:",O),v({title:"Erreur",description:"Impossible de charger les compétitions.",variant:"destructive"})}finally{o(!1)}},[v]);m.useEffect(()=>{x()},[x]);const S=async(O,B,W)=>{p(!0);try{const{error:U}=await te.from("competition_participants").update({ranking:B||null,nb_competitor:W||null}).eq("id",O);if(U)throw U;r(K=>{const $={...K};return Object.keys($).forEach(k=>{$[k]=$[k].map(I=>I.id===O?{...I,ranking:B||null,nb_competitor:W||null}:I)}),$}),v({title:"Succès",description:"Classement mis à jour avec succès."}),h(null)}catch(U){console.error("Error updating ranking:",U),v({title:"Erreur",description:"Impossible de mettre à jour le classement.",variant:"destructive"})}finally{p(!1)}},j=()=>{h(null)},b=({isOpen:O,photos:B,currentIndex:W,competitionName:U,onClose:K,onNext:$,onPrev:k})=>(m.useEffect(()=>{const I=F=>{O&&(F.key==="Escape"&&K(),F.key==="ArrowLeft"&&k(),F.key==="ArrowRight"&&$())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[O,K,$,k]),!O||!B.length?null:s.jsx(Mt,{open:O,onOpenChange:K,children:s.jsx(At,{className:"max-w-6xl max-h-[90vh] p-0 bg-black/95 border-0",children:s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[s.jsxs("div",{className:"absolute top-4 left-4 right-4 z-10 flex justify-between items-center text-white",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:U}),s.jsxs("p",{className:"text-sm text-gray-300",children:["Photo ",W+1," sur ",B.length]})]}),s.jsx(X,{variant:"ghost",size:"sm",onClick:K,className:"text-white hover:bg-white/20",children:s.jsx(Er,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-16",children:s.jsx("img",{src:B[W],alt:`Photo ${W+1} de ${U}`,className:"max-w-full max-h-full object-contain rounded-lg",onError:I=>{I.target.style.display="none"}})}),B.length>1&&W>0&&s.jsx(X,{variant:"ghost",size:"lg",onClick:k,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 z-10",children:s.jsx(GF,{className:"w-8 h-8"})}),B.length>1&&W<B.length-1&&s.jsx(X,{variant:"ghost",size:"lg",onClick:$,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 z-10",children:s.jsx(_N,{className:"w-8 h-8"})}),B.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10",children:s.jsx("div",{className:"flex gap-2 bg-black/50 p-2 rounded-lg max-w-md overflow-x-auto",children:B.map((I,F)=>s.jsx("button",{onClick:()=>c(D=>({...D,currentIndex:F})),className:`flex-shrink-0 w-16 h-16 rounded border-2 transition-all ${F===W?"border-white scale-110":"border-gray-500 hover:border-gray-300"}`,children:s.jsx("img",{src:I,alt:`Miniature ${F+1}`,className:"w-full h-full object-cover rounded"})},F))})})]})})})),C=(O,B,W=0)=>{c({isOpen:!0,photos:O,currentIndex:W,competitionName:B})},N=()=>{c({isOpen:!1,photos:[],currentIndex:0,competitionName:""})},A=()=>{c(O=>({...O,currentIndex:(O.currentIndex+1)%O.photos.length}))},P=()=>{c(O=>({...O,currentIndex:O.currentIndex===0?O.photos.length-1:O.currentIndex-1}))},T=({comp:O})=>s.jsxs("div",{className:"flex items-center gap-4 w-full",children:[O.image_url&&s.jsx("img",{src:O.image_url,alt:O.name,className:"w-16 h-16 object-cover rounded-md border border-muted"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:O.name}),O.short_title&&s.jsx("p",{className:"text-sm text-primary font-medium",children:O.short_title})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xo,{className:"w-3 h-3"}),s.jsxs("span",{children:[new Date(O.start_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),O.end_date&&O.end_date!==O.start_date&&s.jsxs(s.Fragment,{children:[" au ",new Date(O.end_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ly,{className:"w-3 h-3"}),s.jsx("span",{children:O.location})]}),O.niveau&&s.jsx(Pe,{variant:"destructive",className:"text-xs",children:O.niveau})]})]}),s.jsxs("div",{onClick:B=>{B.stopPropagation(),w(`/competitions/edit/${O.id}`)},className:"ml-2 opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-3",children:[s.jsx(Qr,{className:"w-4 h-4 mr-1"}),"Modifier"]})]}),R=({competitionId:O})=>{const B=n[O]||[];return console.log("Debug ParticipantsList - competitionId:",O),console.log("Debug ParticipantsList - participants:",B),s.jsx(oq,{participants:B,onParticipantClick:y,compact:!0})};return i?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Compétitions du Club"}),s.jsxs(X,{onClick:()=>w("/competitions/new"),className:"flex items-center gap-2",children:[s.jsx(Ra,{className:"w-4 h-4"}),"Créer une compétition"]})]}),e.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-16",children:"Aucune compétition pour le moment."}):s.jsx(V0,{type:"single",collapsible:!0,className:"w-full space-y-4",children:e.map(O=>s.jsxs(Zf,{value:O.id.toString(),className:"border rounded-lg group",children:[s.jsx(Kf,{className:"hover:no-underline px-4 py-3",children:s.jsx(T,{comp:O})}),s.jsx(Yf,{className:"px-4 pb-4",children:s.jsxs("div",{className:"space-y-6 pt-4",children:[O.description&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:O.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[O.prix&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(KF,{className:"w-4 h-4 text-primary"}),s.jsx("span",{className:"font-medium",children:"Prix d'entrée:"}),s.jsxs("span",{className:"text-muted-foreground",children:[O.prix,"€"]})]}),O.nature&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Nature:"}),s.jsx(Pe,{variant:"secondary",className:"text-xs",children:O.nature})]})]}),O.disciplines&&O.disciplines.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"font-medium",children:"Disciplines:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:O.disciplines.map(B=>s.jsx(Pe,{variant:"outline",className:"text-xs",children:B},B))})]}),O.categories&&O.categories.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm col-span-full",children:[s.jsx("span",{className:"font-medium",children:"Catégories:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:O.categories.map(B=>s.jsx(Pe,{variant:"outline",className:"text-xs",children:B},B))})]})]}),(O.url_registration||O.url_details)&&s.jsxs("div",{children:[s.jsxs("h5",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(lo,{className:"w-4 h-4 text-primary"}),"Liens utiles"]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[O.url_registration&&s.jsx(X,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:O.url_registration,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(lo,{className:"w-3 h-3 mr-1"}),"Inscription"]})}),O.url_details&&s.jsx(X,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:O.url_details,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(Aa,{className:"w-3 h-3 mr-1"}),"Détails"]})})]})]}),O.details_pratiques&&s.jsxs("div",{className:"p-3 bg-muted/30 rounded-md",children:[s.jsx("h5",{className:"font-semibold mb-2",children:"Infos pratiques"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:O.details_pratiques})]}),O.details_format&&s.jsxs("div",{className:"p-3 bg-muted/30 rounded-md",children:[s.jsx("h5",{className:"font-semibold mb-2",children:"Format"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:O.details_format})]}),O.photo_gallery&&O.photo_gallery.length>0&&s.jsxs("div",{children:[s.jsxs("h5",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(nf,{className:"w-4 h-4 text-primary"}),"Photos (",O.photo_gallery.length,")",s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>C(O.photo_gallery,O.name,0),className:"ml-auto flex items-center gap-1",children:[s.jsx(Ib,{className:"w-3 h-3"}),"Voir en grand"]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:O.photo_gallery.map((B,W)=>s.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>C(O.photo_gallery,O.name,W),children:[s.jsx("img",{src:B,alt:`Photo ${W+1}`,className:"w-full h-20 object-cover rounded-md border border-muted transition-all group-hover:brightness-110 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all rounded-md flex items-center justify-center",children:s.jsx(Ib,{className:"w-4 h-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},W))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Yt,{className:"w-5 h-5 text-primary"}),"Participants"]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>w(`/competitions/participants/${O.id}`),className:"flex items-center gap-2",children:[s.jsx(Ra,{className:"w-4 h-4"}),"Ajouter un participant"]})]}),s.jsx(R,{competitionId:O.id})]})]})})]},O.id))}),s.jsx(b,{isOpen:l.isOpen,photos:l.photos,currentIndex:l.currentIndex,competitionName:l.competitionName,onClose:N,onNext:A,onPrev:P}),u&&s.jsx(aq,{participant:u,onSave:S,onCancel:j,isSaving:f})]})},hn=se.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:ce("w-full caption-bottom text-sm",e),...t})}));hn.displayName="Table";const fn=se.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:ce("[&_tr]:border-b",e),...t}));fn.displayName="TableHeader";const mn=se.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:ce("[&_tr:last-child]:border-0",e),...t}));mn.displayName="TableBody";const cq=se.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));cq.displayName="TableFooter";const We=se.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));We.displayName="TableRow";const ge=se.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ge.displayName="TableHead";const ve=se.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ve.displayName="TableCell";const zv=({discipline:e})=>{const t=e.toLowerCase().replace(/ /g,"");let n="default";return t.includes("bloc")?n="bloc":t.includes("difficulté")?n="difficulte":t.includes("vitesse")&&(n="vitesse"),s.jsx(Pe,{variant:n,children:e})},uq=()=>{const e=[{type:"Coupes Régionales",location:"Ambérieu en Bugey",date:"samedi 11 octobre 2025",discipline:"Bloc",note:""},{type:"Coupes Régionales",location:"Cusset Vichy Escalade",date:"samedi 8 novembre 2025",discipline:"Bloc",note:""},{type:"Coupes Régionales",location:"Voiron (U13)",date:"samedi 28 février 2026",discipline:"Vitesse",note:""},{type:"Coupes Régionales",location:"La Dégaine Charbonnière",date:"samedi 28 mars 2026",discipline:"Difficulté et Vitesse",note:""},{type:"Championnats",location:"Voiron (U15)",date:"samedi 28 février 2026",discipline:"Vitesse",note:""},{type:"Championnats",location:"Jonage (U13/U11)",date:"25 et 26 avril 2026",discipline:"Bloc/Difficulté et Vitesse",note:"Organisé par notre club ! Qualificatif France."}],t=[{type:"Coupes Régionales",location:"Marignier",date:"samedi 4 octobre 2025",discipline:"Bloc",note:""},{type:"Coupes Régionales",location:"Clermont Ferrand",date:"samedi 22 novembre 2025",discipline:"Bloc",note:""},{type:"Coupes Régionales",location:"Le Pouzin",date:"samedi 31 janvier 2026",discipline:"Difficulté",note:""},{type:"Coupes Régionales",location:"Pont En Royans",date:"samedi 21 mars 2026",discipline:"Difficulté",note:""},{type:"Championnats",location:"Anse",date:"13 et 14 décembre 2025",discipline:"Bloc",note:"Qualificatif France"},{type:"Championnats",location:"Voiron",date:"samedi 28 février 2026",discipline:"Vitesse",note:"Qualificatif France"},{type:"Championnats",location:"Voiron",date:"18 et 19 avril 2026",discipline:"Difficulté",note:"Qualificatif France"}];return s.jsxs(ue.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-6",children:[s.jsx("h2",{className:"text-3xl font-bold headline",children:"Coupes Régionales AURA"}),s.jsx("p",{className:"text-muted-foreground",children:"Le circuit de la Fédération Française de Montagne et d'Escalade – Ligue Auvergne Rhône Alpes. Notre club participe aux Coupes régionales escalade AURA. La ligue met en place 2 circuits de compétitions répartis sur l’ensemble de la région."}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(X,{asChild:!0,variant:"link",children:s.jsxs("a",{href:"https://www.ffmeaura.fr/competition/coupes-regionales-escalade/",target:"_blank",rel:"noreferrer",children:["Plus d'infos sur les Coupes Régionales ",s.jsx(lo,{className:"w-4 h-4 ml-2"})]})}),s.jsx(X,{asChild:!0,variant:"link",children:s.jsxs("a",{href:"https://www.ffmeaura.fr/competition/championnats-regionaux-escalade/",target:"_blank",rel:"noreferrer",children:["Plus d'infos sur les Championnats Régionaux ",s.jsx(lo,{className:"w-4 h-4 ml-2"})]})})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsx(_e,{children:"U13 / U15"})}),s.jsx(me,{children:s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(We,{children:[s.jsx(ge,{children:"Lieu"}),s.jsx(ge,{children:"Date"}),s.jsx(ge,{children:"Discipline"}),s.jsx(ge,{children:"Note"})]})}),s.jsx(mn,{children:e.map((n,r)=>s.jsxs(We,{children:[s.jsx(ve,{children:n.location}),s.jsx(ve,{children:n.date}),s.jsx(ve,{children:s.jsx(zv,{discipline:n.discipline})}),s.jsx(ve,{children:n.note})]},r))})]})})]}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsx(_e,{children:"U17 / U19 / Senior / Vétéran"})}),s.jsx(me,{children:s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(We,{children:[s.jsx(ge,{children:"Lieu"}),s.jsx(ge,{children:"Date"}),s.jsx(ge,{children:"Discipline"}),s.jsx(ge,{children:"Note"})]})}),s.jsx(mn,{children:t.map((n,r)=>s.jsxs(We,{children:[s.jsx(ve,{children:n.location}),s.jsx(ve,{children:n.date}),s.jsx(ve,{children:s.jsx(zv,{discipline:n.discipline})}),s.jsx(ve,{children:n.note})]},r))})]})})]})]})]})},dq=()=>{const e=[{location:"Corbas",date:"Dimanche 12 Octobre",discipline:"Difficulté",category:"U11/U13/U15",note:""},{location:"Saint-Genis-Laval (Mousteclip)",date:"Dimanche 9 Novembre",discipline:"Difficulté",category:"De U11 à Vet",note:""},{location:"Anse",date:"Mardi 11 Novembre",discipline:"Vitesse",category:"Championnat dep",note:""},{location:"St Pierre de Chandieu",date:"Le samedi 15 et Dimanche 16 Novembre",discipline:"Bloc",category:"De U13 à Vet",note:"Championnat dep"}];return s.jsxs(ue.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-6",children:[s.jsx("h2",{className:"text-3xl font-bold headline",children:"Le contest Tour : Le circuit pour tous !"}),s.jsx("p",{className:"text-muted-foreground",children:"Ce sont des compétitions, près de chez vous, accessibles à tous : débutants, handi-grimpeurs, adultes et enfants. Elles sont conviviales et festives, le format favorise la grimpe : essais illimités, prises bonus, voies en moulinette… Pour garantir l’équité, les meilleurs grimpeurs du territoire n’ont pas le droit de concourir sur ce circuit."}),s.jsx(X,{asChild:!0,variant:"link",children:s.jsxs("a",{href:"https://www.ffme69.fr/competition/departementales-et-metropolitaines/",target:"_blank",rel:"noreferrer",children:["Info FFME69 ",s.jsx(lo,{className:"w-4 h-4 ml-2"})]})}),s.jsx(fe,{children:s.jsx(me,{className:"p-6",children:s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(We,{children:[s.jsx(ge,{children:"Lieu"}),s.jsx(ge,{children:"Date"}),s.jsx(ge,{children:"Discipline"}),s.jsx(ge,{children:"Catégorie"}),s.jsx(ge,{children:"Note"})]})}),s.jsx(mn,{children:e.map((t,n)=>s.jsxs(We,{children:[s.jsx(ve,{children:t.location}),s.jsx(ve,{children:t.date}),s.jsx(ve,{children:s.jsx(zv,{discipline:t.discipline})}),s.jsx(ve,{children:t.category}),s.jsx(ve,{children:t.note})]},n))})]})})})]})},hq=()=>s.jsxs("div",{className:"space-y-12",children:[s.jsx(uq,{}),s.jsx(dq,{})]}),fq=({discipline:e})=>{const t=e.toLowerCase().replace(/ /g,"");let n="default";return t.includes("bloc")?n="bloc":t.includes("difficulté")?n="difficulte":t.includes("vitesse")&&(n="vitesse"),s.jsx(Pe,{variant:n,children:e})},mq=()=>{const e=[{name:"DIDIER Camille",category:"DIFFICULTE-u20",rank:31},{name:"ANTOLINOS Clément",category:"BLOC-u18",rank:42},{name:"SOLEYMIEUX OUSSELIN Lola",category:"DIFFICULTE-Sen",rank:77},{name:"NADRCIC Arsène",category:"BLOC-u18",rank:60},{name:"CAPUANO Olivia",category:"DIFFICULTE-u20",rank:144},{name:"COCHE Eden",category:"DIFFICULTE-u16",rank:63},{name:"POZZOBON Lucie",category:"DIFFICULTE-u18",rank:169},{name:"ROZIE Benoit",category:"DIFFICULTE-u18",rank:70}];return s.jsxs(ue.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"space-y-6",children:[s.jsxs("h2",{className:"text-3xl font-bold headline flex items-center gap-3",children:[s.jsx(ON,{className:"w-8 h-8 text-primary"})," Palmarès 2025"]}),s.jsx("p",{className:"text-xl font-semibold",children:"ALJ Escalade Jonage : 83ème club de France !"}),s.jsx("p",{className:"text-muted-foreground",children:"Félicitations à tous nos compétiteurs pour cette saison exceptionnelle ! Voici les résultats individuels qui ont contribué à ce classement historique."}),s.jsx(fe,{children:s.jsx(me,{className:"p-6",children:s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(We,{children:[s.jsx(ge,{children:"Nom"}),s.jsx(ge,{children:"Discipline/Catégorie"}),s.jsx(ge,{children:"Classement"})]})}),s.jsx(mn,{children:e.map((t,n)=>{const[r,i]=t.category.split("-");return s.jsxs(We,{children:[s.jsx(ve,{children:t.name}),s.jsxs(ve,{className:"flex items-center gap-2",children:[s.jsx(fq,{discipline:r}),s.jsx("span",{children:i})]}),s.jsx(ve,{children:t.rank})]},n)})})]})})})]})};function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(null,arguments)}function zj(e,[t,n]){return Math.min(n,Math.max(t,e))}function Bt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function H0(e,t=[]){let n=[];function r(o,l){const c=m.createContext(l),u=n.length;n=[...n,l];function h(p){const{scope:v,children:y,...w}=p,x=(v==null?void 0:v[e][u])||c,S=m.useMemo(()=>w,Object.values(w));return m.createElement(x.Provider,{value:S},y)}function f(p,v){const y=(v==null?void 0:v[e][u])||c,w=m.useContext(y);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${o}\``)}return h.displayName=o+"Provider",[h,f]}const i=()=>{const o=n.map(l=>m.createContext(l));return function(c){const u=(c==null?void 0:c[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return i.scopeName=e,[r,pq(i,...t)]}function pq(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:u,scopeName:h})=>{const p=u(o)[`__scope${h}`];return{...c,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function gq(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function vR(...e){return t=>e.forEach(n=>gq(n,t))}function sn(...e){return m.useCallback(vR(...e),e)}const Dc=m.forwardRef((e,t)=>{const{children:n,...r}=e,i=m.Children.toArray(n),o=i.find(xq);if(o){const l=o.props.children,c=i.map(u=>u===o?m.Children.count(l)>1?m.Children.only(null):m.isValidElement(l)?l.props.children:null:u);return m.createElement(Vv,Ge({},r,{ref:t}),m.isValidElement(l)?m.cloneElement(l,void 0,c):null)}return m.createElement(Vv,Ge({},r,{ref:t}),n)});Dc.displayName="Slot";const Vv=m.forwardRef((e,t)=>{const{children:n,...r}=e;return m.isValidElement(n)?m.cloneElement(n,{...yq(r,n.props),ref:t?vR(t,n.ref):n.ref}):m.Children.count(n)>1?m.Children.only(null):null});Vv.displayName="SlotClone";const vq=({children:e})=>m.createElement(m.Fragment,null,e);function xq(e){return m.isValidElement(e)&&e.type===vq}function yq(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...c)=>{o(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function _q(e){const t=e+"CollectionProvider",[n,r]=H0(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=y=>{const{scope:w,children:x}=y,S=se.useRef(null),j=se.useRef(new Map).current;return se.createElement(i,{scope:w,itemMap:j,collectionRef:S},x)},c=e+"CollectionSlot",u=se.forwardRef((y,w)=>{const{scope:x,children:S}=y,j=o(c,x),b=sn(w,j.collectionRef);return se.createElement(Dc,{ref:b},S)}),h=e+"CollectionItemSlot",f="data-radix-collection-item",p=se.forwardRef((y,w)=>{const{scope:x,children:S,...j}=y,b=se.useRef(null),C=sn(w,b),N=o(h,x);return se.useEffect(()=>(N.itemMap.set(b,{ref:b,...j}),()=>void N.itemMap.delete(b))),se.createElement(Dc,{[f]:"",ref:C},S)});function v(y){const w=o(e+"CollectionConsumer",y);return se.useCallback(()=>{const S=w.collectionRef.current;if(!S)return[];const j=Array.from(S.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((N,A)=>j.indexOf(N.ref.current)-j.indexOf(A.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:u,ItemSlot:p},v,r]}const wq=m.createContext(void 0);function bq(e){const t=m.useContext(wq);return e||t||"ltr"}const jq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Jt=jq.reduce((e,t)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?Dc:t;return m.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),m.createElement(c,Ge({},l,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Cq(e,t){e&&Xr.flushSync(()=>e.dispatchEvent(t))}function Ei(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function Sq(e,t=globalThis==null?void 0:globalThis.document){const n=Ei(e);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const Hv="dismissableLayer.update",Eq="dismissableLayer.pointerDownOutside",Nq="dismissableLayer.focusOutside";let Vj;const Pq=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tq=m.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...h}=e,f=m.useContext(Pq),[p,v]=m.useState(null),y=(n=p==null?void 0:p.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,w]=m.useState({}),x=sn(t,R=>v(R)),S=Array.from(f.layers),[j]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),b=S.indexOf(j),C=p?S.indexOf(p):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,A=C>=b,P=Aq(R=>{const O=R.target,B=[...f.branches].some(W=>W.contains(O));!A||B||(o==null||o(R),c==null||c(R),R.defaultPrevented||u==null||u())},y),T=kq(R=>{const O=R.target;[...f.branches].some(W=>W.contains(O))||(l==null||l(R),c==null||c(R),R.defaultPrevented||u==null||u())},y);return Sq(R=>{C===f.layers.size-1&&(i==null||i(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},y),m.useEffect(()=>{if(p)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Vj=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),Hj(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Vj)}},[p,y,r,f]),m.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),Hj())},[p,f]),m.useEffect(()=>{const R=()=>w({});return document.addEventListener(Hv,R),()=>document.removeEventListener(Hv,R)},[]),m.createElement(Jt.div,Ge({},h,{ref:x,style:{pointerEvents:N?A?"auto":"none":void 0,...e.style},onFocusCapture:Bt(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Bt(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Bt(e.onPointerDownCapture,P.onPointerDownCapture)}))});function Aq(e,t=globalThis==null?void 0:globalThis.document){const n=Ei(e),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let f=function(){xR(Eq,n,h,{discrete:!0})};var u=f;const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=f,t.addEventListener("click",i.current,{once:!0})):f()}r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function kq(e,t=globalThis==null?void 0:globalThis.document){const n=Ei(e),r=m.useRef(!1);return m.useEffect(()=>{const i=o=>{o.target&&!r.current&&xR(Nq,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Hj(){const e=new CustomEvent(Hv);document.dispatchEvent(e)}function xR(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Cq(i,o):i.dispatchEvent(o)}let Wp=0;function Rq(){m.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Wj()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Wj()),Wp++,()=>{Wp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Wp--}},[])}function Wj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const Gp="focusScope.autoFocusOnMount",qp="focusScope.autoFocusOnUnmount",Gj={bubbles:!1,cancelable:!0},Lq=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[c,u]=m.useState(null),h=Ei(i),f=Ei(o),p=m.useRef(null),v=sn(t,x=>u(x)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let b=function(P){if(y.paused||!c)return;const T=P.target;c.contains(T)?p.current=T:Bi(p.current,{select:!0})},C=function(P){if(y.paused||!c)return;const T=P.relatedTarget;T!==null&&(c.contains(T)||Bi(p.current,{select:!0}))},N=function(P){const T=document.activeElement;for(const R of P)R.removedNodes.length>0&&(c!=null&&c.contains(T)||Bi(c))};var x=b,S=C,j=N;document.addEventListener("focusin",b),document.addEventListener("focusout",C);const A=new MutationObserver(N);return c&&A.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",C),A.disconnect()}}},[r,c,y.paused]),m.useEffect(()=>{if(c){Zj.add(y);const x=document.activeElement;if(!c.contains(x)){const j=new CustomEvent(Gp,Gj);c.addEventListener(Gp,h),c.dispatchEvent(j),j.defaultPrevented||(Oq(Fq(yR(c)),{select:!0}),document.activeElement===x&&Bi(c))}return()=>{c.removeEventListener(Gp,h),setTimeout(()=>{const j=new CustomEvent(qp,Gj);c.addEventListener(qp,f),c.dispatchEvent(j),j.defaultPrevented||Bi(x??document.body,{select:!0}),c.removeEventListener(qp,f),Zj.remove(y)},0)}}},[c,h,f,y]);const w=m.useCallback(x=>{if(!n&&!r||y.paused)return;const S=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,j=document.activeElement;if(S&&j){const b=x.currentTarget,[C,N]=Mq(b);C&&N?!x.shiftKey&&j===N?(x.preventDefault(),n&&Bi(C,{select:!0})):x.shiftKey&&j===C&&(x.preventDefault(),n&&Bi(N,{select:!0})):j===b&&x.preventDefault()}},[n,r,y.paused]);return m.createElement(Jt.div,Ge({tabIndex:-1},l,{ref:v,onKeyDown:w}))});function Oq(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Bi(r,{select:t}),document.activeElement!==n)return}function Mq(e){const t=yR(e),n=qj(t,e),r=qj(t.reverse(),e);return[n,r]}function yR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function qj(e,t){for(const n of e)if(!Iq(n,{upTo:t}))return n}function Iq(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Dq(e){return e instanceof HTMLInputElement&&"select"in e}function Bi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Dq(e)&&t&&e.select()}}const Zj=$q();function $q(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Kj(e,t),e.unshift(t)},remove(t){var n;e=Kj(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function Kj(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Fq(e){return e.filter(t=>t.tagName!=="A")}const ar=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Bq=Uc["useId".toString()]||(()=>{});let Uq=0;function _R(e){const[t,n]=m.useState(Bq());return ar(()=>{e||n(r=>r??String(Uq++))},[e]),e||(t?`radix-${t}`:"")}function zq(e){const[t,n]=m.useState(void 0);return ar(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,c;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,c=h.blockSize}else l=e.offsetWidth,c=e.offsetHeight;n({width:l,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const wR="Popper",[bR,jR]=H0(wR),[Vq,CR]=bR(wR),Hq=e=>{const{__scopePopper:t,children:n}=e,[r,i]=m.useState(null);return m.createElement(Vq,{scope:t,anchor:r,onAnchorChange:i},n)},Wq="PopperAnchor",Gq=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=CR(Wq,n),l=m.useRef(null),c=sn(t,l);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:m.createElement(Jt.div,Ge({},i,{ref:c}))}),SR="PopperContent",[qq,iee]=bR(SR),Zq=m.forwardRef((e,t)=>{var n,r,i,o,l,c,u,h;const{__scopePopper:f,side:p="bottom",sideOffset:v=0,align:y="center",alignOffset:w=0,arrowPadding:x=0,collisionBoundary:S=[],collisionPadding:j=0,sticky:b="partial",hideWhenDetached:C=!1,avoidCollisions:N=!0,onPlaced:A,...P}=e,T=CR(SR,f),[R,O]=m.useState(null),B=sn(t,Ke=>O(Ke)),[W,U]=m.useState(null),K=zq(W),$=(n=K==null?void 0:K.width)!==null&&n!==void 0?n:0,k=(r=K==null?void 0:K.height)!==null&&r!==void 0?r:0,I=p+(y!=="center"?"-"+y:""),F=typeof j=="number"?j:{top:0,right:0,bottom:0,left:0,...j},D=Array.isArray(S)?S:[S],H=D.length>0,G={padding:F,boundary:D.filter(Kq),altBoundary:H},{refs:ee,floatingStyles:z,placement:Z,isPositioned:q,middlewareData:Q}=d0({strategy:"fixed",placement:I,whileElementsMounted:u0,elements:{reference:T.anchor},middleware:[h0({mainAxis:v+k,alignmentAxis:w}),N&&f0({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?m0():void 0,...G}),N&&p0({...G}),g0({...G,apply:({elements:Ke,rects:xn,availableWidth:qn,availableHeight:Ln})=>{const{width:Tr,height:On}=xn.reference,As=Ke.floating.style;As.setProperty("--radix-popper-available-width",`${qn}px`),As.setProperty("--radix-popper-available-height",`${Ln}px`),As.setProperty("--radix-popper-anchor-width",`${Tr}px`),As.setProperty("--radix-popper-anchor-height",`${On}px`)}}),W&&x0({element:W,padding:x}),Yq({arrowWidth:$,arrowHeight:k}),C&&v0({strategy:"referenceHidden"})]}),[ie,ne]=ER(Z),de=Ei(A);ar(()=>{q&&(de==null||de())},[q,de]);const Se=(i=Q.arrow)===null||i===void 0?void 0:i.x,je=(o=Q.arrow)===null||o===void 0?void 0:o.y,Ne=((l=Q.arrow)===null||l===void 0?void 0:l.centerOffset)!==0,[ke,ze]=m.useState();return ar(()=>{R&&ze(window.getComputedStyle(R).zIndex)},[R]),m.createElement("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:q?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(c=Q.transformOrigin)===null||c===void 0?void 0:c.x,(u=Q.transformOrigin)===null||u===void 0?void 0:u.y].join(" ")},dir:e.dir},m.createElement(qq,{scope:f,placedSide:ie,onArrowChange:U,arrowX:Se,arrowY:je,shouldHideArrow:Ne},m.createElement(Jt.div,Ge({"data-side":ie,"data-align":ne},P,{ref:B,style:{...P.style,animation:q?void 0:"none",opacity:(h=Q.hide)!==null&&h!==void 0&&h.referenceHidden?0:void 0}}))))});function Kq(e){return e!==null}const Yq=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,o,l;const{placement:c,rects:u,middlewareData:h}=t,p=((n=h.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,v=p?0:e.arrowWidth,y=p?0:e.arrowHeight,[w,x]=ER(c),S={start:"0%",center:"50%",end:"100%"}[x],j=((r=(i=h.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+v/2,b=((o=(l=h.arrow)===null||l===void 0?void 0:l.y)!==null&&o!==void 0?o:0)+y/2;let C="",N="";return w==="bottom"?(C=p?S:`${j}px`,N=`${-y}px`):w==="top"?(C=p?S:`${j}px`,N=`${u.floating.height+y}px`):w==="right"?(C=`${-y}px`,N=p?S:`${b}px`):w==="left"&&(C=`${u.floating.width+y}px`,N=p?S:`${b}px`),{data:{x:C,y:N}}}});function ER(e){const[t,n="center"]=e.split("-");return[t,n]}const Jq=Hq,Xq=Gq,Qq=Zq,eZ=m.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?Qx.createPortal(m.createElement(Jt.div,Ge({},i,{ref:t})),r):null});function Yj({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=tZ({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:r,c=Ei(n),u=m.useCallback(h=>{if(o){const p=typeof h=="function"?h(e):h;p!==e&&c(p)}else i(h)},[o,e,i,c]);return[l,u]}function tZ({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,i=m.useRef(r),o=Ei(t);return m.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function nZ(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const rZ=m.forwardRef((e,t)=>m.createElement(Jt.span,Ge({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var NR=i2(),Zp=function(){},Jf=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:Zp,onWheelCapture:Zp,onTouchMoveCapture:Zp}),i=r[0],o=r[1],l=e.forwardProps,c=e.children,u=e.className,h=e.removeScrollBar,f=e.enabled,p=e.shards,v=e.sideCar,y=e.noIsolation,w=e.inert,x=e.allowPinchZoom,S=e.as,j=S===void 0?"div":S,b=qy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),C=v,N=r2([n,t]),A=nn(nn({},b),i);return m.createElement(m.Fragment,null,f&&m.createElement(C,{sideCar:NR,removeScrollBar:h,shards:p,noIsolation:y,inert:w,setCallbacks:o,allowPinchZoom:!!x,lockRef:n}),l?m.cloneElement(m.Children.only(c),nn(nn({},A),{ref:N})):m.createElement(j,nn({},A,{className:u,ref:N}),c))});Jf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jf.classNames={fullWidth:sc,zeroRight:ic};var Wv=!1;if(typeof window<"u")try{var hd=Object.defineProperty({},"passive",{get:function(){return Wv=!0,!0}});window.addEventListener("test",hd,hd),window.removeEventListener("test",hd,hd)}catch{Wv=!1}var zo=Wv?{passive:!1}:!1,iZ=function(e){return e.tagName==="TEXTAREA"},PR=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!iZ(e)&&n[t]==="visible")},sZ=function(e){return PR(e,"overflowY")},oZ=function(e){return PR(e,"overflowX")},Jj=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=TR(e,n);if(r){var i=AR(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},aZ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},lZ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},TR=function(e,t){return e==="v"?sZ(t):oZ(t)},AR=function(e,t){return e==="v"?aZ(t):lZ(t)},cZ=function(e,t){return e==="h"&&t==="rtl"?-1:1},uZ=function(e,t,n,r,i){var o=cZ(e,window.getComputedStyle(t).direction),l=o*r,c=n.target,u=t.contains(c),h=!1,f=l>0,p=0,v=0;do{var y=AR(e,c),w=y[0],x=y[1],S=y[2],j=x-S-o*w;(w||j)&&TR(e,c)&&(p+=j,v+=w),c=c.parentNode}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(f&&(i&&p===0||!i&&l>p)||!f&&(i&&v===0||!i&&-l>v))&&(h=!0),h},fd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Xj=function(e){return[e.deltaX,e.deltaY]},Qj=function(e){return e&&"current"in e?e.current:e},dZ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hZ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fZ=0,Vo=[];function mZ(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(fZ++)[0],o=m.useState(function(){return Zy()})[0],l=m.useRef(e);m.useEffect(function(){l.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=n2([e.lockRef.current],(e.shards||[]).map(Qj),!0).filter(Boolean);return x.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=m.useCallback(function(x,S){if("touches"in x&&x.touches.length===2)return!l.current.allowPinchZoom;var j=fd(x),b=n.current,C="deltaX"in x?x.deltaX:b[0]-j[0],N="deltaY"in x?x.deltaY:b[1]-j[1],A,P=x.target,T=Math.abs(C)>Math.abs(N)?"h":"v";if("touches"in x&&T==="h"&&P.type==="range")return!1;var R=Jj(T,P);if(!R)return!0;if(R?A=T:(A=T==="v"?"h":"v",R=Jj(T,P)),!R)return!1;if(!r.current&&"changedTouches"in x&&(C||N)&&(r.current=A),!A)return!0;var O=r.current||A;return uZ(O,S,x,O==="h"?C:N,!0)},[]),u=m.useCallback(function(x){var S=x;if(!(!Vo.length||Vo[Vo.length-1]!==o)){var j="deltaY"in S?Xj(S):fd(S),b=t.current.filter(function(A){return A.name===S.type&&A.target===S.target&&dZ(A.delta,j)})[0];if(b&&b.should){S.cancelable&&S.preventDefault();return}if(!b){var C=(l.current.shards||[]).map(Qj).filter(Boolean).filter(function(A){return A.contains(S.target)}),N=C.length>0?c(S,C[0]):!l.current.noIsolation;N&&S.cancelable&&S.preventDefault()}}},[]),h=m.useCallback(function(x,S,j,b){var C={name:x,delta:S,target:j,should:b};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(N){return N!==C})},1)},[]),f=m.useCallback(function(x){n.current=fd(x),r.current=void 0},[]),p=m.useCallback(function(x){h(x.type,Xj(x),x.target,c(x,e.lockRef.current))},[]),v=m.useCallback(function(x){h(x.type,fd(x),x.target,c(x,e.lockRef.current))},[]);m.useEffect(function(){return Vo.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",u,zo),document.addEventListener("touchmove",u,zo),document.addEventListener("touchstart",f,zo),function(){Vo=Vo.filter(function(x){return x!==o}),document.removeEventListener("wheel",u,zo),document.removeEventListener("touchmove",u,zo),document.removeEventListener("touchstart",f,zo)}},[]);var y=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:hZ(i)}):null,y?m.createElement(l2,{gapMode:"margin"}):null)}const pZ=o2(NR,mZ);var kR=m.forwardRef(function(e,t){return m.createElement(Jf,nn({},e,{ref:t,sideCar:pZ}))});kR.classNames=Jf.classNames;const gZ=kR,vZ=[" ","Enter","ArrowUp","ArrowDown"],xZ=[" ","Enter"],Xf="Select",[Qf,em,yZ]=_q(Xf),[Qa,see]=H0(Xf,[yZ,jR]),W0=jR(),[_Z,Co]=Qa(Xf),[wZ,bZ]=Qa(Xf),jZ=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:l,defaultValue:c,onValueChange:u,dir:h,name:f,autoComplete:p,disabled:v,required:y}=e,w=W0(t),[x,S]=m.useState(null),[j,b]=m.useState(null),[C,N]=m.useState(!1),A=bq(h),[P=!1,T]=Yj({prop:r,defaultProp:i,onChange:o}),[R,O]=Yj({prop:l,defaultProp:c,onChange:u}),B=m.useRef(null),W=x?!!x.closest("form"):!0,[U,K]=m.useState(new Set),$=Array.from(U).map(k=>k.props.value).join(";");return m.createElement(Jq,w,m.createElement(_Z,{required:y,scope:t,trigger:x,onTriggerChange:S,valueNode:j,onValueNodeChange:b,valueNodeHasChildren:C,onValueNodeHasChildrenChange:N,contentId:_R(),value:R,onValueChange:O,open:P,onOpenChange:T,dir:A,triggerPointerDownPosRef:B,disabled:v},m.createElement(Qf.Provider,{scope:t},m.createElement(wZ,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(k=>{K(I=>new Set(I).add(k))},[]),onNativeOptionRemove:m.useCallback(k=>{K(I=>{const F=new Set(I);return F.delete(k),F})},[])},n)),W?m.createElement(MR,{key:$,"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:p,value:R,onChange:k=>O(k.target.value),disabled:v},R===void 0?m.createElement("option",{value:""}):null,Array.from(U)):null))},CZ="SelectTrigger",SZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=W0(n),l=Co(CZ,n),c=l.disabled||r,u=sn(t,l.onTriggerChange),h=em(n),[f,p,v]=IR(w=>{const x=h().filter(b=>!b.disabled),S=x.find(b=>b.value===l.value),j=DR(x,w,S);j!==void 0&&l.onValueChange(j.value)}),y=()=>{c||(l.onOpenChange(!0),v())};return m.createElement(Xq,Ge({asChild:!0},o),m.createElement(Jt.button,Ge({type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":l.value===void 0?"":void 0},i,{ref:u,onClick:Bt(i.onClick,w=>{w.currentTarget.focus()}),onPointerDown:Bt(i.onPointerDown,w=>{const x=w.target;x.hasPointerCapture(w.pointerId)&&x.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&(y(),l.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)},w.preventDefault())}),onKeyDown:Bt(i.onKeyDown,w=>{const x=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(x&&w.key===" ")&&vZ.includes(w.key)&&(y(),w.preventDefault())})})))}),EZ="SelectValue",NZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:l,...c}=e,u=Co(EZ,n),{onValueNodeHasChildrenChange:h}=u,f=o!==void 0,p=sn(t,u.onValueNodeChange);return ar(()=>{h(f)},[h,f]),m.createElement(Jt.span,Ge({},c,{ref:p,style:{pointerEvents:"none"}}),u.value===void 0&&l!==void 0?l:o)}),PZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return m.createElement(Jt.span,Ge({"aria-hidden":!0},i,{ref:t}),r||"▼")}),TZ=e=>m.createElement(eZ,Ge({asChild:!0},e)),Fa="SelectContent",AZ=m.forwardRef((e,t)=>{const n=Co(Fa,e.__scopeSelect),[r,i]=m.useState();if(ar(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Xr.createPortal(m.createElement(RR,{scope:e.__scopeSelect},m.createElement(Qf.Slot,{scope:e.__scopeSelect},m.createElement("div",null,e.children))),o):null}return m.createElement(kZ,Ge({},e,{ref:t}))}),ui=10,[RR,So]=Qa(Fa),kZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:u,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:v,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:S,...j}=e,b=Co(Fa,n),[C,N]=m.useState(null),[A,P]=m.useState(null),T=sn(t,ne=>N(ne)),[R,O]=m.useState(null),[B,W]=m.useState(null),U=em(n),[K,$]=m.useState(!1),k=m.useRef(!1);m.useEffect(()=>{if(C)return Af(C)},[C]),Rq();const I=m.useCallback(ne=>{const[de,...Se]=U().map(ke=>ke.ref.current),[je]=Se.slice(-1),Ne=document.activeElement;for(const ke of ne)if(ke===Ne||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===de&&A&&(A.scrollTop=0),ke===je&&A&&(A.scrollTop=A.scrollHeight),ke==null||ke.focus(),document.activeElement!==Ne))return},[U,A]),F=m.useCallback(()=>I([R,C]),[I,R,C]);m.useEffect(()=>{K&&F()},[K,F]);const{onOpenChange:D,triggerPointerDownPosRef:H}=b;m.useEffect(()=>{if(C){let ne={x:0,y:0};const de=je=>{var Ne,ke,ze,Ke;ne={x:Math.abs(Math.round(je.pageX)-((Ne=(ke=H.current)===null||ke===void 0?void 0:ke.x)!==null&&Ne!==void 0?Ne:0)),y:Math.abs(Math.round(je.pageY)-((ze=(Ke=H.current)===null||Ke===void 0?void 0:Ke.y)!==null&&ze!==void 0?ze:0))}},Se=je=>{ne.x<=10&&ne.y<=10?je.preventDefault():C.contains(je.target)||D(!1),document.removeEventListener("pointermove",de),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",Se,{capture:!0})}}},[C,D,H]),m.useEffect(()=>{const ne=()=>D(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[D]);const[G,ee]=IR(ne=>{const de=U().filter(Ne=>!Ne.disabled),Se=de.find(Ne=>Ne.ref.current===document.activeElement),je=DR(de,ne,Se);je&&setTimeout(()=>je.ref.current.focus())}),z=m.useCallback((ne,de,Se)=>{const je=!k.current&&!Se;(b.value!==void 0&&b.value===de||je)&&(O(ne),je&&(k.current=!0))},[b.value]),Z=m.useCallback(()=>C==null?void 0:C.focus(),[C]),q=m.useCallback((ne,de,Se)=>{const je=!k.current&&!Se;(b.value!==void 0&&b.value===de||je)&&W(ne)},[b.value]),Q=r==="popper"?eC:RZ,ie=Q===eC?{side:c,sideOffset:u,align:h,alignOffset:f,arrowPadding:p,collisionBoundary:v,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:S}:{};return m.createElement(RR,{scope:n,content:C,viewport:A,onViewportChange:P,itemRefCallback:z,selectedItem:R,onItemLeave:Z,itemTextRefCallback:q,focusSelectedItem:F,selectedItemText:B,position:r,isPositioned:K,searchRef:G},m.createElement(gZ,{as:Dc,allowPinchZoom:!0},m.createElement(Lq,{asChild:!0,trapped:b.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Bt(i,ne=>{var de;(de=b.trigger)===null||de===void 0||de.focus({preventScroll:!0}),ne.preventDefault()})},m.createElement(Tq,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>b.onOpenChange(!1)},m.createElement(Q,Ge({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ne=>ne.preventDefault()},j,ie,{onPlaced:()=>$(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Bt(j.onKeyDown,ne=>{const de=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!de&&ne.key.length===1&&ee(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let je=U().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Ne=ne.target,ke=je.indexOf(Ne);je=je.slice(ke+1)}setTimeout(()=>I(je)),ne.preventDefault()}})}))))))}),RZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=Co(Fa,n),l=So(Fa,n),[c,u]=m.useState(null),[h,f]=m.useState(null),p=sn(t,T=>f(T)),v=em(n),y=m.useRef(!1),w=m.useRef(!0),{viewport:x,selectedItem:S,selectedItemText:j,focusSelectedItem:b}=l,C=m.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&h&&x&&S&&j){const T=o.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),B=j.getBoundingClientRect();if(o.dir!=="rtl"){const Ne=B.left-R.left,ke=O.left-Ne,ze=T.left-ke,Ke=T.width+ze,xn=Math.max(Ke,R.width),qn=window.innerWidth-ui,Ln=zj(ke,[ui,qn-xn]);c.style.minWidth=Ke+"px",c.style.left=Ln+"px"}else{const Ne=R.right-B.right,ke=window.innerWidth-O.right-Ne,ze=window.innerWidth-T.right-ke,Ke=T.width+ze,xn=Math.max(Ke,R.width),qn=window.innerWidth-ui,Ln=zj(ke,[ui,qn-xn]);c.style.minWidth=Ke+"px",c.style.right=Ln+"px"}const W=v(),U=window.innerHeight-ui*2,K=x.scrollHeight,$=window.getComputedStyle(h),k=parseInt($.borderTopWidth,10),I=parseInt($.paddingTop,10),F=parseInt($.borderBottomWidth,10),D=parseInt($.paddingBottom,10),H=k+I+K+D+F,G=Math.min(S.offsetHeight*5,H),ee=window.getComputedStyle(x),z=parseInt(ee.paddingTop,10),Z=parseInt(ee.paddingBottom,10),q=T.top+T.height/2-ui,Q=U-q,ie=S.offsetHeight/2,ne=S.offsetTop+ie,de=k+I+ne,Se=H-de;if(de<=q){const Ne=S===W[W.length-1].ref.current;c.style.bottom="0px";const ke=h.clientHeight-x.offsetTop-x.offsetHeight,ze=Math.max(Q,ie+(Ne?Z:0)+ke+F),Ke=de+ze;c.style.height=Ke+"px"}else{const Ne=S===W[0].ref.current;c.style.top="0px";const ze=Math.max(q,k+x.offsetTop+(Ne?z:0)+ie)+Se;c.style.height=ze+"px",x.scrollTop=de-q+x.offsetTop}c.style.margin=`${ui}px 0`,c.style.minHeight=G+"px",c.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[v,o.trigger,o.valueNode,c,h,x,S,j,o.dir,r]);ar(()=>C(),[C]);const[N,A]=m.useState();ar(()=>{h&&A(window.getComputedStyle(h).zIndex)},[h]);const P=m.useCallback(T=>{T&&w.current===!0&&(C(),b==null||b(),w.current=!1)},[C,b]);return m.createElement(LZ,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:P},m.createElement("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N}},m.createElement(Jt.div,Ge({},i,{ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),eC=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ui,...o}=e,l=W0(n);return m.createElement(Qq,Ge({},l,o,{ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[LZ,G0]=Qa(Fa,{}),tC="SelectViewport",OZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=So(tC,n),o=G0(tC,n),l=sn(t,i.onViewportChange),c=m.useRef(0);return m.createElement(m.Fragment,null,m.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),m.createElement(Qf.Slot,{scope:n},m.createElement(Jt.div,Ge({"data-radix-select-viewport":"",role:"presentation"},r,{ref:l,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:Bt(r.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const v=Math.abs(c.current-h.scrollTop);if(v>0){const y=window.innerHeight-ui*2,w=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),S=Math.max(w,x);if(S<y){const j=S+v,b=Math.min(y,j),C=j-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})}))))}),MZ="SelectGroup",[oee,IZ]=Qa(MZ),DZ="SelectLabel",$Z=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=IZ(DZ,n);return m.createElement(Jt.div,Ge({id:i.id},r,{ref:t}))}),Gv="SelectItem",[FZ,LR]=Qa(Gv),BZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...l}=e,c=Co(Gv,n),u=So(Gv,n),h=c.value===r,[f,p]=m.useState(o??""),[v,y]=m.useState(!1),w=sn(t,j=>{var b;return(b=u.itemRefCallback)===null||b===void 0?void 0:b.call(u,j,r,i)}),x=_R(),S=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};return m.createElement(FZ,{scope:n,value:r,disabled:i,textId:x,isSelected:h,onItemTextChange:m.useCallback(j=>{p(b=>{var C;return b||((C=j==null?void 0:j.textContent)!==null&&C!==void 0?C:"").trim()})},[])},m.createElement(Qf.ItemSlot,{scope:n,value:r,disabled:i,textValue:f},m.createElement(Jt.div,Ge({role:"option","aria-labelledby":x,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},l,{ref:w,onFocus:Bt(l.onFocus,()=>y(!0)),onBlur:Bt(l.onBlur,()=>y(!1)),onPointerUp:Bt(l.onPointerUp,S),onPointerMove:Bt(l.onPointerMove,j=>{if(i){var b;(b=u.onItemLeave)===null||b===void 0||b.call(u)}else j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Bt(l.onPointerLeave,j=>{if(j.currentTarget===document.activeElement){var b;(b=u.onItemLeave)===null||b===void 0||b.call(u)}}),onKeyDown:Bt(l.onKeyDown,j=>{var b;((b=u.searchRef)===null||b===void 0?void 0:b.current)!==""&&j.key===" "||(xZ.includes(j.key)&&S(),j.key===" "&&j.preventDefault())})}))))}),md="SelectItemText",UZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,l=Co(md,n),c=So(md,n),u=LR(md,n),h=bZ(md,n),[f,p]=m.useState(null),v=sn(t,j=>p(j),u.onItemTextChange,j=>{var b;return(b=c.itemTextRefCallback)===null||b===void 0?void 0:b.call(c,j,u.value,u.disabled)}),y=f==null?void 0:f.textContent,w=m.useMemo(()=>m.createElement("option",{key:u.value,value:u.value,disabled:u.disabled},y),[u.disabled,u.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:S}=h;return ar(()=>(x(w),()=>S(w)),[x,S,w]),m.createElement(m.Fragment,null,m.createElement(Jt.span,Ge({id:u.textId},o,{ref:v})),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Xr.createPortal(o.children,l.valueNode):null)}),zZ="SelectItemIndicator",VZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return LR(zZ,n).isSelected?m.createElement(Jt.span,Ge({"aria-hidden":!0},r,{ref:t})):null}),nC="SelectScrollUpButton",HZ=m.forwardRef((e,t)=>{const n=So(nC,e.__scopeSelect),r=G0(nC,e.__scopeSelect),[i,o]=m.useState(!1),l=sn(t,r.onScrollButtonChange);return ar(()=>{if(n.viewport&&n.isPositioned){let h=function(){const f=u.scrollTop>0;o(f)};var c=h;const u=n.viewport;return h(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),i?m.createElement(OR,Ge({},e,{ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}})):null}),rC="SelectScrollDownButton",WZ=m.forwardRef((e,t)=>{const n=So(rC,e.__scopeSelect),r=G0(rC,e.__scopeSelect),[i,o]=m.useState(!1),l=sn(t,r.onScrollButtonChange);return ar(()=>{if(n.viewport&&n.isPositioned){let h=function(){const f=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<f;o(p)};var c=h;const u=n.viewport;return h(),u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),i?m.createElement(OR,Ge({},e,{ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}})):null}),OR=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=So("SelectScrollButton",n),l=m.useRef(null),c=em(n),u=m.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return m.useEffect(()=>()=>u(),[u]),ar(()=>{var h;const f=c().find(p=>p.ref.current===document.activeElement);f==null||(h=f.ref.current)===null||h===void 0||h.scrollIntoView({block:"nearest"})},[c]),m.createElement(Jt.div,Ge({"aria-hidden":!0},i,{ref:t,style:{flexShrink:0,...i.style},onPointerDown:Bt(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Bt(i.onPointerMove,()=>{var h;(h=o.onItemLeave)===null||h===void 0||h.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Bt(i.onPointerLeave,()=>{u()})}))}),GZ=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return m.createElement(Jt.div,Ge({"aria-hidden":!0},r,{ref:t}))}),MR=m.forwardRef((e,t)=>{const{value:n,...r}=e,i=m.useRef(null),o=sn(t,i),l=nZ(n);return m.useEffect(()=>{const c=i.current,u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==n&&f){const p=new Event("change",{bubbles:!0});f.call(c,n),c.dispatchEvent(p)}},[l,n]),m.createElement(rZ,{asChild:!0},m.createElement("select",Ge({},r,{ref:o,defaultValue:n})))});MR.displayName="BubbleSelect";function IR(e){const t=Ei(e),n=m.useRef(""),r=m.useRef(0),i=m.useCallback(l=>{const c=n.current+l;t(c),function u(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(c)},[t]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function DR(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=qZ(e,Math.max(o,0));i.length===1&&(l=l.filter(h=>h!==n));const u=l.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function qZ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const ZZ=jZ,$R=SZ,KZ=NZ,YZ=PZ,JZ=TZ,FR=AZ,XZ=OZ,BR=$Z,UR=BZ,QZ=UZ,eK=VZ,zR=HZ,VR=WZ,HR=GZ,Qe=ZZ,et=KZ,Ye=se.forwardRef(({className:e,children:t,...n},r)=>s.jsxs($R,{ref:r,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(YZ,{asChild:!0,children:s.jsx(iy,{className:"h-4 w-4 opacity-50"})})]}));Ye.displayName=$R.displayName;const WR=se.forwardRef(({className:e,...t},n)=>s.jsx(zR,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(qF,{className:"h-4 w-4"})}));WR.displayName=zR.displayName;const GR=se.forwardRef(({className:e,...t},n)=>s.jsx(VR,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(iy,{className:"h-4 w-4"})}));GR.displayName=VR.displayName;const Je=se.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>s.jsx(JZ,{children:s.jsxs(FR,{ref:i,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(WR,{}),s.jsx(XZ,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(GR,{})]})}));Je.displayName=FR.displayName;const tK=se.forwardRef(({className:e,...t},n)=>s.jsx(BR,{ref:n,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));tK.displayName=BR.displayName;const Ce=se.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(UR,{ref:r,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(eK,{children:s.jsx(ry,{className:"h-4 w-4"})})}),s.jsx(QZ,{children:t})]}));Ce.displayName=UR.displayName;const nK=se.forwardRef(({className:e,...t},n)=>s.jsx(HR,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",e),...t}));nK.displayName=HR.displayName;const qv={educational_game:"Jeu éducatif",warm_up_exercise:"Exercice d'échauffement",strength_exercise:"Exercice de renfo",review_sheet:"Fiche de révision",technical_sheet:"Fiche technique",safety_sheet:"Fiche sécurité",meeting_report:"Compte rendu de réunion"},rK=({sheet:e})=>{const t=()=>{switch(e.type){case"video_url":return s.jsx(DN,{className:"w-8 h-8 text-red-500"});case"image_file":return s.jsx(qc,{className:"w-8 h-8 text-blue-500"});case"document_file":case"document_url":return s.jsx(rr,{className:"w-8 h-8 text-green-500"});default:return s.jsx(ka,{className:"w-8 h-8 text-gray-500"})}},n=()=>{var i;if(e.thumbnail_url)return e.thumbnail_url;if(e.type==="image_file")return e.url;if(e.type==="video_url"){const o=((i=e.url.split("v=")[1])==null?void 0:i.split("&")[0])||e.url.split("/").pop();if(e.url.includes("youtube.com")||e.url.includes("youtu.be"))return`https://img.youtube.com/vi/${o}/mqdefault.jpg`}return null},r=()=>{switch(e.sheet_type){case"educational_game":return s.jsx(ay,{className:"w-4 h-4"});case"warm_up_exercise":return s.jsx(sy,{className:"w-4 h-4"});case"strength_exercise":return s.jsx(rf,{className:"w-4 h-4"});case"review_sheet":return s.jsx(oy,{className:"w-4 h-4"});case"technical_sheet":return s.jsx(rr,{className:"w-4 h-4"});case"safety_sheet":return s.jsx(mh,{className:"w-4 h-4"});case"meeting_report":return s.jsx(rr,{className:"w-4 h-4"});default:return null}};return s.jsx(ue.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:s.jsxs(fe,{className:"h-full flex flex-col",children:[s.jsx(ye,{className:"pb-4",children:s.jsxs("div",{className:"flex gap-4",children:[n()?s.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"shrink-0",children:s.jsx("img",{src:n(),alt:e.title,className:"w-24 h-16 object-cover rounded-md hover:opacity-80 transition-opacity"})}):s.jsx("div",{className:"w-24 h-16 flex items-center justify-center bg-muted rounded-md shrink-0",children:t()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(_e,{className:"text-lg leading-tight mb-2",children:e.title}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.sheet_type&&s.jsxs(Pe,{variant:"outline",className:"flex items-center gap-1 text-xs",children:[r(),qv[e.sheet_type]]}),e.structure&&s.jsx(Pe,{variant:"secondary",className:"text-xs",children:e.structure}),(e.categories||[]).map(i=>s.jsx(Pe,{className:"text-xs",children:i},i))]})]})]})}),e.description&&s.jsx(me,{className:"pt-0",children:s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:e.description})}),s.jsx(me,{className:"pt-2 mt-auto",children:s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-primary hover:underline",children:[t(),"Consulter la ressource"]})})]})})},iK=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(null),[i,o]=m.useState([]),[l,c]=m.useState(!0),[u,h]=m.useState(""),[f,p]=m.useState(""),[v,y]=m.useState(""),[w,x]=m.useState(""),[S,j]=m.useState(!1),[b,C]=m.useState(!1),{toast:N}=tt(),A=m.useMemo(()=>e?e.filter($=>{var H,G;const k=!u||((H=$.title)==null?void 0:H.toLowerCase().includes(u.toLowerCase()))||((G=$.description)==null?void 0:G.toLowerCase().includes(u.toLowerCase())),I=!f||$.sheet_type===f,F=!v||$.structure===v,D=!w||$.categories&&$.categories.includes(w);return k&&I&&F&&D}):[],[e,u,f,v,w]),P=m.useMemo(()=>{const $=e.map(k=>k.structure).filter(Boolean);return[...new Set($)]},[e]),T=m.useMemo(()=>{const $=e.flatMap(k=>k.categories||[]);return[...new Set($)]},[e]),R=()=>{h(""),p(""),y(""),x(""),r(null)},O=async $=>{if(i.some(I=>I.pedagogy_sheet_id===$.id)){N({title:"Information",description:"Cette fiche est déjà sauvegardée.",variant:"default"}),j(!1);return}r($),j(!1),await U($.id)},B=m.useCallback(async()=>{c(!0);try{const{data:$,error:k}=await te.from("pedagogy_sheets").select("*").order("title");if(k)throw k;t($||[])}catch($){console.error("Error fetching pedagogy sheets:",$),N({title:"Erreur",description:"Impossible de charger les fiches pédagogiques.",variant:"destructive"})}finally{c(!1)}},[N]),W=m.useCallback(async()=>{try{const{data:$,error:k}=await te.from("vocabulary_sheets").select(`
          id,
          pedagogy_sheet_id,
          created_at,
          pedagogy_sheets (*)
        `).order("created_at",{ascending:!1});if(k)if(k.code==="PGRST205")console.log("Table vocabulary_sheets pas encore créée"),o([]),N({title:"Information",description:"Table vocabulary_sheets non trouvée. Veuillez créer la table en base.",variant:"default"});else throw k;else o($||[])}catch($){console.error("Error fetching saved sheets:",$),o([]),N({title:"Erreur",description:"Impossible de charger les fiches sauvegardées.",variant:"destructive"})}},[N]),U=async $=>{C(!0);try{const{data:k,error:I}=await te.from("vocabulary_sheets").insert([{pedagogy_sheet_id:$}]).select(`
          id,
          pedagogy_sheet_id,
          created_at,
          pedagogy_sheets (*)
        `);if(I)if(I.code==="PGRST205")N({title:"Table manquante",description:"La table vocabulary_sheets n'existe pas. Veuillez créer la table en base de données.",variant:"destructive"});else throw I;else o(F=>[k[0],...F]),N({title:"Succès",description:"Fiche sauvegardée avec succès !"})}catch(k){console.error("Error saving sheet:",k),N({title:"Erreur",description:`Impossible de sauvegarder la fiche: ${k.message}`,variant:"destructive"})}finally{C(!1)}},K=async $=>{try{const{error:k}=await te.from("vocabulary_sheets").delete().eq("id",$);if(k)throw k;o(I=>I.filter(F=>F.id!==$)),N({title:"Succès",description:"Fiche supprimée avec succès !"})}catch(k){console.error("Error removing sheet:",k),N({title:"Erreur",description:"Impossible de supprimer la fiche.",variant:"destructive"})}};return m.useEffect(()=>{B(),W()},[B,W]),s.jsxs(ue.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-6",children:[s.jsxs("h2",{className:"text-3xl font-bold headline flex items-center gap-3",children:[s.jsx(mh,{className:"w-8 h-8 text-primary"}),"Vocabulaire & Ressources"]}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(mh,{className:"w-5 h-5"}),"Vocabulaire des Compétitions"]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Contest"}),s.jsx("p",{className:"text-muted-foreground",children:"Manifestation avec un règlement souple (idéal pour commencer). Ouvert aux compétiteurs concernés sous certaines réserves (niveau trop élevé notamment). À ne pas confondre avec une compétition en 'mode contest'."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Open"}),s.jsx("p",{className:"text-muted-foreground",children:"Ouvert aux compétiteurs concernés sous certaines réserves (géographiques, nombre de places,…)."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Coupe"}),s.jsx("p",{className:"text-muted-foreground",children:"Ensemble de compétitions ouvert aux compétiteurs concernés avec ou sans critère de sélection."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Championnat"}),s.jsx("p",{className:"text-muted-foreground",children:"Une compétition avec généralement un critère de sélection."})]})]})]}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(rr,{className:"w-5 h-5"}),"Ressources Pédagogiques"]})}),s.jsx(me,{className:"space-y-4",children:l?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx($e,{className:"w-8 h-8 animate-spin text-primary"})}):e.length===0?s.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"Aucune ressource pédagogique disponible."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-center",children:s.jsxs(Mt,{open:S,onOpenChange:j,children:[s.jsx(R2,{asChild:!0,children:s.jsxs(X,{className:"flex items-center gap-2",disabled:b,children:[b?s.jsx($e,{className:"w-4 h-4 animate-spin"}):s.jsx(Ra,{className:"w-4 h-4"}),"Ajouter une fiche"]})}),s.jsxs(At,{className:"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsx(qt,{children:s.jsxs(Zt,{className:"flex items-center gap-2",children:[s.jsx(bi,{className:"w-5 h-5"}),"Sélectionner une fiche pédagogique"]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4",children:[s.jsxs("div",{className:"space-y-4 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(af,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Filtres de recherche"}),(u||f||v||w)&&s.jsxs(X,{variant:"ghost",size:"sm",onClick:R,className:"ml-auto text-xs",children:[s.jsx(Er,{className:"w-3 h-3 mr-1"}),"Effacer"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(bi,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(be,{placeholder:"Rechercher par titre ou description...",value:u,onChange:$=>h($.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Type de fiche"}),s.jsxs(Qe,{value:f,onValueChange:p,children:[s.jsx(Ye,{className:"h-9",children:s.jsx(et,{placeholder:"Tous les types"})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"",children:"Tous les types"}),Object.entries(qv).map(([$,k])=>s.jsx(Ce,{value:$,children:k},$))]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Structure"}),s.jsxs(Qe,{value:v,onValueChange:y,children:[s.jsx(Ye,{className:"h-9",children:s.jsx(et,{placeholder:"Toutes les structures"})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"",children:"Toutes les structures"}),P.map($=>s.jsx(Ce,{value:$,children:$},$))]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Catégorie"}),s.jsxs(Qe,{value:w,onValueChange:x,children:[s.jsx(Ye,{className:"h-9",children:s.jsx(et,{placeholder:"Toutes les catégories"})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"",children:"Toutes les catégories"}),T.map($=>s.jsx(Ce,{value:$,children:$},$))]})]})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[A.length," fiche(s) trouvée(s) sur ",e.length]})]}),A.length===0?s.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"Aucune fiche ne correspond aux critères de recherche."}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map($=>s.jsx(ue.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},className:"cursor-pointer",onClick:()=>O($),children:s.jsxs(fe,{className:"h-full hover:shadow-md transition-shadow border-2 hover:border-primary/20",children:[s.jsx(ye,{className:"pb-3",children:s.jsxs("div",{className:"flex gap-3",children:[$.thumbnail_url||$.type==="image_file"&&$.url?s.jsx("img",{src:$.thumbnail_url||$.url,alt:$.title,className:"w-16 h-12 object-cover rounded-md shrink-0"}):s.jsx("div",{className:"w-16 h-12 flex items-center justify-center bg-muted rounded-md shrink-0",children:s.jsx(rr,{className:"w-6 h-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(_e,{className:"text-sm leading-tight mb-1 line-clamp-2",children:$.title}),s.jsx("div",{className:"flex flex-wrap gap-1",children:$.sheet_type&&s.jsx(Pe,{variant:"outline",className:"text-xs",children:qv[$.sheet_type]})})]})]})}),$.description&&s.jsx(me,{className:"pt-0",children:s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:$.description})})]})},$.id))})]})]})]})}),i.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h3",{className:"font-medium",children:["Fiches sauvegardées (",i.length,") :"]})}),s.jsx("div",{className:"space-y-3",children:s.jsx(Ot,{children:i.map($=>s.jsx(ue.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"relative",children:s.jsxs("div",{className:"relative",children:[s.jsx(rK,{sheet:$.pedagogy_sheets}),s.jsx(X,{variant:"destructive",size:"sm",className:"absolute top-2 right-2 h-8 w-8 p-0",onClick:()=>K($.id),children:s.jsx(Wn,{className:"w-4 h-4"})})]})},$.id))})})]}),i.length===0&&!l&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-2",children:"Aucune fiche pédagogique sauvegardée."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'Cliquez sur "Ajouter une fiche" pour commencer.'})]})]})})]})]})},sK=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Compétitions - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Consultez le calendrier des compétitions d'escalade et les résultats."})]}),s.jsx(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsx("div",{className:"flex justify-between items-center flex-wrap gap-4",children:s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(qa,{className:"w-10 h-10 text-primary"}),"Compétitions"]})})}),s.jsxs(kh,{defaultValue:"club",className:"w-full",children:[s.jsxs(Ic,{className:"grid w-full grid-cols-4",children:[s.jsx(Ur,{value:"club",children:"Compétitions du club"}),s.jsx(Ur,{value:"federal",children:"Calendrier des compétitions"}),s.jsx(Ur,{value:"palmares",children:"Palmarès 2024-2025"}),s.jsx(Ur,{value:"vocabulaire",children:"Vocabulaire"})]}),s.jsx(zr,{value:"club",className:"mt-6",children:s.jsx(lq,{})}),s.jsx(zr,{value:"federal",className:"mt-6",children:s.jsx(hq,{})}),s.jsx(zr,{value:"palmares",className:"mt-6",children:s.jsx(mq,{})}),s.jsx(zr,{value:"vocabulaire",className:"mt-6",children:s.jsx(iK,{})})]})]});var qR={exports:{}},ZR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=m;function oK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aK=typeof Object.is=="function"?Object.is:oK,lK=Ba.useState,cK=Ba.useEffect,uK=Ba.useLayoutEffect,dK=Ba.useDebugValue;function hK(e,t){var n=t(),r=lK({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return uK(function(){i.value=n,i.getSnapshot=t,Kp(i)&&o({inst:i})},[e,n,t]),cK(function(){return Kp(i)&&o({inst:i}),e(function(){Kp(i)&&o({inst:i})})},[e]),dK(n),n}function Kp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!aK(e,n)}catch{return!0}}function fK(e,t){return t()}var mK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fK:hK;ZR.useSyncExternalStore=Ba.useSyncExternalStore!==void 0?Ba.useSyncExternalStore:mK;qR.exports=ZR;var KR=qR.exports;function pK(){return KR.useSyncExternalStore(gK,()=>!0,()=>!1)}function gK(){return()=>{}}var q0="Avatar",[vK,aee]=Gn(q0),[xK,YR]=vK(q0),JR=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,o]=m.useState("idle");return s.jsx(xK,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:s.jsx(Ee.span,{...r,ref:t})})});JR.displayName=q0;var XR="AvatarImage",QR=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=e,l=YR(XR,n),c=yK(r,o),u=Tn(h=>{i(h),l.onImageLoadingStatusChange(h)});return Un(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?s.jsx(Ee.img,{...o,ref:t,src:r}):null});QR.displayName=XR;var eL="AvatarFallback",tL=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,o=YR(eL,n),[l,c]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(u)}},[r]),l&&o.imageLoadingStatus!=="loaded"?s.jsx(Ee.span,{...i,ref:t}):null});tL.displayName=eL;function iC(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function yK(e,{referrerPolicy:t,crossOrigin:n}){const r=pK(),i=m.useRef(null),o=(()=>r?(i.current||(i.current=new window.Image),i.current):null)(),[l,c]=m.useState(()=>iC(o,e));return Un(()=>{c(iC(o,e))},[o,e]),Un(()=>{const u=p=>()=>{c(p)};if(!o)return;const h=u("loaded"),f=u("error");return o.addEventListener("load",h),o.addEventListener("error",f),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",h),o.removeEventListener("error",f)}},[o,n,t]),l}var nL=JR,rL=QR,iL=tL;const gs=se.forwardRef(({className:e,...t},n)=>s.jsx(nL,{ref:n,className:ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));gs.displayName=nL.displayName;const vs=se.forwardRef(({className:e,src:t,...n},r)=>t?s.jsx(rL,{ref:r,src:t,className:ce("aspect-square h-full w-full",e),...n}):null);vs.displayName=rL.displayName;const xs=se.forwardRef(({className:e,...t},n)=>s.jsx(iL,{ref:n,className:ce("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));xs.displayName=iL.displayName;const _K=`Type;Age;Jour;Heure debut;Heure fin;Encadrant 1;Encadrant 2;Encadrant 3;Encadrant 4
Compétition;U15(2)-U17-U19;Lundi;18h;20h30;Stephane LORIDANT;;;
Compétition;U15(2)-U17-U19;Mercredi;18h;20h;Clément de Lima FERREIRA;;;
Compétition;U15(2)-U17-U19;Vendredi;18h30;20h30;Stephane LORIDANT;;;
Compétition;U11-U13-U15(1);Lundi;18h;20h30;Adrien BERGER;;;
Compétition;U11-U13-U15(1);Mercredi;16h;18h;Clément de Lima FERREIRA;;;
Compétition;U11-U13-U15(1);Vendredi;18h;20h;Clément de Lima FERREIRA;;;
Loisir;Enfants 2015-2017 Groupe A;Mercredi;13h;14h30;Thibault N;Antoine GAUTHIER;Edgar Bénévole;Rodolphe JULLIEN-MOUTELON
Loisir;Enfants 2015-2017 Groupe B;Mercredi;13h;14h30;Thibault N;Antoine GAUTHIER;Edgar Bénévole;Rodolphe JULLIEN-MOUTELON
Loisir;Enfants 2018-2019;Mercredi;16h;17h;Thibault N;;;
Loisir;Enfants 2018-2019;Vendredi;17h;18h;Camille DIDIER;Clément ANTOLINOS;Rodolphe JULLIEN-MOUTELON;
Loisir;Collégiens;Lundi;18h30;20h;Jean-Benoit RIOS;Camille DIDIER;Romain GOETHALS;Sabine MACKIEWICZ
Loisir;Collégiens;Mercredi;14h30;16h;Antoine GAUTHIER;Edgar Bénévole;Rodolphe JULLIEN-MOUTELON;
Loisir;Lycéens;Mardi;18h30;20h;David LOPEZ;Magali FREMY;Olivier BOSSET;Clement ANTOLINOS
Loisir;Adulte débutant;Mardi;20h;22h;Olivier BOSSET;Magaly HUE;;
Loisir;Enfants 2015-2017 Groupe A;Mercredi;10h30;12h;Tom Bénévole;;;
Perf;U13(2)-U15-U17-U19;Mercredi;14h30;16h;Thibault N;;;
Autonomes;Adultes;Vendredi;20h30;22h;Clément de Lima FERREIRA;;;
Autonomes;Adultes;Lundi;20h;22h;Nathalie LEROY;Richard ROMANET;;
Autonomes;Adultes;Mercredi;20h;22h;Marine BOURDAUD HUI;Magaly HUE;Mathieu BARAUD;
Autonomes;Adultes;Jeudi;18h;22h;Nathalie LEROY;Boris CATHERIN;Fabienne LAGARDE;
Perf;Adultes;Vendredi;20h;22h;Clément de Lima FERREIRA;;;
Autonomes;Adultes;Samedi;10h30;12h30;Pascal PARMENTIER;;;`,wK=e=>{const t=e.trim().split(`
`),n=t[0].split(";").map(i=>i.trim());return t.slice(1).map((i,o)=>{const l=i.split(";"),c={id:o+1};return n.forEach((u,h)=>{c[u]=l[h]?l[h].trim():""}),c})},sC=e=>{if(!e)return"00:00";let t=e.replace("h",":");t.includes(":")||(t+=":00"),t.endsWith(":")&&(t+="00");const n=t.split(":"),r=n[0].padStart(2,"0"),i=(n[1]||"00").padStart(2,"0");return`${r}:${i}`},oC=e=>{const[t,n]=e.split(":").map(Number);return t*60+n},bK=10*60,aC=30,jK=e=>{switch(e){case"Compétition":return"bg-red-200 text-red-800 border-red-300";case"Loisir":return"bg-blue-200 text-blue-800 border-blue-300";case"Perf":return"bg-green-200 text-green-800 border-green-300";case"Autonomes":return"bg-yellow-200 text-yellow-800 border-yellow-300";default:return"bg-gray-200 text-gray-800 border-gray-300"}},CK=wK(_K),Zv=Array.from({length:(23-10)*2+1},(e,t)=>{const n=10+Math.floor(t/2),r=t%2===0?"00":"30";return`${String(n).padStart(2,"0")}:${r}`}),xa=CK.map(e=>{const t=sC(e["Heure debut"]),n=sC(e["Heure fin"]),r=oC(t),i=oC(n);let o=Math.round((i-r)/aC);o<1&&(o=1);const l=Math.floor((r-bK)/aC);if(l<0||l>=Zv.length)return null;const c=[e["Encadrant 1"],e["Encadrant 2"],e["Encadrant 3"],e["Encadrant 4"]].filter(Boolean);return{id:e.id,title:e.Age,day:e.Jour,startTime:t,endTime:n,spanSlots:o,startIndex:l,instructors:c,group:e.Type,color:jK(e.Type)}}).filter(Boolean),pd=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],SK=[{category:"U9",school:"CE1-CE2"},{category:"U11",school:"CM1-CM2"},{category:"U13",school:"6ème-5ème"},{category:"U15",school:"4ème-3ème"},{category:"U17",school:"2nde-1ère"},{category:"U19",school:"Terminale-Bac+1"},{category:"Senior",school:"Adultes"},{category:"Vétéran",school:"40+ ans"}];function ys(e,t,n=!1){if(!e)return t||"";if(!t)return e||"";const r=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();if(n){const o=t.toUpperCase();return`${r} ${o}`}const i=`${t.charAt(0).toUpperCase()}.`;return`${r} ${i}`}const Z0=({profile:e})=>{if(!e)return null;const t={admin:{Icon:uf,color:"text-green-500",title:"Administrateur"},adherent:{Icon:wr,color:"text-blue-500",title:"Adhérent"},user:{Icon:wr,color:"text-gray-500",title:"Utilisateur"}},n=t[e.role]||t.user;return s.jsx(n.Icon,{className:`h-4 w-4 ml-2 flex-shrink-0 ${n.color}`,title:n.title})};function EK(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var tm="Checkbox",[NK,lee]=Gn(tm),[PK,K0]=NK(tm);function TK(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:o,form:l,name:c,onCheckedChange:u,required:h,value:f="on",internal_do_not_use_render:p}=e,[v,y]=Pi({prop:n,defaultProp:i??!1,onChange:u,caller:tm}),[w,x]=m.useState(null),[S,j]=m.useState(null),b=m.useRef(!1),C=w?!!l||!!w.closest("form"):!0,N={checked:v,disabled:o,setChecked:y,control:w,setControl:x,name:c,form:l,value:f,hasConsumerStoppedPropagationRef:b,required:h,defaultChecked:as(i)?!1:i,isFormControl:C,bubbleInput:S,setBubbleInput:j};return s.jsx(PK,{scope:t,...N,children:AK(p)?p(N):r})}var sL="CheckboxTrigger",oL=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:o,value:l,disabled:c,checked:u,required:h,setControl:f,setChecked:p,hasConsumerStoppedPropagationRef:v,isFormControl:y,bubbleInput:w}=K0(sL,e),x=ut(i,f),S=m.useRef(u);return m.useEffect(()=>{const j=o==null?void 0:o.form;if(j){const b=()=>p(S.current);return j.addEventListener("reset",b),()=>j.removeEventListener("reset",b)}},[o,p]),s.jsx(Ee.button,{type:"button",role:"checkbox","aria-checked":as(u)?"mixed":u,"aria-required":h,"data-state":dL(u),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:x,onKeyDown:xe(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:xe(n,j=>{p(b=>as(b)?!0:!b),w&&y&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})})});oL.displayName=sL;var Y0=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:l,disabled:c,value:u,onCheckedChange:h,form:f,...p}=e;return s.jsx(TK,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:c,required:l,onCheckedChange:h,name:r,form:f,value:u,internal_do_not_use_render:({isFormControl:v})=>s.jsxs(s.Fragment,{children:[s.jsx(oL,{...p,ref:t,__scopeCheckbox:n}),v&&s.jsx(uL,{__scopeCheckbox:n})]})})});Y0.displayName=tm;var aL="CheckboxIndicator",lL=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,o=K0(aL,n);return s.jsx(lr,{present:r||as(o.checked)||o.checked===!0,children:s.jsx(Ee.span,{"data-state":dL(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});lL.displayName=aL;var cL="CheckboxBubbleInput",uL=m.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:l,required:c,disabled:u,name:h,value:f,form:p,bubbleInput:v,setBubbleInput:y}=K0(cL,e),w=ut(n,y),x=EK(o),S=K2(r);m.useEffect(()=>{const b=v;if(!b)return;const C=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(C,"checked").set,P=!i.current;if(x!==o&&A){const T=new Event("click",{bubbles:P});b.indeterminate=as(o),A.call(b,as(o)?!1:o),b.dispatchEvent(T)}},[v,x,o,i]);const j=m.useRef(as(o)?!1:o);return s.jsx(Ee.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:c,disabled:u,name:h,value:f,form:p,...t,tabIndex:-1,ref:w,style:{...t.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});uL.displayName=cL;function AK(e){return typeof e=="function"}function as(e){return e==="indeterminate"}function dL(e){return as(e)?"indeterminate":e?"checked":"unchecked"}const Vr=m.forwardRef(({className:e,...t},n)=>s.jsx(Y0,{ref:n,className:ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(lL,{className:ce("flex items-center justify-center text-current"),children:s.jsx(ry,{className:"h-4 w-4"})})}));Vr.displayName=Y0.displayName;var lC=1,kK=.9,RK=.8,LK=.17,Yp=.1,Jp=.999,OK=.9999,MK=.99,IK=/[\\\/_+.#"@\[\(\{&]/,DK=/[\\\/_+.#"@\[\(\{&]/g,$K=/[\s-]/,hL=/[\s-]/g;function Kv(e,t,n,r,i,o,l){if(o===t.length)return i===e.length?lC:MK;var c=`${i},${o}`;if(l[c]!==void 0)return l[c];for(var u=r.charAt(o),h=n.indexOf(u,i),f=0,p,v,y,w;h>=0;)p=Kv(e,t,n,r,h+1,o+1,l),p>f&&(h===i?p*=lC:IK.test(e.charAt(h-1))?(p*=RK,y=e.slice(i,h-1).match(DK),y&&i>0&&(p*=Math.pow(Jp,y.length))):$K.test(e.charAt(h-1))?(p*=kK,w=e.slice(i,h-1).match(hL),w&&i>0&&(p*=Math.pow(Jp,w.length))):(p*=LK,i>0&&(p*=Math.pow(Jp,h-i))),e.charAt(h)!==t.charAt(o)&&(p*=OK)),(p<Yp&&n.charAt(h-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(h-1)!==r.charAt(o))&&(v=Kv(e,t,n,r,h+1,o+2,l),v*Yp>p&&(p=v*Yp)),p>f&&(f=p),h=n.indexOf(u,h+1);return l[c]=f,f}function cC(e){return e.toLowerCase().replace(hL," ")}function FK(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Kv(e,t,cC(e),cC(t),0,0,{})}var Tl='[cmdk-group=""]',Xp='[cmdk-group-items=""]',BK='[cmdk-group-heading=""]',J0='[cmdk-item=""]',uC=`${J0}:not([aria-disabled="true"])`,Yv="cmdk-item-select",Zs="data-value",UK=(e,t,n)=>FK(e,t,n),fL=m.createContext(void 0),cu=()=>m.useContext(fL),mL=m.createContext(void 0),X0=()=>m.useContext(mL),pL=m.createContext(void 0),gL=m.forwardRef((e,t)=>{let n=Go(()=>{var z,Z;return{search:"",value:(Z=(z=e.value)!=null?z:e.defaultValue)!=null?Z:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=Go(()=>new Set),i=Go(()=>new Map),o=Go(()=>new Map),l=Go(()=>new Set),c=vL(e),{label:u,children:h,value:f,onValueChange:p,filter:v,shouldFilter:y,loop:w,disablePointerSelection:x=!1,vimBindings:S=!0,...j}=e,b=dn(),C=dn(),N=dn(),A=m.useRef(null),P=XK();fo(()=>{if(f!==void 0){let z=f.trim();n.current.value=z,T.emit()}},[f]),fo(()=>{P(6,K)},[]);let T=m.useMemo(()=>({subscribe:z=>(l.current.add(z),()=>l.current.delete(z)),snapshot:()=>n.current,setState:(z,Z,q)=>{var Q,ie,ne;if(!Object.is(n.current[z],Z)){if(n.current[z]=Z,z==="search")U(),B(),P(1,W);else if(z==="value"&&(q||P(5,K),((Q=c.current)==null?void 0:Q.value)!==void 0)){let de=Z??"";(ne=(ie=c.current).onValueChange)==null||ne.call(ie,de);return}T.emit()}},emit:()=>{l.current.forEach(z=>z())}}),[]),R=m.useMemo(()=>({value:(z,Z,q)=>{var Q;Z!==((Q=o.current.get(z))==null?void 0:Q.value)&&(o.current.set(z,{value:Z,keywords:q}),n.current.filtered.items.set(z,O(Z,q)),P(2,()=>{B(),T.emit()}))},item:(z,Z)=>(r.current.add(z),Z&&(i.current.has(Z)?i.current.get(Z).add(z):i.current.set(Z,new Set([z]))),P(3,()=>{U(),B(),n.current.value||W(),T.emit()}),()=>{o.current.delete(z),r.current.delete(z),n.current.filtered.items.delete(z);let q=$();P(4,()=>{U(),(q==null?void 0:q.getAttribute("id"))===z&&W(),T.emit()})}),group:z=>(i.current.has(z)||i.current.set(z,new Set),()=>{o.current.delete(z),i.current.delete(z)}),filter:()=>c.current.shouldFilter,label:u||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:b,inputId:N,labelId:C,listInnerRef:A}),[]);function O(z,Z){var q,Q;let ie=(Q=(q=c.current)==null?void 0:q.filter)!=null?Q:UK;return z?ie(z,n.current.search,Z):0}function B(){if(!n.current.search||c.current.shouldFilter===!1)return;let z=n.current.filtered.items,Z=[];n.current.filtered.groups.forEach(Q=>{let ie=i.current.get(Q),ne=0;ie.forEach(de=>{let Se=z.get(de);ne=Math.max(Se,ne)}),Z.push([Q,ne])});let q=A.current;k().sort((Q,ie)=>{var ne,de;let Se=Q.getAttribute("id"),je=ie.getAttribute("id");return((ne=z.get(je))!=null?ne:0)-((de=z.get(Se))!=null?de:0)}).forEach(Q=>{let ie=Q.closest(Xp);ie?ie.appendChild(Q.parentElement===ie?Q:Q.closest(`${Xp} > *`)):q.appendChild(Q.parentElement===q?Q:Q.closest(`${Xp} > *`))}),Z.sort((Q,ie)=>ie[1]-Q[1]).forEach(Q=>{var ie;let ne=(ie=A.current)==null?void 0:ie.querySelector(`${Tl}[${Zs}="${encodeURIComponent(Q[0])}"]`);ne==null||ne.parentElement.appendChild(ne)})}function W(){let z=k().find(q=>q.getAttribute("aria-disabled")!=="true"),Z=z==null?void 0:z.getAttribute(Zs);T.setState("value",Z||void 0)}function U(){var z,Z,q,Q;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ie=0;for(let ne of r.current){let de=(Z=(z=o.current.get(ne))==null?void 0:z.value)!=null?Z:"",Se=(Q=(q=o.current.get(ne))==null?void 0:q.keywords)!=null?Q:[],je=O(de,Se);n.current.filtered.items.set(ne,je),je>0&&ie++}for(let[ne,de]of i.current)for(let Se of de)if(n.current.filtered.items.get(Se)>0){n.current.filtered.groups.add(ne);break}n.current.filtered.count=ie}function K(){var z,Z,q;let Q=$();Q&&(((z=Q.parentElement)==null?void 0:z.firstChild)===Q&&((q=(Z=Q.closest(Tl))==null?void 0:Z.querySelector(BK))==null||q.scrollIntoView({block:"nearest"})),Q.scrollIntoView({block:"nearest"}))}function $(){var z;return(z=A.current)==null?void 0:z.querySelector(`${J0}[aria-selected="true"]`)}function k(){var z;return Array.from(((z=A.current)==null?void 0:z.querySelectorAll(uC))||[])}function I(z){let Z=k()[z];Z&&T.setState("value",Z.getAttribute(Zs))}function F(z){var Z;let q=$(),Q=k(),ie=Q.findIndex(de=>de===q),ne=Q[ie+z];(Z=c.current)!=null&&Z.loop&&(ne=ie+z<0?Q[Q.length-1]:ie+z===Q.length?Q[0]:Q[ie+z]),ne&&T.setState("value",ne.getAttribute(Zs))}function D(z){let Z=$(),q=Z==null?void 0:Z.closest(Tl),Q;for(;q&&!Q;)q=z>0?YK(q,Tl):JK(q,Tl),Q=q==null?void 0:q.querySelector(uC);Q?T.setState("value",Q.getAttribute(Zs)):F(z)}let H=()=>I(k().length-1),G=z=>{z.preventDefault(),z.metaKey?H():z.altKey?D(1):F(1)},ee=z=>{z.preventDefault(),z.metaKey?I(0):z.altKey?D(-1):F(-1)};return m.createElement(Ee.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:z=>{var Z;if((Z=j.onKeyDown)==null||Z.call(j,z),!z.defaultPrevented)switch(z.key){case"n":case"j":{S&&z.ctrlKey&&G(z);break}case"ArrowDown":{G(z);break}case"p":case"k":{S&&z.ctrlKey&&ee(z);break}case"ArrowUp":{ee(z);break}case"Home":{z.preventDefault(),I(0);break}case"End":{z.preventDefault(),H();break}case"Enter":if(!z.nativeEvent.isComposing&&z.keyCode!==229){z.preventDefault();let q=$();if(q){let Q=new Event(Yv);q.dispatchEvent(Q)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:R.inputId,id:R.labelId,style:eY},u),nm(e,z=>m.createElement(mL.Provider,{value:T},m.createElement(fL.Provider,{value:R},z))))}),zK=m.forwardRef((e,t)=>{var n,r;let i=dn(),o=m.useRef(null),l=m.useContext(pL),c=cu(),u=vL(e),h=(r=(n=u.current)==null?void 0:n.forceMount)!=null?r:l==null?void 0:l.forceMount;fo(()=>{if(!h)return c.item(i,l==null?void 0:l.id)},[h]);let f=xL(i,o,[e.value,e.children,o],e.keywords),p=X0(),v=mo(P=>P.value&&P.value===f.current),y=mo(P=>h||c.filter()===!1?!0:P.search?P.filtered.items.get(i)>0:!0);m.useEffect(()=>{let P=o.current;if(!(!P||e.disabled))return P.addEventListener(Yv,w),()=>P.removeEventListener(Yv,w)},[y,e.onSelect,e.disabled]);function w(){var P,T;x(),(T=(P=u.current).onSelect)==null||T.call(P,f.current)}function x(){p.setState("value",f.current,!0)}if(!y)return null;let{disabled:S,value:j,onSelect:b,forceMount:C,keywords:N,...A}=e;return m.createElement(Ee.div,{ref:$c([o,t]),...A,id:i,"cmdk-item":"",role:"option","aria-disabled":!!S,"aria-selected":!!v,"data-disabled":!!S,"data-selected":!!v,onPointerMove:S||c.getDisablePointerSelection()?void 0:x,onClick:S?void 0:w},e.children)}),VK=m.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...o}=e,l=dn(),c=m.useRef(null),u=m.useRef(null),h=dn(),f=cu(),p=mo(y=>i||f.filter()===!1?!0:y.search?y.filtered.groups.has(l):!0);fo(()=>f.group(l),[]),xL(l,c,[e.value,e.heading,u]);let v=m.useMemo(()=>({id:l,forceMount:i}),[i]);return m.createElement(Ee.div,{ref:$c([c,t]),...o,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},n&&m.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:h},n),nm(e,y=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?h:void 0},m.createElement(pL.Provider,{value:v},y))))}),HK=m.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=m.useRef(null),o=mo(l=>!l.search);return!n&&!o?null:m.createElement(Ee.div,{ref:$c([i,t]),...r,"cmdk-separator":"",role:"separator"})}),WK=m.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,o=X0(),l=mo(f=>f.search),c=mo(f=>f.value),u=cu(),h=m.useMemo(()=>{var f;let p=(f=u.listInnerRef.current)==null?void 0:f.querySelector(`${J0}[${Zs}="${encodeURIComponent(c)}"]`);return p==null?void 0:p.getAttribute("id")},[]);return m.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),m.createElement(Ee.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":h,id:u.inputId,type:"text",value:i?e.value:l,onChange:f=>{i||o.setState("search",f.target.value),n==null||n(f.target.value)}})}),GK=m.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,o=m.useRef(null),l=m.useRef(null),c=cu();return m.useEffect(()=>{if(l.current&&o.current){let u=l.current,h=o.current,f,p=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let v=u.offsetHeight;h.style.setProperty("--cmdk-list-height",v.toFixed(1)+"px")})});return p.observe(u),()=>{cancelAnimationFrame(f),p.unobserve(u)}}},[]),m.createElement(Ee.div,{ref:$c([o,t]),...i,"cmdk-list":"",role:"listbox","aria-label":r,id:c.listId},nm(e,u=>m.createElement("div",{ref:$c([l,c.listInnerRef]),"cmdk-list-sizer":""},u)))}),qK=m.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:o,container:l,...c}=e;return m.createElement(Qy,{open:n,onOpenChange:r},m.createElement(e0,{container:l},m.createElement(Rf,{"cmdk-overlay":"",className:i}),m.createElement(Lf,{"aria-label":e.label,"cmdk-dialog":"",className:o},m.createElement(gL,{ref:t,...c}))))}),ZK=m.forwardRef((e,t)=>mo(n=>n.filtered.count===0)?m.createElement(Ee.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),KK=m.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...o}=e;return m.createElement(Ee.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},nm(e,l=>m.createElement("div",{"aria-hidden":!0},l)))}),Rn=Object.assign(gL,{List:GK,Item:zK,Input:WK,Group:VK,Separator:HK,Dialog:qK,Empty:ZK,Loading:KK});function YK(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function JK(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function vL(e){let t=m.useRef(e);return fo(()=>{t.current=e}),t}var fo=typeof window>"u"?m.useEffect:m.useLayoutEffect;function Go(e){let t=m.useRef();return t.current===void 0&&(t.current=e()),t}function $c(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function mo(e){let t=X0(),n=()=>e(t.snapshot());return KR.useSyncExternalStore(t.subscribe,n,n)}function xL(e,t,n,r=[]){let i=m.useRef(),o=cu();return fo(()=>{var l;let c=(()=>{var h;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(h=f.current.textContent)==null?void 0:h.trim():i.current}})(),u=r.map(h=>h.trim());o.value(e,c,u),(l=t.current)==null||l.setAttribute(Zs,c),i.current=c}),i}var XK=()=>{let[e,t]=m.useState(),n=Go(()=>new Map);return fo(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function QK(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function nm({asChild:e,children:t},n){return e&&m.isValidElement(t)?m.cloneElement(QK(t),{ref:t.ref},n(t.props.children)):n(t)}var eY={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Jv=se.forwardRef(({className:e,...t},n)=>s.jsx(Rn,{ref:n,className:ce("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Jv.displayName=Rn.displayName;const Xv=se.forwardRef(({className:e,...t},n)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(bi,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(Rn.Input,{ref:n,className:ce("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Xv.displayName=Rn.Input.displayName;const Qv=se.forwardRef(({className:e,...t},n)=>s.jsx(Rn.List,{ref:n,className:ce("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Qv.displayName=Rn.List.displayName;const ex=se.forwardRef((e,t)=>s.jsx(Rn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));ex.displayName=Rn.Empty.displayName;const tx=se.forwardRef(({className:e,...t},n)=>s.jsx(Rn.Group,{ref:n,className:ce("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));tx.displayName=Rn.Group.displayName;const tY=se.forwardRef(({className:e,...t},n)=>s.jsx(Rn.Separator,{ref:n,className:ce("-mx-1 h-px bg-border",e),...t}));tY.displayName=Rn.Separator.displayName;const Dd=se.forwardRef(({className:e,...t},n)=>s.jsx(Rn.Item,{ref:n,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));Dd.displayName=Rn.Item.displayName;const dC={"Loisir enfants":["mercredi 13h Groupe A","mercredi 13h Groupe B","mercredi 16h","vendredi"],"Loisir collége":["Mardi 18h","Jeudi 18h"],"Loisir lycée":[],"Loisir adulte":[],"Adultes autonomes":[],"Compétition U11-U15":[],"Compétition U15-U19":[],Bénévole:[],Bureau:[],emergency_contact:[]},nY=["U11","U13","U15","U17","U19"],rY=["Blanc","Jaune","Orange","Vert","Bleu","Violet","Rouge"],iY=["Initiateur SAE","Juge Bloc 1","Juge Bloc 2","Juge Bloc 3","Juge de difficulté 1","Juge de difficulté 2","Juge de difficulté 3","Gestionanaire EPI","Entraineur d'escalade 1","Entraineur d'escalade 2"],rm=({member:e,onSave:t,onCancel:n,isSaving:r})=>{const[i,o]=m.useState({first_name:"",last_name:"",title:"",sub_group:"",category:"",phone:"",photo_url:"",sexe:"",licence:"",email:"",passeport:"",emergency_contact_1_id:null,emergency_contact_2_id:null,...e,brevet_federaux:(e==null?void 0:e.brevet_federaux)||[]}),[l,c]=m.useState(null),[u,h]=m.useState((e==null?void 0:e.photo_url)||null),[f,p]=m.useState([]),[v,y]=m.useState(!1),[w,x]=m.useState(!1),[S,j]=m.useState(null),[b,C]=m.useState([]),{toast:N}=tt();m.useEffect(()=>{(async()=>{const{data:D,error:H}=await te.from("members").select("id, first_name, last_name").order("last_name").order("first_name");H||p(D)})(),e!=null&&e.id&&(async()=>{const{data:H,error:G}=await te.from("members").select("id, first_name, last_name").or(`emergency_contact_1_id.eq.${e.id},emergency_contact_2_id.eq.${e.id}`);G||C(H)})()},[e]);const A=m.useMemo(()=>f.find(F=>F.id===i.emergency_contact_1_id),[f,i.emergency_contact_1_id]),P=m.useMemo(()=>f.find(F=>F.id===i.emergency_contact_2_id),[f,i.emergency_contact_2_id]),T=F=>{const{name:D,value:H}=F.target;o(G=>({...G,[D]:H}))},R=(F,D)=>{const H={...i,[F]:D};F==="title"&&(H.sub_group=""),o(H)},O=F=>{o(D=>{const H=D.brevet_federaux.includes(F)?D.brevet_federaux.filter(G=>G!==F):[...D.brevet_federaux,F];return{...D,brevet_federaux:H}})},B=F=>{if(F.target.files&&F.target.files[0]){const D=F.target.files[0];c(D),h(URL.createObjectURL(D)),o(H=>({...H,photo_url:URL.createObjectURL(D)}))}},W=()=>{c(null),h(null),o(F=>({...F,photo_url:null}))},U=F=>{F.preventDefault();const{isEmergencyContactFor:D,...H}=i;t({...H},l)},K=async F=>{if(!e||!e.id){N({title:"Erreur",description:"Le membre actuel doit être sauvegardé avant de pouvoir être défini comme contact d'urgence.",variant:"destructive"});return}const{data:D,error:H}=await te.from("members").select("emergency_contact_1_id, emergency_contact_2_id").eq("id",F).single();if(H){N({title:"Erreur",description:"Impossible de récupérer les informations du membre cible.",variant:"destructive"});return}let G;if(!D.emergency_contact_1_id)G={emergency_contact_1_id:e.id};else if(!D.emergency_contact_2_id)G={emergency_contact_2_id:e.id};else{N({title:"Information",description:"Ce membre a déjà deux contacts d'urgence.",variant:"default"});return}const{error:ee}=await te.from("members").update(G).eq("id",F);ee?N({title:"Erreur",description:"Échec de la mise à jour du contact d'urgence.",variant:"destructive"}):(N({title:"Succès",description:"Contact d'urgence défini avec succès.",variant:"success"}),y(!1))},$=F=>{j(F),x(!0)},k=F=>{S&&R(S,F),x(!1),j(null)},I=i.title?dC[i.title]||[]:[];return s.jsxs(s.Fragment,{children:[s.jsx(Mt,{open:!0,onOpenChange:n,children:s.jsx(At,{className:"sm:max-w-[600px]",children:s.jsxs("form",{onSubmit:U,children:[s.jsxs(qt,{children:[s.jsx(Zt,{children:e&&e.id?"Modifier le membre":"Ajouter un membre"}),s.jsx(Zr,{children:"Remplissez les informations ci-dessous."})]}),s.jsxs("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto pr-4",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsxs(gs,{className:"w-24 h-24",children:[s.jsx(vs,{src:u,alt:"Avatar"}),s.jsx(xs,{className:"text-3xl",children:s.jsx(wr,{className:"w-12 h-12"})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{type:"button",asChild:!0,variant:"outline",children:s.jsxs(le,{htmlFor:"photo-upload",className:"cursor-pointer",children:[s.jsx(IN,{className:"mr-2 h-4 w-4"})," Changer"]})}),u&&s.jsxs(X,{type:"button",variant:"destructive",onClick:W,children:[s.jsx(Wn,{className:"mr-2 h-4 w-4"})," Supprimer"]})]}),s.jsx(be,{id:"photo-upload",type:"file",className:"hidden",onChange:B,accept:"image/*"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Prénom"}),s.jsx(be,{name:"first_name",value:i.first_name,onChange:T,required:!0})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Nom"}),s.jsx(be,{name:"last_name",value:i.last_name,onChange:T,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Email"}),s.jsx(be,{name:"email",type:"email",value:i.email||"",onChange:T})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Téléphone"}),s.jsx(be,{name:"phone",type:"tel",value:i.phone||"",onChange:T})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Sexe"}),s.jsxs(Qe,{name:"sexe",value:i.sexe||"",onValueChange:F=>R("sexe",F),children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Sexe"})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"H",children:"Homme"}),s.jsx(Ce,{value:"F",children:"Femme"})]})]})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Licence"}),s.jsx(be,{name:"licence",value:i.licence||"",onChange:T})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Titre/Catégorie"}),s.jsxs(Qe,{name:"title",value:i.title,onValueChange:F=>R("title",F),children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Catégorie"})}),s.jsx(Je,{children:Object.keys(dC).map(F=>s.jsx(Ce,{value:F,children:F},F))})]})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Sous-groupe"}),s.jsxs(Qe,{name:"sub_group",value:i.sub_group,onValueChange:F=>R("sub_group",F),disabled:I.length===0,children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Sous-groupe"})}),s.jsx(Je,{children:I.map(F=>s.jsx(Ce,{value:F,children:F},F))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Catégorie d'âge (Compétition)"}),s.jsxs(Qe,{name:"category",value:i.category||"",onValueChange:F=>R("category",F),children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Catégorie d'âge"})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"",children:"Aucune"}),nY.map(F=>s.jsx(Ce,{value:F,children:F},F))]})]})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Passeport"}),s.jsxs(Qe,{name:"passeport",value:i.passeport||"",onValueChange:F=>R("passeport",F),children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Passeport"})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"",children:"Aucun"}),rY.map(F=>s.jsx(Ce,{value:F,children:F},F))]})]})]})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Brevets Fédéraux"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:iY.map(F=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vr,{id:`b-${F}`,checked:i.brevet_federaux.includes(F),onCheckedChange:()=>O(F)})," ",s.jsx(le,{htmlFor:`b-${F}`,className:"font-normal",children:F})]},F))})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Contact d'urgence 1"}),s.jsxs(X,{variant:"outline",type:"button",className:"w-full justify-between",onClick:()=>$("emergency_contact_1_id"),children:[A?it(A.first_name,A.last_name,!0):"Sélectionner un contact",s.jsx(Ob,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Contact d'urgence 2"}),s.jsxs(X,{variant:"outline",type:"button",className:"w-full justify-between",onClick:()=>$("emergency_contact_2_id"),children:[P?it(P.first_name,P.last_name,!0):"Sélectionner un contact",s.jsx(Ob,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})]}),(e==null?void 0:e.id)&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(X,{type:"button",variant:"secondary",onClick:()=>y(!0),className:"w-full",children:[s.jsx(uy,{className:"mr-2 h-4 w-4"})," Je suis le contact de..."]}),b.length>0&&s.jsxs("div",{children:[s.jsxs(le,{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4"})," Contact d'urgence pour :"]}),s.jsx("ul",{className:"text-sm list-disc list-inside mt-1",children:b.map(F=>s.jsx("li",{children:it(F.first_name,F.last_name,!0)},F.id))})]})]})]}),s.jsxs(cr,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:n,children:"Annuler"}),s.jsxs(X,{type:"submit",disabled:r,children:[r&&s.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}),"Enregistrer"]})]})]})})}),s.jsx(Mt,{open:v,onOpenChange:y,children:s.jsxs(At,{children:[s.jsxs(qt,{children:[s.jsx(Zt,{children:"Définir comme contact d'urgence"}),s.jsxs(Zr,{children:["Sélectionnez le membre pour lequel ",it(i.first_name,i.last_name,!0)," sera le contact d'urgence."]})]}),s.jsxs(Jv,{children:[s.jsx(Xv,{placeholder:"Rechercher un membre..."}),s.jsxs(Qv,{children:[s.jsx(ex,{children:"Aucun membre trouvé."}),s.jsx(tx,{children:f.filter(F=>F.id!==(e==null?void 0:e.id)).map(F=>s.jsx(Dd,{value:`${F.first_name} ${F.last_name}`,onSelect:()=>K(F.id),children:it(F.first_name,F.last_name,!0)},F.id))})]})]})]})}),s.jsx(Mt,{open:w,onOpenChange:x,children:s.jsxs(At,{children:[s.jsx(qt,{children:s.jsx(Zt,{children:"Sélectionner un contact d'urgence"})}),s.jsxs(Jv,{children:[s.jsx(Xv,{placeholder:"Rechercher un membre..."}),s.jsxs(Qv,{children:[s.jsx(ex,{children:"Aucun membre trouvé."}),s.jsxs(tx,{children:[s.jsx(Dd,{onSelect:()=>k(null),children:"Aucun"}),f.filter(F=>F.id!==(e==null?void 0:e.id)).map(F=>s.jsx(Dd,{value:`${F.first_name} ${F.last_name}`,onSelect:()=>k(F.id),children:it(F.first_name,F.last_name,!0)},F.id))]})]})]})]})})]})};function sY(e,t=[]){let n=[];function r(o,l){const c=m.createContext(l),u=n.length;n=[...n,l];const h=p=>{var j;const{scope:v,children:y,...w}=p,x=((j=v==null?void 0:v[e])==null?void 0:j[u])||c,S=m.useMemo(()=>w,Object.values(w));return s.jsx(x.Provider,{value:S,children:y})};h.displayName=o+"Provider";function f(p,v){var x;const y=((x=v==null?void 0:v[e])==null?void 0:x[u])||c,w=m.useContext(y);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[h,f]}const i=()=>{const o=n.map(l=>m.createContext(l));return function(c){const u=(c==null?void 0:c[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return i.scopeName=e,[r,oY(i,...t)]}function oY(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=r.reduce((c,{useScope:u,scopeName:h})=>{const p=u(o)[`__scope${h}`];return{...c,...p}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function hC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function aY(...e){return t=>{let n=!1;const r=e.map(i=>{const o=hC(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():hC(e[i],null)}}}}var yL=m.forwardRef((e,t)=>{const{children:n,...r}=e,i=m.Children.toArray(n),o=i.find(cY);if(o){const l=o.props.children,c=i.map(u=>u===o?m.Children.count(l)>1?m.Children.only(null):m.isValidElement(l)?l.props.children:null:u);return s.jsx(nx,{...r,ref:t,children:m.isValidElement(l)?m.cloneElement(l,void 0,c):null})}return s.jsx(nx,{...r,ref:t,children:n})});yL.displayName="Slot";var nx=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const i=dY(n);return m.cloneElement(n,{...uY(r,n.props),ref:t?aY(t,i):i})}return m.Children.count(n)>1?m.Children.only(null):null});nx.displayName="SlotClone";var lY=({children:e})=>s.jsx(s.Fragment,{children:e});function cY(e){return m.isValidElement(e)&&e.type===lY}function uY(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...c)=>{o(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function dY(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var hY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_L=hY.reduce((e,t)=>{const n=m.forwardRef((r,i)=>{const{asChild:o,...l}=r,c=o?yL:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Q0="Progress",e_=100,[fY,cee]=sY(Q0),[mY,pY]=fY(Q0),wL=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=gY,...l}=e;(i||i===0)&&!fC(i)&&console.error(vY(`${i}`,"Progress"));const c=fC(i)?i:e_;r!==null&&!mC(r,c)&&console.error(xY(`${r}`,"Progress"));const u=mC(r,c)?r:null,h=Lh(u)?o(u,c):void 0;return s.jsx(mY,{scope:n,value:u,max:c,children:s.jsx(_L.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Lh(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":CL(u,c),"data-value":u??void 0,"data-max":c,...l,ref:t})})});wL.displayName=Q0;var bL="ProgressIndicator",jL=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=pY(bL,n);return s.jsx(_L.div,{"data-state":CL(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});jL.displayName=bL;function gY(e,t){return`${Math.round(e/t*100)}%`}function CL(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Lh(e){return typeof e=="number"}function fC(e){return Lh(e)&&!isNaN(e)&&e>0}function mC(e,t){return Lh(e)&&!isNaN(e)&&e<=t&&e>=0}function vY(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${e_}\`.`}function xY(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${e_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var SL=wL,yY=jL;const EL=m.forwardRef(({className:e,value:t,...n},r)=>s.jsx(SL,{ref:r,className:ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(yY,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));EL.displayName=SL.displayName;const _Y=new Audio("data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU... (truncated)"),wY=new Audio("data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU... (truncated)"),Al=e=>{let t=e.length,n;for(;t!==0;)n=Math.floor(Math.random()*t),t--,[e[t],e[n]]=[e[n],e[t]];return e},bY=({onStartQuiz:e})=>s.jsx(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:s.jsxs(fe,{className:"max-w-md mx-auto",children:[s.jsxs(ye,{children:[s.jsx(_e,{className:"text-2xl",children:"Prêt pour le défi ?"}),s.jsx(Yr,{children:"Choisissez la durée de votre session de quiz."})]}),s.jsx(me,{className:"flex flex-col gap-4",children:[1,2,3,5].map(t=>s.jsxs(X,{size:"lg",onClick:()=>e(t*60),children:[t," minute",t>1?"s":""]},t))})]})}),jY=({score:e,total:t,onRestart:n,onExit:r})=>s.jsx(ue.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"text-center",children:s.jsxs(fe,{className:"max-w-md mx-auto",children:[s.jsxs(ye,{children:[s.jsx(_e,{className:"text-3xl",children:"Session terminée !"}),s.jsx("div",{className:"flex justify-center my-4",children:s.jsx(nf,{className:"w-16 h-16 text-yellow-500"})}),s.jsx(Yr,{className:"text-lg",children:"Votre score final est de"}),s.jsxs("p",{className:"text-5xl font-bold my-2",children:[e," / ",t]})]}),s.jsxs(me,{className:"flex justify-center gap-4",children:[s.jsxs(X,{onClick:n,children:[s.jsx(c3,{className:"mr-2 h-4 w-4"})," Rejouer"]}),s.jsx(X,{variant:"outline",onClick:r,children:"Quitter"})]})]})}),CY=({volunteers:e,onQuizEnd:t})=>{const[n,r]=m.useState("setup"),[i,o]=m.useState(0),[l,c]=m.useState(0),[u,h]=m.useState(0),[f,p]=m.useState([]),[v,y]=m.useState(0),[w,x]=m.useState(null),S=m.useCallback(()=>{const T=[],R=e.filter(U=>U.first_name&&U.photo_url);if(R.length<4){p([]);return}const O=R.filter(U=>{var K;return U.title==="Bureau"&&(U.sub_group||((K=U.dynamic_roles)==null?void 0:K.length)>0)}),B=R.filter(U=>U.title!=="Bureau");Al([...O,...O,...B]).forEach(U=>{let K=null;const $=U.title==="Bureau",k=Array.from(new Set([...U.dynamic_roles||[],...U.sub_group?[U.sub_group]:[]])),I=[];if(U.photo_url&&(I.push("photo-to-name"),$&&k.length>0&&I.push("photo-to-role")),$&&k.length>0&&(I.push("role-to-name"),O.filter(z=>z.photo_url).length>=4&&I.push("role-to-photo")),I.length===0)return;const F=I[Math.floor(Math.random()*I.length)],D=k.length>0?k[Math.floor(Math.random()*k.length)]:null,H=z=>{const Z=new Set(["Coach","Encadrant","Ouvreur"]);O.forEach(ie=>{var ne;ie.sub_group&&Z.add(ie.sub_group),(ne=ie.dynamic_roles)==null||ne.forEach(de=>Z.add(de))});const q=new Set([z]),Q=Array.from(Z);for(;q.size<4&&q.size<Q.length;)q.add(Q[Math.floor(Math.random()*Q.length)]);return Al(Array.from(q))},G=z=>{const Z=new Set([z]);for(;Z.size<4&&Z.size<R.length;){const q=R[Math.floor(Math.random()*R.length)];Z.add(q.first_name)}return Al(Array.from(Z))},ee=z=>{const Z=O.filter(Q=>Q.photo_url),q=new Set([z]);for(;q.size<4&&q.size<Z.length;)q.add(Z[Math.floor(Math.random()*Z.length)]);return Al(Array.from(q))};switch(F){case"photo-to-name":K={type:"photo-to-name",text:"Qui est cette personne ?",subject:U,options:G(U.first_name),correctAnswer:U.first_name};break;case"photo-to-role":K={type:"photo-to-role",text:"Quel est un des rôles de cette personne ?",subject:U,options:H(D),correctAnswer:D};break;case"role-to-name":K={type:"role-to-name",text:`Qui a le rôle de "${D}" ?`,subject:U,options:G(U.first_name),correctAnswer:U.first_name};break;case"role-to-photo":K={type:"role-to-photo",text:`Qui a le rôle de "${D}" ?`,subject:U,options:ee(U),correctAnswer:U.id};break}K&&T.push(K)}),p(Al(T))},[e]);m.useEffect(()=>{if(n==="playing"){S();const T=setInterval(()=>{c(R=>R<=1?(clearInterval(T),r("summary"),0):R-1)},1e3);return()=>clearInterval(T)}},[n,S]);const j=T=>{o(T),c(T),h(0),y(0),r("playing")},b=T=>{if(w)return;const R=f[v];let O=!1;R.type==="role-to-photo"?O=T.id===R.correctAnswer:O=T===R.correctAnswer,O?(h(B=>B+1),x("correct"),_Y.play()):(x("incorrect"),wY.play()),setTimeout(()=>{x(null),v+1<f.length?y(B=>B+1):(S(),y(0))},1500)},C=()=>{r("setup")},N=f[v],A=l/i*100;if(n==="setup")return s.jsx(bY,{onStartQuiz:j});if(n==="summary")return s.jsx(jY,{score:u,total:v+(w?1:0),onRestart:C,onExit:t});if(!N)return s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{className:"text-lg",children:"Préparation du quiz..."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Il faut au moins 4 bénévoles avec des photos pour démarrer le quiz."})]});const P=(T,R)=>`${(T==null?void 0:T[0])||""}${(R==null?void 0:R[0])||""}`.toUpperCase();return s.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(sf,{className:"w-6 h-6"}),s.jsx(EL,{value:A,className:"w-full"}),s.jsxs("span",{className:"font-bold text-lg",children:[Math.floor(l/60),":",String(l%60).padStart(2,"0")]})]}),s.jsx(Ot,{mode:"wait",children:s.jsx(ue.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},children:s.jsxs(fe,{children:[s.jsxs(ye,{children:[s.jsx(_e,{className:"text-center text-2xl",children:N.text}),(N.type==="photo-to-name"||N.type==="photo-to-role")&&s.jsx("div",{className:"flex justify-center mt-4",children:s.jsxs(gs,{className:"w-32 h-32",children:[s.jsx(vs,{src:N.subject.photo_url}),s.jsx(xs,{className:"text-4xl",children:P(N.subject.first_name,N.subject.last_name)})]})})]}),s.jsx(me,{children:s.jsx("div",{className:`grid ${N.type==="role-to-photo"?"grid-cols-2":"grid-cols-1"} gap-4`,children:N.options.map((T,R)=>{var U;const O=N.type==="role-to-photo",B=w&&(O?T.id===N.correctAnswer:T===N.correctAnswer),W=w==="incorrect"&&(O?T.id===((U=w.selected)==null?void 0:U.id):T===w.selected);return s.jsxs(X,{variant:"outline",size:O?"xl":"lg",className:`relative justify-center h-auto p-4 text-base ${w==="correct"&&B?"bg-green-200 border-green-500":""} ${w==="incorrect"&&B?"bg-green-200 border-green-500":""} ${W?"bg-red-200 border-red-500":""}`,onClick:()=>b(T),disabled:!!w,children:[O?s.jsx("div",{className:"flex flex-col items-center gap-2",children:s.jsxs(gs,{className:"w-24 h-24",children:[s.jsx(vs,{src:T.photo_url}),s.jsx(xs,{className:"text-3xl",children:P(T.first_name,T.last_name)})]})}):s.jsx("span",{children:T}),w==="correct"&&B&&s.jsx(rv,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-green-600"}),w==="incorrect"&&B&&s.jsx(rv,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-green-600"}),W&&s.jsx(g3,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-6 h-6 text-red-600"})]},R)})})})]})},v)}),s.jsxs("div",{className:"text-center mt-4 font-bold text-xl",children:["Score: ",u]}),s.jsx(Ot,{children:u>0&&u%5===0&&w==="correct"&&s.jsxs(ue.div,{initial:{opacity:0,y:50,scale:.5},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5},className:"text-center text-green-500 font-bold text-2xl mt-4",children:["Bravo ! Déjà ",u," bonnes réponses !"]})})]})},gd={"Initiateur SAE":"bg-blue-500","Juge Bloc 1":"bg-yellow-500","Juge Bloc 2":"bg-orange-500","Juge Bloc 3":"bg-red-500","Juge de difficulté 1":"bg-green-500","Juge de difficulté 2":"bg-teal-500","Juge de difficulté 3":"bg-indigo-500","Gestionanaire EPI":"bg-gray-500","Entraineur d'escalade 1":"bg-purple-500","Entraineur d'escalade 2":"bg-pink-500"},SY={"Initiateur SAE":{title:"Initiateur SAE (Structure Artificielle d'escalade)",description:"La Fédération Française de la Montagne et de l'Escalade délivre le brevet d'initiateur SAE.",articles:[{title:"Art 2 : Compétences",content:`L'attribution du brevet mentionné à l’article précédent reconnaît à son titulaire les compétences pour encadrer en escalade sur SAE de type bloc et sur SAE avec points d'assurage, c’est à dire :
• surveiller la gestion de la sécurité de plusieurs cordées lors d’un créneau d'accès libre,
• animer un groupe d’au moins 6 personnes,
• développer les compétences des pratiquants jusqu'au niveau du passeport orange en appliquant les situations d'une progression type, dans une optique d'accession à l'autonomie.
Le référentiel de compétences est précisé en annexe.`},{title:"Art 3 : Conditions d’obtention du brevet",content:`Pour obtenir ce brevet, le candidat doit avoir :
• suivi la formation initiateur SAE,
• satisfait aux évaluations de la formation initiateur SAE,
• réalisé un stage pratique de 35 h.`},{title:"Art 4 : Evaluation",content:`L’évaluation de la formation d'initiateur SAE est organisée par l’équipe pédagogique. Elle vise à s'assurer que le stagiaire possède les compétences pour :
• conduire une démarche d'initiation en SAE,
• encadrer en sécurité,
• intégrer son action dans le cadre fédéral.
Elle repose sur 3 types d'épreuves :
• l'encadrement d'une séance pédagogique,
• la sécurisation d'un atelier,
• et des écrits complémentaires.
L’évaluation du stage pratique est un contrôle continu portant sur la capacité du candidat à encadrer un groupe sur SAE.
La validation du stage pratique est faite par le Président du club d’accueil.`},{title:"Art 5 : Exigences préalables à l’entrée en formation",content:`Les exigences préalables suivantes sont requises pour accéder à la formation :
• âge : 16 ans,
• niveau de pratique personnel : 5c en voie et 4c en bloc,
• maîtrise des techniques de sécurité individuelles telles s'équiper, s'encorder, assurer un partenaire en moulinette et en tête, respecter les obligations de sécurité, parer, contrôler...,
• attitude respectueuse des partenaires, du milieu et du cadre,
• licence FFME en cours de validité.
Ces exigences préalables sont vérifiées au moyen de la présentation du passeport escalade orange ou supérieur, pour le niveau de pratique personnel et la maîtrise des techniques de sécurité.`},{title:"Art 6 : Exigences préalables au stage pratique",content:`Pour accéder au stage pratique d’initiateur SAE, le candidat doit être titulaire de :
• secourisme : titulaire d'une attestation du 1er niveau de secourisme,
• licence FFME en cours de validité,
• attestation de réussite obtenue à l'issue de la formation initiateur SAE.`},{title:"Art 7 : Formation continue",content:"Des sessions de formation continue sont accessibles aux initiateurs SAE dans l'objectif de maintenir ou approfondir leur compétences."},{title:"Art 8 : VAE fédérale",content:"Le brevet"}]}},EY=()=>{const{isAdmin:e}=zt(),[t,n]=m.useState([]),[r,i]=m.useState(!0),{toast:o}=tt(),[l,c]=m.useState(!1),[u,h]=m.useState("all"),[f,p]=m.useState(!1),{editingMember:v,isFormVisible:y,openEditFormForMember:w,closeEditForm:x}=Sr(),S=m.useCallback(async()=>{i(!0);const{data:k,error:I}=await te.from("members").select("*, profiles(role)");if(I)o({title:"Erreur",description:"Impossible de charger les membres.",variant:"destructive"});else{const F=k.map(D=>({...D,profiles:Array.isArray(D.profiles)?D.profiles[0]:D.profiles}));n(F)}i(!1)},[o]);m.useEffect(()=>{S()},[S]);const j=m.useMemo(()=>{if(!t.length)return[];const k=new Map;return xa.forEach(I=>{I.instructors.forEach(F=>{const D=F.toLowerCase().trim(),H=t.find(G=>`${G.first_name} ${G.last_name}`.toLowerCase().trim()===D);if(H){k.has(H.id)||k.set(H.id,new Set);const G=k.get(H.id);I.group==="Compétition"&&G.add("Coach"),(I.group==="Loisir"||I.group==="Perf")&&G.add("Encadrant"),I.group==="Autonomes"&&G.add("Ouvreur")}})}),t.map(I=>({...I,dynamic_roles:k.has(I.id)?Array.from(k.get(I.id)):[]}))},[t]),b=async k=>{const I=k.name.split(".").pop(),F=`members_photos/${Date.now()}.${I}`;let{error:D}=await te.storage.from("member_photos").upload(F,k,{upsert:!0});if(D)throw D;const{data:H}=te.storage.from("member_photos").getPublicUrl(F);return H.publicUrl},C=async(k,I)=>{c(!0);try{let F=k.photo_url;I?F=await b(I):k.photo_url===null&&(F=null);const{profiles:D,dynamic_roles:H,member_roles:G,isEmergencyContactFor:ee,...z}={...k,photo_url:F};let Z;if(v)({error:Z}=await te.from("members").update(z).eq("id",v.id));else{const{id:q,...Q}=z;({error:Z}=await te.from("members").insert(Q))}if(Z)throw Z;o({title:"Succès",description:`Membre ${v?"mis à jour":"ajouté"} avec succès.`}),x(),S()}catch(F){o({title:"Erreur",description:F.message,variant:"destructive"})}finally{c(!1)}},{bureauPrincipaux:N,bureauAdjoints:A}=m.useMemo(()=>{const k=j.filter(H=>H.title==="Bureau"),F=["Présidente","Trésorier","Secrétaire"].map(H=>k.find(G=>G.sub_group===H)).filter(Boolean),D=k.filter(H=>H.sub_group&&H.sub_group.includes("Adjoint"));return{bureauPrincipaux:F,bureauAdjoints:D}},[j]),P=k=>{const I=`${k.first_name} ${k.last_name}`.toLowerCase().replace(/é/g,"e"),F=k.first_name.toLowerCase().replace(/é/g,"e"),D=`${k.last_name.charAt(0)}.`.toLowerCase();return xa.filter(H=>H.instructors.some(G=>{const ee=G.toLowerCase().replace(/é/g,"e");return ee.includes(I)||k.last_name.length>1&&ee.includes(`${F} ${D}`)}))},T=m.useMemo(()=>{const k=new Set;return xa.forEach(I=>k.add(I.title)),["all",...Array.from(k).sort()]},[]),R=m.useMemo(()=>{let k=j.filter(I=>I.title==="Bénévole");return u==="all"?k:k.filter(I=>P(I).some(D=>D.title===u))},[j,u]),O=k=>({Présidente:Mb,"Présidente Adjointe":Mb,Secrétaire:rr,"Secrétaire Adjoint":rr,"Secrétaire Adjointe":rr,Trésorier:up,"Trésorier Adjoint":up,"Trésorière Adjointe":up})[k]||wr,B=(k,I)=>`${(k==null?void 0:k[0])||""}${(I==null?void 0:I[0])||""}`.toUpperCase(),W=k=>({Compétition:"competition",Perf:"perf",Autonomes:"autonomes",Loisir:"loisir"})[k]||"secondary",U={Coach:{icon:h3,color:"bg-red-500 text-white",title:"Coach (Compétition)"},Encadrant:{icon:LN,color:"bg-blue-500 text-white",title:"Encadrant (Loisir/Perf)"},Ouvreur:{icon:p3,color:"bg-yellow-500 text-black",title:"Ouvreur (Autonomes)"}},K=({member:k})=>{var G,ee;const{showMemberDetails:I}=Sr(),F=ys(k.first_name,k.last_name,e),D=P(k),H=k.title==="Bureau"?O(k.sub_group):null;return s.jsx(ue.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:s.jsxs(fe,{className:"border-green-200 shadow-md hover:shadow-lg transition-shadow relative h-full cursor-pointer",onClick:()=>I(k.id),children:[e&&s.jsx(X,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:z=>{z.stopPropagation(),w(k)},children:s.jsx(Qr,{className:"h-4 w-4"})}),s.jsxs(me,{className:"p-4 flex items-center gap-4",children:[s.jsxs(gs,{className:"w-16 h-16",children:[s.jsx(vs,{alt:`Portrait de ${F}`,src:k.photo_url}),s.jsx(xs,{className:"text-lg font-semibold",children:B(k.first_name,k.last_name)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-semibold text-lg",children:F}),H&&s.jsx(H,{className:"w-5 h-5 text-primary",title:k.sub_group}),s.jsx(Z0,{profile:k.profiles})]}),k.title==="Bureau"&&k.sub_group&&s.jsx(Pe,{variant:"outline",className:"mt-1",children:k.sub_group}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(G=k.dynamic_roles)==null?void 0:G.map(z=>{const Z=U[z],q=(Z==null?void 0:Z.icon)||wr;return s.jsxs(Pe,{className:`${(Z==null?void 0:Z.color)||"bg-gray-500"} flex items-center gap-1`,title:Z==null?void 0:Z.title,children:[s.jsx(q,{className:"h-3 w-3"}),z]},z)})}),D.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:D.map(z=>s.jsx(Pe,{variant:W(z.group),children:z.title},z.id))}),((ee=k.brevet_federaux)==null?void 0:ee.length)>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:k.brevet_federaux.map(z=>s.jsx("div",{className:`w-4 h-4 rounded-full ${gd[z]||"bg-gray-400"}`,title:z},z))})]})]})]})})},$=({brevetName:k,definition:I})=>s.jsxs(Mt,{children:[s.jsx(R2,{asChild:!0,children:s.jsxs(X,{variant:"ghost",className:"flex items-center gap-2 justify-start p-0 h-auto font-normal text-left",children:[s.jsx("div",{className:`w-4 h-4 rounded-full flex-shrink-0 ${gd[k]}`}),s.jsx("span",{className:"flex-1",children:k}),s.jsx(Aa,{className:"h-4 w-4 text-muted-foreground ml-auto"})]})}),s.jsxs(At,{className:"sm:max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsxs(qt,{children:[s.jsx(Zt,{children:I.title}),s.jsx(Zr,{children:I.description})]}),s.jsx("div",{className:"overflow-y-auto pr-4 space-y-4",children:I.articles.map((F,D)=>s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:F.title}),s.jsx("p",{className:"whitespace-pre-wrap text-sm text-muted-foreground",children:F.content})]},D))})]})]});if(r)return s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})});if(f){const k=j.filter(I=>I.title==="Bureau"||I.title==="Bénévole");return s.jsx(CY,{volunteers:k,onQuizEnd:()=>p(!1)})}return s.jsxs("div",{className:"space-y-12",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Bénévoles - Club d'Escalade"}),s.jsx("meta",{name:"description",content:"Découvrez les membres du bureau et les bénévoles qui font vivre le club d'escalade"})]}),s.jsxs(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-4",children:[s.jsx("h1",{className:"text-4xl font-bold headline",children:"Nos Bénévoles"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Découvrez les personnes dévouées qui font vivre notre club au quotidien."}),s.jsxs(X,{size:"lg",onClick:()=>p(!0),children:[s.jsx(rf,{className:"mr-2 h-5 w-5"}),'Lancer le Quiz "Qui est-ce ?"']})]}),s.jsxs(ue.section,{initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},className:"space-y-6",children:[s.jsxs("h2",{className:"text-3xl font-bold headline flex items-center gap-3",children:[s.jsx(WF,{className:"w-8 h-8 text-primary"}),"Le Bureau"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-6",children:s.jsx(Ot,{children:N.map(k=>s.jsx(K,{member:k},k.id))})}),s.jsx("div",{className:"space-y-6",children:s.jsx(Ot,{children:A.map(k=>s.jsx(K,{member:k},k.id))})})]})]}),s.jsxs(ue.section,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold headline flex items-center gap-3",children:[s.jsx(JF,{className:"w-8 h-8 text-primary"}),"Les Encadrants Bénévoles"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Nos incroyables bénévoles qui rendent tout cela possible."})]}),s.jsx("div",{className:"max-w-sm",children:s.jsxs(Qe,{value:u,onValueChange:h,children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Filtrer par cours..."})}),s.jsx(Je,{children:T.map(k=>s.jsx(Ce,{value:k,children:k==="all"?"Tous les cours":k},k))})]})}),s.jsx("div",{className:"grid md:grid-cols-1 lg:grid-cols-2 gap-6",children:s.jsx(Ot,{children:R.map(k=>s.jsx(K,{member:k},k.id))})})]}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(Aa,{className:"w-5 h-5"})," Légende"]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Rôles & Statuts"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uf,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{children:"Admin"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"h-5 w-5 text-blue-500"}),s.jsx("span",{children:"Adhérent"})]}),Object.entries(U).map(([k,{icon:I,color:F,title:D}])=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`p-1 rounded-full ${F}`,children:s.jsx(I,{className:"h-3 w-3"})}),s.jsx("span",{children:D})]},k))]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Brevets Fédéraux"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 text-sm",children:Object.keys(gd).map(k=>{const I=SY[k];return s.jsx("div",{children:I?s.jsx($,{brevetName:k,definition:I}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${gd[k]}`}),s.jsx("span",{children:k})]})},k)})})]})]})]}),s.jsx(Ot,{children:y&&s.jsx(rm,{member:v,onSave:C,onCancel:x,isSaving:l})})]})},NY=()=>s.jsxs("div",{className:"space-y-8",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Agenda - Club d'Escalade"}),s.jsx("meta",{name:"description",content:"Consultez l'agenda des événements, compétitions et dates importantes du club d'escalade"})]}),s.jsxs(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-4",children:[s.jsx("h1",{className:"text-4xl font-bold headline",children:"Agenda du Club"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Restez informé de tous les événements et dates importantes du club."})]}),s.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs(fe,{children:[s.jsxs(ye,{children:[s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(xo,{className:"w-5 h-5 text-primary"}),"Agenda du club"]}),s.jsx(Yr,{children:"Consultez l'agenda des événements, compétitions et autres dates importantes du club."})]}),s.jsx(me,{children:s.jsx("div",{className:"w-full",style:{aspectRatio:"4/3"},children:s.jsx("iframe",{src:"https://calendar.google.com/calendar/embed?src=40d41279d5c035a144ac235350ac3c6e1fa958eb2d1205404ab392d694098806%40group.calendar.google.com&ctz=Europe%2FParis",style:{border:0},width:"100%",height:"100%",frameBorder:"0",scrolling:"no",className:"rounded-lg",title:"Agenda du club d'escalade"})})})]})})]}),PY=()=>{const[e,t]=m.useState({group:"",instructor:""}),[n,r]=m.useState(!1),i=xa.filter(h=>h?(!e.group||h.group===e.group)&&(!e.instructor||h.instructors.includes(e.instructor)):!1),o=()=>{t({group:"",instructor:""}),r(!1)},l=h=>{if(h==="instructor"){const f=xa.filter(Boolean).flatMap(p=>p.instructors);return[...new Set(f)].sort()}return[...new Set(xa.filter(Boolean).map(f=>f[h]))].sort()},c=[{color:"bg-red-200 text-red-800",label:"Compétition"},{color:"bg-blue-200 text-blue-800",label:"Loisir"},{color:"bg-green-200 text-green-800",label:"Perf"},{color:"bg-yellow-200 text-yellow-800",label:"Autonomes"}],u=pd.reduce((h,f,p)=>(h[f]=p+2,h),{});return s.jsxs("div",{className:"space-y-8",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Planning - Club d'Escalade"}),s.jsx("meta",{name:"description",content:"Consultez le planning hebdomadaire des cours d'escalade du club"})]}),s.jsxs(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-4",children:[s.jsx("h1",{className:"text-4xl font-bold headline",children:"Planning des cours"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Voici le planning hebdomadaire des cours d'escalade."})]}),s.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"space-y-4",children:s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(sf,{className:"w-5 h-5 text-primary"}),"Filtres et options"]})}),s.jsxs(me,{children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 items-center",children:[s.jsxs(Qe,{value:e.group,onValueChange:h=>t({...e,group:h==="all"?"":h}),children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Groupe"})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"all",children:"Tous les groupes"}),l("group").map(h=>s.jsx(Ce,{value:h,children:h},h))]})]}),s.jsxs(Qe,{value:e.instructor,onValueChange:h=>t({...e,instructor:h==="all"?"":h}),children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Encadrant"})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"all",children:"Tous les encadrants"}),l("instructor").map(h=>s.jsx(Ce,{value:h,children:Db(h)},h))]})]}),s.jsxs(X,{variant:"outline",onClick:o,className:"flex items-center gap-2",children:[s.jsx(u3,{className:"w-4 h-4"}),"Réinitialiser"]})]}),s.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[s.jsx(Vr,{id:"show-instructors",checked:n,onCheckedChange:r}),s.jsxs("label",{htmlFor:"show-instructors",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 flex items-center gap-2",children:[n?s.jsx(Ta,{className:"w-4 h-4"}):s.jsx(YF,{className:"w-4 h-4"}),"Afficher les encadrants"]})]})]})]})}),s.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsx(_e,{children:"Grille horaire"})}),s.jsx(me,{children:s.jsxs("div",{className:"relative grid gap-0",style:{gridTemplateColumns:`minmax(4rem, auto) repeat(${pd.length}, 1fr)`,gridTemplateRows:`auto repeat(${Zv.length}, 3rem)`},children:[s.jsx("div",{className:"sticky top-0 z-20 bg-card font-semibold p-2 text-center border-b",children:"Heure"}),pd.map(h=>s.jsx("div",{className:"sticky top-0 z-20 bg-card font-semibold p-2 text-center border-b",children:h},h)),Zv.map((h,f)=>s.jsxs(se.Fragment,{children:[s.jsx("div",{style:{gridRow:f+2},className:"font-medium text-sm text-muted-foreground p-2 text-right border-r",children:h}),s.jsx("div",{style:{gridRow:f+2,gridColumn:`2 / span ${pd.length}`},className:"border-b border-dashed"})]},h)),i.map(h=>s.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:`${h.color} p-2 rounded-lg text-xs border z-10 m-0.5 flex flex-col justify-between`,style:{gridColumnStart:u[h.day],gridRowStart:h.startIndex+2,gridRowEnd:`span ${h.spanSlots}`},children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold truncate",children:h.title}),s.jsxs("div",{className:"text-xs opacity-80",children:[h.startTime," - ",h.endTime]})]}),n&&s.jsx("div",{className:"text-xs opacity-80 mt-1",children:s.jsxs("div",{className:"flex items-start gap-1",children:[s.jsx(Yt,{className:"w-3 h-3 flex-shrink-0 mt-0.5"}),s.jsx("div",{children:h.instructors.map(f=>s.jsx("div",{className:"truncate",children:Db(f)},f))})]})})]},h.id))]})})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.6},children:s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsx(_e,{children:"Légende des couleurs"})}),s.jsx(me,{children:s.jsx("div",{className:"space-y-2",children:c.map((h,f)=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-4 h-4 rounded ${h.color.split(" ")[0]}`}),s.jsx("span",{children:h.label})]},f))})})]})}),s.jsx(ue.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.7},children:s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsx(_e,{children:"Composition des catégories d'âge"})}),s.jsx(me,{children:s.jsx("div",{className:"space-y-2",children:SK.map((h,f)=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Pe,{variant:"outline",children:h.category}),s.jsx("span",{className:"text-sm text-muted-foreground",children:h.school})]},f))})})]})})]})]})},pC=({title:e,stats:t,color:n,loading:r})=>{if(r)return s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-lg font-semibold",children:"..."}),s.jsx("div",{className:"text-sm text-muted-foreground",children:e})]});const i=[{label:"H",value:t.byGender.H,color:"#3b82f6"},{label:"F",value:t.byGender.F,color:"#ec4899"},...t.byGender.unknown>0?[{label:"?",value:t.byGender.unknown,color:"#6b7280"}]:[]],o=Math.max(...Object.values(t.byAge));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",style:{color:n},children:t.total}),s.jsx("div",{className:"text-sm text-muted-foreground",children:e})]}),t.total>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium mb-2 text-center",children:"Par sexe"}),s.jsx("div",{className:"flex justify-center",children:s.jsx(NL,{data:i,size:80})})]}),Object.keys(t.byAge).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium mb-2",children:"Par âge"}),s.jsx("div",{className:"space-y-1",children:Object.entries(t.byAge).map(([l,c])=>s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"w-12 truncate",children:l}),s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:"h-1.5 rounded-full transition-all duration-500",style:{width:`${c/o*100}%`,backgroundColor:n}})}),s.jsx("span",{className:"w-4 text-right",children:c})]},l))})]})]})},NL=({data:e,size:t=120})=>{const n=e.reduce((l,c)=>l+c.value,0);if(n===0)return null;let r=0;const i=t/2,o=t/2;return s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[e.map((l,c)=>{const u=l.value/n*100,h=`${u*2.51} 251`,f=-r*2.51;return r+=u,s.jsx("circle",{cx:i,cy:o,r:"40",fill:"transparent",stroke:l.color,strokeWidth:"20",strokeDasharray:h,strokeDashoffset:f,className:"transition-all duration-500"},c)}),s.jsx("text",{x:i,y:o,textAnchor:"middle",dominantBaseline:"middle",className:"fill-foreground font-semibold text-sm transform rotate-90",children:n})]}),s.jsx("div",{className:"mt-3 space-y-1",children:e.map((l,c)=>s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),s.jsxs("span",{children:[l.label,": ",l.value]})]},c))})]})},TY=({data:e,maxValue:t})=>s.jsx("div",{className:"space-y-3",children:e.map((n,r)=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"font-medium truncate",children:n.label}),s.jsx("span",{className:"text-muted-foreground",children:n.value})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${n.value/t*100}%`}})})]},r))}),AY=({members:e})=>{const[t,n]=m.useState({bloc:0,difficulte:0,total:0,participantsStats:{bloc:{total:0,byGender:{H:0,F:0,unknown:0},byAge:{}},difficulte:{total:0,byGender:{H:0,F:0,unknown:0},byAge:{}}},loading:!0});m.useEffect(()=>{(async()=>{try{const{data:o,error:l}=await te.from("competitions").select("id, disciplines");if(l)throw l;const{data:c,error:u}=await te.from("competition_participants").select(`
            competition_id,
            member_id,
            role,
            members (
              sexe,
              category,
              first_name,
              last_name
            )
          `).eq("role","Competiteur");if(u)throw u;let h=0,f=0;const p=new Set,v=new Set,y={total:0,byGender:{H:0,F:0,unknown:0},byAge:{}},w={total:0,byGender:{H:0,F:0,unknown:0},byAge:{}},x={bloc:[],difficulte:[]};o.forEach(S=>{if(S.disciplines){const j=Array.isArray(S.disciplines)?S.disciplines:[S.disciplines];j.includes("Bloc")&&(h++,x.bloc.push(S.id)),j.includes("Difficulté")&&(f++,x.difficulte.push(S.id))}}),c.forEach(S=>{if(!S.members)return;const j=S.members,b=S.competition_id;let C="Autre";if(j.category&&(j.category.includes("U11")||j.category.includes("U13")?C="U11-U13":j.category.includes("U15")?C="U15":(j.category.includes("U17")||j.category.includes("U19"))&&(C="U17-U19")),x.bloc.includes(b)){const N=`${S.member_id}`;p.has(N)||(p.add(N),y.total++,j.sexe==="H"?y.byGender.H++:j.sexe==="F"?y.byGender.F++:y.byGender.unknown++,y.byAge[C]=(y.byAge[C]||0)+1)}if(x.difficulte.includes(b)){const N=`${S.member_id}`;v.has(N)||(v.add(N),w.total++,j.sexe==="H"?w.byGender.H++:j.sexe==="F"?w.byGender.F++:w.byGender.unknown++,w.byAge[C]=(w.byAge[C]||0)+1)}}),n({bloc:h,difficulte:f,total:o.length,participantsStats:{bloc:y,difficulte:w},loading:!1})}catch(o){console.error("Erreur lors du chargement des statistiques de compétitions:",o),n(l=>({...l,loading:!1}))}})()},[]);const r=m.useMemo(()=>{const i={},o={H:0,F:0,unknown:0};e.forEach(h=>{const f=h.category||"Non définie";i[f]=(i[f]||0)+1,h.sexe==="H"?o.H++:h.sexe==="F"?o.F++:o.unknown++});const l=h=>h.sort((f,p)=>{const v=x=>{const S=x.match(/U(\d+)/);return S?parseInt(S[1]):999},y=v(f[0]),w=v(p[0]);return y!==999&&w!==999?y-w:y!==999&&w===999?-1:y===999&&w!==999?1:f[0].localeCompare(p[0])}),c={};return l(Object.entries(i)).forEach(([h,f])=>{c[h]=f}),{categoryStats:c,sexStats:o}},[e]);return s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(MN,{className:"w-5 h-5"}),"Statistiques Compétiteurs"]})}),s.jsx(me,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4"}),"Par catégorie"]}),s.jsx(TY,{data:Object.entries(r.categoryStats).map(([i,o])=>({label:i,value:o})),maxValue:Math.max(...Object.values(r.categoryStats))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Nc,{className:"w-4 h-4"}),"Par sexe"]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(NL,{data:[{label:"Hommes",value:r.sexStats.H,color:"#3b82f6"},{label:"Femmes",value:r.sexStats.F,color:"#ec4899"},...r.sexStats.unknown>0?[{label:"Non renseigné",value:r.sexStats.unknown,color:"#6b7280"}]:[]],size:140})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[s.jsx(xo,{className:"w-4 h-4"}),"Participation aux compétitions"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{className:"border rounded-lg p-3 bg-blue-50/50",children:s.jsx(pC,{title:"Participants Bloc",stats:t.participantsStats.bloc,color:"#3b82f6",loading:t.loading})}),s.jsx("div",{className:"border rounded-lg p-3 bg-green-50/50",children:s.jsx(pC,{title:"Participants Difficulté",stats:t.participantsStats.difficulte,color:"#10b981",loading:t.loading})})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{children:"Compétitions Bloc"}),s.jsx(Pe,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:t.loading?"...":t.bloc})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{children:"Compétitions Difficulté"}),s.jsx(Pe,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:t.loading?"...":t.difficulte})]})]})]})]})})]})},kY=({competitions:e,discipline:t,onClose:n})=>{const r=kn(),i=o=>{n(),r(`/competitions?id=${o}`)};return s.jsx(Mt,{open:!0,onOpenChange:n,children:s.jsxs(At,{children:[s.jsxs(qt,{children:[s.jsxs(Zt,{children:["Compétitions de ",t]}),s.jsx(Zr,{children:"Liste des compétitions auxquelles le membre a participé en 2025"})]}),s.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 py-4",children:e.length>0?e.map(o=>s.jsxs("div",{className:"p-2 rounded-md hover:bg-accent cursor-pointer",onClick:()=>i(o.id),children:[s.jsx("p",{className:"font-medium",children:o.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(o.start_date).toLocaleDateString()})]},o.id)):s.jsx("p",{className:"text-muted-foreground",children:"Aucune compétition dans cette discipline."})}),s.jsx(cr,{children:s.jsx(X,{variant:"outline",onClick:n,children:"Fermer"})})]})})},RY=({member:e,onEdit:t,isAdmin:n,stats:r,onStatClick:i})=>{const{showMemberDetails:o}=Sr(),l=r&&r.bloc>0,c=r&&r.difficulte>0,u=(h,f)=>`${(h==null?void 0:h[0])||""}${(f==null?void 0:f[0])||""}`.toUpperCase();return s.jsx(fe,{className:"overflow-hidden transition-all hover:shadow-md relative group cursor-pointer",onClick:()=>o(e.id),children:s.jsxs(me,{className:"p-3 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(gs,{className:"h-10 w-10",children:[s.jsx(vs,{src:e.photo_url,alt:ys(e.first_name,e.last_name,!0)}),s.jsx(xs,{children:u(e.first_name,e.last_name)})]}),s.jsxs("div",{className:"flex-grow",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-semibold",children:ys(e.first_name,e.last_name,n)}),e.sexe&&s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${e.sexe==="F"?"bg-pink-100 text-pink-600":e.sexe==="H"?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600"}`,children:e.sexe==="F"?"♀":e.sexe==="H"?"♂":"?"}),s.jsx(Z0,{profile:e.profiles})]}),e.category&&s.jsx("p",{className:"text-sm text-primary font-medium",children:e.category})]}),n&&s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity self-start",onClick:h=>{h.stopPropagation(),t(e)},children:s.jsx(Qr,{className:"h-4 w-4"})})]}),(l||c)&&s.jsxs("div",{className:"flex items-center justify-start gap-4 text-xs text-muted-foreground pt-1",children:[l&&s.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:text-blue-500",onClick:h=>{h.stopPropagation(),i("Bloc")},children:[s.jsx(MN,{className:"w-3 h-3 text-blue-500"}),s.jsxs("span",{children:["Bloc: ",s.jsx("span",{className:"font-bold text-foreground",children:r.bloc})]})]}),c&&s.jsxs("div",{className:"flex items-center gap-1 cursor-pointer hover:text-green-500",onClick:h=>{h.stopPropagation(),i("Difficulté")},children:[s.jsx(TN,{className:"w-3 h-3 text-green-500"}),s.jsxs("span",{children:["Diff: ",s.jsx("span",{className:"font-bold text-foreground",children:r.difficulte})]})]})]})]})})},gC=({title:e,competitors:t,onEdit:n,isAdmin:r,participationStats:i,onStatClick:o})=>{const l=m.useMemo(()=>{const c=t.reduce((u,h)=>{const f=h.category||"Non classé";return u[f]||(u[f]=[]),u[f].push(h),u},{});return Object.entries(c).sort(([u],[h])=>u==="Non classé"?1:h==="Non classé"?-1:u.localeCompare(h))},[t]);return s.jsxs(ue.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[s.jsxs("h2",{className:"text-3xl font-bold headline flex items-center gap-3",children:[s.jsx(qa,{className:"w-8 h-8 text-primary"}),e," (",t.length,")"]}),s.jsx("div",{className:"space-y-6",children:l.map(([c,u])=>s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold mb-4 border-b pb-2",children:[c," (",u.length,")"]}),s.jsx(ue.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"visible",children:u.map(h=>{const f=i[h.id]||{bloc:{count:0,list:[]},difficulte:{count:0,list:[]}},p={bloc:f.bloc.count,difficulte:f.difficulte.count};return s.jsx(ue.div,{variants:{hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},children:s.jsx(RY,{member:h,onEdit:n,isAdmin:r,stats:p,onStatClick:v=>o(h,v)})},h.id)})})]},c))})]})},LY=()=>{const[e,t]=m.useState([]),[n,r]=m.useState({}),[i,o]=m.useState(!0),[l,c]=m.useState(!1),[u,h]=m.useState({isOpen:!1,competitions:[],discipline:""}),{isAdmin:f,loading:p}=zt(),{toast:v}=tt(),{editingMember:y,isFormVisible:w,openEditFormForMember:x,closeEditForm:S}=Sr(),j=kn(),b=m.useCallback(async()=>{o(!0);try{const{data:O,error:B}=await te.from("members").select("*, profiles(role)").in("title",["Compétition U11-U15","Compétition U15-U19"]).order("last_name").order("first_name");if(B)throw B;const W=O.map(k=>({...k,profiles:Array.isArray(k.profiles)?k.profiles[0]:k.profiles}));t(W);const{data:U,error:K}=await te.from("competition_participants").select(`
          member_id,
          competitions ( id, name, start_date, disciplines )
        `).eq("role","Competiteur");if(K)throw K;const $=U.reduce((k,I)=>{var H;if(!I.member_id||!I.competitions)return k;k[I.member_id]||(k[I.member_id]={bloc:{count:0,list:[]},difficulte:{count:0,list:[]}});const F={id:I.competitions.id,name:I.competitions.name,start_date:I.competitions.start_date},D=((H=I.competitions)==null?void 0:H.disciplines)||[];return D.includes("Bloc")&&(k[I.member_id].bloc.count++,k[I.member_id].bloc.list.push(F)),D.includes("Difficulté")&&(k[I.member_id].difficulte.count++,k[I.member_id].difficulte.list.push(F)),k},{});r($)}catch{v({title:"Erreur",description:"Impossible de charger les données des compétiteurs.",variant:"destructive"})}finally{o(!1)}},[v]);m.useEffect(()=>{b()},[b]);const C=async O=>{const B=O.name.split(".").pop(),W=`members_photos/${Date.now()}.${B}`;let{error:U}=await te.storage.from("member_photos").upload(W,O,{upsert:!0});if(U)throw U;const{data:K}=te.storage.from("member_photos").getPublicUrl(W);return K.publicUrl},N=async(O,B)=>{c(!0);try{let W=O.photo_url;B?W=await C(B):O.photo_url===null&&(W=null);const{profiles:U,dynamic_roles:K,isEmergencyContactFor:$,emergency_contact_1:k,emergency_contact_2:I,...F}={...O,photo_url:W},{error:D}=await te.from("members").update(F).eq("id",y.id);if(D)throw D;v({title:"Succès",description:"Compétiteur mis à jour."}),S(),b()}catch{v({title:"Erreur",description:"Impossible de mettre à jour le compétiteur.",variant:"destructive"})}finally{c(!1)}},A=(O,B)=>{const W=n[O.id];W&&(B==="Bloc"?h({isOpen:!0,competitions:W.bloc.list,discipline:"Bloc"}):B==="Difficulté"&&h({isOpen:!0,competitions:W.difficulte.list,discipline:"Difficulté"}))},P=()=>{h({isOpen:!1,competitions:[],discipline:""})},T=e.filter(O=>O.title==="Compétition U11-U15"),R=e.filter(O=>O.title==="Compétition U15-U19");return i||p?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-12",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Compétiteurs - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Liste des compétiteurs du club d'escalade, répartis par catégories."})]}),s.jsxs(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex justify-center items-center gap-4 flex-wrap",children:[s.jsx("h1",{className:"text-4xl font-bold headline",children:"Nos Compétiteurs"}),s.jsxs(X,{onClick:()=>j("/annual-summary?tab=participation"),variant:"outline",children:[s.jsx(EN,{className:"w-4 h-4 mr-2"})," Récap Annuel"]})]}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"La fierté du club, nos athlètes qui nous représentent sur les murs de la région et au-delà."})]}),s.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:s.jsx(AY,{members:e})}),s.jsx(gC,{title:"Compétition U11-U15",competitors:T,onEdit:O=>x(O),isAdmin:f,participationStats:n,onStatClick:A}),s.jsx(gC,{title:"Compétition U15-U19",competitors:R,onEdit:O=>x(O),isAdmin:f,participationStats:n,onStatClick:A}),s.jsx(Ot,{children:w&&f&&s.jsx(rm,{member:y,onSave:N,onCancel:S,isSaving:l})}),u.isOpen&&s.jsx(kY,{competitions:u.competitions,discipline:u.discipline,onClose:P})]})},OY=`NOM;Prénom;Titre;Sous groupe;Photo
ABRIAL;Aline;Adultes autonomes;;
ABRIAL;Arthur;Compétition U11-U15;;
ABRIAL;Benoit;Bureau;Secrétaire Adjoint;Benoit_ABRIAL.png
ABRIAL;Chloe;Compétition U15-U19;;
ADONETH;Nadege;Adultes autonomes;;
AGOSTINO;Chloe;Loisir collège;mercredi;;
ANTOLINOS;Clement;Compétition U15-U19;;
ARNAUD;Rene;Adultes autonomes;;
AVELINE;Bertrand;Adultes autonomes;;
BABIC;maxime;Loisir lycée;;
BAEZ;Juliette;Compétition U11-U15;;
BALINSKI;Enzo;Perfectionnement U9 -U13;;
BARAUD;Mathieu;Bénévole;0;Mathieu_BARAUD.png
BARGHOUTI;Fatine;Adultes débutants;;
BARON;Julien;Loisir lycée;;
BARRAT;Maelys;Loisir collège;lundi;;
BASSO;Chloe;Compétition U11-U15;;
BASTIDE;Camille;Loisir collège;mercredi;;
BASTIDE;Eva;Loisir enfants;mercredi 13h Groupe A;;
BENECH;Jean;Adultes autonomes;;
BENECH;Lea;Adultes autonomes;;
BERGER;Adrien;Bénévole;0;Adrien_BERGER.png
BERGER;Mayline;Loisir collège;lundi;;
BERGER;Nathalie;Adultes autonomes;;
BERGER;Olivier;Adultes autonomes;;
BESSUEILLE;Alexandre;Loisir lycée;;
BLANCHARD;Ayleen;Loisir enfants;vendredi;;
BONNIOT;Louna;Adultes autonomes;;
BONNIOT;Natacha;Adultes autonomes;;
BOREL;Elise;Perfectionnement U9 -U13;;
BOSSET;Benjamin;Loisir lycée;;
BOSSET;Olivier;Bénévole;0;Olivier_BOSSET.png
BOU SAID;Alexandre;Loisir lycée;;
BOURDAUD HUI;Marine;Bénévole;0;Marine_BOURDAUD_HUI.png
BOURTHOUMIEUX;Elie;Perfectionnement U9 -U13;;
BOUVET;Rose;Loisir collège;mercredi;;
BRISSE;Georges;Adultes débutants;;
BRON;Damien;Adultes autonomes;;
BRUEL;Thomas;Adultes autonomes;;
BUCHET;Anatole;Loisir collège;mercredi;;
CABIROL;Celine;Adultes autonomes;;
CAILLARD;Aline;Adultes autonomes;;
CAILLOUX;Gabriel;Loisir enfants;vendredi;;
CANET;Julia;Loisir collège;mercredi;;
CAPUANO;elena;Adultes autonomes;;
CAPUANO;Olivia;Adultes autonomes;;
CATHERIN;Boris;Bénévole;0;;
CAULET;Apolline;Loisir lycée;;
CAULET JOHANNES;Athenais;Loisir collège;lundi;;
CERTAIN TECHOUEYRES;Leena;Loisir collège;lundi;;
CHALON;Pierre;Adultes autonomes;;
CHAPELLE;Alice;Compétition U11-U15;;
CHARET;Matteo;Adultes autonomes;;
CHAVRET-RECULON;Estelle;Adultes autonomes;;
CHAVRET-RECULON;Gael;Adultes autonomes;;
CHAZOT;Chloé;Loisir collège;mercredi;;
CHAZOT;Mathilde;Adultes autonomes;;
CHAZOT;Sylvain;Bureau;Trésorier Adjoint;Sylvain-CHAZOT.png
CHAZOT;Tiago;Compétition U15-U19;;
CIBOT;Mathilda;Compétition U15-U19;;
CLARET;Heloise;Adultes autonomes;;
CLAUDE;Aurelie;Adultes débutants;;
CLEDAT;Alexis;Loisir lycée;;
CLITON;Nathalie;Adultes autonomes;;
COCHE;Eden;Compétition U15-U19;;
CONVERS;Arthur;Loisir enfants;mercredi 16h;;
CONVERS;Capucine;Perfectionnement U13-U19;;
CONVERS;Charlie;Compétition U11-U15;;
COSTE;Liam;Loisir enfants;mercredi 16h;;
COTTET;Laurine;Adultes débutants;;
COURTIADE;Axel;Loisir collège;lundi;;
COUTELIER;Louane;Compétition U11-U15;;
DAYRE;Stael;Perfectionnement U13-U19;;
DE LIMA FERREIRA;Clément;Bénévole;0;Clément_LIMA_FERREIRA.png
DEBILI;Naelle;Loisir collège;lundi;;
DERMADIROSSIAN;Nicolas;Adultes autonomes;;
DESCAMPS;Nathalie;Adultes autonomes;;
DESPALUNGUE D'ARROS;Mattéo;Perfectionnement U9 -U13;;
DI CANDIDO;Marie Josee;Adultes autonomes;;
DI PIAZZA;Emma;Loisir enfants;mercredi 13h Groupe B;;
DIDIER;Camille;Bénévole;0;Camille_DIDIER.png
DIRUIT;Martin;Loisir enfants;mercredi 16h;;
DIRUIT;Romane;Perfectionnement U13-U19;;
DISSAUX;Pierre-Antoine;Loisir collège;lundi;;
DUMAS;Matthieu;Perfectionnement U13-U19;;
DURAND;Magali;Adultes autonomes;;
DUVEAU;Florent;Adultes débutants;;
ENJALRAN;Louison;Loisir enfants;mercredi 13h Groupe B;;
ESCOFFIER;Laurent;Adultes autonomes;;
FABRE;Romy;Perfectionnement U9 -U13;;
FALQUE;Christophe;Adultes autonomes;;
FANJAT;Fabrice;Adultes autonomes;;
FANJAT;GABIN;Compétition U15-U19;;
FAURE;Frederic;Adultes autonomes;;
FAURE;Monique;Adultes autonomes;;
FAVIER;Evan;Loisir enfants;mercredi 13h Groupe A;;
FERNANDEZ;Cyril;Adultes autonomes;;
FERREIRA;Ewan;Loisir enfants;mercredi 13h Groupe B;;
FLANDRIN;Flavien;Adultes autonomes;;
FOLLUT;Maelys;Perfectionnement U13-U19;;
FOURCADE;Esteban;Loisir enfants;mercredi 16h;;
FOURCADE;Noah;Compétition U11-U15;;
FREMY;Magali;Bénévole;0;;
FRIEDE D'ORIO;Maelys;Loisir collège;mercredi;;
GAALOUL;Nelia;Loisir enfants;mercredi 13h Groupe B;;
GAILLARD;Cedric;Adultes autonomes;;
GANDOLA;fabien;Adultes autonomes;;
GARRIGUE;Charline;Loisir enfants;mercredi 16h;;
GAST;Lison;Loisir enfants;vendredi;;
GAUTHIER;Antoine;Perfectionnement U9 -U13;;
GELIN;Jade;Loisir lycée;;
GEORGES;Alexandre;Loisir enfants;mercredi 13h Groupe B;;
GERIN-GARCIA;Eloane;Compétition U11-U15;;
GILBERT;Juliette;Loisir collège;lundi;;
GIROUSSE;Noah;Perfectionnement U9 -U13;;
GOETHALS;Romain;Bénévole;0;;
GOMEZ;Frederic;Adultes autonomes;;
GRANADOS;Emma;Loisir enfants;mercredi 13h Groupe A;;
GRAS;Quentin;Loisir lycée;;
GRATTON;Abygael;Loisir collège;mercredi;;
GRATTON;Emily-Jane;Loisir enfants;mercredi 13h Groupe A;;
GREINER;Jules;Adultes autonomes;;
GRENIER;Jules;Perfectionnement U13-U19;;
GUERIN;frederique;Adultes autonomes;;
GUICHARD;Patrick;Adultes autonomes;;
GUILHEM;Hanae;Loisir enfants;vendredi;;
GUILHEM;Soen;Perfectionnement U9 -U13;;
GURRET;Benoit;Adultes autonomes;;
GURRET LEBRUN;Camille;Loisir enfants;mercredi 13h Groupe A;;
HENRIET;Leonie;Compétition U11-U15;;
HERNANDEZ;Fernand;Adultes autonomes;;
HERNANDEZ;Thi Xuan Trang;Adultes autonomes;;
HUE;Magaly;Bénévole;0;Magaly_HUE.png
JADOT;Leana;Loisir enfants;mercredi 13h Groupe B;;
JAGUENAUD;Lena;Loisir collège;lundi;;
JANEL;Antoine;Adultes autonomes;;
JAVELOT;Andre;Adultes autonomes;;
JAY;Christophe;Adultes autonomes;;
JOANNES;Jean-Paul;Adultes autonomes;;
JOASSY;Xavier;Adultes autonomes;;
JULLIEN-MOUTELON;Rodolphe;Bénévole;0;;
KALOUSTIAN;Ameline;Loisir collège;lundi;;
KAZI TANI;Ilyess;Adultes autonomes;;
KAZI TANI;Jassem;Loisir enfants;mercredi 16h;;
KERJOUAN;Leo;Loisir enfants;mercredi 13h Groupe A;;
KHAU;David;Adultes autonomes;;
KOLLY;Marion;Adultes autonomes;;
KRONER;Arthur;Loisir lycée;;
LACOMBE;Alexandre;Adultes débutants;;
LACOMBE;Gabrielle;Adultes autonomes;;
LAFFRET OLIVEIRA;Jade;Loisir enfants;vendredi;;
LAGADEC;Ronan;Adultes autonomes;;
LAGARDE;Fabienne;Bureau;Présidente Adjointe;Fabienne_LAGARDE.png
LARPENT-ROCHE;Alice;Adultes autonomes;;
LEFEVRE;Rémi;Adultes débutants;;
LEOST;Manon;Loisir enfants;mercredi 13h Groupe A;;
LEROY;Nathalie;Bénévole;0;Nathalie_LEROY.png
LEVEY;Johan;Adultes autonomes;;
LOMBARD;Matisse;Compétition U11-U15;;
LOMBARD;Teo;Compétition U15-U19;;
LOPEZ;clemence;Compétition U11-U15;;
LOPEZ;David;Bénévole;0;David_LOPEZ.png
LORIDANT;Chantal;Bureau;Présidente;Chantal_LORIDANT.png
LORIDANT;Stephane;Bénévole;0;Stephane_LORIDANT.png
MACKIEWICZ;Sabine;Bénévole;0;;
MAGUIN;Luna;Loisir enfants;vendredi;;
MARCOU;Elma;Loisir collège;lundi;;
MARTIN PASCUAL;Noemie;Adultes autonomes;;
MARTINEZ;Ruben;Loisir enfants;mercredi 13h Groupe A;;
MARTINEZ;Thibaut;Adultes autonomes;;
MENIER;Antonin;Loisir collège;lundi;;
MENIER;Eugenie;Loisir lycée;;
MEUNIER;Quentin;Loisir collège;lundi;;
MICCICHE;Anais;Loisir lycée;;
MONCARO;Thierry;Adultes autonomes;;
MONCORGE;Leonie;Loisir collège;lundi;;
MONY;Alexandre;Loisir enfants;mercredi 13h Groupe B;;
MORAND;Saori;Loisir enfants;mercredi 16h;;
MOREL;Eric;Adultes autonomes;;
MOREL;Serena;Loisir collège;mercredi;;
NADRCIC;Arsene;Compétition U15-U19;;
NEIME;Claude;Adultes autonomes;;
NEIME;Delphine;Bureau;Secrétaire;Delphine_NEIME.png
NEIME;Justine;Compétition U15-U19;;
NEIME;Paul;Compétition U15-U19;;
NURY DUFOUR;Hanae;Loisir enfants;mercredi 16h;;
OBEJI;Emma;Loisir enfants;mercredi 13h Groupe B;;
OBEJI;Juliette;Loisir enfants;mercredi 13h Groupe B;;
OLIVERO;Ambre;Loisir collège;mercredi;;
PARCHOUX;Patrick;Adultes autonomes;;
PARMENTIER;Marion;Adultes autonomes;;
PARMENTIER;pascal;Bénévole;0;Pascal_PARMENTIER.png
PARROT;Antonin;Adultes autonomes;;
PARROT;Garance;Loisir enfants;vendredi;;
PERRET DU CRAY;Baudouin;Adultes autonomes;;
PETIAUD;Charline;Loisir enfants;mercredi 13h Groupe A;;
PETIT;Adrien;Adultes autonomes;;
PIPON DELORME;Mathis;Loisir enfants;vendredi;;
POLSINELLI;Olivier;Adultes autonomes;;
POLSINELLI ROUSSET;Julie;Compétition U15-U19;;
POUCHET;Alban;Loisir collège;lundi;;
POUCHET;Mireille;Adultes autonomes;;
POZZOBON;Lucie;Compétition U15-U19;;
PRAS;Enzo;Loisir enfants;mercredi 13h Groupe B;;
PREMONT;Adele;Compétition U15-U19;;
PREMONT;Valerie;Adultes autonomes;;
QUINTELA;Julia;Perfectionnement U13-U19;;
RAHALI;Emmi;Loisir enfants;mercredi 13h Groupe A;;
RIGO;Leon;Loisir enfants;mercredi 16h;;
RIGO;Lucas;Loisir collège;mercredi;;
RIGO;maxime;Adultes autonomes;;
RIN;Matheo;Loisir lycée;;
RIOS;Jaouen;Loisir collège;lundi;;
RIOS;Jean-Benoit;Bénévole;0;Jean-Benoit_RIOS.png
RIOS;Josselin;Loisir lycée;;
ROBERT;Lisie;Perfectionnement U13-U19;;
ROIBET;Jeanne;Perfectionnement U13-U19;;
ROL;Eileen;Loisir collège;lundi;;
ROMANET;Fanny;Adultes autonomes;;
ROMANET;Richard;Bénévole;0;Richard_ROMANET.png
ROME;Marylou;Loisir lycée;;
ROMMEVAUX;Damien;Adultes autonomes;;
ROURRE;Marion;Loisir enfants;mercredi 16h;;
ROUSSEAU;Anne-Eliette;Adultes autonomes;;
ROZIE;Benoit;Compétition U15-U19;;
ROZIE;Charline;Perfectionnement U13-U19;;
ROZIE;Patrick;Bureau;Trésorier;Patrick_ROZIE.png
SALOMON;Jessica;Adultes autonomes;;
SCHUTTER;Olivier;Adultes autonomes;;
SCHUTTER ADONETH;Arsene;Perfectionnement U9 -U13;;
SILVESTRE;Emilie;Loisir collège;mercredi;;
SOIGNEUX;Chloe;Loisir collège;lundi;;
STRICHER;Beryl;Perfectionnement U9 -U13;;
TAILLANDIER FADAT;Evan;Loisir enfants;mercredi 13h Groupe A;;
TALAGA;Anthony;Adultes autonomes;;
TAURELLE;Matis;Loisir collège;lundi;;
TEOLI;Eyrin;Loisir enfants;mercredi 13h Groupe B;;
THIBAULT;Charlotte;Loisir lycée;;
THIVAND;Leo;Loisir enfants;vendredi;;
THOMAS;Jean-luc;Adultes autonomes;;
THOMAS;Sandrine;Adultes débutants;;
TIBERGHIEN BUCCI;Mathilde;Loisir enfants;mercredi 13h Groupe A;;
TORUNSKI;Cyril;Adultes autonomes;;
TOVENATTI;Gautier;Loisir enfants;mercredi 13h Groupe B;;
TRIGANO;César;Loisir collège;lundi;;
TRIQUET;Pascale;Adultes autonomes;;
UZUN-IVANOVA;Dilara;Loisir enfants;vendredi;;
VELEINE;Gonzague;Compétition U11-U15;;
VILLENEUVE BOULGHOBRA;Gael;Perfectionnement U13-U19;;
ZAFIROVIC;Kaelie;Loisir collège;lundi;;
Lima FERREIRA;Clément;Bénévole;0;;
N;Thibault;Bénévole;0;Thibault_N.png
XXX;Edgar;Bénévole;0;Edgar.png
XX;Antoine;Bénévole;0;Antoine.png
XXXX;Tom;Bénévole;0;Tom.png
`;function MY(e){const t=e.trim().split(`
`),n=t[0].split(";").map(i=>i.trim()),r=[];for(let i=1;i<t.length;i++){const o=t[i].split(";");if(o.length<n.length)continue;const l={lastName:o[0].trim(),firstName:o[1].trim(),title:o[2].trim(),subGroup:o[3].trim(),photo:o[4]?o[4].trim():null};r.push(l)}return r}const IY=({exercise:e,index:t,total:n,onExerciseChange:r,onRemove:i,onMove:o,onImport:l})=>{const[c,u]=m.useState(null),[h,f]=m.useState(e.image_url||null),p=kn();m.useEffect(()=>{f(e.image_url),e.image_url&&c&&e.image_url!==URL.createObjectURL(c)&&u(null)},[e.image_url]);const v=(x,S)=>{r(t,{...e,[x]:S})},y=x=>{const S=x.target.files[0];if(S){u(S);const j=URL.createObjectURL(S);f(j),r(t,{...e,newImageFile:S,image_url:j})}},w=()=>{e.pedagogy_sheet_id&&p(`/pedagogy#sheet-${e.pedagogy_sheet_id}`)};return s.jsxs(fe,{className:"p-4 relative bg-muted/40",children:[s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[s.jsx(X,{type:"button",variant:"ghost",size:"icon",onClick:()=>o(t,-1),disabled:t===0,children:s.jsx(VF,{className:"w-4 h-4"})}),s.jsx(X,{type:"button",variant:"ghost",size:"icon",onClick:()=>o(t,1),disabled:t===n-1,children:s.jsx(zF,{className:"w-4 h-4"})}),s.jsx(X,{type:"button",variant:"ghost",size:"icon",onClick:()=>i(t),children:s.jsx(Er,{className:"w-4 h-4 text-destructive"})})]}),s.jsxs("div",{className:"absolute top-2 left-2 flex items-center gap-2",children:[s.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:l,children:[s.jsx(yN,{className:"w-4 h-4 mr-2"})," Importer"]}),e.pedagogy_sheet_id&&s.jsxs(X,{type:"button",variant:"secondary",size:"sm",onClick:w,title:"Voir la fiche pédagogique",children:[s.jsx(SN,{className:"w-4 h-4 mr-2"})," Fiche"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-12",children:[s.jsx(be,{placeholder:"Objectifs opérationnels",value:e.operational_objective||"",onChange:x=>v("operational_objective",x.target.value)}),s.jsx(be,{placeholder:"Situation",value:e.situation||"",onChange:x=>v("situation",x.target.value)}),s.jsx(be,{placeholder:"Organisation Temps/volume",value:e.organisation||"",onChange:x=>v("organisation",x.target.value)}),s.jsx(be,{placeholder:"Consigne",value:e.consigne||"",onChange:x=>v("consigne",x.target.value)}),s.jsx(be,{placeholder:"Temps (ex: 10min)",value:e.time||"",onChange:x=>v("time",x.target.value)}),s.jsx(be,{placeholder:"Critère de réussite",value:e.success_criteria||"",onChange:x=>v("success_criteria",x.target.value)}),s.jsx(be,{placeholder:"Régulation",value:e.regulation||"",onChange:x=>v("regulation",x.target.value)}),s.jsx(be,{placeholder:"Lien support",value:e.support_link||"",onChange:x=>v("support_link",x.target.value)}),s.jsxs("div",{className:"md:col-span-2 flex items-center gap-4",children:[s.jsx("div",{className:"w-24 h-24 border rounded-md flex items-center justify-center bg-background",children:h?s.jsx("img",{src:h,alt:"Aperçu",className:"w-full h-full object-cover rounded-md"}):s.jsx(qc,{className:"w-8 h-8 text-muted-foreground"})}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("label",{htmlFor:`image-upload-${t}`,children:s.jsx(X,{type:"button",variant:"outline",size:"sm",asChild:!0,className:"cursor-pointer",children:s.jsxs("span",{children:[s.jsx(cy,{className:"w-4 h-4 mr-2"}),c?"Changer l'image":"Téléverser une image"]})})}),s.jsx(be,{id:`image-upload-${t}`,type:"file",className:"hidden",accept:"image/*",onChange:y}),e.image_url&&!c&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Image actuelle. Téléversez pour remplacer."})]})]})]})]})},DY={all:"Toutes les fiches",educational_game:"Jeu éducatif",warm_up_exercise:"Exercice d'échauffement",strength_exercise:"Exercice de renfo",review_sheet:"Fiche de révision"},vC=({title:e,options:t,selected:n,onChange:r})=>{const i=()=>{n.length===t.length?r([]):r(t)};return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(le,{children:e}),s.jsx(X,{type:"button",variant:"link",size:"sm",onClick:i,className:"p-0 h-auto",children:n.length===t.length?"Tout désélectionner":"Tout sélectionner"})]}),s.jsx("div",{className:"max-h-40 overflow-y-auto rounded-md border p-2 space-y-2",children:t.map(o=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vr,{id:`${e}-${o}`,checked:n.includes(o),onCheckedChange:l=>{const c=l?[...n,o]:n.filter(u=>u!==o);r(c)}}),s.jsx("label",{htmlFor:`${e}-${o}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:o})]},o))})]})},$Y=({onSelect:e,onCancel:t})=>{const[n,r]=m.useState([]),[i,o]=m.useState(""),[l,c]=m.useState("all"),[u,h]=m.useState("all");m.useEffect(()=>{(async()=>{const{data:y}=await te.from("pedagogy_sheets").select("*").order("title");r(y||[])})()},[]);const f=m.useMemo(()=>{const v=n.filter(y=>y.sheet_type==="educational_game"&&y.theme).map(y=>y.theme);return["all",...Array.from(new Set(v))]},[n]),p=n.filter(v=>{const y=v.title.toLowerCase().includes(i.toLowerCase()),w=l==="all"||v.sheet_type===l,x=u==="all"||v.theme===u;return y&&w&&x});return s.jsx(Mt,{open:!0,onOpenChange:t,children:s.jsxs(At,{className:"sm:max-w-[725px]",children:[s.jsxs(qt,{children:[s.jsx(Zt,{children:"Importer depuis une Fiche Pédagogique"}),s.jsx(Zr,{children:"Sélectionnez une fiche pour remplir automatiquement l'exercice."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mt-4",children:[s.jsxs("div",{className:"relative md:col-span-1",children:[s.jsx(bi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),s.jsx(be,{placeholder:"Rechercher une fiche...",className:"pl-10",value:i,onChange:v=>o(v.target.value)})]}),s.jsxs(Qe,{value:l,onValueChange:c,children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Filtrer par type"})}),s.jsx(Je,{children:Object.entries(DY).map(([v,y])=>s.jsx(Ce,{value:v,children:y},v))})]}),s.jsxs(Qe,{value:u,onValueChange:h,disabled:f.length<=1,children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Filtrer par thème"})}),s.jsx(Je,{children:f.map(v=>s.jsx(Ce,{value:v,children:v==="all"?"Tous les thèmes":v},v))})]})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto space-y-2 mt-4 pr-2",children:p.map(v=>s.jsxs("div",{className:"p-3 border rounded-md hover:bg-accent cursor-pointer",onClick:()=>e(v),children:[s.jsx("p",{className:"font-semibold",children:v.title}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:v.description||v.game_goal})]},v.id))})]})})},FY=({session:e,onSave:t,onCancel:n,isSaving:r})=>{const[i,o]=m.useState(e||{date:"",start_time:"18:30",instructors:[],students:[],cycle_objective:"",session_objective:"",equipment:"",comment:"",exercises:[]}),[l,c]=m.useState(!1),[u,h]=m.useState(null),f=m.useMemo(()=>MY(OY).filter(P=>P.title==="Loisir lycée").map(P=>`${P.firstName} ${P.lastName}`),[]),p=["David","Magali","Olivier","Clement"],v=A=>{const{name:P,value:T}=A.target;o(R=>({...R,[P]:T}))},y=(A,P)=>{o(T=>({...T,[A]:P}))},w=(A,P)=>{const T=[...i.exercises];T[A]=P,o(R=>({...R,exercises:T}))},x=()=>{o(A=>({...A,exercises:[...A.exercises,{id:`new-${Date.now()}`,operational_objective:"",situation:"",organisation:"",consigne:"",time:"",success_criteria:"",regulation:"",support_link:"",image_url:"",newImageFile:null,pedagogy_sheet_id:null}]}))},S=A=>{const P=i.exercises.filter((T,R)=>R!==A);o(T=>({...T,exercises:P}))},j=(A,P)=>{const T=[...i.exercises],R=A+P;R<0||R>=T.length||([T[A],T[R]]=[T[R],T[A]],o(O=>({...O,exercises:T})))},b=A=>{h(A),c(!0)},C=A=>{const P=[...i.exercises],T=P[u];T.pedagogy_sheet_id=A.id,A.sheet_type==="educational_game"?(T.operational_objective=`Jeu: ${A.title}`,T.situation=A.starting_situation,T.consigne=`But: ${A.game_goal}. Évolution: ${A.evolution}`,T.image_url=A.url,T.support_link=""):(T.operational_objective=A.title,T.situation=A.description,T.consigne="",A.type==="image_file"?(T.image_url=A.url,T.support_link=""):(T.support_link=A.url,T.image_url=A.thumbnail_url||"")),o(R=>({...R,exercises:P})),c(!1),h(null)},N=A=>{A.preventDefault(),t(i)};return s.jsxs(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[s.jsx(fe,{children:s.jsxs("form",{onSubmit:N,children:[s.jsx(ye,{children:s.jsx(_e,{children:e?"Modifier la séance":"Ajouter une nouvelle séance"})}),s.jsxs(me,{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"date",children:"Date du cours"}),s.jsx(be,{id:"date",name:"date",type:"date",value:i.date,onChange:v,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"start_time",children:"Heure de début"}),s.jsx(be,{id:"start_time",name:"start_time",type:"time",value:i.start_time,onChange:v,required:!0})]}),s.jsx(vC,{title:"Encadrants",options:p,selected:i.instructors,onChange:A=>y("instructors",A)}),s.jsx(vC,{title:"Élèves présents",options:f,selected:i.students,onChange:A=>y("students",A)})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"cycle_objective",children:"Objectif de cycle"}),s.jsx(Ft,{id:"cycle_objective",name:"cycle_objective",value:i.cycle_objective,onChange:v})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"session_objective",children:"Objectif de séance"}),s.jsx(Ft,{id:"session_objective",name:"session_objective",value:i.session_objective,onChange:v})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"equipment",children:"Matériel"}),s.jsx(Ft,{id:"equipment",name:"equipment",value:i.equipment,onChange:v})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"comment",children:"Commentaire"}),s.jsx(Ft,{id:"comment",name:"comment",value:i.comment,onChange:v})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Déroulé de la séance"}),s.jsx("div",{className:"space-y-4",children:i.exercises.map((A,P)=>s.jsx(IY,{exercise:A,index:P,total:i.exercises.length,onExerciseChange:w,onRemove:S,onMove:j,onImport:()=>b(P)},A.id))}),s.jsxs(X,{type:"button",variant:"outline",className:"mt-4",onClick:x,children:[s.jsx(Ga,{className:"w-4 h-4 mr-2"})," Ajouter un exercice"]})]})]}),s.jsxs(Ns,{className:"flex justify-end gap-2",children:[s.jsx(X,{type:"button",variant:"ghost",onClick:n,disabled:r,children:"Annuler"}),s.jsx(X,{type:"submit",disabled:r,children:r?"Sauvegarde...":s.jsxs(s.Fragment,{children:[s.jsx(cf,{className:"w-4 h-4 mr-2"})," Sauvegarder"]})})]})]})}),l&&s.jsx($Y,{onSelect:C,onCancel:()=>c(!1)})]})},BY=({sessions:e,onEdit:t,onDelete:n,isAdmin:r})=>{const i=kn(),o=(c,u)=>{let h=new Date(`1970-01-01T${c}:00`);return u.map(f=>{var w,x;const p=parseInt(((x=(w=f.time)==null?void 0:w.match(/\d+/))==null?void 0:x[0])||"0",10),v=new Date(h.getTime()+p*6e4),y=v.toTimeString().substring(0,5);return h=v,{...f,endTime:y}})},l=c=>{c&&i(`/pedagogy#sheet-${c}`)};return s.jsx(V0,{type:"single",collapsible:!0,className:"w-full",children:e.map(c=>{var h,f;const u=o(c.start_time,c.exercises);return s.jsxs(Zf,{value:`session-${c.id}`,children:[s.jsx(Kf,{children:s.jsxs("div",{className:"flex justify-between w-full pr-4 items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"font-semibold",children:[new Date(c.date).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})," - ",c.start_time]}),c.cycle_objective&&s.jsx(Pe,{variant:"secondary",className:"text-xs px-2 py-1",children:c.cycle_objective})]}),s.jsx("span",{className:"text-sm text-muted-foreground truncate max-w-xs",children:c.session_objective})]})}),s.jsxs(Yf,{className:"space-y-4",children:[r&&s.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>t(c),children:[s.jsx(Qr,{className:"w-4 h-4 mr-2"})," Modifier"]}),s.jsxs(X,{variant:"destructive",size:"sm",onClick:()=>n(c.id),children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"})," Supprimer"]})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Objectif de cycle:"})," ",c.cycle_objective]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Objectif de séance:"})," ",c.session_objective]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Encadrants:"})," ",(h=c.instructors)==null?void 0:h.join(", ")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Élèves présents:"})," ",(f=c.students)==null?void 0:f.join(", ")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Matériel:"})," ",c.equipment]}),c.comment&&s.jsxs("p",{children:[s.jsx("strong",{children:"Commentaire:"})," ",c.comment]}),s.jsx("h4",{className:"font-semibold mt-4",children:"Déroulé :"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(We,{children:[s.jsx(ge,{children:"Fin"}),s.jsx(ge,{children:"Temps"}),s.jsx(ge,{children:"Objectif Op."}),s.jsx(ge,{children:"Situation"}),s.jsx(ge,{children:"Organisation"}),s.jsx(ge,{children:"Consigne"}),s.jsx(ge,{children:"Critère réussite"}),s.jsx(ge,{children:"Régulation"}),s.jsx(ge,{children:"Support"}),s.jsx(ge,{children:"Image"})]})}),s.jsx(mn,{children:u.map(p=>s.jsxs(We,{children:[s.jsx(ve,{className:"font-mono",children:p.endTime}),s.jsx(ve,{children:p.time}),s.jsxs(ve,{className:"relative",children:[p.pedagogy_sheet_id&&s.jsx(X,{variant:"ghost",size:"icon",className:"absolute -left-8 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>l(p.pedagogy_sheet_id),title:"Voir la fiche pédagogique",children:s.jsx(SN,{className:"w-4 h-4 text-primary"})}),p.operational_objective]}),s.jsx(ve,{children:p.situation}),s.jsx(ve,{children:p.organisation}),s.jsx(ve,{children:p.consigne}),s.jsx(ve,{children:p.success_criteria}),s.jsx(ve,{children:p.regulation}),s.jsx(ve,{children:p.support_link&&s.jsx("a",{href:p.support_link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:s.jsx(ka,{className:"w-4 h-4"})})}),s.jsx(ve,{children:p.image_url&&s.jsx("a",{href:p.image_url,target:"_blank",rel:"noopener noreferrer",children:s.jsx("img",{src:p.image_url,className:"h-16 w-16 object-cover rounded-md",alt:`Image pour ${p.situation||"exercice"}`})})})]},p.id))})]})})]})]},c.id)})})},xC="exercise_images",UY=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,o]=m.useState(!1),[l,c]=m.useState(null),[u,h]=m.useState(""),[f,p]=m.useState(!1),{toast:v}=tt(),{user:y,isAdmin:w,isAdherent:x,loading:S}=zt(),j=!S&&(w||x),b=!S&&w,C=m.useCallback(async()=>{if(!j){r(!1);return}r(!0);const{data:O,error:B}=await te.from("sessions").select("*, exercises (*)").order("date",{ascending:!1}).order("start_time",{ascending:!1}).order("order",{foreignTable:"exercises",ascending:!0});B?v({title:"Erreur",description:"Impossible de charger les séances.",variant:"destructive"}):t(O.map(W=>({...W,start_time:W.start_time?W.start_time.substring(0,5):"18:30"}))),r(!1)},[v,j]);m.useEffect(()=>{C()},[C]);const N=async O=>{const B=O.name.split(".").pop(),U=`${`${Math.random()}.${B}`}`;let{error:K}=await te.storage.from(xC).upload(U,O);if(K)throw K;const{data:$}=te.storage.from(xC).getPublicUrl(U);return $.publicUrl},A=async O=>{if(b){p(!0);try{const{id:B,exercises:W,...U}=O,K=await Promise.all(W.map(async $=>{let k=$.image_url;$.newImageFile&&(k=await N($.newImageFile));const{newImageFile:I,...F}=$;return{...F,image_url:k}}));if(l){const{data:$,error:k}=await te.from("sessions").update(U).eq("id",l.id).select().single();if(k)throw k;await te.from("exercises").delete().eq("session_id",$.id);const I=K.map((F,D)=>{const{id:H,...G}=F;return{...G,session_id:$.id,order:D}});if(I.length>0){const{error:F}=await te.from("exercises").insert(I);if(F)throw F}}else{const{data:$,error:k}=await te.from("sessions").insert(U).select().single();if(k)throw k;const I=K.map((F,D)=>{const{id:H,...G}=F;return{...G,session_id:$.id,order:D}});if(I.length>0){const{error:F}=await te.from("exercises").insert(I);if(F)throw F}}v({title:"Séance sauvegardée !",description:"La séance a été enregistrée avec succès."}),o(!1),c(null),C()}catch(B){v({title:"Erreur de sauvegarde",description:B.message,variant:"destructive"})}finally{p(!1)}}},P=O=>{b&&(c(O),o(!0))},T=async O=>{if(b)try{await te.from("exercises").delete().eq("session_id",O);const{error:B}=await te.from("sessions").delete().eq("id",O);if(B)throw B;v({title:"Séance supprimée",description:"La séance a été supprimée avec succès.",variant:"destructive"}),C()}catch(B){v({title:"Erreur de suppression",description:B.message,variant:"destructive"})}},R=m.useMemo(()=>e.filter(O=>{if(!u)return!0;const B=u.toLowerCase();return[O.cycle_objective,O.session_objective,O.comment,...O.instructors||[],...O.students||[],...O.exercises.map(U=>Object.values(U).join(" "))].join(" ").toLowerCase().includes(B)}),[e,u]);return S?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):j?s.jsxs("div",{className:"space-y-8",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Séances d'entraînement - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Consultez et gérez les séances d'escalade du club."})]}),s.jsx(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(mh,{className:"w-10 h-10 text-primary"}),"Séances d'entraînement"]}),b&&!i&&s.jsxs(X,{onClick:()=>{o(!0),c(null)},children:[s.jsx(Ga,{className:"w-4 h-4 mr-2"})," Créer une séance"]})]})}),s.jsx(Ot,{children:i&&b&&s.jsx(FY,{session:l,onSave:A,onCancel:()=>{o(!1),c(null)},isSaving:f},l?l.id:"new")}),s.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:s.jsxs(fe,{children:[s.jsxs(ye,{children:[s.jsx(_e,{children:"Historique des séances"}),s.jsxs("div",{className:"relative mt-4",children:[s.jsx(bi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),s.jsx(be,{placeholder:"Rechercher par objectif, encadrant, élève...",className:"pl-10",value:u,onChange:O=>h(O.target.value)})]})]}),s.jsxs(me,{children:[n?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx($e,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsx(BY,{sessions:R,onEdit:P,onDelete:T,isAdmin:b}),!n&&R.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:'Aucune séance trouvée. Cliquez sur "Créer une séance" pour commencer !'})]})]})})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx(t3,{className:"w-12 h-12 mx-auto text-muted-foreground"}),s.jsx("h1",{className:"text-2xl font-bold mt-4",children:"Accès restreint"}),s.jsx("p",{className:"text-muted-foreground",children:"Vous devez être un adhérent ou un administrateur pour voir cette page."}),!y&&s.jsx("p",{className:"mt-4",children:"Veuillez vous connecter."})]})},Qp="pedagogy_files",zY=["Sécurité","Noeud","Secours","Manip","Information"],PL={educational_game:"Jeu éducatif",warm_up_exercise:"Exercice d'échauffement",strength_exercise:"Exercice de renfo",review_sheet:"Fiche de révision",technical_sheet:"Fiche technique",safety_sheet:"Fiche sécurité",meeting_report:"Compte rendu de réunion"},yC={educational_game:{icon:ay,label:"Jeux Éducatifs",description:"Jeux et activités ludiques pour l'apprentissage"},review_sheet:{icon:rr,label:"Fiches de Révision",description:"Supports de révision et mémo techniques"},strength_exercise:{icon:sy,label:"Exercices de Renfo",description:"Exercices de renforcement musculaire"},warm_up_exercise:{icon:rf,label:"Exercices d'Échauffement",description:"Préparation physique et mentale"},technical_sheet:{icon:oy,label:"Fiches Techniques",description:"Techniques et méthodes d'escalade"},safety_sheet:{icon:AN,label:"Fiches Sécurité",description:"Procédures et consignes de sécurité"},meeting_report:{icon:rr,label:"Comptes Rendus",description:"Comptes rendus de réunions et assemblées"}},VY=({sheet:e,onSave:t,onCancel:n,isSaving:r,existingThemes:i})=>{const[o,l]=m.useState(e||{title:"",description:"",type:"video_url",url:"",structure:"SAE",categories:[],sheet_type:"warm_up_exercise"}),[c,u]=m.useState(null);m.useEffect(()=>{e&&l({...e,categories:e.categories||[],sheet_type:e.sheet_type||"warm_up_exercise"})},[e]);const h=C=>{const{name:N,value:A}=C.target;l(P=>({...P,[N]:A}))},f=C=>{l(N=>({...N,type:C,url:""})),u(null)},p=C=>{l(N=>({...N,structure:C}))},v=C=>{l(N=>({...N,sheet_type:C}))},y=C=>{l(N=>{const A=N.categories||[],P=A.includes(C)?A.filter(T=>T!==C):[...A,C];return{...N,categories:P}})},w=C=>{C.target.files&&C.target.files[0]&&u(C.target.files[0])},x=C=>{C.preventDefault(),t(o,c)},S=o.type==="video_url"||o.type==="document_url",j=o.type==="image_file"||o.type==="document_file",b=o.sheet_type==="educational_game";return s.jsx(Mt,{open:!0,onOpenChange:n,children:s.jsx(At,{className:"sm:max-w-3xl",children:s.jsxs("form",{onSubmit:x,children:[s.jsxs(qt,{children:[s.jsx(Zt,{children:e?"Modifier la fiche":"Ajouter une fiche pédagogique"}),s.jsx(Zr,{children:"Remplissez les informations ci-dessous."})]}),s.jsxs("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto pr-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"title",children:"Titre"}),s.jsx(be,{id:"title",name:"title",value:o.title,onChange:h,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"sheet_type",children:"Type de Fiche"}),s.jsxs(Qe,{value:o.sheet_type,onValueChange:v,children:[s.jsx(Ye,{id:"sheet_type",children:s.jsx(et,{placeholder:"Sélectionner un type de fiche"})}),s.jsx(Je,{children:Object.entries(PL).map(([C,N])=>s.jsx(Ce,{value:C,children:N},C))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"type",children:"Type de Média"}),s.jsxs(Qe,{value:o.type,onValueChange:f,children:[s.jsx(Ye,{id:"type",children:s.jsx(et,{placeholder:"Sélectionner un type"})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"video_url",children:"Vidéo (URL)"}),s.jsx(Ce,{value:"image_file",children:"Image (Fichier)"}),s.jsx(Ce,{value:"document_file",children:"Document (Fichier)"}),s.jsx(Ce,{value:"document_url",children:"Document (URL)"})]})]})]}),b?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"theme",children:"Thème"}),s.jsx(be,{id:"theme",name:"theme",value:o.theme||"",onChange:h,list:"existing-themes",placeholder:"Choisir ou créer un thème"}),s.jsx("datalist",{id:"existing-themes",children:i.map(C=>s.jsx("option",{value:C},C))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"starting_situation",children:"Situation de départ"}),s.jsx(Ft,{id:"starting_situation",name:"starting_situation",value:o.starting_situation||"",onChange:h})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"game_goal",children:"But du jeu"}),s.jsx(Ft,{id:"game_goal",name:"game_goal",value:o.game_goal||"",onChange:h})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"evolution",children:"Évolution"}),s.jsx(Ft,{id:"evolution",name:"evolution",value:o.evolution||"",onChange:h})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"skill_to_develop",children:"Capacité à développer"}),s.jsx(Ft,{id:"skill_to_develop",name:"skill_to_develop",value:o.skill_to_develop||"",onChange:h})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"success_criteria",children:"Critères de réussite"}),s.jsx(Ft,{id:"success_criteria",name:"success_criteria",value:o.success_criteria||"",onChange:h})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"remarks",children:"Remarques"}),s.jsx(Ft,{id:"remarks",name:"remarks",value:o.remarks||"",onChange:h})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"description",children:"Description"}),s.jsx(Ft,{id:"description",name:"description",value:o.description||"",onChange:h})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"structure",children:"Structure"}),s.jsxs(Qe,{value:o.structure||"SAE",onValueChange:p,children:[s.jsx(Ye,{id:"structure",children:s.jsx(et,{placeholder:"Sélectionner une structure"})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"SAE",children:"SAE"}),s.jsx(Ce,{value:"SNE",children:"SNE"})]})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{children:"Catégories"}),s.jsx("div",{className:"flex flex-wrap gap-4",children:zY.map(C=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vr,{id:`category-${C}`,checked:(o.categories||[]).includes(C),onCheckedChange:()=>y(C)}),s.jsx(le,{htmlFor:`category-${C}`,className:"font-normal",children:C})]},C))})]})]}),S?s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"url",children:"URL du média"}),s.jsx(be,{id:"url",name:"url",value:o.url,onChange:h,placeholder:"https://example.com/...",required:!0})]}):j?s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"file-upload",children:"Fichier"}),s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs(le,{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer bg-muted/50 hover:bg-muted/80",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(IN,{className:"w-10 h-10 mb-3 text-muted-foreground"}),s.jsxs("p",{className:"mb-2 text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-semibold",children:"Cliquez pour téléverser"})," ou glissez-déposez"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:c?c.name:"Image, PDF, PPT..."})]}),s.jsx(be,{id:"file-upload",type:"file",className:"hidden",onChange:w})]})}),e&&!c&&e.url&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Fichier actuel : ",e.url.split("/").pop()]})]}):null]}),s.jsxs(cr,{className:"pt-4",children:[s.jsx(X,{type:"button",variant:"outline",onClick:n,disabled:r,children:"Annuler"}),s.jsxs(X,{type:"submit",disabled:r,children:[r&&s.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}),"Enregistrer"]})]})]})})})},HY=({sheet:e,onEdit:t,onDelete:n,isAdmin:r})=>s.jsx(ue.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsxs(fe,{className:"h-full flex flex-col group relative",children:[s.jsx(ye,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(_e,{className:"text-lg leading-tight flex items-center gap-2",children:[s.jsx(AN,{className:"w-5 h-5 text-purple-500"}),e.title]}),s.jsx(Yr,{className:"mt-1",children:s.jsx(Pe,{variant:"game",children:e.theme||"Jeu Éducatif"})})]}),r&&s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(X,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>t(e),children:s.jsx(Qr,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>n(e),children:s.jsx(Wn,{className:"h-4 w-4 text-destructive"})})]})]})}),s.jsxs(me,{className:"flex-grow grid md:grid-cols-2 gap-6",children:[e.url&&s.jsx("div",{className:"w-full h-48 bg-muted rounded-md overflow-hidden",children:s.jsx("img",{src:e.url,alt:e.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:`space-y-4 ${e.url?"":"md:col-span-2"}`,children:[e.starting_situation&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Situation de départ"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.starting_situation})]}),e.game_goal&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"But du jeu"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.game_goal})]}),e.evolution&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Évolution"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.evolution})]}),e.skill_to_develop&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Capacité à développer"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.skill_to_develop})]}),e.success_criteria&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Critères de réussite"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.success_criteria})]}),e.remarks&&s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Remarques"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.remarks})]})]})]})]})}),_C=({sheet:e,onEdit:t,onDelete:n,isAdmin:r})=>{const i=()=>{switch(e.type){case"video_url":return s.jsx(DN,{className:"w-8 h-8 text-red-500"});case"image_file":return s.jsx(qc,{className:"w-8 h-8 text-blue-500"});case"document_file":case"document_url":return s.jsx(rr,{className:"w-8 h-8 text-green-500"});default:return s.jsx(ka,{className:"w-8 h-8 text-gray-500"})}},o=()=>{var c;if(e.thumbnail_url)return e.thumbnail_url;if(e.type==="image_file")return e.url;if(e.type==="video_url"){const u=((c=e.url.split("v=")[1])==null?void 0:c.split("&")[0])||e.url.split("/").pop();if(e.url.includes("youtube.com")||e.url.includes("youtu.be"))return`https://img.youtube.com/vi/${u}/mqdefault.jpg`}return null},l=()=>{switch(e.sheet_type){case"educational_game":return s.jsx(ay,{className:"w-4 h-4"});case"warm_up_exercise":return s.jsx(sy,{className:"w-4 h-4"});case"strength_exercise":return s.jsx(rf,{className:"w-4 h-4"});case"review_sheet":return s.jsx(oy,{className:"w-4 h-4"});case"meeting_report":return s.jsx(rr,{className:"w-4 h-4"});default:return null}};return e.sheet_type==="educational_game"?s.jsx(HY,{sheet:e,onEdit:t,onDelete:n,isAdmin:r}):s.jsx(ue.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsxs(fe,{className:"h-full flex flex-col group relative",children:[s.jsxs(ye,{className:"flex-row items-start gap-4",children:[o()?s.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:s.jsx("img",{src:o(),alt:e.title,className:"w-32 h-20 object-cover rounded-md"})}):s.jsx("div",{className:"w-32 h-20 flex items-center justify-center bg-muted rounded-md",children:i()}),s.jsxs("div",{className:"flex-1",children:[s.jsx(_e,{className:"text-lg leading-tight",children:e.title}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.sheet_type&&s.jsxs(Pe,{variant:"outline",className:"flex items-center gap-1",children:[l()," ",PL[e.sheet_type]]}),e.structure&&s.jsx(Pe,{variant:"secondary",children:e.structure}),(e.categories||[]).map(c=>s.jsx(Pe,{children:c},c))]})]}),r&&s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(X,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>t(e),children:s.jsx(Qr,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>n(e),children:s.jsx(Wn,{className:"h-4 w-4 text-destructive"})})]})]}),s.jsx(me,{className:"flex-grow",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})}),s.jsx(Ns,{children:s.jsx(X,{asChild:!0,variant:"link",className:"p-0 h-auto",children:s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:["Ouvrir le média ",s.jsx(ka,{className:"ml-2 h-4 w-4"})]})})})]})})},WY=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),{isAdmin:i}=zt(),{toast:o}=tt(),[l,c]=m.useState(!1),[u,h]=m.useState(null),[f,p]=m.useState(!1),v=kn(),y=m.useCallback(async()=>{r(!0);const{data:C,error:N}=await te.from("pedagogy_sheets").select("*").order("created_at",{ascending:!1});N?o({title:"Erreur",description:"Impossible de charger les fiches pédagogiques.",variant:"destructive"}):t(C),r(!1)},[o]);m.useEffect(()=>{y()},[y]);const w=async(C,N)=>{p(!0);let A={...C};try{if(N&&(A.type==="image_file"||A.type==="document_file")){const P=N.name.split(".").pop(),T=`${Date.now()}.${P}`,{error:R}=await te.storage.from(Qp).upload(T,N,{upsert:!0});if(R)if(R.message.includes("Bucket not found")){o({title:"Erreur de configuration",description:"Le bucket de stockage n'a pas été trouvé. Tentative de réparation...",variant:"destructive"}),v("/setup");return}else throw R;const{data:O}=te.storage.from(Qp).getPublicUrl(T);A.url=O.publicUrl}if(u){const{error:P}=await te.from("pedagogy_sheets").update(A).eq("id",u.id);if(P)throw P;o({title:"Fiche modifiée",description:"La fiche a été mise à jour."})}else{const{error:P}=await te.from("pedagogy_sheets").insert(A);if(P)throw P;o({title:"Fiche ajoutée",description:"La nouvelle fiche a été enregistrée."})}c(!1),h(null),y()}catch(P){o({title:"Erreur d'enregistrement",description:P.message,variant:"destructive"})}finally{p(!1)}},x=C=>{h(C),c(!0)},S=async C=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer la fiche "${C.title}" ?`))try{if((C.type==="image_file"||C.type==="document_file")&&C.url){const A=C.url.split("/").pop();await te.storage.from(Qp).remove([A])}const{error:N}=await te.from("pedagogy_sheets").delete().eq("id",C.id);if(N)throw N;o({title:"Fiche supprimée",variant:"destructive"}),y()}catch(N){o({title:"Erreur de suppression",description:N.message,variant:"destructive"})}},{sheetsByType:j,existingThemes:b}=m.useMemo(()=>{const C=e.reduce((A,P)=>{const T=P.sheet_type||"other";return A[T]||(A[T]=[]),A[T].push(P),A},{});if(C.educational_game){const A=C.educational_game.reduce((P,T)=>{const R=T.theme||"Sans thème";return P[R]||(P[R]=[]),P[R].push(T),P},{});C.educational_game=A}const N=[...new Set(e.filter(A=>A.sheet_type==="educational_game").map(A=>A.theme).filter(Boolean))];return{sheetsByType:C,existingThemes:N}},[e]);return s.jsxs("div",{className:"space-y-8",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Fiches Pédagogiques - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Ressources et supports d'apprentissage pour l'escalade."})]}),s.jsx(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(yN,{className:"w-10 h-10 text-primary"}),"Fiches Pédagogiques"]}),i&&s.jsxs(X,{onClick:()=>{h(null),c(!0)},children:[s.jsx(Ga,{className:"w-4 h-4 mr-2"})," Ajouter une fiche"]})]})}),n?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):e.length===0?s.jsxs("div",{className:"text-center py-16 bg-muted/30 rounded-lg",children:[s.jsx("p",{className:"text-lg font-semibold",children:"Aucune fiche pédagogique pour le moment."}),s.jsx("p",{className:"text-muted-foreground mt-2",children:'Cliquez sur "Ajouter une fiche" pour commencer à créer votre bibliothèque.'})]}):s.jsxs(kh,{defaultValue:"educational_game",className:"w-full",children:[s.jsx(Ic,{className:"grid grid-cols-3 lg:grid-cols-6 w-full h-auto p-1",children:Object.entries(yC).map(([C,N])=>{const A=C==="educational_game"?Object.values(j[C]||{}).flat().length:(j[C]||[]).length;if(A===0)return null;const P=N.icon;return s.jsxs(Ur,{value:C,className:"flex flex-col items-center gap-1 h-auto py-3 px-2 text-center min-h-[4rem]",children:[s.jsx(P,{className:"w-4 h-4 shrink-0"}),s.jsx("span",{className:"text-xs leading-tight",children:N.label}),s.jsx(Pe,{variant:"secondary",className:"text-xs",children:A})]},C)})}),Object.entries(yC).map(([C,N])=>{const A=j[C];if(!A||Array.isArray(A)&&A.length===0||!Array.isArray(A)&&Object.keys(A).length===0)return null;const P=N.icon;return s.jsx(zr,{value:C,className:"mt-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(P,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:N.label}),s.jsx("p",{className:"text-muted-foreground",children:N.description})]})]}),C==="educational_game"?s.jsxs(kh,{defaultValue:Object.keys(A)[0],className:"w-full",children:[s.jsx(Ic,{className:"w-full justify-start flex-wrap h-auto gap-2 p-2",children:Object.entries(A).map(([T,R])=>s.jsxs(Ur,{value:T,className:"flex items-center gap-2",children:[s.jsx("span",{children:T}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:R.length})]},T))}),Object.entries(A).map(([T,R])=>s.jsx(zr,{value:T,className:"mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold border-b pb-2",children:T}),s.jsx(Ot,{children:s.jsx(ue.div,{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(O=>s.jsx(_C,{sheet:O,onEdit:x,onDelete:S,isAdmin:i},O.id))})})]})},T))]}):s.jsx(Ot,{children:s.jsx(ue.div,{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(T=>s.jsx(_C,{sheet:T,onEdit:x,onDelete:S,isAdmin:i},T.id))})})]})},C)})]}),s.jsx(Ot,{children:l&&i&&s.jsx(VY,{sheet:u,onSave:w,onCancel:()=>{c(!1),h(null)},isSaving:f,existingThemes:b})})]})},GY=({member:e,onEdit:t,onDelete:n,isAdmin:r})=>{const{showMemberDetails:i}=Sr();return s.jsx(fe,{className:"overflow-hidden transition-all hover:shadow-md",children:s.jsxs(me,{className:"p-4 flex flex-col items-start relative",children:[r&&s.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[s.jsx(X,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:o=>{o.stopPropagation(),t(e)},children:s.jsx(Qr,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive",onClick:o=>{o.stopPropagation(),n(e)},children:s.jsx(Wn,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center cursor-pointer w-full",onClick:()=>i(e.id),children:[s.jsx("p",{className:"font-semibold truncate flex-grow",title:ys(e.first_name,e.last_name,!0),children:ys(e.first_name,e.last_name,r)}),s.jsxs("div",{className:"flex-shrink-0 flex items-center ml-2",children:[s.jsx(Z0,{profile:e.profiles}),e.is_emergency_contact_for_others&&s.jsx(lf,{className:"h-4 w-4 ml-1 text-red-500",title:"Contact d'urgence pour un autre membre"}),!e.emergency_contact_1_id&&!e.emergency_contact_2_id&&s.jsx(ty,{className:"h-4 w-4 ml-1 text-yellow-500",title:"Aucun contact d'urgence défini"})]})]}),r&&e.phone&&s.jsx("p",{className:"text-sm text-muted-foreground",children:e.phone})]})})},wC=({members:e,onEdit:t,onDelete:n,isAdmin:r})=>s.jsx(ue.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.05}}},children:e.map(i=>s.jsx(ue.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},children:s.jsx(GY,{member:i,onEdit:t,onDelete:n,isAdmin:r})},i.id))}),qY=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,o]=m.useState(null),[l,c]=m.useState(!1),{isAdmin:u,loading:h}=zt(),{toast:f}=tt(),{editingMember:p,isFormVisible:v,openEditFormForMember:y,closeEditForm:w}=Sr(),[x,S]=m.useState({hasPhone:!1,hasLicense:!1,hasEmergencyContact:!1,noEmergencyContact:!1}),j=U=>{S(K=>({...K,[U]:!K[U]}))},b=m.useMemo(()=>e.filter(U=>{const K=!x.hasPhone||U.phone&&U.phone.trim()!=="",$=!x.hasLicense||U.licence&&U.licence.trim()!=="",k=!x.hasEmergencyContact||U.emergency_contact_1_id||U.emergency_contact_2_id,I=!x.noEmergencyContact||!U.emergency_contact_1_id&&!U.emergency_contact_2_id;return K&&$&&k&&I}),[e,x]),C=m.useCallback(async()=>{r(!0);const{data:U,error:K}=await te.from("members").select("*, profiles(role)").order("last_name").order("first_name");if(K){f({title:"Erreur",description:"Impossible de charger les membres.",variant:"destructive"}),r(!1);return}const{data:$,error:k}=await te.from("members").select("emergency_contact_1_id, emergency_contact_2_id").or("emergency_contact_1_id.not.is.null,emergency_contact_2_id.not.is.null");k&&f({title:"Erreur",description:"Impossible de charger les infos de contact d'urgence.",variant:"destructive"});const I=new Set;$&&$.forEach(D=>{D.emergency_contact_1_id&&I.add(D.emergency_contact_1_id),D.emergency_contact_2_id&&I.add(D.emergency_contact_2_id)});const F=U.map(D=>({...D,profiles:Array.isArray(D.profiles)?D.profiles[0]:D.profiles,is_emergency_contact_for_others:I.has(D.id)}));t(F),r(!1)},[f]);m.useEffect(()=>{C()},[C]);const N=async U=>{const K=U.name.split(".").pop(),$=`members_photos/${Date.now()}.${K}`;let{error:k}=await te.storage.from("member_photos").upload($,U,{upsert:!0});if(k)throw k;const{data:I}=te.storage.from("member_photos").getPublicUrl($);return I.publicUrl},A=async(U,K)=>{c(!0);try{let $=U.photo_url;K?$=await N(K):U.photo_url===null&&($=null);const{profiles:k,dynamic_roles:I,member_roles:F,is_emergency_contact_for_others:D,isEmergencyContactFor:H,emergency_contact_1:G,emergency_contact_2:ee,...z}={...U,photo_url:$};z.passeport===""&&(z.passeport=null),z.sexe===""&&(z.sexe=null);let Z;if(p)({error:Z}=await te.from("members").update(z).eq("id",p.id));else{const{id:q,...Q}=z;({error:Z}=await te.from("members").insert(Q))}if(Z)throw Z;f({title:"Succès",description:`Membre ${p?"mis à jour":"ajouté"} avec succès.`}),w(),C()}catch($){f({title:"Erreur",description:$.message,variant:"destructive"})}finally{c(!1)}},P=async()=>{if(i)try{const{error:U}=await te.from("members").delete().eq("id",i.id);if(U)throw U;f({title:"Succès",description:"Membre supprimé.",variant:"destructive"}),o(null),C()}catch(U){f({title:"Erreur",description:U.message,variant:"destructive"})}},T=m.useMemo(()=>{const U=b.reduce(($,k)=>{const I=k.title||"Autre";return $[I]||($[I]=[]),$[I].push(k),$},{}),K=["Loisir enfants","Loisir collége","Loisir lycée","Loisir adulte","Adultes débutants","Adultes autonomes","Compétition U11-U15","Compétition U15-U19","Bénévole","Bureau","emergency_contact","Autre"];return Object.entries(U).sort(([$],[k])=>{const I=K.indexOf($),F=K.indexOf(k);return I===-1&&F===-1?$.localeCompare(k):I===-1?1:F===-1?-1:I-F})},[b]),R=m.useMemo(()=>T.map(([U,K])=>({title:U==="emergency_contact"?"Contact d'urgence":U,count:K.length})).filter(U=>U.count>0),[T]),O=!h&&u,B=U=>{y(U)},W=U=>{o(U)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Adhérents - Club d'Escalade"}),s.jsx("meta",{name:"description",content:"Liste des adhérents du club d'escalade."})]}),s.jsx(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(Yt,{className:"w-10 h-10 text-primary"}),"Liste des Adhérents"]}),O&&s.jsx("div",{className:"flex gap-2",children:s.jsxs(X,{onClick:()=>y(null),children:[s.jsx(Ga,{className:"w-4 h-4 mr-2"})," Ajouter un membre"]})})]})}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(af,{className:"w-5 h-5"})," Filtres"]})}),s.jsxs(me,{className:"flex flex-wrap gap-4 items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vr,{id:"hasPhone",checked:x.hasPhone,onCheckedChange:()=>j("hasPhone")}),s.jsx(le,{htmlFor:"hasPhone",children:"N° de téléphone"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vr,{id:"hasLicense",checked:x.hasLicense,onCheckedChange:()=>j("hasLicense")}),s.jsx(le,{htmlFor:"hasLicense",children:"N° de licence"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vr,{id:"hasEmergencyContact",checked:x.hasEmergencyContact,onCheckedChange:()=>j("hasEmergencyContact")}),s.jsx(le,{htmlFor:"hasEmergencyContact",children:"Contact d'urgence"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vr,{id:"noEmergencyContact",checked:x.noEmergencyContact,onCheckedChange:()=>j("noEmergencyContact")}),s.jsx(le,{htmlFor:"noEmergencyContact",children:"Sans contact d'urgence"})]})]})]}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsx(_e,{children:"Résumé des adhérents"})}),s.jsx(me,{className:"flex flex-wrap gap-4",children:R.map(U=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-secondary rounded-md",children:[s.jsxs("span",{className:"font-semibold",children:[U.title,":"]}),s.jsx("span",{className:"font-bold text-primary",children:U.count})]},U.title))})]}),s.jsxs("main",{children:[n?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsx(V0,{type:"multiple",className:"w-full space-y-4",children:T.map(([U,K])=>{const $=["Loisir enfants","Loisir collége"].includes(U)?Object.entries(K.reduce((I,F)=>{const D=F.sub_group||"Non spécifié";return I[D]||(I[D]=[]),I[D].push(F),I},{})):null,k=U==="emergency_contact"?"Contact d'urgence":U;return s.jsxs(Zf,{value:U,className:"border rounded-lg overflow-hidden",children:[s.jsx(Kf,{className:"px-6 py-4 bg-secondary/50 hover:bg-secondary/70",children:s.jsxs("h2",{className:"text-xl font-bold headline",children:[k," (",K.length,")"]})}),s.jsx(Yf,{className:"p-6",children:$?s.jsx("div",{className:"space-y-6",children:$.map(([I,F])=>s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:I}),s.jsx(wC,{members:F,onEdit:B,onDelete:W,isAdmin:O})]},I))}):s.jsx(wC,{members:K,onEdit:B,onDelete:W,isAdmin:O})})]},U)})}),!n&&b.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-16",children:"Aucun membre ne correspond aux filtres sélectionnés."})]}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(Aa,{className:"w-5 h-5"})," Légende des icônes"]})}),s.jsxs(me,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(uf,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),s.jsx("span",{children:"Profil Administrateur"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wr,{className:"h-5 w-5 text-blue-500 flex-shrink-0"}),s.jsx("span",{children:"Profil Adhérent"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lf,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),s.jsx("span",{children:"Est le contact d'urgence pour un autre membre"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ty,{className:"h-5 w-5 text-yellow-500 flex-shrink-0"}),s.jsx("span",{children:"N'a pas de contact d'urgence défini"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qr,{className:"h-5 w-5 flex-shrink-0"}),s.jsx("span",{children:"Modifier le membre (Admin)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"h-5 w-5 text-destructive flex-shrink-0"}),s.jsx("span",{children:"Supprimer le membre (Admin)"})]})]})]}),s.jsx(Ot,{children:v&&O&&s.jsx(rm,{member:p,onSave:A,onCancel:w,isSaving:l})}),s.jsx(Mt,{open:!!i,onOpenChange:()=>o(null),children:s.jsxs(At,{children:[s.jsxs(qt,{children:[s.jsx(Zt,{children:"Confirmer la suppression"}),s.jsxs(Zr,{children:["Êtes-vous sûr de vouloir supprimer ",i==null?void 0:i.first_name," ",i==null?void 0:i.last_name," ? Cette action est irréversible."]})]}),s.jsxs(cr,{children:[s.jsx(X,{variant:"outline",onClick:()=>o(null),children:"Annuler"}),s.jsx(X,{variant:"destructive",onClick:P,children:"Supprimer"})]})]})})]})};function TL(e,t){const n=m.useRef(t);m.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const ZY=1;function KY(e){return Object.freeze({__version:ZY,map:e})}function YY(e,t){return Object.freeze({...e,...t})}const AL=m.createContext(null),kL=AL.Provider;function RL(){const e=m.useContext(AL);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function JY(e){function t(n,r){const{instance:i,context:o}=e(n).current;return m.useImperativeHandle(r,()=>i),n.children==null?null:se.createElement(kL,{value:o},n.children)}return m.forwardRef(t)}function XY(e){function t(n,r){const[i,o]=m.useState(!1),{instance:l}=e(n,o).current;m.useImperativeHandle(r,()=>l),m.useEffect(function(){i&&l.update()},[l,i,n.children]);const c=l._contentNode;return c?Xr.createPortal(n.children,c):null}return m.forwardRef(t)}function QY(e){function t(n,r){const{instance:i}=e(n).current;return m.useImperativeHandle(r,()=>i),null}return m.forwardRef(t)}function LL(e,t){const n=m.useRef();m.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function t_(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function eJ(e,t){return function(r,i){const o=RL(),l=e(t_(r,o),o);return TL(o.map,r.attribution),LL(l.current,r.eventHandlers),t(l.current,o,r,i),l}}var rx={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(Wt,function(n){var r="1.9.4";function i(a){var d,g,_,E;for(g=1,_=arguments.length;g<_;g++){E=arguments[g];for(d in E)a[d]=E[d]}return a}var o=Object.create||function(){function a(){}return function(d){return a.prototype=d,new a}}();function l(a,d){var g=Array.prototype.slice;if(a.bind)return a.bind.apply(a,g.call(arguments,1));var _=g.call(arguments,2);return function(){return a.apply(d,_.length?_.concat(g.call(arguments)):arguments)}}var c=0;function u(a){return"_leaflet_id"in a||(a._leaflet_id=++c),a._leaflet_id}function h(a,d,g){var _,E,M,V;return V=function(){_=!1,E&&(M.apply(g,E),E=!1)},M=function(){_?E=arguments:(a.apply(g,arguments),setTimeout(V,d),_=!0)},M}function f(a,d,g){var _=d[1],E=d[0],M=_-E;return a===_&&g?a:((a-E)%M+M)%M+E}function p(){return!1}function v(a,d){if(d===!1)return a;var g=Math.pow(10,d===void 0?6:d);return Math.round(a*g)/g}function y(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function w(a){return y(a).split(/\s+/)}function x(a,d){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?o(a.options):{});for(var g in d)a.options[g]=d[g];return a.options}function S(a,d,g){var _=[];for(var E in a)_.push(encodeURIComponent(g?E.toUpperCase():E)+"="+encodeURIComponent(a[E]));return(!d||d.indexOf("?")===-1?"?":"&")+_.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function b(a,d){return a.replace(j,function(g,_){var E=d[_];if(E===void 0)throw new Error("No value provided for variable "+g);return typeof E=="function"&&(E=E(d)),E})}var C=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function N(a,d){for(var g=0;g<a.length;g++)if(a[g]===d)return g;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var T=0;function R(a){var d=+new Date,g=Math.max(0,16-(d-T));return T=d+g,window.setTimeout(a,g)}var O=window.requestAnimationFrame||P("RequestAnimationFrame")||R,B=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function W(a,d,g){if(g&&O===R)a.call(d);else return O.call(window,l(a,d))}function U(a){a&&B.call(window,a)}var K={__proto__:null,extend:i,create:o,bind:l,get lastId(){return c},stamp:u,throttle:h,wrapNum:f,falseFn:p,formatNum:v,trim:y,splitWords:w,setOptions:x,getParamString:S,template:b,isArray:C,indexOf:N,emptyImageUrl:A,requestFn:O,cancelFn:B,requestAnimFrame:W,cancelAnimFrame:U};function $(){}$.extend=function(a){var d=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=d.__super__=this.prototype,_=o(g);_.constructor=d,d.prototype=_;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(d[E]=this[E]);return a.statics&&i(d,a.statics),a.includes&&(k(a.includes),i.apply(null,[_].concat(a.includes))),i(_,a),delete _.statics,delete _.includes,_.options&&(_.options=g.options?o(g.options):{},i(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,V=_._initHooks.length;M<V;M++)_._initHooks[M].call(this)}},d},$.include=function(a){var d=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=d,this.mergeOptions(a.options)),this},$.mergeOptions=function(a){return i(this.prototype.options,a),this},$.addInitHook=function(a){var d=Array.prototype.slice.call(arguments,1),g=typeof a=="function"?a:function(){this[a].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function k(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=C(a)?a:[a];for(var d=0;d<a.length;d++)a[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var I={on:function(a,d,g){if(typeof a=="object")for(var _ in a)this._on(_,a[_],d);else{a=w(a);for(var E=0,M=a.length;E<M;E++)this._on(a[E],d,g)}return this},off:function(a,d,g){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],d);else{a=w(a);for(var E=arguments.length===1,M=0,V=a.length;M<V;M++)E?this._off(a[M]):this._off(a[M],d,g)}return this},_on:function(a,d,g,_){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(a,d,g)===!1){g===this&&(g=void 0);var E={fn:d,ctx:g};_&&(E.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(E)}},_off:function(a,d,g){var _,E,M;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(E=0,M=_.length;E<M;E++)_[E].fn=p;delete this._events[a];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var V=this._listens(a,d,g);if(V!==!1){var Y=_[V];this._firingCount&&(Y.fn=p,this._events[a]=_=_.slice()),_.splice(V,1)}}},fire:function(a,d,g){if(!this.listens(a,g))return this;var _=i({},d,{type:a,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var E=this._events[a];if(E){this._firingCount=this._firingCount+1||1;for(var M=0,V=E.length;M<V;M++){var Y=E[M],J=Y.fn;Y.once&&this.off(a,J,Y.ctx),J.call(Y.ctx||this,_)}this._firingCount--}}return g&&this._propagateEvent(_),this},listens:function(a,d,g,_){typeof a!="string"&&console.warn('"string" type argument expected');var E=d;typeof d!="function"&&(_=!!d,E=void 0,g=void 0);var M=this._events&&this._events[a];if(M&&M.length&&this._listens(a,E,g)!==!1)return!0;if(_){for(var V in this._eventParents)if(this._eventParents[V].listens(a,d,g,_))return!0}return!1},_listens:function(a,d,g){if(!this._events)return!1;var _=this._events[a]||[];if(!d)return!!_.length;g===this&&(g=void 0);for(var E=0,M=_.length;E<M;E++)if(_[E].fn===d&&_[E].ctx===g)return E;return!1},once:function(a,d,g){if(typeof a=="object")for(var _ in a)this._on(_,a[_],d,!0);else{a=w(a);for(var E=0,M=a.length;E<M;E++)this._on(a[E],d,g,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[u(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[u(a)],this},_propagateEvent:function(a){for(var d in this._eventParents)this._eventParents[d].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var F=$.extend(I);function D(a,d,g){this.x=g?Math.round(a):a,this.y=g?Math.round(d):d}var H=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};D.prototype={clone:function(){return new D(this.x,this.y)},add:function(a){return this.clone()._add(G(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(G(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new D(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new D(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=H(this.x),this.y=H(this.y),this},distanceTo:function(a){a=G(a);var d=a.x-this.x,g=a.y-this.y;return Math.sqrt(d*d+g*g)},equals:function(a){return a=G(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=G(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function G(a,d,g){return a instanceof D?a:C(a)?new D(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new D(a.x,a.y):new D(a,d,g)}function ee(a,d){if(a)for(var g=d?[a,d]:a,_=0,E=g.length;_<E;_++)this.extend(g[_])}ee.prototype={extend:function(a){var d,g;if(!a)return this;if(a instanceof D||typeof a[0]=="number"||"x"in a)d=g=G(a);else if(a=z(a),d=a.min,g=a.max,!d||!g)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=g.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(a){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var d,g;return typeof a[0]=="number"||a instanceof D?a=G(a):a=z(a),a instanceof ee?(d=a.min,g=a.max):d=g=a,d.x>=this.min.x&&g.x<=this.max.x&&d.y>=this.min.y&&g.y<=this.max.y},intersects:function(a){a=z(a);var d=this.min,g=this.max,_=a.min,E=a.max,M=E.x>=d.x&&_.x<=g.x,V=E.y>=d.y&&_.y<=g.y;return M&&V},overlaps:function(a){a=z(a);var d=this.min,g=this.max,_=a.min,E=a.max,M=E.x>d.x&&_.x<g.x,V=E.y>d.y&&_.y<g.y;return M&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var d=this.min,g=this.max,_=Math.abs(d.x-g.x)*a,E=Math.abs(d.y-g.y)*a;return z(G(d.x-_,d.y-E),G(g.x+_,g.y+E))},equals:function(a){return a?(a=z(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function z(a,d){return!a||a instanceof ee?a:new ee(a,d)}function Z(a,d){if(a)for(var g=d?[a,d]:a,_=0,E=g.length;_<E;_++)this.extend(g[_])}Z.prototype={extend:function(a){var d=this._southWest,g=this._northEast,_,E;if(a instanceof Q)_=a,E=a;else if(a instanceof Z){if(_=a._southWest,E=a._northEast,!_||!E)return this}else return a?this.extend(ie(a)||q(a)):this;return!d&&!g?(this._southWest=new Q(_.lat,_.lng),this._northEast=new Q(E.lat,E.lng)):(d.lat=Math.min(_.lat,d.lat),d.lng=Math.min(_.lng,d.lng),g.lat=Math.max(E.lat,g.lat),g.lng=Math.max(E.lng,g.lng)),this},pad:function(a){var d=this._southWest,g=this._northEast,_=Math.abs(d.lat-g.lat)*a,E=Math.abs(d.lng-g.lng)*a;return new Z(new Q(d.lat-_,d.lng-E),new Q(g.lat+_,g.lng+E))},getCenter:function(){return new Q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Q(this.getNorth(),this.getWest())},getSouthEast:function(){return new Q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Q||"lat"in a?a=ie(a):a=q(a);var d=this._southWest,g=this._northEast,_,E;return a instanceof Z?(_=a.getSouthWest(),E=a.getNorthEast()):_=E=a,_.lat>=d.lat&&E.lat<=g.lat&&_.lng>=d.lng&&E.lng<=g.lng},intersects:function(a){a=q(a);var d=this._southWest,g=this._northEast,_=a.getSouthWest(),E=a.getNorthEast(),M=E.lat>=d.lat&&_.lat<=g.lat,V=E.lng>=d.lng&&_.lng<=g.lng;return M&&V},overlaps:function(a){a=q(a);var d=this._southWest,g=this._northEast,_=a.getSouthWest(),E=a.getNorthEast(),M=E.lat>d.lat&&_.lat<g.lat,V=E.lng>d.lng&&_.lng<g.lng;return M&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,d){return a?(a=q(a),this._southWest.equals(a.getSouthWest(),d)&&this._northEast.equals(a.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function q(a,d){return a instanceof Z?a:new Z(a,d)}function Q(a,d,g){if(isNaN(a)||isNaN(d))throw new Error("Invalid LatLng object: ("+a+", "+d+")");this.lat=+a,this.lng=+d,g!==void 0&&(this.alt=+g)}Q.prototype={equals:function(a,d){if(!a)return!1;a=ie(a);var g=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return g<=(d===void 0?1e-9:d)},toString:function(a){return"LatLng("+v(this.lat,a)+", "+v(this.lng,a)+")"},distanceTo:function(a){return de.distance(this,ie(a))},wrap:function(){return de.wrapLatLng(this)},toBounds:function(a){var d=180*a/40075017,g=d/Math.cos(Math.PI/180*this.lat);return q([this.lat-d,this.lng-g],[this.lat+d,this.lng+g])},clone:function(){return new Q(this.lat,this.lng,this.alt)}};function ie(a,d,g){return a instanceof Q?a:C(a)&&typeof a[0]!="object"?a.length===3?new Q(a[0],a[1],a[2]):a.length===2?new Q(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Q(a.lat,"lng"in a?a.lng:a.lon,a.alt):d===void 0?null:new Q(a,d,g)}var ne={latLngToPoint:function(a,d){var g=this.projection.project(a),_=this.scale(d);return this.transformation._transform(g,_)},pointToLatLng:function(a,d){var g=this.scale(d),_=this.transformation.untransform(a,g);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var d=this.projection.bounds,g=this.scale(a),_=this.transformation.transform(d.min,g),E=this.transformation.transform(d.max,g);return new ee(_,E)},infinite:!1,wrapLatLng:function(a){var d=this.wrapLng?f(a.lng,this.wrapLng,!0):a.lng,g=this.wrapLat?f(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new Q(g,d,_)},wrapLatLngBounds:function(a){var d=a.getCenter(),g=this.wrapLatLng(d),_=d.lat-g.lat,E=d.lng-g.lng;if(_===0&&E===0)return a;var M=a.getSouthWest(),V=a.getNorthEast(),Y=new Q(M.lat-_,M.lng-E),J=new Q(V.lat-_,V.lng-E);return new Z(Y,J)}},de=i({},ne,{wrapLng:[-180,180],R:6371e3,distance:function(a,d){var g=Math.PI/180,_=a.lat*g,E=d.lat*g,M=Math.sin((d.lat-a.lat)*g/2),V=Math.sin((d.lng-a.lng)*g/2),Y=M*M+Math.cos(_)*Math.cos(E)*V*V,J=2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y));return this.R*J}}),Se=6378137,je={R:Se,MAX_LATITUDE:85.0511287798,project:function(a){var d=Math.PI/180,g=this.MAX_LATITUDE,_=Math.max(Math.min(g,a.lat),-g),E=Math.sin(_*d);return new D(this.R*a.lng*d,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(a){var d=180/Math.PI;return new Q((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*d,a.x*d/this.R)},bounds:function(){var a=Se*Math.PI;return new ee([-a,-a],[a,a])}()};function Ne(a,d,g,_){if(C(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=d,this._c=g,this._d=_}Ne.prototype={transform:function(a,d){return this._transform(a.clone(),d)},_transform:function(a,d){return d=d||1,a.x=d*(this._a*a.x+this._b),a.y=d*(this._c*a.y+this._d),a},untransform:function(a,d){return d=d||1,new D((a.x/d-this._b)/this._a,(a.y/d-this._d)/this._c)}};function ke(a,d,g,_){return new Ne(a,d,g,_)}var ze=i({},de,{code:"EPSG:3857",projection:je,transformation:function(){var a=.5/(Math.PI*je.R);return ke(a,.5,-a,.5)}()}),Ke=i({},ze,{code:"EPSG:900913"});function xn(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function qn(a,d){var g="",_,E,M,V,Y,J;for(_=0,M=a.length;_<M;_++){for(Y=a[_],E=0,V=Y.length;E<V;E++)J=Y[E],g+=(E?"L":"M")+J.x+" "+J.y;g+=d?we.svg?"z":"x":""}return g||"M0 0"}var Ln=document.documentElement.style,Tr="ActiveXObject"in window,On=Tr&&!document.addEventListener,As="msLaunchUri"in navigator&&!("documentMode"in document),sm=Ar("webkit"),i_=Ar("android"),s_=Ar("android 2")||Ar("android 3"),_O=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),wO=i_&&Ar("Google")&&_O<537&&!("AudioNode"in window),om=!!window.opera,o_=!As&&Ar("chrome"),a_=Ar("gecko")&&!sm&&!om&&!Tr,bO=!o_&&Ar("safari"),l_=Ar("phantom"),c_="OTransition"in Ln,jO=navigator.platform.indexOf("Win")===0,u_=Tr&&"transition"in Ln,am="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!s_,d_="MozPerspective"in Ln,CO=!window.L_DISABLE_3D&&(u_||am||d_)&&!c_&&!l_,el=typeof orientation<"u"||Ar("mobile"),SO=el&&sm,EO=el&&am,h_=!window.PointerEvent&&window.MSPointerEvent,f_=!!(window.PointerEvent||h_),m_="ontouchstart"in window||!!window.TouchEvent,NO=!window.L_NO_TOUCH&&(m_||f_),PO=el&&om,TO=el&&a_,AO=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,kO=function(){var a=!1;try{var d=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",p,d),window.removeEventListener("testPassiveEventSupport",p,d)}catch{}return a}(),RO=function(){return!!document.createElement("canvas").getContext}(),lm=!!(document.createElementNS&&xn("svg").createSVGRect),LO=!!lm&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),OO=!lm&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var d=a.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),MO=navigator.platform.indexOf("Mac")===0,IO=navigator.platform.indexOf("Linux")===0;function Ar(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var we={ie:Tr,ielt9:On,edge:As,webkit:sm,android:i_,android23:s_,androidStock:wO,opera:om,chrome:o_,gecko:a_,safari:bO,phantom:l_,opera12:c_,win:jO,ie3d:u_,webkit3d:am,gecko3d:d_,any3d:CO,mobile:el,mobileWebkit:SO,mobileWebkit3d:EO,msPointer:h_,pointer:f_,touch:NO,touchNative:m_,mobileOpera:PO,mobileGecko:TO,retina:AO,passiveEvents:kO,canvas:RO,svg:lm,vml:OO,inlineSvg:LO,mac:MO,linux:IO},p_=we.msPointer?"MSPointerDown":"pointerdown",g_=we.msPointer?"MSPointerMove":"pointermove",v_=we.msPointer?"MSPointerUp":"pointerup",x_=we.msPointer?"MSPointerCancel":"pointercancel",cm={touchstart:p_,touchmove:g_,touchend:v_,touchcancel:x_},y_={touchstart:zO,touchmove:hu,touchend:hu,touchcancel:hu},Eo={},__=!1;function DO(a,d,g){return d==="touchstart"&&UO(),y_[d]?(g=y_[d].bind(this,g),a.addEventListener(cm[d],g,!1),g):(console.warn("wrong event specified:",d),p)}function $O(a,d,g){if(!cm[d]){console.warn("wrong event specified:",d);return}a.removeEventListener(cm[d],g,!1)}function FO(a){Eo[a.pointerId]=a}function BO(a){Eo[a.pointerId]&&(Eo[a.pointerId]=a)}function w_(a){delete Eo[a.pointerId]}function UO(){__||(document.addEventListener(p_,FO,!0),document.addEventListener(g_,BO,!0),document.addEventListener(v_,w_,!0),document.addEventListener(x_,w_,!0),__=!0)}function hu(a,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var g in Eo)d.touches.push(Eo[g]);d.changedTouches=[d],a(d)}}function zO(a,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&Vt(d),hu(a,d)}function VO(a){var d={},g,_;for(_ in a)g=a[_],d[_]=g&&g.bind?g.bind(a):g;return a=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var HO=200;function WO(a,d){a.addEventListener("dblclick",d);var g=0,_;function E(M){if(M.detail!==1){_=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var V=E_(M);if(!(V.some(function(J){return J instanceof HTMLLabelElement&&J.attributes.for})&&!V.some(function(J){return J instanceof HTMLInputElement||J instanceof HTMLSelectElement}))){var Y=Date.now();Y-g<=HO?(_++,_===2&&d(VO(M))):_=1,g=Y}}}return a.addEventListener("click",E),{dblclick:d,simDblclick:E}}function GO(a,d){a.removeEventListener("dblclick",d.dblclick),a.removeEventListener("click",d.simDblclick)}var um=pu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),tl=pu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),b_=tl==="webkitTransition"||tl==="OTransition"?tl+"End":"transitionend";function j_(a){return typeof a=="string"?document.getElementById(a):a}function nl(a,d){var g=a.style[d]||a.currentStyle&&a.currentStyle[d];if((!g||g==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);g=_?_[d]:null}return g==="auto"?null:g}function Ve(a,d,g){var _=document.createElement(a);return _.className=d||"",g&&g.appendChild(_),_}function mt(a){var d=a.parentNode;d&&d.removeChild(a)}function fu(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function No(a){var d=a.parentNode;d&&d.lastChild!==a&&d.appendChild(a)}function Po(a){var d=a.parentNode;d&&d.firstChild!==a&&d.insertBefore(a,d.firstChild)}function dm(a,d){if(a.classList!==void 0)return a.classList.contains(d);var g=mu(a);return g.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(g)}function Oe(a,d){if(a.classList!==void 0)for(var g=w(d),_=0,E=g.length;_<E;_++)a.classList.add(g[_]);else if(!dm(a,d)){var M=mu(a);hm(a,(M?M+" ":"")+d)}}function jt(a,d){a.classList!==void 0?a.classList.remove(d):hm(a,y((" "+mu(a)+" ").replace(" "+d+" "," ")))}function hm(a,d){a.className.baseVal===void 0?a.className=d:a.className.baseVal=d}function mu(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Zn(a,d){"opacity"in a.style?a.style.opacity=d:"filter"in a.style&&qO(a,d)}function qO(a,d){var g=!1,_="DXImageTransform.Microsoft.Alpha";try{g=a.filters.item(_)}catch{if(d===1)return}d=Math.round(d*100),g?(g.Enabled=d!==100,g.Opacity=d):a.style.filter+=" progid:"+_+"(opacity="+d+")"}function pu(a){for(var d=document.documentElement.style,g=0;g<a.length;g++)if(a[g]in d)return a[g];return!1}function ks(a,d,g){var _=d||new D(0,0);a.style[um]=(we.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(g?" scale("+g+")":"")}function St(a,d){a._leaflet_pos=d,we.any3d?ks(a,d):(a.style.left=d.x+"px",a.style.top=d.y+"px")}function Rs(a){return a._leaflet_pos||new D(0,0)}var rl,il,fm;if("onselectstart"in document)rl=function(){Le(window,"selectstart",Vt)},il=function(){nt(window,"selectstart",Vt)};else{var sl=pu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rl=function(){if(sl){var a=document.documentElement.style;fm=a[sl],a[sl]="none"}},il=function(){sl&&(document.documentElement.style[sl]=fm,fm=void 0)}}function mm(){Le(window,"dragstart",Vt)}function pm(){nt(window,"dragstart",Vt)}var gu,gm;function vm(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(vu(),gu=a,gm=a.style.outlineStyle,a.style.outlineStyle="none",Le(window,"keydown",vu))}function vu(){gu&&(gu.style.outlineStyle=gm,gu=void 0,gm=void 0,nt(window,"keydown",vu))}function C_(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function xm(a){var d=a.getBoundingClientRect();return{x:d.width/a.offsetWidth||1,y:d.height/a.offsetHeight||1,boundingClientRect:d}}var ZO={__proto__:null,TRANSFORM:um,TRANSITION:tl,TRANSITION_END:b_,get:j_,getStyle:nl,create:Ve,remove:mt,empty:fu,toFront:No,toBack:Po,hasClass:dm,addClass:Oe,removeClass:jt,setClass:hm,getClass:mu,setOpacity:Zn,testProp:pu,setTransform:ks,setPosition:St,getPosition:Rs,get disableTextSelection(){return rl},get enableTextSelection(){return il},disableImageDrag:mm,enableImageDrag:pm,preventOutline:vm,restoreOutline:vu,getSizedParentNode:C_,getScale:xm};function Le(a,d,g,_){if(d&&typeof d=="object")for(var E in d)_m(a,E,d[E],g);else{d=w(d);for(var M=0,V=d.length;M<V;M++)_m(a,d[M],g,_)}return this}var kr="_leaflet_events";function nt(a,d,g,_){if(arguments.length===1)S_(a),delete a[kr];else if(d&&typeof d=="object")for(var E in d)wm(a,E,d[E],g);else if(d=w(d),arguments.length===2)S_(a,function(Y){return N(d,Y)!==-1});else for(var M=0,V=d.length;M<V;M++)wm(a,d[M],g,_);return this}function S_(a,d){for(var g in a[kr]){var _=g.split(/\d/)[0];(!d||d(_))&&wm(a,_,null,null,g)}}var ym={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _m(a,d,g,_){var E=d+u(g)+(_?"_"+u(_):"");if(a[kr]&&a[kr][E])return this;var M=function(Y){return g.call(_||a,Y||window.event)},V=M;!we.touchNative&&we.pointer&&d.indexOf("touch")===0?M=DO(a,d,M):we.touch&&d==="dblclick"?M=WO(a,M):"addEventListener"in a?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?a.addEventListener(ym[d]||d,M,we.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(M=function(Y){Y=Y||window.event,jm(a,Y)&&V(Y)},a.addEventListener(ym[d],M,!1)):a.addEventListener(d,V,!1):a.attachEvent("on"+d,M),a[kr]=a[kr]||{},a[kr][E]=M}function wm(a,d,g,_,E){E=E||d+u(g)+(_?"_"+u(_):"");var M=a[kr]&&a[kr][E];if(!M)return this;!we.touchNative&&we.pointer&&d.indexOf("touch")===0?$O(a,d,M):we.touch&&d==="dblclick"?GO(a,M):"removeEventListener"in a?a.removeEventListener(ym[d]||d,M,!1):a.detachEvent("on"+d,M),a[kr][E]=null}function Ls(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function bm(a){return _m(a,"wheel",Ls),this}function ol(a){return Le(a,"mousedown touchstart dblclick contextmenu",Ls),a._leaflet_disable_click=!0,this}function Vt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Os(a){return Vt(a),Ls(a),this}function E_(a){if(a.composedPath)return a.composedPath();for(var d=[],g=a.target;g;)d.push(g),g=g.parentNode;return d}function N_(a,d){if(!d)return new D(a.clientX,a.clientY);var g=xm(d),_=g.boundingClientRect;return new D((a.clientX-_.left)/g.x-d.clientLeft,(a.clientY-_.top)/g.y-d.clientTop)}var KO=we.linux&&we.chrome?window.devicePixelRatio:we.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function P_(a){return we.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/KO:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function jm(a,d){var g=d.relatedTarget;if(!g)return!0;try{for(;g&&g!==a;)g=g.parentNode}catch{return!1}return g!==a}var YO={__proto__:null,on:Le,off:nt,stopPropagation:Ls,disableScrollPropagation:bm,disableClickPropagation:ol,preventDefault:Vt,stop:Os,getPropagationPath:E_,getMousePosition:N_,getWheelDelta:P_,isExternalTarget:jm,addListener:Le,removeListener:nt},T_=F.extend({run:function(a,d,g,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Rs(a),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(a){var d=+new Date-this._startTime,g=this._duration*1e3;d<g?this._runFrame(this._easeOut(d/g),a):(this._runFrame(1),this._complete())},_runFrame:function(a,d){var g=this._startPos.add(this._offset.multiplyBy(a));d&&g._round(),St(this._el,g),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Fe=F.extend({options:{crs:ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,d){d=x(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(ie(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=tl&&we.any3d&&!we.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Le(this._proxy,b_,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,d,g){if(d=d===void 0?this._zoom:this._limitZoom(d),a=this._limitCenter(ie(a),d,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=i({animate:g.animate},g.zoom),g.pan=i({animate:g.animate,duration:g.duration},g.pan));var _=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,d,g.zoom):this._tryAnimatedPan(a,g.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,d,g.pan&&g.pan.noMoveStart),this},setZoom:function(a,d){return this._loaded?this.setView(this.getCenter(),a,{zoom:d}):(this._zoom=a,this)},zoomIn:function(a,d){return a=a||(we.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,d)},zoomOut:function(a,d){return a=a||(we.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,d)},setZoomAround:function(a,d,g){var _=this.getZoomScale(d),E=this.getSize().divideBy(2),M=a instanceof D?a:this.latLngToContainerPoint(a),V=M.subtract(E).multiplyBy(1-1/_),Y=this.containerPointToLatLng(E.add(V));return this.setView(Y,d,{zoom:g})},_getBoundsCenterZoom:function(a,d){d=d||{},a=a.getBounds?a.getBounds():q(a);var g=G(d.paddingTopLeft||d.padding||[0,0]),_=G(d.paddingBottomRight||d.padding||[0,0]),E=this.getBoundsZoom(a,!1,g.add(_));if(E=typeof d.maxZoom=="number"?Math.min(d.maxZoom,E):E,E===1/0)return{center:a.getCenter(),zoom:E};var M=_.subtract(g).divideBy(2),V=this.project(a.getSouthWest(),E),Y=this.project(a.getNorthEast(),E),J=this.unproject(V.add(Y).divideBy(2).add(M),E);return{center:J,zoom:E}},fitBounds:function(a,d){if(a=q(a),!a.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(a,d);return this.setView(g.center,g.zoom,d)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,d){return this.setView(a,this._zoom,{pan:d})},panBy:function(a,d){if(a=G(a).round(),d=d||{},!a.x&&!a.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new T_,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){Oe(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,g,d.duration||.25,d.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,d,g){if(g=g||{},g.animate===!1||!we.any3d)return this.setView(a,d,g);this._stop();var _=this.project(this.getCenter()),E=this.project(a),M=this.getSize(),V=this._zoom;a=ie(a),d=d===void 0?V:d;var Y=Math.max(M.x,M.y),J=Y*this.getZoomScale(V,d),re=E.distanceTo(_)||1,he=1.42,Te=he*he;function Me(Et){var Tu=Et?-1:1,$M=Et?J:Y,FM=J*J-Y*Y+Tu*Te*Te*re*re,BM=2*$M*Te*re,Om=FM/BM,cw=Math.sqrt(Om*Om+1)-Om,UM=cw<1e-9?-18:Math.log(cw);return UM}function on(Et){return(Math.exp(Et)-Math.exp(-Et))/2}function Dt(Et){return(Math.exp(Et)+Math.exp(-Et))/2}function Yn(Et){return on(Et)/Dt(Et)}var yn=Me(0);function Oo(Et){return Y*(Dt(yn)/Dt(yn+he*Et))}function OM(Et){return Y*(Dt(yn)*Yn(yn+he*Et)-on(yn))/Te}function MM(Et){return 1-Math.pow(1-Et,1.5)}var IM=Date.now(),aw=(Me(1)-yn)/he,DM=g.duration?1e3*g.duration:1e3*aw*.8;function lw(){var Et=(Date.now()-IM)/DM,Tu=MM(Et)*aw;Et<=1?(this._flyToFrame=W(lw,this),this._move(this.unproject(_.add(E.subtract(_).multiplyBy(OM(Tu)/re)),V),this.getScaleZoom(Y/Oo(Tu),V),{flyTo:!0})):this._move(a,d)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),lw.call(this),this},flyToBounds:function(a,d){var g=this._getBoundsCenterZoom(a,d);return this.flyTo(g.center,g.zoom,d)},setMaxBounds:function(a){return a=q(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var d=this.options.minZoom;return this.options.minZoom=a,this._loaded&&d!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var d=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&d!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,d){this._enforcingBounds=!0;var g=this.getCenter(),_=this._limitCenter(g,this._zoom,q(a));return g.equals(_)||this.panTo(_,d),this._enforcingBounds=!1,this},panInside:function(a,d){d=d||{};var g=G(d.paddingTopLeft||d.padding||[0,0]),_=G(d.paddingBottomRight||d.padding||[0,0]),E=this.project(this.getCenter()),M=this.project(a),V=this.getPixelBounds(),Y=z([V.min.add(g),V.max.subtract(_)]),J=Y.getSize();if(!Y.contains(M)){this._enforcingBounds=!0;var re=M.subtract(Y.getCenter()),he=Y.extend(M).getSize().subtract(J);E.x+=re.x<0?-he.x:he.x,E.y+=re.y<0?-he.y:he.y,this.panTo(this.unproject(E),d),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),_=d.divideBy(2).round(),E=g.divideBy(2).round(),M=_.subtract(E);return!M.x&&!M.y?this:(a.animate&&a.pan?this.panBy(M):(a.pan&&this._rawPanBy(M),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=l(this._handleGeolocationResponse,this),g=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,g,a):navigator.geolocation.getCurrentPosition(d,g,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var d=a.code,g=a.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var d=a.coords.latitude,g=a.coords.longitude,_=new Q(d,g),E=_.toBounds(a.coords.accuracy*2),M=this._locateOptions;if(M.setView){var V=this.getBoundsZoom(E);this.setView(_,M.maxZoom?Math.min(V,M.maxZoom):V)}var Y={latlng:_,bounds:E,timestamp:a.timestamp};for(var J in a.coords)typeof a.coords[J]=="number"&&(Y[J]=a.coords[J]);this.fire("locationfound",Y)}},addHandler:function(a,d){if(!d)return this;var g=this[a]=new d(this);return this._handlers.push(g),this.options[a]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),mt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)mt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,d){var g="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=Ve("div",g,d||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),d=this.unproject(a.getBottomLeft()),g=this.unproject(a.getTopRight());return new Z(d,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,d,g){a=q(a),g=G(g||[0,0]);var _=this.getZoom()||0,E=this.getMinZoom(),M=this.getMaxZoom(),V=a.getNorthWest(),Y=a.getSouthEast(),J=this.getSize().subtract(g),re=z(this.project(Y,_),this.project(V,_)).getSize(),he=we.any3d?this.options.zoomSnap:1,Te=J.x/re.x,Me=J.y/re.y,on=d?Math.max(Te,Me):Math.min(Te,Me);return _=this.getScaleZoom(on,_),he&&(_=Math.round(_/(he/100))*(he/100),_=d?Math.ceil(_/he)*he:Math.floor(_/he)*he),Math.max(E,Math.min(M,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,d){var g=this._getTopLeftPoint(a,d);return new ee(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,d){var g=this.options.crs;return d=d===void 0?this._zoom:d,g.scale(a)/g.scale(d)},getScaleZoom:function(a,d){var g=this.options.crs;d=d===void 0?this._zoom:d;var _=g.zoom(a*g.scale(d));return isNaN(_)?1/0:_},project:function(a,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(ie(a),d)},unproject:function(a,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(G(a),d)},layerPointToLatLng:function(a){var d=G(a).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(a){var d=this.project(ie(a))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(ie(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(q(a))},distance:function(a,d){return this.options.crs.distance(ie(a),ie(d))},containerPointToLayerPoint:function(a){return G(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return G(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var d=this.containerPointToLayerPoint(G(a));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ie(a)))},mouseEventToContainerPoint:function(a){return N_(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var d=this._container=j_(a);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Le(d,"scroll",this._onScroll,this),this._containerId=u(d)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&we.any3d,Oe(a,"leaflet-container"+(we.touch?" leaflet-touch":"")+(we.retina?" leaflet-retina":"")+(we.ielt9?" leaflet-oldie":"")+(we.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=nl(a,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),St(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Oe(a.markerPane,"leaflet-zoom-hide"),Oe(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,d,g){St(this._mapPane,new D(0,0));var _=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var E=this._zoom!==d;this._moveStart(E,g)._move(a,d)._moveEnd(E),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,d){return a&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(a,d,g,_){d===void 0&&(d=this._zoom);var E=this._zoom!==d;return this._zoom=d,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?g&&g.pinch&&this.fire("zoom",g):((E||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){St(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[u(this._container)]=this;var d=a?nt:Le;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),we.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,d){for(var g=[],_,E=d==="mouseout"||d==="mouseover",M=a.target||a.srcElement,V=!1;M;){if(_=this._targets[u(M)],_&&(d==="click"||d==="preclick")&&this._draggableMoved(_)){V=!0;break}if(_&&_.listens(d,!0)&&(E&&!jm(M,a)||(g.push(_),E))||M===this._container)break;M=M.parentNode}return!g.length&&!V&&!E&&this.listens(d,!0)&&(g=[this]),g},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var d=a.target||a.srcElement;if(!(!this._loaded||d._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(d))){var g=a.type;g==="mousedown"&&vm(d),this._fireDOMEvent(a,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,d,g){if(a.type==="click"){var _=i({},a);_.type="preclick",this._fireDOMEvent(_,_.type,g)}var E=this._findEventTargets(a,d);if(g){for(var M=[],V=0;V<g.length;V++)g[V].listens(d,!0)&&M.push(g[V]);E=M.concat(E)}if(E.length){d==="contextmenu"&&Vt(a);var Y=E[0],J={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var re=Y.getLatLng&&(!Y._radius||Y._radius<=10);J.containerPoint=re?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(a),J.layerPoint=this.containerPointToLayerPoint(J.containerPoint),J.latlng=re?Y.getLatLng():this.layerPointToLatLng(J.layerPoint)}for(V=0;V<E.length;V++)if(E[V].fire(d,J,!0),J.originalEvent._stopped||E[V].options.bubblingMouseEvents===!1&&N(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,d=this._handlers.length;a<d;a++)this._handlers[a].disable()},whenReady:function(a,d){return this._loaded?a.call(d||this,{target:this}):this.on("load",a,d),this},_getMapPanePos:function(){return Rs(this._mapPane)||new D(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,d){var g=a&&d!==void 0?this._getNewPixelOrigin(a,d):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,d){var g=this.getSize()._divideBy(2);return this.project(a,d)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,d,g){var _=this._getNewPixelOrigin(g,d);return this.project(a,d)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,d,g){var _=this._getNewPixelOrigin(g,d);return z([this.project(a.getSouthWest(),d)._subtract(_),this.project(a.getNorthWest(),d)._subtract(_),this.project(a.getSouthEast(),d)._subtract(_),this.project(a.getNorthEast(),d)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,d,g){if(!g)return a;var _=this.project(a,d),E=this.getSize().divideBy(2),M=new ee(_.subtract(E),_.add(E)),V=this._getBoundsOffset(M,g,d);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?a:this.unproject(_.add(V),d)},_limitOffset:function(a,d){if(!d)return a;var g=this.getPixelBounds(),_=new ee(g.min.add(a),g.max.add(a));return a.add(this._getBoundsOffset(_,d))},_getBoundsOffset:function(a,d,g){var _=z(this.project(d.getNorthEast(),g),this.project(d.getSouthWest(),g)),E=_.min.subtract(a.min),M=_.max.subtract(a.max),V=this._rebound(E.x,-M.x),Y=this._rebound(E.y,-M.y);return new D(V,Y)},_rebound:function(a,d){return a+d>0?Math.round(a-d)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(d))},_limitZoom:function(a){var d=this.getMinZoom(),g=this.getMaxZoom(),_=we.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(d,Math.min(g,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){jt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,d){var g=this._getCenterOffset(a)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,d),!0)},_createAnimProxy:function(){var a=this._proxy=Ve("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(d){var g=um,_=this._proxy.style[g];ks(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),_===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){mt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),d=this.getZoom();ks(this._proxy,this.project(a,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,d,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(d),E=this._getCenterOffset(a)._divideBy(1-1/_);return g.animate!==!0&&!this.getSize().contains(E)?!1:(W(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(a,d,!0)},this),!0)},_animateZoom:function(a,d,g,_){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=d,Oe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:d,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&jt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function JO(a,d){return new Fe(a,d)}var ur=$.extend({options:{position:"topright"},initialize:function(a){x(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var d=this._map;return d&&d.removeControl(this),this.options.position=a,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var d=this._container=this.onAdd(a),g=this.getPosition(),_=a._controlCorners[g];return Oe(d,"leaflet-control"),g.indexOf("bottom")!==-1?_.insertBefore(d,_.firstChild):_.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(mt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),al=function(a){return new ur(a)};Fe.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},d="leaflet-",g=this._controlContainer=Ve("div",d+"control-container",this._container);function _(E,M){var V=d+E+" "+d+M;a[E+M]=Ve("div",V,g)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)mt(this._controlCorners[a]);mt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var A_=ur.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,d,g,_){return g<_?-1:_<g?1:0}},initialize:function(a,d,g){x(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in d)this._addLayer(d[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return ur.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,d){return this._addLayer(a,d),this._map?this._update():this},addOverlay:function(a,d){return this._addLayer(a,d,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var d=this._getLayer(u(a));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Oe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Oe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):jt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return jt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",d=this._container=Ve("div",a),g=this.options.collapsed;d.setAttribute("aria-haspopup",!0),ol(d),bm(d);var _=this._section=Ve("section",a+"-list");g&&(this._map.on("click",this.collapse,this),Le(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Ve("a",a+"-toggle",d);E.href="#",E.title="Layers",E.setAttribute("role","button"),Le(E,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){Vt(M),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=Ve("div",a+"-base",_),this._separator=Ve("div",a+"-separator",_),this._overlaysList=Ve("div",a+"-overlays",_),d.appendChild(_)},_getLayer:function(a){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&u(this._layers[d].layer)===a)return this._layers[d]},_addLayer:function(a,d,g){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:d,overlay:g}),this.options.sortLayers&&this._layers.sort(l(function(_,E){return this.options.sortFunction(_.layer,E.layer,_.name,E.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fu(this._baseLayersList),fu(this._overlaysList),this._layerControlInputs=[];var a,d,g,_,E=0;for(g=0;g<this._layers.length;g++)_=this._layers[g],this._addItem(_),d=d||_.overlay,a=a||!_.overlay,E+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&E>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=d&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var d=this._getLayer(u(a.target)),g=d.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;g&&this._map.fire(g,d)},_createRadioElement:function(a,d){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(d?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=g,_.firstChild},_addItem:function(a){var d=document.createElement("label"),g=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=g):_=this._createRadioElement("leaflet-base-layers_"+u(this),g),this._layerControlInputs.push(_),_.layerId=u(a.layer),Le(_,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+a.name;var M=document.createElement("span");d.appendChild(M),M.appendChild(_),M.appendChild(E);var V=a.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,d,g,_=[],E=[];this._handlingClick=!0;for(var M=a.length-1;M>=0;M--)d=a[M],g=this._getLayer(d.layerId).layer,d.checked?_.push(g):d.checked||E.push(g);for(M=0;M<E.length;M++)this._map.hasLayer(E[M])&&this._map.removeLayer(E[M]);for(M=0;M<_.length;M++)this._map.hasLayer(_[M])||this._map.addLayer(_[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,d,g,_=this._map.getZoom(),E=a.length-1;E>=0;E--)d=a[E],g=this._getLayer(d.layerId).layer,d.disabled=g.options.minZoom!==void 0&&_<g.options.minZoom||g.options.maxZoom!==void 0&&_>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Le(a,"click",Vt),this.expand();var d=this;setTimeout(function(){nt(a,"click",Vt),d._preventClick=!1})}}),XO=function(a,d,g){return new A_(a,d,g)},Cm=ur.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var d="leaflet-control-zoom",g=Ve("div",d+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,d+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,d+"-out",g,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,d,g,_,E){var M=Ve("a",g,_);return M.innerHTML=a,M.href="#",M.title=d,M.setAttribute("role","button"),M.setAttribute("aria-label",d),ol(M),Le(M,"click",Os),Le(M,"click",E,this),Le(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var a=this._map,d="leaflet-disabled";jt(this._zoomInButton,d),jt(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Oe(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Oe(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});Fe.mergeOptions({zoomControl:!0}),Fe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Cm,this.addControl(this.zoomControl))});var QO=function(a){return new Cm(a)},k_=ur.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var d="leaflet-control-scale",g=Ve("div",d),_=this.options;return this._addScales(_,d+"-line",g),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),g},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,d,g){a.metric&&(this._mScale=Ve("div",d,g)),a.imperial&&(this._iScale=Ve("div",d,g))},_update:function(){var a=this._map,d=a.getSize().y/2,g=a.distance(a.containerPointToLatLng([0,d]),a.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(g)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var d=this._getRoundNum(a),g=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,g,d/a)},_updateImperial:function(a){var d=a*3.2808399,g,_,E;d>5280?(g=d/5280,_=this._getRoundNum(g),this._updateScale(this._iScale,_+" mi",_/g)):(E=this._getRoundNum(d),this._updateScale(this._iScale,E+" ft",E/d))},_updateScale:function(a,d,g){a.style.width=Math.round(this.options.maxWidth*g)+"px",a.innerHTML=d},_getRoundNum:function(a){var d=Math.pow(10,(Math.floor(a)+"").length-1),g=a/d;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,d*g}}),eM=function(a){return new k_(a)},tM='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Sm=ur.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(we.inlineSvg?tM+" ":"")+"Leaflet</a>"},initialize:function(a){x(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Ve("div","leaflet-control-attribution"),ol(this._container);for(var d in a._layers)a._layers[d].getAttribution&&this.addAttribution(a._layers[d].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var d in this._attributions)this._attributions[d]&&a.push(d);var g=[];this.options.prefix&&g.push(this.options.prefix),a.length&&g.push(a.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});Fe.mergeOptions({attributionControl:!0}),Fe.addInitHook(function(){this.options.attributionControl&&new Sm().addTo(this)});var nM=function(a){return new Sm(a)};ur.Layers=A_,ur.Zoom=Cm,ur.Scale=k_,ur.Attribution=Sm,al.layers=XO,al.zoom=QO,al.scale=eM,al.attribution=nM;var Rr=$.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Rr.addTo=function(a,d){return a.addHandler(d,this),this};var rM={Events:I},R_=we.touch?"touchstart mousedown":"mousedown",ki=F.extend({options:{clickTolerance:3},initialize:function(a,d,g,_){x(this,_),this._element=a,this._dragStartTarget=d||a,this._preventOutline=g},enable:function(){this._enabled||(Le(this._dragStartTarget,R_,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ki._dragging===this&&this.finishDrag(!0),nt(this._dragStartTarget,R_,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!dm(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){ki._dragging===this&&this.finishDrag();return}if(!(ki._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(ki._dragging=this,this._preventOutline&&vm(this._element),mm(),rl(),!this._moving)){this.fire("down");var d=a.touches?a.touches[0]:a,g=C_(this._element);this._startPoint=new D(d.clientX,d.clientY),this._startPos=Rs(this._element),this._parentScale=xm(g);var _=a.type==="mousedown";Le(document,_?"mousemove":"touchmove",this._onMove,this),Le(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var d=a.touches&&a.touches.length===1?a.touches[0]:a,g=new D(d.clientX,d.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,Vt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Oe(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Oe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),St(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){jt(document.body,"leaflet-dragging"),this._lastTarget&&(jt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),nt(document,"mousemove touchmove",this._onMove,this),nt(document,"mouseup touchend touchcancel",this._onUp,this),pm(),il();var d=this._moved&&this._moving;this._moving=!1,ki._dragging=!1,d&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function L_(a,d,g){var _,E=[1,4,2,8],M,V,Y,J,re,he,Te,Me;for(M=0,he=a.length;M<he;M++)a[M]._code=Ms(a[M],d);for(Y=0;Y<4;Y++){for(Te=E[Y],_=[],M=0,he=a.length,V=he-1;M<he;V=M++)J=a[M],re=a[V],J._code&Te?re._code&Te||(Me=xu(re,J,Te,d,g),Me._code=Ms(Me,d),_.push(Me)):(re._code&Te&&(Me=xu(re,J,Te,d,g),Me._code=Ms(Me,d),_.push(Me)),_.push(J));a=_}return a}function O_(a,d){var g,_,E,M,V,Y,J,re,he;if(!a||a.length===0)throw new Error("latlngs not passed");Kn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Te=ie([0,0]),Me=q(a),on=Me.getNorthWest().distanceTo(Me.getSouthWest())*Me.getNorthEast().distanceTo(Me.getNorthWest());on<1700&&(Te=Em(a));var Dt=a.length,Yn=[];for(g=0;g<Dt;g++){var yn=ie(a[g]);Yn.push(d.project(ie([yn.lat-Te.lat,yn.lng-Te.lng])))}for(Y=J=re=0,g=0,_=Dt-1;g<Dt;_=g++)E=Yn[g],M=Yn[_],V=E.y*M.x-M.y*E.x,J+=(E.x+M.x)*V,re+=(E.y+M.y)*V,Y+=V*3;Y===0?he=Yn[0]:he=[J/Y,re/Y];var Oo=d.unproject(G(he));return ie([Oo.lat+Te.lat,Oo.lng+Te.lng])}function Em(a){for(var d=0,g=0,_=0,E=0;E<a.length;E++){var M=ie(a[E]);d+=M.lat,g+=M.lng,_++}return ie([d/_,g/_])}var iM={__proto__:null,clipPolygon:L_,polygonCenter:O_,centroid:Em};function M_(a,d){if(!d||!a.length)return a.slice();var g=d*d;return a=aM(a,g),a=oM(a,g),a}function I_(a,d,g){return Math.sqrt(ll(a,d,g,!0))}function sM(a,d,g){return ll(a,d,g)}function oM(a,d){var g=a.length,_=typeof Uint8Array!=void 0+""?Uint8Array:Array,E=new _(g);E[0]=E[g-1]=1,Nm(a,E,d,0,g-1);var M,V=[];for(M=0;M<g;M++)E[M]&&V.push(a[M]);return V}function Nm(a,d,g,_,E){var M=0,V,Y,J;for(Y=_+1;Y<=E-1;Y++)J=ll(a[Y],a[_],a[E],!0),J>M&&(V=Y,M=J);M>g&&(d[V]=1,Nm(a,d,g,_,V),Nm(a,d,g,V,E))}function aM(a,d){for(var g=[a[0]],_=1,E=0,M=a.length;_<M;_++)lM(a[_],a[E])>d&&(g.push(a[_]),E=_);return E<M-1&&g.push(a[M-1]),g}var D_;function $_(a,d,g,_,E){var M=_?D_:Ms(a,g),V=Ms(d,g),Y,J,re;for(D_=V;;){if(!(M|V))return[a,d];if(M&V)return!1;Y=M||V,J=xu(a,d,Y,g,E),re=Ms(J,g),Y===M?(a=J,M=re):(d=J,V=re)}}function xu(a,d,g,_,E){var M=d.x-a.x,V=d.y-a.y,Y=_.min,J=_.max,re,he;return g&8?(re=a.x+M*(J.y-a.y)/V,he=J.y):g&4?(re=a.x+M*(Y.y-a.y)/V,he=Y.y):g&2?(re=J.x,he=a.y+V*(J.x-a.x)/M):g&1&&(re=Y.x,he=a.y+V*(Y.x-a.x)/M),new D(re,he,E)}function Ms(a,d){var g=0;return a.x<d.min.x?g|=1:a.x>d.max.x&&(g|=2),a.y<d.min.y?g|=4:a.y>d.max.y&&(g|=8),g}function lM(a,d){var g=d.x-a.x,_=d.y-a.y;return g*g+_*_}function ll(a,d,g,_){var E=d.x,M=d.y,V=g.x-E,Y=g.y-M,J=V*V+Y*Y,re;return J>0&&(re=((a.x-E)*V+(a.y-M)*Y)/J,re>1?(E=g.x,M=g.y):re>0&&(E+=V*re,M+=Y*re)),V=a.x-E,Y=a.y-M,_?V*V+Y*Y:new D(E,M)}function Kn(a){return!C(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function F_(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Kn(a)}function B_(a,d){var g,_,E,M,V,Y,J,re;if(!a||a.length===0)throw new Error("latlngs not passed");Kn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var he=ie([0,0]),Te=q(a),Me=Te.getNorthWest().distanceTo(Te.getSouthWest())*Te.getNorthEast().distanceTo(Te.getNorthWest());Me<1700&&(he=Em(a));var on=a.length,Dt=[];for(g=0;g<on;g++){var Yn=ie(a[g]);Dt.push(d.project(ie([Yn.lat-he.lat,Yn.lng-he.lng])))}for(g=0,_=0;g<on-1;g++)_+=Dt[g].distanceTo(Dt[g+1])/2;if(_===0)re=Dt[0];else for(g=0,M=0;g<on-1;g++)if(V=Dt[g],Y=Dt[g+1],E=V.distanceTo(Y),M+=E,M>_){J=(M-_)/E,re=[Y.x-J*(Y.x-V.x),Y.y-J*(Y.y-V.y)];break}var yn=d.unproject(G(re));return ie([yn.lat+he.lat,yn.lng+he.lng])}var cM={__proto__:null,simplify:M_,pointToSegmentDistance:I_,closestPointOnSegment:sM,clipSegment:$_,_getEdgeIntersection:xu,_getBitCode:Ms,_sqClosestPointOnSegment:ll,isFlat:Kn,_flat:F_,polylineCenter:B_},Pm={project:function(a){return new D(a.lng,a.lat)},unproject:function(a){return new Q(a.y,a.x)},bounds:new ee([-180,-90],[180,90])},Tm={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var d=Math.PI/180,g=this.R,_=a.lat*d,E=this.R_MINOR/g,M=Math.sqrt(1-E*E),V=M*Math.sin(_),Y=Math.tan(Math.PI/4-_/2)/Math.pow((1-V)/(1+V),M/2);return _=-g*Math.log(Math.max(Y,1e-10)),new D(a.lng*d*g,_)},unproject:function(a){for(var d=180/Math.PI,g=this.R,_=this.R_MINOR/g,E=Math.sqrt(1-_*_),M=Math.exp(-a.y/g),V=Math.PI/2-2*Math.atan(M),Y=0,J=.1,re;Y<15&&Math.abs(J)>1e-7;Y++)re=E*Math.sin(V),re=Math.pow((1-re)/(1+re),E/2),J=Math.PI/2-2*Math.atan(M*re)-V,V+=J;return new Q(V*d,a.x*d/g)}},uM={__proto__:null,LonLat:Pm,Mercator:Tm,SphericalMercator:je},dM=i({},de,{code:"EPSG:3395",projection:Tm,transformation:function(){var a=.5/(Math.PI*Tm.R);return ke(a,.5,-a,.5)}()}),U_=i({},de,{code:"EPSG:4326",projection:Pm,transformation:ke(1/180,1,-1/180,.5)}),hM=i({},ne,{projection:Pm,transformation:ke(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,d){var g=d.lng-a.lng,_=d.lat-a.lat;return Math.sqrt(g*g+_*_)},infinite:!0});ne.Earth=de,ne.EPSG3395=dM,ne.EPSG3857=ze,ne.EPSG900913=Ke,ne.EPSG4326=U_,ne.Simple=hM;var dr=F.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[u(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[u(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var d=a.target;if(d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var g=this.getEvents();d.on(g,this),this.once("remove",function(){d.off(g,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});Fe.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var d=u(a);return this._layers[d]?this:(this._layers[d]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var d=u(a);return this._layers[d]?(this._loaded&&a.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return u(a)in this._layers},eachLayer:function(a,d){for(var g in this._layers)a.call(d,this._layers[g]);return this},_addLayers:function(a){a=a?C(a)?a:[a]:[];for(var d=0,g=a.length;d<g;d++)this.addLayer(a[d])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var d=u(a);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,d=-1/0,g=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var E=this._zoomBoundLayers[_].options;a=E.minZoom===void 0?a:Math.min(a,E.minZoom),d=E.maxZoom===void 0?d:Math.max(d,E.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=a===1/0?void 0:a,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var To=dr.extend({initialize:function(a,d){x(this,d),this._layers={};var g,_;if(a)for(g=0,_=a.length;g<_;g++)this.addLayer(a[g])},addLayer:function(a){var d=this.getLayerId(a);return this._layers[d]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var d=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(a){var d=typeof a=="number"?a:this.getLayerId(a);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var d=Array.prototype.slice.call(arguments,1),g,_;for(g in this._layers)_=this._layers[g],_[a]&&_[a].apply(_,d);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,d){for(var g in this._layers)a.call(d,this._layers[g]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),fM=function(a,d){return new To(a,d)},ti=To.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),To.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),To.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new Z;for(var d in this._layers){var g=this._layers[d];a.extend(g.getBounds?g.getBounds():g.getLatLng())}return a}}),mM=function(a,d){return new ti(a,d)},Ao=$.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){x(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,d){var g=this._getIconUrl(a);if(!g){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(g,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,d){var g=this.options,_=g[d+"Size"];typeof _=="number"&&(_=[_,_]);var E=G(_),M=G(d==="shadow"&&g.shadowAnchor||g.iconAnchor||E&&E.divideBy(2,!0));a.className="leaflet-marker-"+d+" "+(g.className||""),M&&(a.style.marginLeft=-M.x+"px",a.style.marginTop=-M.y+"px"),E&&(a.style.width=E.x+"px",a.style.height=E.y+"px")},_createImg:function(a,d){return d=d||document.createElement("img"),d.src=a,d},_getIconUrl:function(a){return we.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function pM(a){return new Ao(a)}var cl=Ao.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof cl.imagePath!="string"&&(cl.imagePath=this._detectIconPath()),(this.options.imagePath||cl.imagePath)+Ao.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var d=function(g,_,E){var M=_.exec(g);return M&&M[E]};return a=d(a,/^url\((['"])?(.+)\1\)$/,2),a&&d(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Ve("div","leaflet-default-icon-path",document.body),d=nl(a,"background-image")||nl(a,"backgroundImage");if(document.body.removeChild(a),d=this._stripUrl(d),d)return d;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),z_=Rr.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new ki(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Oe(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&jt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var d=this._marker,g=d._map,_=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,M=Rs(d._icon),V=g.getPixelBounds(),Y=g.getPixelOrigin(),J=z(V.min._subtract(Y).add(E),V.max._subtract(Y).subtract(E));if(!J.contains(M)){var re=G((Math.max(J.max.x,M.x)-J.max.x)/(V.max.x-J.max.x)-(Math.min(J.min.x,M.x)-J.min.x)/(V.min.x-J.min.x),(Math.max(J.max.y,M.y)-J.max.y)/(V.max.y-J.max.y)-(Math.min(J.min.y,M.y)-J.min.y)/(V.min.y-J.min.y)).multiplyBy(_);g.panBy(re,{animate:!1}),this._draggable._newPos._add(re),this._draggable._startPos._add(re),St(d._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=W(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,a)))},_onDrag:function(a){var d=this._marker,g=d._shadow,_=Rs(d._icon),E=d._map.layerPointToLatLng(_);g&&St(g,_),d._latlng=E,a.latlng=E,a.oldLatLng=this._oldLatLng,d.fire("move",a).fire("drag",a)},_onDragEnd:function(a){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),yu=dr.extend({options:{icon:new cl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,d){x(this,d),this._latlng=ie(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var d=this._latlng;return this._latlng=ie(a),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=a.icon.createIcon(this._icon),_=!1;g!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(g.title=a.title),g.tagName==="IMG"&&(g.alt=a.alt||"")),Oe(g,d),a.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Le(g,"focus",this._panOnFocus,this);var E=a.icon.createShadow(this._shadow),M=!1;E!==this._shadow&&(this._removeShadow(),M=!0),E&&(Oe(E,d),E.alt=""),this._shadow=E,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&M&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&nt(this._icon,"focus",this._panOnFocus,this),mt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&mt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&St(this._icon,a),this._shadow&&St(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(d)},_initInteraction:function(){if(this.options.interactive&&(Oe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),z_)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new z_(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Zn(this._icon,a),this._shadow&&Zn(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var d=this.options.icon.options,g=d.iconSize?G(d.iconSize):G(0,0),_=d.iconAnchor?G(d.iconAnchor):G(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:g.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function gM(a,d){return new yu(a,d)}var Ri=dr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return x(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),_u=Ri.extend({options:{fill:!0,radius:10},initialize:function(a,d){x(this,d),this._latlng=ie(a),this._radius=this.options.radius},setLatLng:function(a){var d=this._latlng;return this._latlng=ie(a),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var d=a&&a.radius||this._radius;return Ri.prototype.setStyle.call(this,a),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,d=this._radiusY||a,g=this._clickTolerance(),_=[a+g,d+g];this._pxBounds=new ee(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function vM(a,d){return new _u(a,d)}var Am=_u.extend({initialize:function(a,d,g){if(typeof d=="number"&&(d=i({},g,{radius:d})),x(this,d),this._latlng=ie(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Ri.prototype.setStyle,_project:function(){var a=this._latlng.lng,d=this._latlng.lat,g=this._map,_=g.options.crs;if(_.distance===de.distance){var E=Math.PI/180,M=this._mRadius/de.R/E,V=g.project([d+M,a]),Y=g.project([d-M,a]),J=V.add(Y).divideBy(2),re=g.unproject(J).lat,he=Math.acos((Math.cos(M*E)-Math.sin(d*E)*Math.sin(re*E))/(Math.cos(d*E)*Math.cos(re*E)))/E;(isNaN(he)||he===0)&&(he=M/Math.cos(Math.PI/180*d)),this._point=J.subtract(g.getPixelOrigin()),this._radius=isNaN(he)?0:J.x-g.project([re,a-he]).x,this._radiusY=J.y-V.y}else{var Te=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Te).x}this._updateBounds()}});function xM(a,d,g){return new Am(a,d,g)}var ni=Ri.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,d){x(this,d),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var d=1/0,g=null,_=ll,E,M,V=0,Y=this._parts.length;V<Y;V++)for(var J=this._parts[V],re=1,he=J.length;re<he;re++){E=J[re-1],M=J[re];var Te=_(a,E,M,!0);Te<d&&(d=Te,g=_(a,E,M))}return g&&(g.distance=Math.sqrt(d)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return B_(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,d){return d=d||this._defaultShape(),a=ie(a),d.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Z,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Kn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var d=[],g=Kn(a),_=0,E=a.length;_<E;_++)g?(d[_]=ie(a[_]),this._bounds.extend(d[_])):d[_]=this._convertLatLngs(a[_]);return d},_project:function(){var a=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),d=new D(a,a);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(a,d,g){var _=a[0]instanceof Q,E=a.length,M,V;if(_){for(V=[],M=0;M<E;M++)V[M]=this._map.latLngToLayerPoint(a[M]),g.extend(V[M]);d.push(V)}else for(M=0;M<E;M++)this._projectLatlngs(a[M],d,g)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,g,_,E,M,V,Y,J;for(g=0,E=0,M=this._rings.length;g<M;g++)for(J=this._rings[g],_=0,V=J.length;_<V-1;_++)Y=$_(J[_],J[_+1],a,_,!0),Y&&(d[E]=d[E]||[],d[E].push(Y[0]),(Y[1]!==J[_+1]||_===V-2)&&(d[E].push(Y[1]),E++))}},_simplifyPoints:function(){for(var a=this._parts,d=this.options.smoothFactor,g=0,_=a.length;g<_;g++)a[g]=M_(a[g],d)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,d){var g,_,E,M,V,Y,J=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(g=0,M=this._parts.length;g<M;g++)for(Y=this._parts[g],_=0,V=Y.length,E=V-1;_<V;E=_++)if(!(!d&&_===0)&&I_(a,Y[E],Y[_])<=J)return!0;return!1}});function yM(a,d){return new ni(a,d)}ni._flat=F_;var ko=ni.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return O_(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var d=ni.prototype._convertLatLngs.call(this,a),g=d.length;return g>=2&&d[0]instanceof Q&&d[0].equals(d[g-1])&&d.pop(),d},_setLatLngs:function(a){ni.prototype._setLatLngs.call(this,a),Kn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Kn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,d=this.options.weight,g=new D(d,d);if(a=new ee(a.min.subtract(g),a.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,E=this._rings.length,M;_<E;_++)M=L_(this._rings[_],a,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var d=!1,g,_,E,M,V,Y,J,re;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(M=0,J=this._parts.length;M<J;M++)for(g=this._parts[M],V=0,re=g.length,Y=re-1;V<re;Y=V++)_=g[V],E=g[Y],_.y>a.y!=E.y>a.y&&a.x<(E.x-_.x)*(a.y-_.y)/(E.y-_.y)+_.x&&(d=!d);return d||ni.prototype._containsPoint.call(this,a,!0)}});function _M(a,d){return new ko(a,d)}var ri=ti.extend({initialize:function(a,d){x(this,d),this._layers={},a&&this.addData(a)},addData:function(a){var d=C(a)?a:a.features,g,_,E;if(d){for(g=0,_=d.length;g<_;g++)E=d[g],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var M=this.options;if(M.filter&&!M.filter(a))return this;var V=wu(a,M);return V?(V.feature=Cu(a),V.defaultOptions=V.options,this.resetStyle(V),M.onEachFeature&&M.onEachFeature(a,V),this.addLayer(V)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(d){this._setLayerStyle(d,a)},this)},_setLayerStyle:function(a,d){a.setStyle&&(typeof d=="function"&&(d=d(a.feature)),a.setStyle(d))}});function wu(a,d){var g=a.type==="Feature"?a.geometry:a,_=g?g.coordinates:null,E=[],M=d&&d.pointToLayer,V=d&&d.coordsToLatLng||km,Y,J,re,he;if(!_&&!g)return null;switch(g.type){case"Point":return Y=V(_),V_(M,a,Y,d);case"MultiPoint":for(re=0,he=_.length;re<he;re++)Y=V(_[re]),E.push(V_(M,a,Y,d));return new ti(E);case"LineString":case"MultiLineString":return J=bu(_,g.type==="LineString"?0:1,V),new ni(J,d);case"Polygon":case"MultiPolygon":return J=bu(_,g.type==="Polygon"?1:2,V),new ko(J,d);case"GeometryCollection":for(re=0,he=g.geometries.length;re<he;re++){var Te=wu({geometry:g.geometries[re],type:"Feature",properties:a.properties},d);Te&&E.push(Te)}return new ti(E);case"FeatureCollection":for(re=0,he=g.features.length;re<he;re++){var Me=wu(g.features[re],d);Me&&E.push(Me)}return new ti(E);default:throw new Error("Invalid GeoJSON object.")}}function V_(a,d,g,_){return a?a(d,g):new yu(g,_&&_.markersInheritOptions&&_)}function km(a){return new Q(a[1],a[0],a[2])}function bu(a,d,g){for(var _=[],E=0,M=a.length,V;E<M;E++)V=d?bu(a[E],d-1,g):(g||km)(a[E]),_.push(V);return _}function Rm(a,d){return a=ie(a),a.alt!==void 0?[v(a.lng,d),v(a.lat,d),v(a.alt,d)]:[v(a.lng,d),v(a.lat,d)]}function ju(a,d,g,_){for(var E=[],M=0,V=a.length;M<V;M++)E.push(d?ju(a[M],Kn(a[M])?0:d-1,g,_):Rm(a[M],_));return!d&&g&&E.length>0&&E.push(E[0].slice()),E}function Ro(a,d){return a.feature?i({},a.feature,{geometry:d}):Cu(d)}function Cu(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Lm={toGeoJSON:function(a){return Ro(this,{type:"Point",coordinates:Rm(this.getLatLng(),a)})}};yu.include(Lm),Am.include(Lm),_u.include(Lm),ni.include({toGeoJSON:function(a){var d=!Kn(this._latlngs),g=ju(this._latlngs,d?1:0,!1,a);return Ro(this,{type:(d?"Multi":"")+"LineString",coordinates:g})}}),ko.include({toGeoJSON:function(a){var d=!Kn(this._latlngs),g=d&&!Kn(this._latlngs[0]),_=ju(this._latlngs,g?2:d?1:0,!0,a);return d||(_=[_]),Ro(this,{type:(g?"Multi":"")+"Polygon",coordinates:_})}}),To.include({toMultiPoint:function(a){var d=[];return this.eachLayer(function(g){d.push(g.toGeoJSON(a).geometry.coordinates)}),Ro(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(a){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(a);var g=d==="GeometryCollection",_=[];return this.eachLayer(function(E){if(E.toGeoJSON){var M=E.toGeoJSON(a);if(g)_.push(M.geometry);else{var V=Cu(M);V.type==="FeatureCollection"?_.push.apply(_,V.features):_.push(V)}}}),g?Ro(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function H_(a,d){return new ri(a,d)}var wM=H_,Su=dr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,d,g){this._url=a,this._bounds=q(d),x(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Oe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){mt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&No(this._image),this},bringToBack:function(){return this._map&&Po(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=q(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",d=this._image=a?this._url:Ve("img");if(Oe(d,"leaflet-image-layer"),this._zoomAnimated&&Oe(d,"leaflet-zoom-animated"),this.options.className&&Oe(d,this.options.className),d.onselectstart=p,d.onmousemove=p,d.onload=l(this.fire,this,"load"),d.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(a){var d=this._map.getZoomScale(a.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;ks(this._image,g,d)},_reset:function(){var a=this._image,d=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=d.getSize();St(a,d.min),a.style.width=g.x+"px",a.style.height=g.y+"px"},_updateOpacity:function(){Zn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),bM=function(a,d,g){return new Su(a,d,g)},W_=Su.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",d=this._image=a?this._url:Ve("video");if(Oe(d,"leaflet-image-layer"),this._zoomAnimated&&Oe(d,"leaflet-zoom-animated"),this.options.className&&Oe(d,this.options.className),d.onselectstart=p,d.onmousemove=p,d.onloadeddata=l(this.fire,this,"load"),a){for(var g=d.getElementsByTagName("source"),_=[],E=0;E<g.length;E++)_.push(g[E].src);this._url=g.length>0?_:[d.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var V=Ve("source");V.src=this._url[M],d.appendChild(V)}}});function jM(a,d,g){return new W_(a,d,g)}var G_=Su.extend({_initImage:function(){var a=this._image=this._url;Oe(a,"leaflet-image-layer"),this._zoomAnimated&&Oe(a,"leaflet-zoom-animated"),this.options.className&&Oe(a,this.options.className),a.onselectstart=p,a.onmousemove=p}});function CM(a,d,g){return new G_(a,d,g)}var Lr=dr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,d){a&&(a instanceof Q||C(a))?(this._latlng=ie(a),x(this,d)):(x(this,a),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Zn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Zn(this._container,1),this.bringToFront(),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Zn(this._container,0),this._removeTimeout=setTimeout(l(mt,void 0,this._container),200)):mt(this._container),this.options.interactive&&(jt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=ie(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&No(this._container),this},bringToBack:function(){return this._map&&Po(this._container),this},_prepareOpen:function(a){var d=this._source;if(!d._map)return!1;if(d instanceof ti){d=null;var g=this._source._layers;for(var _ in g)if(g[_]._map){d=g[_];break}if(!d)return!1;this._source=d}if(!a)if(d.getCenter)a=d.getCenter();else if(d.getLatLng)a=d.getLatLng();else if(d.getBounds)a=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")a.innerHTML=d;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),d=G(this.options.offset),g=this._getAnchor();this._zoomAnimated?St(this._container,a.add(g)):d=d.add(a).add(g);var _=this._containerBottom=-d.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=_+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Fe.include({_initOverlay:function(a,d,g,_){var E=d;return E instanceof a||(E=new a(_).setContent(d)),g&&E.setLatLng(g),E}}),dr.include({_initOverlay:function(a,d,g,_){var E=g;return E instanceof a?(x(E,_),E._source=this):(E=d&&!_?d:new a(_,this),E.setContent(g)),E}});var Eu=Lr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Lr.prototype.openOn.call(this,a)},onAdd:function(a){Lr.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ri||this._source.on("preclick",Ls))},onRemove:function(a){Lr.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ri||this._source.off("preclick",Ls))},getEvents:function(){var a=Lr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",d=this._container=Ve("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=Ve("div",a+"-content-wrapper",d);if(this._contentNode=Ve("div",a+"-content",g),ol(d),bm(this._contentNode),Le(d,"contextmenu",Ls),this._tipContainer=Ve("div",a+"-tip-container",d),this._tip=Ve("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Ve("a",a+"-close-button",d);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Le(_,"click",function(E){Vt(E),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,d=a.style;d.width="",d.whiteSpace="nowrap";var g=a.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),d.width=g+1+"px",d.whiteSpace="",d.height="";var _=a.offsetHeight,E=this.options.maxHeight,M="leaflet-popup-scrolled";E&&_>E?(d.height=E+"px",Oe(a,M)):jt(a,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),g=this._getAnchor();St(this._container,d.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,d=parseInt(nl(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+d,_=this._containerWidth,E=new D(this._containerLeft,-g-this._containerBottom);E._add(Rs(this._container));var M=a.layerPointToContainerPoint(E),V=G(this.options.autoPanPadding),Y=G(this.options.autoPanPaddingTopLeft||V),J=G(this.options.autoPanPaddingBottomRight||V),re=a.getSize(),he=0,Te=0;M.x+_+J.x>re.x&&(he=M.x+_-re.x+J.x),M.x-he-Y.x<0&&(he=M.x-Y.x),M.y+g+J.y>re.y&&(Te=M.y+g-re.y+J.y),M.y-Te-Y.y<0&&(Te=M.y-Y.y),(he||Te)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([he,Te]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),SM=function(a,d){return new Eu(a,d)};Fe.mergeOptions({closePopupOnClick:!0}),Fe.include({openPopup:function(a,d,g){return this._initOverlay(Eu,a,d,g).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),dr.include({bindPopup:function(a,d){return this._popup=this._initOverlay(Eu,this._popup,a,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ti||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Os(a);var d=a.layer||a.target;if(this._popup._source===d&&!(d instanceof Ri)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=d,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Nu=Lr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Lr.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Lr.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Lr.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",d=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ve("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var d,g,_=this._map,E=this._container,M=_.latLngToContainerPoint(_.getCenter()),V=_.layerPointToContainerPoint(a),Y=this.options.direction,J=E.offsetWidth,re=E.offsetHeight,he=G(this.options.offset),Te=this._getAnchor();Y==="top"?(d=J/2,g=re):Y==="bottom"?(d=J/2,g=0):Y==="center"?(d=J/2,g=re/2):Y==="right"?(d=0,g=re/2):Y==="left"?(d=J,g=re/2):V.x<M.x?(Y="right",d=0,g=re/2):(Y="left",d=J+(he.x+Te.x)*2,g=re/2),a=a.subtract(G(d,g,!0)).add(he).add(Te),jt(E,"leaflet-tooltip-right"),jt(E,"leaflet-tooltip-left"),jt(E,"leaflet-tooltip-top"),jt(E,"leaflet-tooltip-bottom"),Oe(E,"leaflet-tooltip-"+Y),St(E,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Zn(this._container,a)},_animateZoom:function(a){var d=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(d)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),EM=function(a,d){return new Nu(a,d)};Fe.include({openTooltip:function(a,d,g){return this._initOverlay(Nu,a,d,g).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),dr.include({bindTooltip:function(a,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Nu,this._tooltip,a,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var d=a?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[d](g),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof ti||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var d=typeof a.getElement=="function"&&a.getElement();d&&(Le(d,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Le(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var d=typeof a.getElement=="function"&&a.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var d=a.latlng,g,_;this._tooltip.options.sticky&&a.originalEvent&&(g=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(g),d=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(d)}});var q_=Ao.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var d=a&&a.tagName==="DIV"?a:document.createElement("div"),g=this.options;if(g.html instanceof Element?(fu(d),d.appendChild(g.html)):d.innerHTML=g.html!==!1?g.html:"",g.bgPos){var _=G(g.bgPos);d.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function NM(a){return new q_(a)}Ao.Default=cl;var ul=dr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:we.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){x(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),mt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(No(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Po(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof D?a:new D(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var d=this.getPane().children,g=-a(-1/0,1/0),_=0,E=d.length,M;_<E;_++)M=d[_].style.zIndex,d[_]!==this._container&&M&&(g=a(g,+M));isFinite(g)&&(this.options.zIndex=g+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!we.ielt9){Zn(this._container,this.options.opacity);var a=+new Date,d=!1,g=!1;for(var _ in this._tiles){var E=this._tiles[_];if(!(!E.current||!E.loaded)){var M=Math.min(1,(a-E.loaded)/200);Zn(E.el,M),M<1?d=!0:(E.active?g=!0:this._onOpaqueTile(E),E.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),d&&(U(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Ve("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,d=this.options.maxZoom;if(a!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===a?(this._levels[g].el.style.zIndex=d-Math.abs(a-g),this._onUpdateLevel(g)):(mt(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var _=this._levels[a],E=this._map;return _||(_=this._levels[a]={},_.el=Ve("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=d,_.origin=E.project(E.unproject(E.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,E.getCenter(),E.getZoom()),p(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var a,d,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)d=this._tiles[a],d.retain=d.current;for(a in this._tiles)if(d=this._tiles[a],d.current&&!d.active){var _=d.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var d in this._tiles)this._tiles[d].coords.z===a&&this._removeTile(d)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)mt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,d,g,_){var E=Math.floor(a/2),M=Math.floor(d/2),V=g-1,Y=new D(+E,+M);Y.z=+V;var J=this._tileCoordsToKey(Y),re=this._tiles[J];return re&&re.active?(re.retain=!0,!0):(re&&re.loaded&&(re.retain=!0),V>_?this._retainParent(E,M,V,_):!1)},_retainChildren:function(a,d,g,_){for(var E=2*a;E<2*a+2;E++)for(var M=2*d;M<2*d+2;M++){var V=new D(E,M);V.z=g+1;var Y=this._tileCoordsToKey(V),J=this._tiles[Y];if(J&&J.active){J.retain=!0;continue}else J&&J.loaded&&(J.retain=!0);g+1<_&&this._retainChildren(E,M,g+1,_)}},_resetView:function(a){var d=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var d=this.options;return d.minNativeZoom!==void 0&&a<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<a?d.maxNativeZoom:a},_setView:function(a,d,g,_){var E=Math.round(d);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var M=this.options.updateWhenZooming&&E!==this._tileZoom;(!_||M)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(a),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(a,d)},_setZoomTransforms:function(a,d){for(var g in this._levels)this._setZoomTransform(this._levels[g],a,d)},_setZoomTransform:function(a,d,g){var _=this._map.getZoomScale(g,a.zoom),E=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(d,g)).round();we.any3d?ks(a.el,E,_):St(a.el,E)},_resetGrid:function(){var a=this._map,d=a.options.crs,g=this._tileSize=this.getTileSize(),_=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,d.wrapLng[0]],_).x/g.x),Math.ceil(a.project([0,d.wrapLng[1]],_).x/g.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([d.wrapLat[0],0],_).y/g.x),Math.ceil(a.project([d.wrapLat[1],0],_).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var d=this._map,g=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),_=d.getZoomScale(g,this._tileZoom),E=d.project(a,this._tileZoom).floor(),M=d.getSize().divideBy(_*2);return new ee(E.subtract(M),E.add(M))},_update:function(a){var d=this._map;if(d){var g=this._clampZoom(d.getZoom());if(a===void 0&&(a=d.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),E=this._pxBoundsToTileRange(_),M=E.getCenter(),V=[],Y=this.options.keepBuffer,J=new ee(E.getBottomLeft().subtract([Y,-Y]),E.getTopRight().add([Y,-Y]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var re in this._tiles){var he=this._tiles[re].coords;(he.z!==this._tileZoom||!J.contains(new D(he.x,he.y)))&&(this._tiles[re].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(a,g);return}for(var Te=E.min.y;Te<=E.max.y;Te++)for(var Me=E.min.x;Me<=E.max.x;Me++){var on=new D(Me,Te);if(on.z=this._tileZoom,!!this._isValidTile(on)){var Dt=this._tiles[this._tileCoordsToKey(on)];Dt?Dt.current=!0:V.push(on)}}if(V.sort(function(yn,Oo){return yn.distanceTo(M)-Oo.distanceTo(M)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Yn=document.createDocumentFragment();for(Me=0;Me<V.length;Me++)this._addTile(V[Me],Yn);this._level.el.appendChild(Yn)}}}},_isValidTile:function(a){var d=this._map.options.crs;if(!d.infinite){var g=this._globalTileRange;if(!d.wrapLng&&(a.x<g.min.x||a.x>g.max.x)||!d.wrapLat&&(a.y<g.min.y||a.y>g.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return q(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var d=this._map,g=this.getTileSize(),_=a.scaleBy(g),E=_.add(g),M=d.unproject(_,a.z),V=d.unproject(E,a.z);return[M,V]},_tileCoordsToBounds:function(a){var d=this._tileCoordsToNwSe(a),g=new Z(d[0],d[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var d=a.split(":"),g=new D(+d[0],+d[1]);return g.z=+d[2],g},_removeTile:function(a){var d=this._tiles[a];d&&(mt(d.el),delete this._tiles[a],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Oe(a,"leaflet-tile");var d=this.getTileSize();a.style.width=d.x+"px",a.style.height=d.y+"px",a.onselectstart=p,a.onmousemove=p,we.ielt9&&this.options.opacity<1&&Zn(a,this.options.opacity)},_addTile:function(a,d){var g=this._getTilePos(a),_=this._tileCoordsToKey(a),E=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(E),this.createTile.length<2&&W(l(this._tileReady,this,a,null,E)),St(E,g),this._tiles[_]={el:E,coords:a,current:!0},d.appendChild(E),this.fire("tileloadstart",{tile:E,coords:a})},_tileReady:function(a,d,g){d&&this.fire("tileerror",{error:d,tile:g,coords:a});var _=this._tileCoordsToKey(a);g=this._tiles[_],g&&(g.loaded=+new Date,this._map._fadeAnimated?(Zn(g.el,0),U(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),d||(Oe(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),we.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var d=new D(this._wrapX?f(a.x,this._wrapX):a.x,this._wrapY?f(a.y,this._wrapY):a.y);return d.z=a.z,d},_pxBoundsToTileRange:function(a){var d=this.getTileSize();return new ee(a.min.unscaleBy(d).floor(),a.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function PM(a){return new ul(a)}var Lo=ul.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,d){this._url=a,d=x(this,d),d.detectRetina&&we.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,d){return this._url===a&&d===void 0&&(d=!0),this._url=a,d||this.redraw(),this},createTile:function(a,d){var g=document.createElement("img");return Le(g,"load",l(this._tileOnLoad,this,d,g)),Le(g,"error",l(this._tileOnError,this,d,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(a),g},getTileUrl:function(a){var d={r:we.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-a.y;this.options.tms&&(d.y=g),d["-y"]=g}return b(this._url,i(d,this.options))},_tileOnLoad:function(a,d){we.ielt9?setTimeout(l(a,this,null,d),0):a(null,d)},_tileOnError:function(a,d,g){var _=this.options.errorTileUrl;_&&d.getAttribute("src")!==_&&(d.src=_),a(g,d)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,d=this.options.maxZoom,g=this.options.zoomReverse,_=this.options.zoomOffset;return g&&(a=d-a),a+_},_getSubdomain:function(a){var d=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var a,d;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(d=this._tiles[a].el,d.onload=p,d.onerror=p,!d.complete)){d.src=A;var g=this._tiles[a].coords;mt(d),delete this._tiles[a],this.fire("tileabort",{tile:d,coords:g})}},_removeTile:function(a){var d=this._tiles[a];if(d)return d.el.setAttribute("src",A),ul.prototype._removeTile.call(this,a)},_tileReady:function(a,d,g){if(!(!this._map||g&&g.getAttribute("src")===A))return ul.prototype._tileReady.call(this,a,d,g)}});function Z_(a,d){return new Lo(a,d)}var K_=Lo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,d){this._url=a;var g=i({},this.defaultWmsParams);for(var _ in d)_ in this.options||(g[_]=d[_]);d=x(this,d);var E=d.detectRetina&&we.retina?2:1,M=this.getTileSize();g.width=M.x*E,g.height=M.y*E,this.wmsParams=g},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,Lo.prototype.onAdd.call(this,a)},getTileUrl:function(a){var d=this._tileCoordsToNwSe(a),g=this._crs,_=z(g.project(d[0]),g.project(d[1])),E=_.min,M=_.max,V=(this._wmsVersion>=1.3&&this._crs===U_?[E.y,E.x,M.y,M.x]:[E.x,E.y,M.x,M.y]).join(","),Y=Lo.prototype.getTileUrl.call(this,a);return Y+S(this.wmsParams,Y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(a,d){return i(this.wmsParams,a),d||this.redraw(),this}});function TM(a,d){return new K_(a,d)}Lo.WMS=K_,Z_.wms=TM;var ii=dr.extend({options:{padding:.1},initialize:function(a){x(this,a),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Oe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,d){var g=this._map.getZoomScale(d,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,d),M=_.multiplyBy(-g).add(E).subtract(this._map._getNewPixelOrigin(a,d));we.any3d?ks(this._container,M,g):St(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,d=this._map.getSize(),g=this._map.containerPointToLayerPoint(d.multiplyBy(-a)).round();this._bounds=new ee(g,g.add(d.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Y_=ii.extend({options:{tolerance:0},getEvents:function(){var a=ii.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ii.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Le(a,"mousemove",this._onMouseMove,this),Le(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Le(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,mt(this._container),nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var d in this._layers)a=this._layers[d],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ii.prototype._update.call(this);var a=this._bounds,d=this._container,g=a.getSize(),_=we.retina?2:1;St(d,a.min),d.width=_*g.x,d.height=_*g.y,d.style.width=g.x+"px",d.style.height=g.y+"px",we.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ii.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[u(a)]=a;var d=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var d=a._order,g=d.next,_=d.prev;g?g.prev=_:this._drawLast=_,_?_.next=g:this._drawFirst=g,delete a._order,delete this._layers[u(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var d=a.options.dashArray.split(/[, ]+/),g=[],_,E;for(E=0;E<d.length;E++){if(_=Number(d[E]),isNaN(_))return;g.push(_)}a.options._dashArray=g}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var d=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(a._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(a._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var d=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,d=this._redrawBounds;if(this._ctx.save(),d){var g=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!d||a._pxBounds&&a._pxBounds.intersects(d))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,d){if(this._drawing){var g,_,E,M,V=a._parts,Y=V.length,J=this._ctx;if(Y){for(J.beginPath(),g=0;g<Y;g++){for(_=0,E=V[g].length;_<E;_++)M=V[g][_],J[_?"lineTo":"moveTo"](M.x,M.y);d&&J.closePath()}this._fillStroke(J,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var d=a._point,g=this._ctx,_=Math.max(Math.round(a._radius),1),E=(Math.max(Math.round(a._radiusY),1)||_)/_;E!==1&&(g.save(),g.scale(1,E)),g.beginPath(),g.arc(d.x,d.y/E,_,0,Math.PI*2,!1),E!==1&&g.restore(),this._fillStroke(g,a)}},_fillStroke:function(a,d){var g=d.options;g.fill&&(a.globalAlpha=g.fillOpacity,a.fillStyle=g.fillColor||g.color,a.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(a.setLineDash&&a.setLineDash(d.options&&d.options._dashArray||[]),a.globalAlpha=g.opacity,a.lineWidth=g.weight,a.strokeStyle=g.color,a.lineCap=g.lineCap,a.lineJoin=g.lineJoin,a.stroke())},_onClick:function(a){for(var d=this._map.mouseEventToLayerPoint(a),g,_,E=this._drawFirst;E;E=E.next)g=E.layer,g.options.interactive&&g._containsPoint(d)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(g))&&(_=g);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,d)}},_handleMouseOut:function(a){var d=this._hoveredLayer;d&&(jt(this._container,"leaflet-interactive"),this._fireEvent([d],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,d){if(!this._mouseHoverThrottled){for(var g,_,E=this._drawFirst;E;E=E.next)g=E.layer,g.options.interactive&&g._containsPoint(d)&&(_=g);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,d,g){this._map._fireDOMEvent(d,g||d.type,a)},_bringToFront:function(a){var d=a._order;if(d){var g=d.next,_=d.prev;if(g)g.prev=_;else return;_?_.next=g:g&&(this._drawFirst=g),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(a)}},_bringToBack:function(a){var d=a._order;if(d){var g=d.next,_=d.prev;if(_)_.next=g;else return;g?g.prev=_:_&&(this._drawLast=_),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(a)}}});function J_(a){return we.canvas?new Y_(a):null}var dl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),AM={_initContainer:function(){this._container=Ve("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ii.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var d=a._container=dl("shape");Oe(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",a._path=dl("path"),d.appendChild(a._path),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){var d=a._container;this._container.appendChild(d),a.options.interactive&&a.addInteractiveTarget(d)},_removePath:function(a){var d=a._container;mt(d),a.removeInteractiveTarget(d),delete this._layers[u(a)]},_updateStyle:function(a){var d=a._stroke,g=a._fill,_=a.options,E=a._container;E.stroked=!!_.stroke,E.filled=!!_.fill,_.stroke?(d||(d=a._stroke=dl("stroke")),E.appendChild(d),d.weight=_.weight+"px",d.color=_.color,d.opacity=_.opacity,_.dashArray?d.dashStyle=C(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=_.lineCap.replace("butt","flat"),d.joinstyle=_.lineJoin):d&&(E.removeChild(d),a._stroke=null),_.fill?(g||(g=a._fill=dl("fill")),E.appendChild(g),g.color=_.fillColor||_.color,g.opacity=_.fillOpacity):g&&(E.removeChild(g),a._fill=null)},_updateCircle:function(a){var d=a._point.round(),g=Math.round(a._radius),_=Math.round(a._radiusY||g);this._setPath(a,a._empty()?"M0 0":"AL "+d.x+","+d.y+" "+g+","+_+" 0,"+65535*360)},_setPath:function(a,d){a._path.v=d},_bringToFront:function(a){No(a._container)},_bringToBack:function(a){Po(a._container)}},Pu=we.vml?dl:xn,hl=ii.extend({_initContainer:function(){this._container=Pu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Pu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){mt(this._container),nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ii.prototype._update.call(this);var a=this._bounds,d=a.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,g.setAttribute("width",d.x),g.setAttribute("height",d.y)),St(g,a.min),g.setAttribute("viewBox",[a.min.x,a.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(a){var d=a._path=Pu("path");a.options.className&&Oe(d,a.options.className),a.options.interactive&&Oe(d,"leaflet-interactive"),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){mt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[u(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var d=a._path,g=a.options;d&&(g.stroke?(d.setAttribute("stroke",g.color),d.setAttribute("stroke-opacity",g.opacity),d.setAttribute("stroke-width",g.weight),d.setAttribute("stroke-linecap",g.lineCap),d.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?d.setAttribute("stroke-dasharray",g.dashArray):d.removeAttribute("stroke-dasharray"),g.dashOffset?d.setAttribute("stroke-dashoffset",g.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),g.fill?(d.setAttribute("fill",g.fillColor||g.color),d.setAttribute("fill-opacity",g.fillOpacity),d.setAttribute("fill-rule",g.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(a,d){this._setPath(a,qn(a._parts,d))},_updateCircle:function(a){var d=a._point,g=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||g,E="a"+g+","+_+" 0 1,0 ",M=a._empty()?"M0 0":"M"+(d.x-g)+","+d.y+E+g*2+",0 "+E+-g*2+",0 ";this._setPath(a,M)},_setPath:function(a,d){a._path.setAttribute("d",d)},_bringToFront:function(a){No(a._path)},_bringToBack:function(a){Po(a._path)}});we.vml&&hl.include(AM);function X_(a){return we.svg||we.vml?new hl(a):null}Fe.include({getRenderer:function(a){var d=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var d=this._paneRenderers[a];return d===void 0&&(d=this._createRenderer({pane:a}),this._paneRenderers[a]=d),d},_createRenderer:function(a){return this.options.preferCanvas&&J_(a)||X_(a)}});var Q_=ko.extend({initialize:function(a,d){ko.prototype.initialize.call(this,this._boundsToLatLngs(a),d)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=q(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function kM(a,d){return new Q_(a,d)}hl.create=Pu,hl.pointsToPath=qn,ri.geometryToLayer=wu,ri.coordsToLatLng=km,ri.coordsToLatLngs=bu,ri.latLngToCoords=Rm,ri.latLngsToCoords=ju,ri.getFeature=Ro,ri.asFeature=Cu,Fe.mergeOptions({boxZoom:!0});var ew=Rr.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){mt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),rl(),mm(),this._startPoint=this._map.mouseEventToContainerPoint(a),Le(document,{contextmenu:Os,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Ve("div","leaflet-zoom-box",this._container),Oe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var d=new ee(this._point,this._startPoint),g=d.getSize();St(this._box,d.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(mt(this._box),jt(this._container,"leaflet-crosshair")),il(),pm(),nt(document,{contextmenu:Os,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var d=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Fe.addInitHook("addHandler","boxZoom",ew),Fe.mergeOptions({doubleClickZoom:!0});var tw=Rr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var d=this._map,g=d.getZoom(),_=d.options.zoomDelta,E=a.originalEvent.shiftKey?g-_:g+_;d.options.doubleClickZoom==="center"?d.setZoom(E):d.setZoomAround(a.containerPoint,E)}});Fe.addInitHook("addHandler","doubleClickZoom",tw),Fe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nw=Rr.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new ki(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Oe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){jt(this._map._container,"leaflet-grab"),jt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=q(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var d=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(d),this._prunePositions(d)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,d){return a-(a-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;a.x<d.min.x&&(a.x=this._viscousLimit(a.x,d.min.x)),a.y<d.min.y&&(a.y=this._viscousLimit(a.y,d.min.y)),a.x>d.max.x&&(a.x=this._viscousLimit(a.x,d.max.x)),a.y>d.max.y&&(a.y=this._viscousLimit(a.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,d=Math.round(a/2),g=this._initialWorldOffset,_=this._draggable._newPos.x,E=(_-d+g)%a+d-g,M=(_+d+g)%a-d-g,V=Math.abs(E+g)<Math.abs(M+g)?E:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(a){var d=this._map,g=d.options,_=!g.inertia||a.noInertia||this._times.length<2;if(d.fire("dragend",a),_)d.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,V=g.easeLinearity,Y=E.multiplyBy(V/M),J=Y.distanceTo([0,0]),re=Math.min(g.inertiaMaxSpeed,J),he=Y.multiplyBy(re/J),Te=re/(g.inertiaDeceleration*V),Me=he.multiplyBy(-Te/2).round();!Me.x&&!Me.y?d.fire("moveend"):(Me=d._limitOffset(Me,d.options.maxBounds),W(function(){d.panBy(Me,{duration:Te,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});Fe.addInitHook("addHandler","dragging",nw),Fe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rw=Rr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Le(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,d=document.documentElement,g=a.scrollTop||d.scrollTop,_=a.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(_,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var d=this._panKeys={},g=this.keyCodes,_,E;for(_=0,E=g.left.length;_<E;_++)d[g.left[_]]=[-1*a,0];for(_=0,E=g.right.length;_<E;_++)d[g.right[_]]=[a,0];for(_=0,E=g.down.length;_<E;_++)d[g.down[_]]=[0,a];for(_=0,E=g.up.length;_<E;_++)d[g.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var d=this._zoomKeys={},g=this.keyCodes,_,E;for(_=0,E=g.zoomIn.length;_<E;_++)d[g.zoomIn[_]]=a;for(_=0,E=g.zoomOut.length;_<E;_++)d[g.zoomOut[_]]=-a},_addHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var d=a.keyCode,g=this._map,_;if(d in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(_=this._panKeys[d],a.shiftKey&&(_=G(_).multiplyBy(3)),g.options.maxBounds&&(_=g._limitOffset(G(_),g.options.maxBounds)),g.options.worldCopyJump){var E=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(_)));g.panTo(E)}else g.panBy(_)}else if(d in this._zoomKeys)g.setZoom(g.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Os(a)}}});Fe.addInitHook("addHandler","keyboard",rw),Fe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var iw=Rr.extend({addHooks:function(){Le(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){nt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var d=P_(a),g=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),_),Os(a)},_performZoom:function(){var a=this._map,d=a.getZoom(),g=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,M=g?Math.ceil(E/g)*g:E,V=a._limitZoom(d+(this._delta>0?M:-M))-d;this._delta=0,this._startTime=null,V&&(a.options.scrollWheelZoom==="center"?a.setZoom(d+V):a.setZoomAround(this._lastMousePos,d+V))}});Fe.addInitHook("addHandler","scrollWheelZoom",iw);var RM=600;Fe.mergeOptions({tapHold:we.touchNative&&we.safari&&we.mobile,tapTolerance:15});var sw=Rr.extend({addHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var d=a.touches[0];this._startPos=this._newPos=new D(d.clientX,d.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Le(document,"touchend",Vt),Le(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),RM),Le(document,"touchend touchcancel contextmenu",this._cancel,this),Le(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){nt(document,"touchend",Vt),nt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),nt(document,"touchend touchcancel contextmenu",this._cancel,this),nt(document,"touchmove",this._onMove,this)},_onMove:function(a){var d=a.touches[0];this._newPos=new D(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,d){var g=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});g._simulated=!0,d.target.dispatchEvent(g)}});Fe.addInitHook("addHandler","tapHold",sw),Fe.mergeOptions({touchZoom:we.touch,bounceAtZoomLimits:!0});var ow=Rr.extend({addHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){jt(this._map._container,"leaflet-touch-zoom"),nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var d=this._map;if(!(!a.touches||a.touches.length!==2||d._animatingZoom||this._zooming)){var g=d.mouseEventToContainerPoint(a.touches[0]),_=d.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(g.add(_)._divideBy(2))),this._startDist=g.distanceTo(_),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),Le(document,"touchmove",this._onTouchMove,this),Le(document,"touchend touchcancel",this._onTouchEnd,this),Vt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var d=this._map,g=d.mouseEventToContainerPoint(a.touches[0]),_=d.mouseEventToContainerPoint(a.touches[1]),E=g.distanceTo(_)/this._startDist;if(this._zoom=d.getScaleZoom(E,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&E<1||this._zoom>d.getMaxZoom()&&E>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var M=g._add(_)._divideBy(2)._subtract(this._centerPoint);if(E===1&&M.x===0&&M.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var V=l(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W(V,this,!0),Vt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),nt(document,"touchmove",this._onTouchMove,this),nt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Fe.addInitHook("addHandler","touchZoom",ow),Fe.BoxZoom=ew,Fe.DoubleClickZoom=tw,Fe.Drag=nw,Fe.Keyboard=rw,Fe.ScrollWheelZoom=iw,Fe.TapHold=sw,Fe.TouchZoom=ow,n.Bounds=ee,n.Browser=we,n.CRS=ne,n.Canvas=Y_,n.Circle=Am,n.CircleMarker=_u,n.Class=$,n.Control=ur,n.DivIcon=q_,n.DivOverlay=Lr,n.DomEvent=YO,n.DomUtil=ZO,n.Draggable=ki,n.Evented=F,n.FeatureGroup=ti,n.GeoJSON=ri,n.GridLayer=ul,n.Handler=Rr,n.Icon=Ao,n.ImageOverlay=Su,n.LatLng=Q,n.LatLngBounds=Z,n.Layer=dr,n.LayerGroup=To,n.LineUtil=cM,n.Map=Fe,n.Marker=yu,n.Mixin=rM,n.Path=Ri,n.Point=D,n.PolyUtil=iM,n.Polygon=ko,n.Polyline=ni,n.Popup=Eu,n.PosAnimation=T_,n.Projection=uM,n.Rectangle=Q_,n.Renderer=ii,n.SVG=hl,n.SVGOverlay=G_,n.TileLayer=Lo,n.Tooltip=Nu,n.Transformation=Ne,n.Util=K,n.VideoOverlay=W_,n.bind=l,n.bounds=z,n.canvas=J_,n.circle=xM,n.circleMarker=vM,n.control=al,n.divIcon=NM,n.extend=i,n.featureGroup=mM,n.geoJSON=H_,n.geoJson=wM,n.gridLayer=PM,n.icon=pM,n.imageOverlay=bM,n.latLng=ie,n.latLngBounds=q,n.layerGroup=fM,n.map=JO,n.marker=gM,n.point=G,n.polygon=_M,n.polyline=yM,n.popup=SM,n.rectangle=kM,n.setOptions=x,n.stamp=u,n.svg=X_,n.svgOverlay=CM,n.tileLayer=Z_,n.tooltip=EM,n.transformation=ke,n.version=r,n.videoOverlay=jM;var LM=window.L;n.noConflict=function(){return window.L=LM,this},window.L=n})})(rx,rx.exports);var uu=rx.exports;const OL=_s(uu);function n_(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function r_(e,t){return t==null?function(r,i){const o=m.useRef();return o.current||(o.current=e(r,i)),o}:function(r,i){const o=m.useRef();o.current||(o.current=e(r,i));const l=m.useRef(r),{instance:c}=o.current;return m.useEffect(function(){l.current!==r&&(t(c,r,l.current),l.current=r)},[c,r,i]),o}}function tJ(e,t){m.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function ML(e){return function(n){const r=RL(),i=e(t_(n,r),r);return TL(r.map,n.attribution),LL(i.current,n.eventHandlers),tJ(i.current,r),i}}function nJ(e,t){const n=r_(e,t),r=ML(n);return JY(r)}function rJ(e,t){const n=r_(e),r=eJ(n,t);return XY(r)}function iJ(e,t){const n=r_(e,t),r=ML(n);return QY(r)}function sJ(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function ix(){return ix=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ix.apply(this,arguments)}function oJ({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:o,placeholder:l,style:c,whenReady:u,zoom:h,...f},p){const[v]=m.useState({className:i,id:o,style:c}),[y,w]=m.useState(null);m.useImperativeHandle(p,()=>(y==null?void 0:y.map)??null,[y]);const x=m.useCallback(j=>{if(j!==null&&y===null){const b=new uu.Map(j,f);n!=null&&h!=null?b.setView(n,h):e!=null&&b.fitBounds(e,t),u!=null&&b.whenReady(u),w(KY(b))}},[]);m.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const S=y?se.createElement(kL,{value:y},r):l??null;return se.createElement("div",ix({},v,{ref:x}),S)}const aJ=m.forwardRef(oJ),lJ=nJ(function({position:t,...n},r){const i=new uu.Marker(t,n);return n_(i,YY(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),cJ=rJ(function(t,n){const r=new uu.Popup(t,n.overlayContainer);return n_(r,n)},function(t,n,{position:r},i){m.useEffect(function(){const{instance:l}=t;function c(h){h.popup===l&&(l.update(),i(!0))}function u(h){h.popup===l&&i(!1)}return n.map.on({popupopen:c,popupclose:u}),n.overlayContainer==null?(r!=null&&l.setLatLng(r),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var f;n.map.off({popupopen:c,popupclose:u}),(f=n.overlayContainer)==null||f.unbindPopup(),n.map.removeLayer(l)}},[t,n,i,r])}),uJ=iJ(function({url:t,...n},r){const i=new uu.TileLayer(t,t_(n,r));return n_(i,r)},function(t,n,r){sJ(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)});delete OL.Icon.Default.prototype._getIconUrl;OL.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const dJ=()=>{const{toast:e}=tt(),t=m.useRef(),[n,r]=m.useState(!1),[i,o]=m.useState(!1);m.useEffect(()=>{o(!0)},[]);const l=u=>{u.preventDefault(),r(!0),e({title:"🚧 Fonctionnalité en cours de développement",description:"L'envoi d'e-mails n'est pas encore implémenté. Vous pouvez demander cette fonctionnalité dans votre prochain prompt ! 🚀",variant:"default"}),setTimeout(()=>{r(!1),u.target.reset()},1e3)},c=[45.8113,5.002];return s.jsxs("div",{className:"space-y-12",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Contact - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Contactez le club d'escalade ALJ Escalade Jonage. Trouvez notre adresse et suivez-nous sur les réseaux sociaux."})]}),s.jsxs(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center justify-center gap-3",children:[s.jsx(NN,{className:"w-10 h-10 text-primary"}),"Nous Contacter"]}),s.jsx("p",{className:"mt-4 text-lg text-muted-foreground max-w-2xl mx-auto",children:"Une question ? Une suggestion ? N'hésitez pas à nous envoyer un message ou à nous suivre sur nos réseaux."})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-start",children:[s.jsx(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsx(_e,{children:"Envoyer un message"})}),s.jsx(me,{children:s.jsxs("form",{ref:t,onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"from_name",children:"Votre Nom"}),s.jsx(be,{id:"from_name",name:"from_name",required:!0,placeholder:"Jean Dupont"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"from_email",children:"Votre Email"}),s.jsx(be,{id:"from_email",name:"from_email",type:"email",required:!0,placeholder:"jean.dupont@email.com"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"subject",children:"Sujet"}),s.jsx(be,{id:"subject",name:"subject",required:!0,placeholder:"Question sur les inscriptions"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"message",children:"Votre Message"}),s.jsx(Ft,{id:"message",name:"message",required:!0,placeholder:"Bonjour, je voudrais savoir...",rows:5})]}),s.jsxs(X,{type:"submit",className:"w-full",disabled:n,children:[n?s.jsx($e,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(d3,{className:"mr-2 h-4 w-4"}),n?"Envoi en cours...":"Envoyer le message"]})]})})]})}),s.jsxs(ue.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"space-y-8",children:[s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(ly,{className:"text-primary"}),"Nous Trouver"]})}),s.jsxs(me,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Espace Agora, 23 Rue du Lavoir, 69330 Jonage"}),i&&s.jsxs(aJ,{center:c,zoom:16,scrollWheelZoom:!1,children:[s.jsx(uJ,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(lJ,{position:c,children:s.jsxs(cJ,{children:["ALJ Escalade Jonage ",s.jsx("br",{})," Espace Agora"]})})]})]})]}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsx(_e,{children:"Nous Suivre"})}),s.jsxs(me,{className:"flex items-center gap-4",children:[s.jsx(X,{asChild:!0,variant:"outline",className:"w-full",children:s.jsxs("a",{href:"https://www.instagram.com/aljescalade/",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(CN,{className:"mr-2 h-5 w-5 text-pink-500"})," Instagram"]})}),s.jsx(X,{asChild:!0,variant:"outline",className:"w-full",children:s.jsxs("a",{href:"https://www.facebook.com/amicalelaiquedejonage",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(bN,{className:"mr-2 h-5 w-5 text-blue-600"})," Facebook"]})})]})]})]})]})]})},eg=({title:e,description:t,configKey:n,currentImageUrl:r})=>{const{updateConfig:i}=Ya(),{toast:o}=tt(),[l,c]=m.useState(!1),[u,h]=m.useState(null),[f,p]=m.useState(null);m.useEffect(()=>{p(r)},[r]);const v=w=>{if(w.target.files&&w.target.files[0]){const x=w.target.files[0];h(x),p(URL.createObjectURL(x))}},y=async()=>{if(u){c(!0);try{const w=u.name.split(".").pop(),x=`${n}-${Date.now()}.${w}`,S="site_assets",{error:j}=await te.storage.from(S).upload(x,u,{cacheControl:"3600",upsert:!1});if(j)throw j;const{data:b}=te.storage.from(S).getPublicUrl(x),C=b.publicUrl,{error:N}=await i(n,C);if(N)throw N;o({title:"Succès",description:"L'image a été mise à jour."}),h(null)}catch(w){o({title:"Erreur",description:w.message,variant:"destructive"}),p(r)}finally{c(!1)}}};return s.jsxs(fe,{children:[s.jsxs(ye,{children:[s.jsx(_e,{children:e}),s.jsx(Yr,{children:t})]}),s.jsxs(me,{className:"flex flex-col items-center gap-4",children:[f?s.jsx("img",{src:f,alt:e,className:"max-h-32 object-contain border p-2 rounded-md bg-muted/20"}):s.jsx("div",{className:"h-24 w-full flex items-center justify-center bg-muted/20 rounded-md border border-dashed",children:s.jsx(qc,{className:"w-8 h-8 text-muted-foreground"})}),s.jsx(be,{type:"file",accept:"image/*",onChange:v})]}),s.jsx(Ns,{children:s.jsxs(X,{onClick:y,disabled:l||!u,className:"w-full",children:[l?s.jsx($e,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(cy,{className:"w-4 h-4 mr-2"}),"Enregistrer"]})})]})},hJ=()=>{const{isAdmin:e,loading:t}=zt(),{config:n,loadingConfig:r}=Ya(),i=[{title:"Logo Partenaire: Métropole de Lyon",description:"Logo affiché dans le pied de page.",key:"partner_logo_metropole_lyon"},{title:"Logo Partenaire: FFME",description:"Logo affiché dans le pied de page.",key:"partner_logo_ffme"},{title:"Logo Partenaire: Région AURA",description:"Logo affiché dans le pied de page.",key:"partner_logo_auvergne_rhone_alpes"},{title:"Logo Partenaire: Mairie de Jonage",description:"Logo affiché dans le pied de page.",key:"partner_logo_mairie_jonage"}];return t||r?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):e?s.jsxs("div",{className:"space-y-8",children:[s.jsx(yt,{children:s.jsx("title",{children:"Réglages du site - Admin"})}),s.jsxs(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(kN,{className:"w-10 h-10 text-primary"}),"Réglages du site"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Modifiez les éléments globaux du site ici."})]}),s.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Images principales"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(eg,{title:"Logo du Site",description:"Le logo principal affiché dans l'en-tête.",configKey:"site_logo",currentImageUrl:n.site_logo}),s.jsx(eg,{title:"Bannière des Actualités",description:"L'image affichée en haut de la page Actualités.",configKey:"news_banner_image",currentImageUrl:n.news_banner_image})]})]}),s.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Logos des partenaires"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(o=>s.jsx(eg,{title:o.title,description:o.description,configKey:o.key,currentImageUrl:n[o.key]},o.key))})]})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Accès non autorisé"}),s.jsx("p",{className:"text-muted-foreground",children:"Cette page est réservée aux administrateurs."})]})},IL={Bloc:"bloc",Difficulté:"difficulte",Vitesse:"vitesse"},bC=({title:e,competitors:t,competitions:n})=>n.length===0?null:s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsx(_e,{children:e})}),s.jsx(me,{className:"overflow-x-auto",children:t.length>0?s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(We,{children:[s.jsx(ge,{className:"sticky left-0 bg-background z-10 min-w-[150px]",children:"Compétiteur"}),n.map(r=>s.jsx(ge,{className:"text-center min-w-[150px]",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{children:r.short_title||r.name}),s.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:new Date(r.start_date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})}),s.jsxs("div",{className:"flex gap-1 mt-1",children:[r.disciplines.map(i=>s.jsx(Pe,{variant:IL[i]||"default",children:i.slice(0,4)},i)),r.nature&&s.jsx(Pe,{variant:"outline",children:r.nature})]})]})},r.id))]})}),s.jsx(mn,{children:t.map(({member:r,participations:i})=>s.jsxs(We,{children:[s.jsx(ve,{className:"font-medium sticky left-0 bg-background z-10",children:it(r.first_name,r.last_name,!0)}),n.map(o=>s.jsx(ve,{className:"text-center",children:i[o.id]?i[o.id].ranking?s.jsxs("div",{className:"flex items-center justify-center gap-1 font-bold text-primary",children:[s.jsx(PN,{className:"w-4 h-4"}),i[o.id].ranking]}):s.jsx(ny,{className:"w-5 h-5 text-green-500 mx-auto"}):null},o.id))]},r.id))})]}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun compétiteur dans ce groupe."})})]}),jC=({title:e,competitors:t,competitions:n})=>n.length===0||t.length===0?null:s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsx(_e,{children:e})}),s.jsx(me,{className:"overflow-x-auto",children:s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(We,{children:[s.jsx(ge,{className:"sticky left-0 bg-background z-10 min-w-[150px]",children:"Compétiteur"}),n.map(r=>s.jsx(ge,{className:"text-center min-w-[150px]",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{children:r.short_title||r.name}),s.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:new Date(r.start_date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})}),s.jsxs("div",{className:"flex gap-1 mt-1",children:[r.disciplines.map(i=>s.jsx(Pe,{variant:IL[i]||"default",children:i.slice(0,4)},i)),r.nature&&s.jsx(Pe,{variant:"outline",children:r.nature})]})]})},r.id)),s.jsx(ge,{className:"text-right font-bold sticky right-0 bg-background z-10 min-w-[100px]",children:"Total"})]})}),s.jsx(mn,{children:t.map(({member:r,participations:i})=>{let o=0;return n.forEach(l=>{i[l.id]&&l.prix>0&&(o+=l.prix)}),o===0?null:s.jsxs(We,{children:[s.jsx(ve,{className:"font-medium sticky left-0 bg-background z-10",children:it(r.first_name,r.last_name,!0)}),n.map(l=>s.jsx(ve,{className:"text-center",children:i[l.id]&&l.prix>0?l.prix.toLocaleString("fr-FR",{style:"currency",currency:"EUR"}):""},l.id)),s.jsx(ve,{className:"text-right font-bold sticky right-0 bg-background z-10 text-primary",children:o.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]},r.id)})})]})})]}),CC=({title:e,volunteers:t,competitions:n,icon:r})=>n.length===0||t.length===0?null:s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[r&&s.jsx(r,{className:"w-6 h-6"}),e]})}),s.jsx(me,{className:"overflow-x-auto",children:s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(We,{children:[s.jsx(ge,{className:"sticky left-0 bg-background z-10 min-w-[150px]",children:"Bénévole"}),n.map(i=>s.jsx(ge,{className:"text-center min-w-[150px]",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{children:i.short_title||i.name}),s.jsx("div",{className:"text-xs text-muted-foreground font-normal",children:new Date(i.start_date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})})]})},i.id)),s.jsx(ge,{className:"text-right font-bold sticky right-0 bg-background z-10 min-w-[100px]",children:"Total"})]})}),s.jsx(mn,{children:t.map(({member:i,participations:o})=>{const l=Object.keys(o).length;return l===0?null:s.jsxs(We,{children:[s.jsx(ve,{className:"font-medium sticky left-0 bg-background z-10",children:it(i.first_name,i.last_name,!0)}),n.map(c=>s.jsx(ve,{className:"text-center",children:o[c.id]&&s.jsx(ny,{className:"w-5 h-5 text-green-500 mx-auto"})},c.id)),s.jsx(ve,{className:"text-right font-bold sticky right-0 bg-background z-10 text-primary",children:l})]},i.id)})})]})})]}),fJ=()=>{const[e,t]=m.useState({u11_u15:[],u15_u19:[]}),[n,r]=m.useState({coaches:[],referees:[]}),[i,o]=m.useState({u11_u15:[],u15_u19:[],all:[]}),[l,c]=m.useState(!0),{toast:u}=tt(),h=kn(),f=Wa(),[p,v]=m.useState("participation");m.useEffect(()=>{const x=new URLSearchParams(f.search).get("tab");x&&v(x)},[f.search]);const y=m.useCallback(async()=>{c(!0);try{const{data:w,error:x}=await te.from("competition_participants").select(`
          role,
          member_id,
          competition_id,
          ranking,
          members ( id, first_name, last_name, title ),
          competitions ( id, name, short_title, start_date, disciplines, nature, prix )
        `);if(x)throw x;const S=w.map(A=>A.competitions).filter((A,P,T)=>A&&T.findIndex(R=>R.id===A.id)===P).sort((A,P)=>new Date(A.start_date)-new Date(P.start_date)),j=A=>{const P={},T={};w.filter(B=>{var W;return B.role==="Competiteur"&&((W=B.members)==null?void 0:W.title)===A}).forEach(B=>{if(!B.members||!B.competitions)return;const W=B.members.id,U=B.competitions.id;P[W]||(P[W]={member:B.members,participations:{}}),P[W].participations[U]={ranking:B.ranking},T[U]||(T[U]=B.competitions)});const R=Object.values(P).sort((B,W)=>B.member.first_name.localeCompare(W.member.first_name)),O=Object.values(T).sort((B,W)=>new Date(B.start_date)-new Date(W.start_date));return{members:R,competitions:O}},b=A=>{const P={};return w.filter(T=>T.role===A).forEach(T=>{if(!T.members||!T.competitions)return;const R=T.members.id,O=T.competitions.id;P[R]||(P[R]={member:T.members,participations:{}}),P[R].participations[O]=!0}),Object.values(P).sort((T,R)=>T.member.first_name.localeCompare(R.member.first_name))},C=j("Compétition U11-U15"),N=j("Compétition U15-U19");t({u11_u15:C.members,u15_u19:N.members}),o({u11_u15:C.competitions,u15_u19:N.competitions,all:S}),r({coaches:b("Coach"),referees:b("Arbitre")})}catch{u({title:"Erreur",description:"Impossible de charger les données du récapitulatif.",variant:"destructive"})}finally{c(!1)}},[u]);return m.useEffect(()=>{y()},[y]),l?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Récapitulatif Annuel et Financier - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Récapitulatif annuel des participations aux compétitions et suivi financier."})]}),s.jsx(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>h("/competitions"),children:s.jsx(us,{})}),s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(EN,{className:"w-10 h-10 text-primary"}),"Récapitulatif Annuel et Financier"]})]})}),s.jsxs(kh,{value:p,onValueChange:v,children:[s.jsxs(Ic,{children:[s.jsx(Ur,{value:"participation",children:"Liste des compétitions"}),s.jsx(Ur,{value:"financial",children:"Récapitulatif Financier"}),s.jsx(Ur,{value:"volunteers",children:"Participation des bénévoles"})]}),s.jsx(zr,{value:"participation",className:"pt-4",children:s.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-8",children:[s.jsx(bC,{title:"Groupe U11-U15",competitors:e.u11_u15,competitions:i.u11_u15}),s.jsx(bC,{title:"Groupe U15-U19",competitors:e.u15_u19,competitions:i.u15_u19})]})}),s.jsx(zr,{value:"financial",className:"pt-4",children:s.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-8",children:[s.jsx(jC,{title:"Groupe U11-U15",competitors:e.u11_u15,competitions:i.u11_u15}),s.jsx(jC,{title:"Groupe U15-U19",competitors:e.u15_u19,competitions:i.u15_u19})]})}),s.jsx(zr,{value:"volunteers",className:"pt-4",children:s.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-8",children:[s.jsx(CC,{title:"Coachs",volunteers:n.coaches,competitions:i.all,icon:wr}),s.jsx(CC,{title:"Arbitres",volunteers:n.referees,competitions:i.all,icon:LN})]})})]})]})};var DL="AlertDialog",[mJ,uee]=Gn(DL,[p2]),Ai=p2(),$L=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ai(t);return s.jsx(Qy,{...r,...n,modal:!0})};$L.displayName=DL;var pJ="AlertDialogTrigger",FL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ai(n);return s.jsx(k2,{...i,...r,ref:t})});FL.displayName=pJ;var gJ="AlertDialogPortal",BL=e=>{const{__scopeAlertDialog:t,...n}=e,r=Ai(t);return s.jsx(e0,{...r,...n})};BL.displayName=gJ;var vJ="AlertDialogOverlay",UL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ai(n);return s.jsx(Rf,{...i,...r,ref:t})});UL.displayName=vJ;var ya="AlertDialogContent",[xJ,yJ]=mJ(ya),_J=w3("AlertDialogContent"),zL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=Ai(n),l=m.useRef(null),c=ut(t,l),u=m.useRef(null);return s.jsx(L7,{contentName:ya,titleName:VL,docsSlug:"alert-dialog",children:s.jsx(xJ,{scope:n,cancelRef:u,children:s.jsxs(Lf,{role:"alertdialog",...o,...i,ref:c,onOpenAutoFocus:xe(i.onOpenAutoFocus,h=>{var f;h.preventDefault(),(f=u.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[s.jsx(_J,{children:r}),s.jsx(bJ,{contentRef:l})]})})})});zL.displayName=ya;var VL="AlertDialogTitle",HL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ai(n);return s.jsx(t0,{...i,...r,ref:t})});HL.displayName=VL;var WL="AlertDialogDescription",GL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ai(n);return s.jsx(n0,{...i,...r,ref:t})});GL.displayName=WL;var wJ="AlertDialogAction",qL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Ai(n);return s.jsx(r0,{...i,...r,ref:t})});qL.displayName=wJ;var ZL="AlertDialogCancel",KL=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=yJ(ZL,n),o=Ai(n),l=ut(t,i);return s.jsx(r0,{...o,...r,ref:l})});KL.displayName=ZL;var bJ=({contentRef:e})=>{const t=`\`${ya}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ya}\` by passing a \`${WL}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ya}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},jJ=$L,CJ=FL,SJ=BL,YL=UL,JL=zL,XL=qL,QL=KL,eO=HL,tO=GL;const EJ=jJ,NJ=CJ,PJ=SJ,nO=se.forwardRef(({className:e,...t},n)=>s.jsx(YL,{className:ce("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));nO.displayName=YL.displayName;const rO=se.forwardRef(({className:e,...t},n)=>s.jsxs(PJ,{children:[s.jsx(nO,{}),s.jsx(JL,{ref:n,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...t})]}));rO.displayName=JL.displayName;const iO=({className:e,...t})=>s.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});iO.displayName="AlertDialogHeader";const sO=({className:e,...t})=>s.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sO.displayName="AlertDialogFooter";const oO=se.forwardRef(({className:e,...t},n)=>s.jsx(eO,{ref:n,className:ce("text-lg font-semibold",e),...t}));oO.displayName=eO.displayName;const aO=se.forwardRef(({className:e,...t},n)=>s.jsx(tO,{ref:n,className:ce("text-sm text-muted-foreground",e),...t}));aO.displayName=tO.displayName;const lO=se.forwardRef(({className:e,...t},n)=>s.jsx(XL,{ref:n,className:ce($y(),e),...t}));lO.displayName=XL.displayName;const cO=se.forwardRef(({className:e,...t},n)=>s.jsx(QL,{ref:n,className:ce($y({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));cO.displayName=QL.displayName;const uO=["admin","adherent","user"],TJ=[{to:"/news",text:"Actualités"},{to:"/schedule",text:"Planning"},{to:"/inscriptions",text:"Inscription"},{to:"/contact",text:"Contact"},{to:"/volunteers",text:"Bénévoles"},{to:"/members",text:"Adhérents"},{to:"/competitors",text:"Compétiteurs"},{to:"/competitions",text:"Compétitions"},{to:"/agenda",text:"Agenda"},{to:"/session-log",text:"Séances"}],dO=({onSelect:e,children:t,existingLinks:n})=>{const[r,i]=m.useState(!1),[o,l]=m.useState(""),[c,u]=m.useState([]),[h,f]=m.useState(!1),[p,v]=m.useState([]);m.useEffect(()=>{(async()=>{const{data:x}=await te.from("members").select("id, first_name, last_name");x&&v(x)})()},[]),m.useEffect(()=>{if(!r)return;f(!0);const w=p.filter(x=>!n.includes(x.id)&&(o===""||`${x.first_name} ${x.last_name}`.toLowerCase().includes(o.toLowerCase()))).slice(0,10);u(w),f(!1)},[o,r,n,p]);const y=w=>{e(w),i(!1),l("")};return s.jsxs(O0,{open:r,onOpenChange:i,children:[s.jsx(M0,{asChild:!0,children:t}),s.jsxs(Vf,{className:"w-80 p-0",children:[s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(bi,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(be,{placeholder:"Rechercher un membre...",value:o,onChange:w=>l(w.target.value),className:"pl-8"})]})}),s.jsx("div",{className:"max-h-60 overflow-y-auto",children:h?s.jsx("div",{className:"flex justify-center p-4",children:s.jsx($e,{className:"h-5 w-5 animate-spin"})}):c.length>0?c.map(w=>s.jsx("div",{onClick:()=>y(w),className:"p-2 hover:bg-accent cursor-pointer text-sm",children:ys(w.first_name,w.last_name,!0)},w.id)):s.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Aucun membre trouvé."})})]})]})},AJ=({isOpen:e,onClose:t,onUserCreated:n})=>{const[r,i]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState("user"),[h,f]=m.useState(null),[p,v]=m.useState(!1),{toast:y}=tt(),w=async x=>{x.preventDefault(),v(!0);try{const{data:S,error:j}=await te.auth.signUp({email:r,password:o,options:{data:{role:c,member_id:(h==null?void 0:h.id)||null}}});if(j)throw j;if(!S.user)throw new Error("La création de l'utilisateur a échoué.");const b=S.user,{error:C}=await te.functions.invoke("confirm-user",{body:{userId:b.id}});if(C)throw new Error(`Erreur de confirmation: ${C.message}`);const{error:N}=await te.from("profiles").update({role:c,member_id:h==null?void 0:h.id}).eq("id",b.id);if(N)throw N;y({title:"Succès",description:"Utilisateur créé et confirmé avec succès."}),n(),t()}catch(S){y({title:"Erreur",description:S.message,variant:"destructive"})}finally{v(!1)}};return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsxs(At,{children:[s.jsxs(qt,{children:[s.jsx(Zt,{children:"Créer un nouvel utilisateur"}),s.jsx(Zr,{children:"Créez un compte et liez-le à un profil de membre existant. Le compte sera validé automatiquement."})]}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"email",children:"Email"}),s.jsx(be,{id:"email",type:"email",value:r,onChange:x=>i(x.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"password",children:"Mot de passe"}),s.jsx(be,{id:"password",type:"password",value:o,onChange:x=>l(x.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Rôle"}),s.jsxs(Qe,{value:c,onValueChange:u,children:[s.jsx(Ye,{children:s.jsx(et,{})}),s.jsx(Je,{children:uO.map(x=>s.jsx(Ce,{value:x,children:s.jsx("span",{className:"capitalize",children:x})},x))})]})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Lier à un membre"}),h?s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md",children:[s.jsx("span",{children:ys(h.first_name,h.last_name,!0)}),s.jsx(X,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>f(null),children:s.jsx(Er,{className:"h-4 w-4"})})]}):s.jsx(dO,{onSelect:f,existingLinks:[],children:s.jsxs(X,{variant:"outline",className:"w-full justify-start font-normal",children:[s.jsx(bi,{className:"mr-2 h-4 w-4"})," Rechercher un membre..."]})})]}),s.jsxs(cr,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:t,children:"Annuler"}),s.jsxs(X,{type:"submit",disabled:p,children:[p?s.jsx($e,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(uy,{className:"h-4 w-4 mr-2"}),"Créer l'utilisateur"]})]})]})]})})},kJ=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),[i,o]=m.useState(null),{isAdmin:l,user:c,loading:u}=zt(),{toast:h}=tt(),{config:f,updateConfig:p,loadingConfig:v}=Ya(),[y,w]=m.useState(TJ.map($=>({to:$.to,text:$.text,roles:["public","user","adherent","admin"]}))),[x,S]=m.useState(!1),[j,b]=m.useState(!1),[C,N]=m.useState(null),A=m.useCallback(async()=>{if(c){r(!0);try{const{data:$,error:k}=await te.from("profiles").select("*, members(id, first_name, last_name)");if(k)throw k;const{data:I,error:F}=await te.functions.invoke("get-users",{body:{userId:c.id}});if(F)throw F;if(I.error)throw new Error(I.error);const D=I.users,H=$.map(G=>{const ee=D.find(z=>z.id===G.id);return{...G,email:ee==null?void 0:ee.email,email_confirmed_at:ee==null?void 0:ee.email_confirmed_at}});t(H)}catch($){h({title:"Erreur",description:`Impossible de charger les utilisateurs: ${$.message}`,variant:"destructive"})}finally{r(!1)}}},[h,c]);m.useEffect(()=>{l&&A()},[l,A]);const P=m.useMemo(()=>e.map($=>$.member_id).filter(Boolean),[e]),T=async($,k)=>{N($);const{error:I}=await te.from("profiles").update({member_id:k.id}).eq("id",$);I?h({title:"Erreur",description:"Impossible de lier le membre.",variant:"destructive"}):(h({title:"Succès",description:"Membre lié au profil."}),A()),N(null)},R=async $=>{N($);const{error:k}=await te.from("profiles").update({member_id:null}).eq("id",$);k?h({title:"Erreur",description:"Impossible de délier le membre.",variant:"destructive"}):(h({title:"Succès",description:"Membre délié du profil."}),A()),N(null)};m.useEffect(()=>{if(!v&&f.nav_config)try{const $=JSON.parse(f.nav_config);w(k=>{const I=[...k];return $.forEach(F=>{const D=I.findIndex(H=>H.to===F.to);D!==-1&&(I[D].roles=F.roles)}),I})}catch($){console.error("Failed to parse nav_config:",$)}},[f.nav_config,v]);const O=async($,k)=>{o($);try{const{data:I,error:F}=await te.functions.invoke("set-user-role",{body:{userId:$,role:k}});if(F)throw F;if(I.error)throw new Error(I.error);h({title:"Succès",description:"Le rôle a été mis à jour."}),A()}catch(I){h({title:"Erreur",description:I.message,variant:"destructive"})}finally{o(null)}},B=($,k,I)=>{w(F=>{const D=[...F],H=D[$].roles;return I?H.includes(k)||H.push(k):D[$].roles=H.filter(G=>G!==k),D})},W=async()=>{S(!0);const{error:$}=await p("nav_config",JSON.stringify(y));h($?{title:"Erreur",description:"Impossible de sauvegarder la configuration du menu.",variant:"destructive"}:{title:"Succès",description:"Configuration du menu sauvegardée."}),S(!1)},U=async($,k)=>{o($);try{const{error:I}=await te.functions.invoke("confirm-user",{body:{userId:$}});if(I)throw I;h({title:"Succès",description:`L'email de ${k} a été confirmé.`}),A()}catch(I){h({title:"Erreur",description:I.message,variant:"destructive"})}finally{o(null)}},K=async $=>{o($.id);try{const{data:k,error:I}=await te.functions.invoke("delete-user",{body:{userId:$.id}});if(I)throw new Error(`Function error: ${I.message}`);if(k.error)throw new Error(`Function returned error: ${k.error}`);h({title:"Succès",description:`L'utilisateur ${$.email} a été supprimé.`}),A()}catch(k){h({title:"Erreur",description:k.message,variant:"destructive"})}finally{o(null)}};return u||v?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-8",children:[s.jsx(yt,{children:s.jsx("title",{children:"Gestion des Rôles et Accès"})}),s.jsxs(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(f3,{className:"w-10 h-10 text-primary"}),"Gestion des Rôles & Accès"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Gérez les rôles des utilisateurs et les accès aux pages."})]}),s.jsxs(X,{onClick:()=>b(!0),children:[s.jsx(Ga,{className:"mr-2 h-4 w-4"})," Créer un utilisateur"]})]}),s.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsxs(fe,{children:[s.jsxs(ye,{children:[s.jsx(_e,{children:"Rôles des Utilisateurs"}),s.jsx(Yr,{children:"Liste de tous les utilisateurs inscrits."})]}),s.jsx(me,{children:n?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx($e,{className:"w-8 h-8 animate-spin text-primary"})}):s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(We,{children:[s.jsx(ge,{children:"Email"}),s.jsx(ge,{children:"Adhérent Lié"}),s.jsx(ge,{children:"Rôle"}),s.jsx(ge,{className:"text-right",children:"Actions"})]})}),s.jsx(mn,{children:e.map($=>s.jsxs(We,{children:[s.jsxs(ve,{className:"font-medium truncate max-w-[200px]",children:[$.email,!$.email_confirmed_at&&s.jsx(Pe,{variant:"outline",className:"ml-2",children:"Non confirmé"})]}),s.jsx(ve,{children:C===$.id?s.jsx($e,{className:"h-4 w-4 animate-spin"}):$.members?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{variant:"secondary",className:"truncate",children:ys($.members.first_name,$.members.last_name,!0)}),s.jsx(X,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>R($.id),children:s.jsx(Er,{className:"h-4 w-4"})})]}):s.jsx(dO,{onSelect:k=>T($.id,k),existingLinks:P,children:s.jsxs(X,{variant:"outline",size:"sm",children:[s.jsx(ka,{className:"mr-2 h-4 w-4"})," Lier"]})})}),s.jsx(ve,{children:$.id===c.id?s.jsx(Pe,{children:"Vous (Admin)"}):i===$.id?s.jsx("div",{className:"flex justify-start",children:s.jsx($e,{className:"w-5 h-5 animate-spin"})}):s.jsxs(Qe,{value:$.role||"user",onValueChange:k=>O($.id,k),children:[s.jsx(Ye,{className:"w-[120px]",children:s.jsx(et,{placeholder:"Rôle"})}),s.jsx(Je,{children:uO.map(k=>s.jsx(Ce,{value:k,children:s.jsx("span",{className:"capitalize",children:k})},k))})]})}),s.jsx(ve,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[$.id!==c.id&&!$.email_confirmed_at&&s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>U($.id,$.email),disabled:i===$.id,children:[s.jsx(i3,{className:"h-4 w-4 mr-1"})," Confirmer"]}),$.id!==c.id&&s.jsxs(EJ,{children:[s.jsx(NJ,{asChild:!0,children:s.jsx(X,{variant:"destructive",size:"icon",disabled:i===$.id,children:s.jsx(Wn,{className:"h-4 w-4"})})}),s.jsxs(rO,{children:[s.jsxs(iO,{children:[s.jsx(oO,{children:"Êtes-vous sûr ?"}),s.jsxs(aO,{children:["Cette action est irréversible. Elle supprimera définitivement le compte de ",s.jsx("strong",{children:$.email}),"."]})]}),s.jsxs(sO,{children:[s.jsx(cO,{children:"Annuler"}),s.jsx(lO,{onClick:()=>K($),children:"Supprimer"})]})]})]})]})})]},$.id))})]})})]})}),s.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsxs(fe,{children:[s.jsxs(ye,{children:[s.jsx(_e,{children:"Accès aux Pages du Menu"}),s.jsx(Yr,{children:"Définissez quels rôles peuvent voir chaque page dans le menu principal."})]}),s.jsx(me,{children:s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(We,{children:[s.jsx(ge,{children:"Page"}),s.jsx(ge,{className:"text-center",children:"Public"}),s.jsx(ge,{className:"text-center",children:"Utilisateur"}),s.jsx(ge,{className:"text-center",children:"Adhérent"}),s.jsx(ge,{className:"text-center",children:"Admin"})]})}),s.jsx(mn,{children:y.map(($,k)=>s.jsxs(We,{children:[s.jsx(ve,{className:"font-medium",children:$.text}),["public","user","adherent","admin"].map(I=>s.jsx(ve,{className:"text-center",children:s.jsx(Vr,{checked:$.roles.includes(I),onCheckedChange:F=>B(k,I,F)})},I))]},$.to))})]})}),s.jsx(Ns,{children:s.jsxs(X,{onClick:W,disabled:x,children:[x?s.jsx($e,{className:"w-4 h-4 animate-spin mr-2"}):s.jsx(cf,{className:"w-4 h-4 mr-2"}),"Sauvegarder les Accès du Menu"]})})]})})]}),s.jsx(Ot,{children:j&&s.jsx(AJ,{isOpen:j,onClose:()=>b(!1),onUserCreated:A})})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Accès non autorisé"}),s.jsx("p",{className:"text-muted-foreground",children:"Cette page est réservée aux administrateurs."})]})},Ho=({icon:e,title:t,children:n})=>s.jsxs(fe,{children:[s.jsxs(ye,{className:"flex flex-row items-center gap-4 pb-2",children:[e,s.jsx(_e,{children:t})]}),s.jsx(me,{children:n})]}),RJ=()=>{const e={initial:{opacity:0,y:20},in:{opacity:1,y:0},out:{opacity:0,y:-20}};return s.jsxs(ue.div,{initial:"initial",animate:"in",exit:"out",variants:e,transition:{duration:.5},className:"space-y-12",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Inscriptions 2025-2026 - ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Toutes les informations pour les inscriptions à la saison 2025-2026 du club d'escalade."})]}),s.jsxs(ue.div,{className:"text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold headline mb-4",children:"Inscriptions 2025-2026"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto",children:"Toutes les inscriptions se feront exclusivement en ligne. Soyez prêts !"})]}),s.jsxs(ue.div,{className:"max-w-4xl mx-auto p-8 rounded-xl bg-gradient-to-br from-primary/80 to-primary text-primary-foreground shadow-2xl text-center space-y-4",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.3},children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Ouverture des inscriptions"}),s.jsx("p",{className:"text-4xl font-extrabold",children:"11 juin 2025 à 8h00"}),s.jsx("p",{children:"Les places sont limitées : soyez réactifs !"}),s.jsx(X,{asChild:!0,variant:"secondary",size:"lg",className:"text-lg",children:s.jsx("a",{href:"https://www.helloasso.com/associations/amicale-laique-de-jonage/adhesions/adhesion-escalade-2025-2026-amicale-laique-escalade-2",target:"_blank",rel:"noopener noreferrer",children:"C’est ici !"})}),s.jsx("p",{className:"text-sm pt-2",children:"Si votre créneau est complet, inscrivez-vous sur liste d’attente. Nous vous contacterons en cas de désistement."})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-6xl mx-auto",children:[s.jsx(Ho,{icon:s.jsx(Yt,{className:"w-8 h-8 text-primary"}),title:"Créneaux Spécifiques",children:s.jsxs("ul",{className:"space-y-2 text-muted-foreground list-disc pl-5",children:[s.jsxs("li",{children:["L’inscription aux créneaux ",s.jsx("strong",{children:"Perfectionnement Enfants/Jeunes"})," et ",s.jsx("strong",{children:"Compétition Enfants/Jeunes"})," est soumise à test préalable : contactez-nous."]}),s.jsxs("li",{children:["Pas de tests pour les cours ",s.jsx("strong",{children:"Perfectionnement adultes"})," : Ils sont accessibles aux adhérents inscrits en Adultes autonomes."]})]})}),s.jsxs(Ho,{icon:s.jsx(Aa,{className:"w-8 h-8 text-primary"}),title:"Tarifs & Inscription",children:[s.jsxs("p",{className:"text-muted-foreground mb-2",children:["Les tarifs pour la saison prochaine, sous réserve de validation, devraient être de ",s.jsx("strong",{children:"246 euros"})," (licence FFME incluse)."]}),s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[s.jsx(rv,{className:"text-green-500 w-5 h-5"})," 100% en ligne"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"N’attendez pas le forum des associations de Jonage pour vous inscrire, il est fortement probable qu’il n’y ait plus de place."})]}),s.jsxs(Ho,{icon:s.jsx(wN,{className:"w-8 h-8 text-primary"}),title:"Paiement",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Paiement par CB en 3 fois sans frais :"}),s.jsxs("ul",{className:"space-y-1 text-muted-foreground list-decimal pl-5",children:[s.jsx("li",{children:"1/3 du montant lors de l’inscription"}),s.jsx("li",{children:"1/3 du montant au 23/09/2025"}),s.jsx("li",{children:"1/3 du montant au 23/10/2025"})]})]}),s.jsxs(Ho,{icon:s.jsx(ty,{className:"w-8 h-8 text-destructive"}),title:"Gestion des Adhésions",children:[s.jsx("p",{className:"text-muted-foreground mb-2",children:"Le fait de s’inscrire et de payer ne garantit pas l’inscription. L’ALJ se réserve le droit d’effectuer un remboursement en cas de non-respect des conditions (dossiers multiples, certificat non conforme, etc.)."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Contacter l’ALJ en cas d'erreur de créneau."})]}),s.jsxs(Ho,{icon:s.jsx(XF,{className:"w-8 h-8 text-primary"}),title:"Remises Familles",children:[s.jsx("p",{className:"text-muted-foreground",children:"Une réduction est applicable à partir du 3ème inscrit de la même famille (même nom/adresse), lors de l'inscription simultanée de tous les membres."}),s.jsx("p",{className:"font-semibold mt-2",children:"-20€ pour 3 inscrits, -40€ pour 4"})]}),s.jsx(Ho,{icon:s.jsx(xo,{className:"w-8 h-8 text-primary"}),title:"Forum des Associations",children:s.jsx("p",{className:"text-muted-foreground",children:"Nous profiterons du forum pour vous présenter les activités du club et vous guider vers le formulaire s’il reste des places."})})]})]})},LJ=({members:e,onSelect:t,onClear:n})=>{const[r,i]=m.useState(""),[o,l]=m.useState([]),c=h=>{const f=h.target.value;if(i(f),f.length>1){const p=e.filter(v=>`${v.first_name} ${v.last_name}`.toLowerCase().includes(f.toLowerCase()));l(p)}else l([])},u=h=>{i(it(h.first_name,h.last_name,!0)),l([]),t(h)};return m.useEffect(()=>{r===""&&n()},[r,n]),s.jsxs("div",{className:"relative w-full",children:[s.jsxs("div",{className:"relative",children:[s.jsx(bi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(be,{type:"text",value:r,onChange:c,placeholder:"Rechercher un membre...",className:"pl-10"})]}),o.length>0&&s.jsx("ul",{className:"absolute z-10 w-full bg-background border rounded-md mt-1 max-h-60 overflow-y-auto",children:o.map(h=>s.jsx("li",{onClick:()=>u(h),className:"px-3 py-2 hover:bg-accent cursor-pointer",children:it(h.first_name,h.last_name,!0)},h.id))})]})},OJ=({image:e,members:t,onLink:n,linkingState:r})=>{const[i,o]=m.useState(null),{isLinking:l,linkedMemberId:c}=r,u=()=>{i&&n(e,i)};return s.jsxs(fe,{className:"overflow-hidden",children:[s.jsx(me,{className:"p-0",children:s.jsx("img",{src:e.publicUrl,alt:e.name,className:"w-full h-48 object-cover"})}),s.jsxs(Ns,{className:"p-4 flex flex-col gap-4",children:[s.jsx(LJ,{members:t,onSelect:o,onClear:()=>o(null)}),s.jsxs(X,{onClick:u,disabled:!i||l,className:"w-full",children:[l&&c===(i==null?void 0:i.id)?s.jsx($e,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(ka,{className:"w-4 h-4 mr-2"}),"Lier au membre"]})]})]})},MJ=()=>{const[e,t]=m.useState([]),[n,r]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState({isLinking:!1,linkedMemberId:null}),{isAdmin:u,loading:h}=zt(),{toast:f}=tt(),p=m.useCallback(async()=>{o(!0);try{const{data:y,error:w}=await te.storage.listBuckets();if(w)throw w;const x=y.map(async N=>{const{data:A,error:P}=await te.storage.from(N.name).list(void 0,{limit:1e3,offset:0,sortBy:{column:"created_at",order:"desc"}});return P?(console.warn(`Could not list files from bucket ${N.name}:`,P.message),[]):A.filter(T=>T.name!==".emptyFolderPlaceholder").map(T=>({...T,bucketName:N.name,publicUrl:te.storage.from(N.name).getPublicUrl(T.name).data.publicUrl}))}),j=(await Promise.all(x)).flat().sort((N,A)=>new Date(A.created_at)-new Date(N.created_at)),{data:b,error:C}=await te.from("members").select("*");if(C)throw C;t(j),r(b)}catch{f({title:"Erreur",description:"Impossible de charger les données.",variant:"destructive"})}finally{o(!1)}},[f]);m.useEffect(()=>{p()},[p]);const v=async(y,w)=>{c({isLinking:!0,linkedMemberId:w.id});try{const{error:x}=await te.from("members").update({photo_url:y.publicUrl}).eq("id",w.id);if(x)throw x;f({title:"Succès",description:`Image liée à ${it(w.first_name,w.last_name,!0)}.`})}catch(x){f({title:"Erreur",description:x.message,variant:"destructive"})}finally{c({isLinking:!1,linkedMemberId:null})}};return h||i?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):u?s.jsxs("div",{className:"space-y-8",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Gestion des Images - Admin"}),s.jsx("meta",{name:"description",content:"Gérer et lier les images du site."})]}),s.jsx(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(qc,{className:"w-10 h-10 text-primary"}),"Gestion des Images"]})}),e.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-16",children:"Aucune image trouvée dans les buckets de stockage."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:e.map(y=>s.jsx(OJ,{image:y,members:n,onLink:v,linkingState:l},y.id))})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Accès non autorisé"}),s.jsx("p",{className:"text-muted-foreground",children:"Cette page est réservée aux administrateurs."})]})},$s="pedagogy_files",IJ=()=>{const{toast:e}=tt(),t=kn(),[n,r]=m.useState("Initialisation de la configuration...");return m.useEffect(()=>{(async()=>{try{r(`Vérification du bucket de stockage '${$s}'...`);const{data:o,error:l}=await te.storage.listBuckets();if(l)throw new Error(`Erreur lors de la récupération des buckets: ${l.message}`);if(o.some(u=>u.name===$s))r(`Le bucket '${$s}' existe déjà. Aucune action requise.`);else{r(`Le bucket '${$s}' n'existe pas. Création en cours...`);const{error:u}=await te.storage.createBucket($s,{public:!0});if(u)throw new Error(`Erreur lors de la création du bucket: ${u.message}`);r(`Bucket '${$s}' créé avec succès.`),e({title:"Configuration terminée",description:`Le bucket de stockage '${$s}' a été créé.`})}r("Configuration terminée. Redirection..."),setTimeout(()=>t("/pedagogy"),2e3)}catch(o){console.error("Setup error:",o),r(`Erreur de configuration: ${o.message}`),e({title:"Erreur de configuration",description:o.message,variant:"destructive"})}})()},[e,t]),s.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[s.jsx($e,{className:"w-12 h-12 animate-spin text-primary mb-4"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:n})]})},DJ={Bloc:"bloc",Difficulté:"difficulte",Vitesse:"vitesse"},$J=()=>{const{memberId:e}=ef(),t=kn(),{toast:n}=tt(),[r,i]=m.useState(!0),[o,l]=m.useState(null),[c,u]=m.useState([]),h=m.useCallback(async()=>{if(e){i(!0);try{const{data:p,error:v}=await te.from("members").select("*").eq("id",e).single();if(v)throw v;l(p);const{data:y,error:w}=await te.from("competition_participants").select(`
          ranking,
          competitions (id, name, start_date, location, disciplines, nature)
        `).eq("member_id",e).eq("role","Competiteur").order("start_date",{foreignTable:"competitions",ascending:!1});if(w)throw w;u(y)}catch{n({title:"Erreur",description:"Impossible de charger le résumé du compétiteur.",variant:"destructive"})}finally{i(!1)}}},[e,n]);if(m.useEffect(()=>{h()},[h]),r)return s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})});if(!o)return s.jsx("div",{className:"text-center",children:"Compétiteur non trouvé."});const f=(p,v)=>`${(p==null?void 0:p[0])||""}${(v==null?void 0:v[0])||""}`.toUpperCase();return s.jsxs("div",{className:"space-y-8",children:[s.jsxs(yt,{children:[s.jsxs("title",{children:["Palmarès de ",it(o.first_name,o.last_name,!0)," - ALJ Escalade Jonage"]}),s.jsx("meta",{name:"description",content:`Palmarès et récapitulatif des compétitions pour ${it(o.first_name,o.last_name,!0)}.`})]}),s.jsx(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:s.jsx(us,{})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(gs,{className:"w-16 h-16",children:[s.jsx(vs,{src:o.photo_url,alt:it(o.first_name,o.last_name,!0)}),s.jsx(xs,{className:"text-2xl",children:f(o.first_name,o.last_name)})]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[s.jsx(qa,{className:"w-10 h-10 text-primary"}),"Palmarès de ",it(o.first_name,o.last_name,!0)]}),s.jsx("p",{className:"text-muted-foreground",children:o.title})]})]})]})}),s.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsx(_e,{children:"Récapitulatif des compétitions"})}),s.jsx(me,{children:s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(We,{children:[s.jsx(ge,{children:"Compétition"}),s.jsx(ge,{children:"Date"}),s.jsx(ge,{children:"Lieu"}),s.jsx(ge,{children:"Détails"}),s.jsx(ge,{className:"text-right",children:"Classement"})]})}),s.jsx(mn,{children:c.length>0?c.map(({competitions:p,ranking:v})=>s.jsxs(We,{children:[s.jsx(ve,{className:"font-medium",children:p.name}),s.jsx(ve,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xo,{className:"w-4 h-4 text-muted-foreground"}),new Date(p.start_date).toLocaleDateString("fr-FR")]})}),s.jsx(ve,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ly,{className:"w-4 h-4 text-muted-foreground"}),p.location]})}),s.jsx(ve,{children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[p.disciplines.map(y=>s.jsx(Pe,{variant:DJ[y]||"default",children:y},y)),p.nature&&s.jsx(Pe,{variant:"outline",children:p.nature})]})}),s.jsx(ve,{className:"text-right font-bold",children:v?s.jsxs("div",{className:"flex items-center justify-end gap-2 text-primary",children:[s.jsx(PN,{className:"w-5 h-5"}),s.jsx("span",{children:v})]}):s.jsx("span",{className:"text-muted-foreground",children:"N/A"})})]},p.id)):s.jsx(We,{children:s.jsx(ve,{colSpan:5,className:"text-center text-muted-foreground",children:"Aucune participation à une compétition enregistrée."})})})]})})]})})]})},FJ=()=>{const[e,t]=m.useState([]),[n,r]=m.useState([]),[i,o]=m.useState(!0),{toast:l}=tt();m.useEffect(()=>{(async()=>{o(!0);const{data:f,error:p}=await te.from("competitions").select("id, name, start_date, categories, disciplines").order("start_date",{ascending:!0});if(p){l({title:"Erreur",description:"Impossible de charger les compétitions.",variant:"destructive"}),o(!1);return}t(f);const{data:v,error:y}=await te.from("competition_participants").select("competition_id, role, members(id, first_name, last_name, category)").eq("role","Competiteur");if(y){l({title:"Erreur",description:"Impossible de charger les participants.",variant:"destructive"}),o(!1);return}r(v),o(!1)})()},[l]);const c=h=>{const f=e.filter(y=>y.disciplines.includes(h));if(f.length===0)return{competitors:[],competitions:[]};const p=new Map;return n.forEach(y=>{if(f.some(w=>w.id===y.competition_id)){if(!y.members)return;const w=y.members.id;p.has(w)||p.set(w,{member:y.members,inscriptions:new Array(f.length).fill(!1)});const x=f.findIndex(S=>S.id===y.competition_id);x!==-1&&(p.get(w).inscriptions[x]=!0)}}),{competitors:Array.from(p.values()).sort((y,w)=>y.member.last_name.localeCompare(w.member.last_name)),competitions:f}},u=({title:h,discipline:f})=>{const{competitors:p,competitions:v}=c(f);if(v.length===0)return null;const y=f==="Bloc"?TN:f==="Difficulté"?QF:Yt;return s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-3",children:[s.jsx(y,{className:`w-6 h-6 ${f==="Bloc"?"text-purple-500":"text-green-500"}`}),h]})}),s.jsx(me,{children:p.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(We,{children:[s.jsx(ge,{className:"w-[200px] min-w-[150px]",children:"Compétiteur"}),v.map(w=>s.jsx(ge,{className:"text-center min-w-[100px]",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{children:w.name}),s.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:new Date(w.start_date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})})]})},w.id))]})}),s.jsx(mn,{children:p.map(({member:w,inscriptions:x})=>s.jsxs(We,{children:[s.jsx(ve,{className:"font-medium",children:it(w.first_name,w.last_name,!0)}),x.map((S,j)=>s.jsx(ve,{className:"text-center",children:S&&s.jsx(ny,{className:"w-5 h-5 text-green-500 mx-auto"})},j))]},w.id))})]})}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Aucun compétiteur inscrit pour cette discipline."})})]})};return i?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Récapitulatif par Compétiteur - Club d'Escalade"}),s.jsx("meta",{name:"description",content:"Tableau récapitulatif des inscriptions par compétiteur et par discipline"})]}),s.jsxs(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center gap-4",children:[s.jsxs(X,{variant:"ghost",onClick:()=>window.history.back(),className:"flex items-center gap-2",children:[s.jsx(us,{className:"w-4 h-4"}),"Retour"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold headline",children:"Inscriptions par Compétiteur"}),s.jsx("p",{className:"text-xl text-muted-foreground mt-2",children:"Qui participe à quelle compétition ?"})]})]}),s.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"space-y-12",children:[s.jsx(u,{title:"Discipline Bloc",discipline:"Bloc"}),s.jsx(u,{title:"Discipline Difficulté",discipline:"Difficulté"}),s.jsx(u,{title:"Discipline Vitesse",discipline:"Vitesse"})]})]})},BJ=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!0),{toast:i}=tt();m.useEffect(()=>{(async()=>{r(!0);const{data:c,error:u}=await te.from("competitions").select("id, name, location, start_date, disciplines").order("start_date",{ascending:!1});if(u){i({title:"Erreur",description:"Impossible de charger les compétitions.",variant:"destructive"}),r(!1);return}const{data:h,error:f}=await te.from("competition_participants").select("competition_id, role");if(f){i({title:"Erreur",description:"Impossible de charger les participants.",variant:"destructive"}),r(!1);return}const p=c.map(v=>{const y=h.filter(j=>j.competition_id===v.id),w=y.filter(j=>j.role==="Coach").length,x=y.filter(j=>j.role==="Arbitre").length,S=y.filter(j=>j.role==="Competiteur").length;return{...v,coaches:w,arbitres:x,competiteurs:S,total:y.length}});t(p),r(!1)})()},[i]);const o=({discipline:l})=>{const c=l.toLowerCase().replace(/ /g,"");let u="default";return c.includes("bloc")?u="bloc":c.includes("difficulté")?u="difficulte":c.includes("vitesse")&&(u="vitesse"),s.jsx(Pe,{variant:u,children:l})};return n?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Récapitulatif des Inscriptions - Club d'Escalade"}),s.jsx("meta",{name:"description",content:"Tableau récapitulatif des inscriptions aux compétitions d'escalade"})]}),s.jsxs(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center gap-4",children:[s.jsxs(X,{variant:"ghost",onClick:()=>window.history.back(),className:"flex items-center gap-2",children:[s.jsx(us,{className:"w-4 h-4"}),"Retour"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold headline",children:"Récapitulatif des Inscriptions"}),s.jsx("p",{className:"text-xl text-muted-foreground mt-2",children:"Vue d'ensemble des participants par compétition"})]})]}),s.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"w-5 h-5 text-primary"}),"Tableau des Inscriptions"]})}),s.jsx(me,{children:s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(We,{children:[s.jsx(ge,{children:"Compétition"}),s.jsx(ge,{children:"Date"}),s.jsx(ge,{children:"Discipline"}),s.jsx(ge,{className:"text-center",children:"Coachs"}),s.jsx(ge,{className:"text-center",children:"Arbitres"}),s.jsx(ge,{className:"text-center",children:"Compétiteurs"}),s.jsx(ge,{className:"text-center",children:"Total"})]})}),s.jsx(mn,{children:e.map(l=>s.jsxs(We,{children:[s.jsx(ve,{className:"font-medium",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:l.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:l.location})]})}),s.jsx(ve,{children:new Date(l.start_date).toLocaleDateString("fr-FR")}),s.jsx(ve,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:l.disciplines.map(c=>s.jsx(o,{discipline:c},c))})}),s.jsx(ve,{className:"text-center",children:s.jsx(Pe,{variant:"secondary",children:l.coaches})}),s.jsx(ve,{className:"text-center",children:s.jsx(Pe,{variant:"secondary",children:l.arbitres})}),s.jsx(ve,{className:"text-center",children:s.jsx(Pe,{variant:"default",children:l.competiteurs})}),s.jsx(ve,{className:"text-center",children:s.jsx(Pe,{variant:"outline",className:"font-bold",children:l.total})})]},l.id))})]})})]})}),s.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid md:grid-cols-3 gap-6",children:[s.jsxs(fe,{children:[s.jsx(ye,{className:"pb-3",children:s.jsx(_e,{className:"text-lg",children:"Total Participants"})}),s.jsx(me,{children:s.jsx("div",{className:"text-3xl font-bold text-primary",children:e.reduce((l,c)=>l+c.total,0)})})]}),s.jsxs(fe,{children:[s.jsx(ye,{className:"pb-3",children:s.jsx(_e,{className:"text-lg",children:"Compétitions"})}),s.jsx(me,{children:s.jsx("div",{className:"text-3xl font-bold text-primary",children:e.length})})]}),s.jsxs(fe,{children:[s.jsx(ye,{className:"pb-3",children:s.jsx(_e,{className:"text-lg",children:"Moyenne par Compétition"})}),s.jsx(me,{children:s.jsx("div",{className:"text-3xl font-bold text-primary",children:e.length>0?Math.round(e.reduce((l,c)=>l+c.total,0)/e.length):0})})]})]})]})},SC=()=>{const e=kn(),{id:t}=ef(),{toast:n}=tt(),r=!!t,[i,o]=m.useState({name:"",short_title:"",description:"",start_date:"",end_date:"",location:"",prix:"",niveau:"",nature:"",disciplines:[],categories:[],url_registration:"",url_details:"",details_pratiques:"",details_format:"",image_url:"",photo_gallery:[]}),[l,c]=m.useState(!1),[u,h]=m.useState(!1),f=["national","Coupe","Bloc","régional","départemental"],p=["Compétition","Stage","Formation","Événement"],v=["Voie","Bloc","Vitesse","Combiné"],y=["U11","U13","U15","U17","U19","Sénior","Vétéran"];m.useEffect(()=>{r&&w()},[t]);const w=async()=>{c(!0);try{const{data:P,error:T}=await te.from("competitions").select("*").eq("id",t).single();if(T)throw T;o({...P,disciplines:P.disciplines||[],categories:P.categories||[],photo_gallery:P.photo_gallery||[]})}catch(P){console.error("Erreur lors du chargement:",P),n({title:"Erreur",description:"Impossible de charger la compétition.",variant:"destructive"})}finally{c(!1)}},x=(P,T)=>{o(R=>({...R,[P]:T}))},S=P=>{o(T=>({...T,disciplines:T.disciplines.includes(P)?T.disciplines.filter(R=>R!==P):[...T.disciplines,P]}))},j=P=>{o(T=>({...T,categories:T.categories.includes(P)?T.categories.filter(R=>R!==P):[...T.categories,P]}))},b=()=>{const P=prompt("URL de la photo:");P&&o(T=>({...T,photo_gallery:[...T.photo_gallery,P]}))},C=P=>{o(T=>({...T,photo_gallery:T.photo_gallery.filter((R,O)=>O!==P)}))},N=()=>i.name.trim()?i.start_date?i.location.trim()?i.end_date&&i.end_date<i.start_date?(n({title:"Erreur",description:"La date de fin ne peut pas être antérieure à la date de début.",variant:"destructive"}),!1):!0:(n({title:"Erreur",description:"Le lieu est obligatoire.",variant:"destructive"}),!1):(n({title:"Erreur",description:"La date de début est obligatoire.",variant:"destructive"}),!1):(n({title:"Erreur",description:"Le nom de la compétition est obligatoire.",variant:"destructive"}),!1),A=async()=>{if(N()){h(!0);try{const P={...i,prix:i.prix?parseFloat(i.prix):null,end_date:i.end_date||null};if(r){const{error:T}=await te.from("competitions").update(P).eq("id",t);if(T)throw T;n({title:"Succès",description:"Compétition modifiée avec succès !",variant:"default"})}else{const{error:T}=await te.from("competitions").insert([P]);if(T)throw T;n({title:"Succès",description:"Compétition créée avec succès !",variant:"default"})}e("/competitions")}catch(P){console.error("Erreur lors de la sauvegarde:",P),n({title:"Erreur",description:"Impossible de sauvegarder la compétition.",variant:"destructive"})}finally{h(!1)}}};return l?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(X,{variant:"outline",onClick:()=>e("/competitions"),children:[s.jsx(us,{className:"w-4 h-4 mr-2"}),"Retour"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:r?"Modifier la compétition":"Créer une compétition"}),s.jsx("p",{className:"text-muted-foreground",children:r?"Modifiez les informations de la compétition":"Ajoutez une nouvelle compétition au club"})]})]}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(Aa,{className:"w-5 h-5"}),"Informations générales"]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"name",children:"Nom de la compétition *"}),s.jsx(be,{id:"name",value:i.name,onChange:P=>x("name",P.target.value),placeholder:"Ex: Championnat Régional d'Escalade"})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"short_title",children:"Titre court"}),s.jsx(be,{id:"short_title",value:i.short_title,onChange:P=>x("short_title",P.target.value),placeholder:"Ex: Régional Escalade 2024"})]})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"description",children:"Description"}),s.jsx(Ft,{id:"description",value:i.description,onChange:P=>x("description",P.target.value),placeholder:"Description détaillée de la compétition...",rows:4})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"start_date",children:"Date de début *"}),s.jsx(be,{id:"start_date",type:"date",value:i.start_date,onChange:P=>x("start_date",P.target.value)})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"end_date",children:"Date de fin"}),s.jsx(be,{id:"end_date",type:"date",value:i.end_date,onChange:P=>x("end_date",P.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"location",children:"Lieu *"}),s.jsx(be,{id:"location",value:i.location,onChange:P=>x("location",P.target.value),placeholder:"Ex: Salle d'escalade de Lyon"})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"prix",children:"Prix d'entrée (€)"}),s.jsx(be,{id:"prix",type:"number",step:"0.01",value:i.prix,onChange:P=>x("prix",P.target.value),placeholder:"Ex: 25.00"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"niveau",children:"Niveau"}),s.jsxs(Qe,{value:i.niveau,onValueChange:P=>x("niveau",P),children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Sélectionner un niveau"})}),s.jsx(Je,{children:f.map(P=>s.jsx(Ce,{value:P,children:P},P))})]})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"nature",children:"Nature"}),s.jsxs(Qe,{value:i.nature,onValueChange:P=>x("nature",P),children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Sélectionner une nature"})}),s.jsx(Je,{children:p.map(P=>s.jsx(Ce,{value:P,children:P},P))})]})]})]})]})]}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsx(_e,{children:"Disciplines et catégories"})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Disciplines"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:v.map(P=>s.jsx(X,{variant:i.disciplines.includes(P)?"default":"outline",size:"sm",onClick:()=>S(P),children:P},P))})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Catégories"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:y.map(P=>s.jsx(X,{variant:i.categories.includes(P)?"default":"outline",size:"sm",onClick:()=>j(P),children:P},P))})]})]})]}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(lo,{className:"w-5 h-5"}),"Liens et informations pratiques"]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"url_registration",children:"URL d'inscription"}),s.jsx(be,{id:"url_registration",type:"url",value:i.url_registration,onChange:P=>x("url_registration",P.target.value),placeholder:"https://..."})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"url_details",children:"URL de détails"}),s.jsx(be,{id:"url_details",type:"url",value:i.url_details,onChange:P=>x("url_details",P.target.value),placeholder:"https://..."})]})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"details_pratiques",children:"Informations pratiques"}),s.jsx(Ft,{id:"details_pratiques",value:i.details_pratiques,onChange:P=>x("details_pratiques",P.target.value),placeholder:"Horaires, matériel requis, consignes...",rows:3})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"details_format",children:"Format de la compétition"}),s.jsx(Ft,{id:"details_format",value:i.details_format,onChange:P=>x("details_format",P.target.value),placeholder:"Qualification, demi-finales, finales...",rows:3})]})]})]}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(cy,{className:"w-5 h-5"}),"Images"]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"image_url",children:"Image principale (URL)"}),s.jsx(be,{id:"image_url",type:"url",value:i.image_url,onChange:P=>x("image_url",P.target.value),placeholder:"https://..."})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(le,{children:"Galerie photo"}),s.jsxs(X,{variant:"outline",size:"sm",onClick:b,children:[s.jsx(Ra,{className:"w-4 h-4 mr-1"}),"Ajouter une photo"]})]}),i.photo_gallery.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:i.photo_gallery.map((P,T)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:P,alt:`Photo ${T+1}`,className:"w-full h-20 object-cover rounded border"}),s.jsx(X,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 w-6 h-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>C(T),children:s.jsx(Er,{className:"w-3 h-3"})})]},T))})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pb-8",children:[s.jsx(X,{variant:"outline",onClick:()=>e("/competitions"),children:"Annuler"}),s.jsx(X,{onClick:A,disabled:u,children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Sauvegarde..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cf,{className:"w-4 h-4 mr-2"}),r?"Modifier":"Créer"]})})]})]})},UJ=Kc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),hO=m.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:ce(UJ({variant:t}),e),...n}));hO.displayName="Alert";const zJ=m.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:ce("mb-1 font-medium leading-none tracking-tight",e),...t}));zJ.displayName="AlertTitle";const fO=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ce("text-sm [&_p]:leading-relaxed",e),...t}));fO.displayName="AlertDescription";const mO=6048e5,VJ=864e5,vd=43200,EC=1440,NC=Symbol.for("constructDateFrom");function Jr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&NC in e?e[NC](t):e instanceof Date?new e.constructor(t):new Date(t)}function It(e,t){return Jr(t||e,e)}function HJ(e,t,n){const r=It(e,n==null?void 0:n.in);return isNaN(t)?Jr((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}let WJ={};function du(){return WJ}function Fc(e,t){var c,u,h,f;const n=du(),r=(t==null?void 0:t.weekStartsOn)??((u=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,i=It(e,t==null?void 0:t.in),o=i.getDay(),l=(o<r?7:0)+o-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Oh(e,t){return Fc(e,{...t,weekStartsOn:1})}function pO(e,t){const n=It(e,t==null?void 0:t.in),r=n.getFullYear(),i=Jr(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=Oh(i),l=Jr(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=Oh(l);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Mh(e){const t=It(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function im(e,...t){const n=Jr.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function PC(e,t){const n=It(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function GJ(e,t,n){const[r,i]=im(n==null?void 0:n.in,e,t),o=PC(r),l=PC(i),c=+o-Mh(o),u=+l-Mh(l);return Math.round((c-u)/VJ)}function qJ(e,t){const n=pO(e,t),r=Jr((t==null?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Oh(r)}function $d(e,t){const n=+It(e)-+It(t);return n<0?-1:n>0?1:n}function ZJ(e){return Jr(e,Date.now())}function KJ(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function YJ(e){return!(!KJ(e)&&typeof e!="number"||isNaN(+It(e)))}function JJ(e,t,n){const[r,i]=im(n==null?void 0:n.in,e,t),o=r.getFullYear()-i.getFullYear(),l=r.getMonth()-i.getMonth();return o*12+l}function XJ(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function QJ(e,t){return+It(e)-+It(t)}function eX(e,t){const n=It(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function tX(e,t){const n=It(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function nX(e,t){const n=It(e,t==null?void 0:t.in);return+eX(n,t)==+tX(n,t)}function rX(e,t,n){const[r,i,o]=im(n==null?void 0:n.in,e,e,t),l=$d(i,o),c=Math.abs(JJ(i,o));if(c<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-l*c);let u=$d(i,o)===-l;nX(r)&&c===1&&$d(r,o)===1&&(u=!1);const h=l*(c-+u);return h===0?0:h}function iX(e,t,n){const r=QJ(e,t)/1e3;return XJ(n==null?void 0:n.roundingMethod)(r)}function sX(e,t){const n=It(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const oX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aX=(e,t,n)=>{let r;const i=oX[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function _a(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const lX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dX={date:_a({formats:lX,defaultWidth:"full"}),time:_a({formats:cX,defaultWidth:"full"}),dateTime:_a({formats:uX,defaultWidth:"full"})},hX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fX=(e,t,n,r)=>hX[e];function $r(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;i=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[c]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const mX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_X=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wX={ordinalNumber:_X,era:$r({values:mX,defaultWidth:"wide"}),quarter:$r({values:pX,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$r({values:gX,defaultWidth:"wide"}),day:$r({values:vX,defaultWidth:"wide"}),dayPeriod:$r({values:xX,defaultWidth:"wide",formattingValues:yX,defaultFormattingWidth:"wide"})};function Fr(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const l=o[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?jX(c,p=>p.test(l)):bX(c,p=>p.test(l));let h;h=e.valueCallback?e.valueCallback(u):u,h=n.valueCallback?n.valueCallback(h):h;const f=t.slice(l.length);return{value:h,rest:f}}}function bX(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function jX(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function gO(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const c=t.slice(i.length);return{value:l,rest:c}}}const CX=/^(\d+)(th|st|nd|rd)?/i,SX=/\d+/i,EX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NX={any:[/^b/i,/^(a|c)/i]},PX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},TX={any:[/1/i,/2/i,/3/i,/4/i]},AX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},LX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},IX={ordinalNumber:gO({matchPattern:CX,parsePattern:SX,valueCallback:e=>parseInt(e,10)}),era:Fr({matchPatterns:EX,defaultMatchWidth:"wide",parsePatterns:NX,defaultParseWidth:"any"}),quarter:Fr({matchPatterns:PX,defaultMatchWidth:"wide",parsePatterns:TX,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fr({matchPatterns:AX,defaultMatchWidth:"wide",parsePatterns:kX,defaultParseWidth:"any"}),day:Fr({matchPatterns:RX,defaultMatchWidth:"wide",parsePatterns:LX,defaultParseWidth:"any"}),dayPeriod:Fr({matchPatterns:OX,defaultMatchWidth:"any",parsePatterns:MX,defaultParseWidth:"any"})},vO={code:"en-US",formatDistance:aX,formatLong:dX,formatRelative:fX,localize:wX,match:IX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function DX(e,t){const n=It(e,t==null?void 0:t.in);return GJ(n,sX(n))+1}function $X(e,t){const n=It(e,t==null?void 0:t.in),r=+Oh(n)-+qJ(n);return Math.round(r/mO)+1}function xO(e,t){var f,p,v,y;const n=It(e,t==null?void 0:t.in),r=n.getFullYear(),i=du(),o=(t==null?void 0:t.firstWeekContainsDate)??((p=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((y=(v=i.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,l=Jr((t==null?void 0:t.in)||e,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const c=Fc(l,t),u=Jr((t==null?void 0:t.in)||e,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);const h=Fc(u,t);return+n>=+c?r+1:+n>=+h?r:r-1}function FX(e,t){var c,u,h,f;const n=du(),r=(t==null?void 0:t.firstWeekContainsDate)??((u=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,i=xO(e,t),o=Jr((t==null?void 0:t.in)||e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Fc(o,t)}function BX(e,t){const n=It(e,t==null?void 0:t.in),r=+Fc(n,t)-+FX(n,t);return Math.round(r/mO)+1}function qe(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ii={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return qe(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):qe(n+1,2)},d(e,t){return qe(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return qe(e.getHours()%12||12,t.length)},H(e,t){return qe(e.getHours(),t.length)},m(e,t){return qe(e.getMinutes(),t.length)},s(e,t){return qe(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return qe(i,t.length)}},Wo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},TC={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ii.y(e,t)},Y:function(e,t,n,r){const i=xO(e,r),o=i>0?i:1-i;if(t==="YY"){const l=o%100;return qe(l,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):qe(o,t.length)},R:function(e,t){const n=pO(e);return qe(n,t.length)},u:function(e,t){const n=e.getFullYear();return qe(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return qe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return qe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ii.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return qe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=BX(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):qe(i,t.length)},I:function(e,t,n){const r=$X(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):qe(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ii.d(e,t)},D:function(e,t,n){const r=DX(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):qe(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return qe(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return qe(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return qe(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Wo.noon:r===0?i=Wo.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Wo.evening:r>=12?i=Wo.afternoon:r>=4?i=Wo.morning:i=Wo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ii.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ii.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):qe(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):qe(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ii.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ii.s(e,t)},S:function(e,t){return Ii.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return kC(r);case"XXXX":case"XX":return Hs(r);case"XXXXX":case"XXX":default:return Hs(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return kC(r);case"xxxx":case"xx":return Hs(r);case"xxxxx":case"xxx":default:return Hs(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+AC(r,":");case"OOOO":default:return"GMT"+Hs(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+AC(r,":");case"zzzz":default:return"GMT"+Hs(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return qe(r,t.length)},T:function(e,t,n){return qe(+e,t.length)}};function AC(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+qe(o,2)}function kC(e,t){return e%60===0?(e>0?"-":"+")+qe(Math.abs(e)/60,2):Hs(e,t)}function Hs(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=qe(Math.trunc(r/60),2),o=qe(r%60,2);return n+i+t+o}const RC=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},yO=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},UX=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return RC(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",RC(r,t)).replace("{{time}}",yO(i,t))},zX={p:yO,P:UX},VX=/^D+$/,HX=/^Y+$/,WX=["D","DD","YY","YYYY"];function GX(e){return VX.test(e)}function qX(e){return HX.test(e)}function ZX(e,t,n){const r=KX(e,t,n);if(console.warn(r),WX.includes(e))throw new RangeError(r)}function KX(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const YX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XX=/^'([^]*?)'?$/,QX=/''/g,eQ=/[a-zA-Z]/;function kl(e,t,n){var f,p,v,y,w,x,S,j;const r=du(),i=(n==null?void 0:n.locale)??r.locale??vO,o=(n==null?void 0:n.firstWeekContainsDate)??((p=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(v=r.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((x=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((j=(S=r.locale)==null?void 0:S.options)==null?void 0:j.weekStartsOn)??0,c=It(e,n==null?void 0:n.in);if(!YJ(c))throw new RangeError("Invalid time value");let u=t.match(JX).map(b=>{const C=b[0];if(C==="p"||C==="P"){const N=zX[C];return N(b,i.formatLong)}return b}).join("").match(YX).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const C=b[0];if(C==="'")return{isToken:!1,value:tQ(b)};if(TC[C])return{isToken:!0,value:b};if(C.match(eQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return u.map(b=>{if(!b.isToken)return b.value;const C=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&qX(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&GX(C))&&ZX(C,t,String(e));const N=TC[C[0]];return N(c,C,i.localize,h)}).join("")}function tQ(e){const t=e.match(XX);return t?t[1].replace(QX,"'"):e}function nQ(e,t,n){const r=du(),i=(n==null?void 0:n.locale)??r.locale??vO,o=2520,l=$d(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[u,h]=im(n==null?void 0:n.in,...l>0?[t,e]:[e,t]),f=iX(h,u),p=(Mh(h)-Mh(u))/1e3,v=Math.round((f-p)/60);let y;if(v<2)return n!=null&&n.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,c):f<10?i.formatDistance("lessThanXSeconds",10,c):f<20?i.formatDistance("lessThanXSeconds",20,c):f<40?i.formatDistance("halfAMinute",0,c):f<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):v===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",v,c);if(v<45)return i.formatDistance("xMinutes",v,c);if(v<90)return i.formatDistance("aboutXHours",1,c);if(v<EC){const w=Math.round(v/60);return i.formatDistance("aboutXHours",w,c)}else{if(v<o)return i.formatDistance("xDays",1,c);if(v<vd){const w=Math.round(v/EC);return i.formatDistance("xDays",w,c)}else if(v<vd*2)return y=Math.round(v/vd),i.formatDistance("aboutXMonths",y,c)}if(y=rX(h,u),y<12){const w=Math.round(v/vd);return i.formatDistance("xMonths",w,c)}else{const w=y%12,x=Math.trunc(y/12);return w<3?i.formatDistance("aboutXYears",x,c):w<9?i.formatDistance("overXYears",x,c):i.formatDistance("almostXYears",x+1,c)}}function rQ(e,t){return nQ(e,ZJ(e),t)}function tg(e,t,n){return HJ(e,-t,n)}const iQ={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},sQ=(e,t,n)=>{let r;const i=iQ[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},oQ={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},aQ={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},lQ={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cQ={date:_a({formats:oQ,defaultWidth:"full"}),time:_a({formats:aQ,defaultWidth:"full"}),dateTime:_a({formats:lQ,defaultWidth:"full"})},uQ={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},dQ=(e,t,n,r)=>uQ[e],hQ={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},fQ={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},mQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},pQ={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},gQ={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},vQ=(e,t)=>{const n=Number(e),r=t==null?void 0:t.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let o;return n===1?o=r&&i.includes(r)?"ère":"er":o="ème",n+o},xQ=["MMM","MMMM"],yQ={preprocessor:(e,t)=>e.getDate()===1||!t.some(r=>r.isToken&&xQ.includes(r.value))?t:t.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:vQ,era:$r({values:hQ,defaultWidth:"wide"}),quarter:$r({values:fQ,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$r({values:mQ,defaultWidth:"wide"}),day:$r({values:pQ,defaultWidth:"wide"}),dayPeriod:$r({values:gQ,defaultWidth:"wide"})},_Q=/^(\d+)(ième|ère|ème|er|e)?/i,wQ=/\d+/i,bQ={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},jQ={any:[/^av/i,/^ap/i]},CQ={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},SQ={any:[/1/i,/2/i,/3/i,/4/i]},EQ={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},NQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},PQ={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},TQ={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},AQ={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},kQ={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},RQ={ordinalNumber:gO({matchPattern:_Q,parsePattern:wQ,valueCallback:e=>parseInt(e)}),era:Fr({matchPatterns:bQ,defaultMatchWidth:"wide",parsePatterns:jQ,defaultParseWidth:"any"}),quarter:Fr({matchPatterns:CQ,defaultMatchWidth:"wide",parsePatterns:SQ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fr({matchPatterns:EQ,defaultMatchWidth:"wide",parsePatterns:NQ,defaultParseWidth:"any"}),day:Fr({matchPatterns:PQ,defaultMatchWidth:"wide",parsePatterns:TQ,defaultParseWidth:"any"}),dayPeriod:Fr({matchPatterns:AQ,defaultMatchWidth:"any",parsePatterns:kQ,defaultParseWidth:"any"})},Fl={code:"fr",formatDistance:sQ,formatLong:cQ,formatRelative:dQ,localize:yQ,match:RQ,options:{weekStartsOn:1,firstWeekContainsDate:4}},LQ=()=>{const{user:e,isAdmin:t}=zt(),[n,r]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState({action:"all",dateRange:"7",search:""}),[u,h]=m.useState({totalConnections:0,uniqueUsers:0,todayConnections:0,activeUsers:0});m.useEffect(()=>{!t&&!i&&(window.location.href="/")},[t,i]);const f=async()=>{o(!0);try{let x=te.from("access_logs").select("*").eq("log_type","connection").order("created_at",{ascending:!1});if(l.action!=="all"&&(x=x.eq("action",l.action)),l.dateRange!=="all"){const b=parseInt(l.dateRange),C=tg(new Date,b);x=x.gte("created_at",C.toISOString())}l.search&&(x=x.or(`user_name.ilike.%${l.search}%,user_email.ilike.%${l.search}%`));const{data:S,error:j}=await x.limit(500);if(j)throw j;r(S||[])}catch(x){console.error("Erreur lors du chargement des logs:",x)}finally{o(!1)}},p=async()=>{try{const{data:x,error:S}=await te.from("access_logs").select("user_id, created_at").eq("log_type","connection").eq("action","login").order("created_at",{ascending:!1}).limit(1e3);if(S)throw S;const j=new Date,b=new Date(j.getFullYear(),j.getMonth(),j.getDate()),C=tg(j,1),N=(x==null?void 0:x.length)||0,A=new Set(x==null?void 0:x.map(R=>R.user_id)).size,P=(x==null?void 0:x.filter(R=>new Date(R.created_at)>=b).length)||0,T=new Set(x==null?void 0:x.filter(R=>new Date(R.created_at)>=C).map(R=>R.user_id)).size;h({totalConnections:N,uniqueUsers:A,todayConnections:P,activeUsers:T})}catch(x){console.error("Erreur lors du chargement des statistiques:",x),h({totalConnections:0,uniqueUsers:0,todayConnections:0,activeUsers:0})}};m.useEffect(()=>{if(t){const x=setTimeout(()=>{f(),p()},300);return()=>clearTimeout(x)}},[t,l]);const v=()=>{const x=[["Date","Heure","Utilisateur","Email","Action","IP","Navigateur"].join(","),...n.map(b=>{var C;return[kl(new Date(b.created_at),"dd/MM/yyyy",{locale:Fl}),kl(new Date(b.created_at),"HH:mm:ss",{locale:Fl}),b.user_name||"N/A",b.user_email||"N/A",b.action,b.ip_address||"N/A",((C=b.metadata)==null?void 0:C.browser)||"N/A"].join(",")})].join(`
`),S=new Blob([x],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a");j.href=URL.createObjectURL(S),j.download=`logs-connexion-${kl(new Date,"yyyy-MM-dd")}.csv`,j.click()},y=async()=>{if(confirm("Voulez-vous vraiment supprimer les logs de plus de 30 jours ?"))try{const x=tg(new Date,30),{error:S}=await te.from("access_logs").delete().eq("log_type","connection").lt("created_at",x.toISOString());if(S)throw S;alert("Anciens logs supprimés avec succès"),f(),p()}catch(x){console.error("Erreur lors de la suppression:",x),alert("Erreur lors de la suppression des logs")}},w=x=>{const j={login:{variant:"default",icon:Nc,color:"text-green-600"},logout:{variant:"secondary",icon:m3,color:"text-orange-600"}}[x]||{variant:"outline",icon:Ws,color:"text-gray-600"},b=j.icon;return s.jsxs(Pe,{variant:j.variant,className:"flex items-center gap-1",children:[s.jsx(b,{className:`w-3 h-3 ${j.color}`}),x==="login"?"Connexion":"Déconnexion"]})};return t?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(yt,{children:[s.jsx("title",{children:"Logs de Connexion - Administration"}),s.jsx("meta",{name:"description",content:"Suivi des connexions et déconnexions des membres"})]}),s.jsxs(ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yt,{className:"w-8 h-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Logs de Connexion"}),s.jsx("p",{className:"text-muted-foreground",children:"Suivi des connexions des membres"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{onClick:v,variant:"outline",size:"sm",children:[s.jsx(of,{className:"w-4 h-4 mr-2"}),"Exporter"]}),s.jsxs(X,{onClick:y,variant:"outline",size:"sm",children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Nettoyer"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(fe,{children:s.jsxs(me,{className:"flex items-center p-6",children:[s.jsx(Ws,{className:"w-8 h-8 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Connexions"}),s.jsx("p",{className:"text-2xl font-bold",children:u.totalConnections})]})]})}),s.jsx(fe,{children:s.jsxs(me,{className:"flex items-center p-6",children:[s.jsx(Yt,{className:"w-8 h-8 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Utilisateurs Uniques"}),s.jsx("p",{className:"text-2xl font-bold",children:u.uniqueUsers})]})]})}),s.jsx(fe,{children:s.jsxs(me,{className:"flex items-center p-6",children:[s.jsx(sf,{className:"w-8 h-8 text-orange-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Aujourd'hui"}),s.jsx("p",{className:"text-2xl font-bold",children:u.todayConnections})]})]})}),s.jsx(fe,{children:s.jsxs(me,{className:"flex items-center p-6",children:[s.jsx(jN,{className:"w-8 h-8 text-purple-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Actifs (24h)"}),s.jsx("p",{className:"text-2xl font-bold",children:u.activeUsers})]})]})})]}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(af,{className:"w-5 h-5"}),"Filtres"]})}),s.jsx(me,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Action"}),s.jsxs(Qe,{value:l.action,onValueChange:x=>c({...l,action:x}),children:[s.jsx(Ye,{children:s.jsx(et,{})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"all",children:"Toutes les actions"}),s.jsx(Ce,{value:"login",children:"Connexions"}),s.jsx(Ce,{value:"logout",children:"Déconnexions"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Période"}),s.jsxs(Qe,{value:l.dateRange,onValueChange:x=>c({...l,dateRange:x}),children:[s.jsx(Ye,{children:s.jsx(et,{})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"1",children:"Aujourd'hui"}),s.jsx(Ce,{value:"7",children:"7 derniers jours"}),s.jsx(Ce,{value:"30",children:"30 derniers jours"}),s.jsx(Ce,{value:"all",children:"Toutes les dates"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Recherche"}),s.jsx(be,{placeholder:"Nom ou email...",value:l.search,onChange:x=>c({...l,search:x.target.value})})]})]})})]}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(Ta,{className:"w-5 h-5"}),"Logs de Connexion (",n.length,")"]})}),s.jsx(me,{children:i?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(hn,{children:[s.jsx(fn,{children:s.jsxs(We,{children:[s.jsx(ge,{children:"Date & Heure"}),s.jsx(ge,{children:"Utilisateur"}),s.jsx(ge,{children:"Action"}),s.jsx(ge,{children:"IP"}),s.jsx(ge,{children:"Navigateur"})]})}),s.jsx(mn,{children:n.length===0?s.jsx(We,{children:s.jsx(ve,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Aucun log trouvé"})}):n.map(x=>{var S,j;return s.jsxs(We,{children:[s.jsx(ve,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xo,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:kl(new Date(x.created_at),"dd/MM/yyyy",{locale:Fl})}),s.jsx("div",{className:"text-sm text-muted-foreground",children:kl(new Date(x.created_at),"HH:mm:ss",{locale:Fl})})]})]})}),s.jsx(ve,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:x.user_name||"N/A"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:x.user_email})]})}),s.jsx(ve,{children:w(x.action)}),s.jsx(ve,{children:s.jsx("code",{className:"text-sm",children:x.ip_address||"N/A"})}),s.jsx(ve,{children:s.jsxs("div",{className:"text-sm",children:[((S=x.metadata)==null?void 0:S.browser)||"N/A",((j=x.metadata)==null?void 0:j.platform)&&s.jsx("div",{className:"text-xs text-muted-foreground",children:x.metadata.platform})]})})]},x.id)})})]})})})]})]}):s.jsx(hO,{children:s.jsx(fO,{children:"Accès non autorisé. Cette page est réservée aux administrateurs."})})},OQ=()=>{const{isAdmin:e,user:t}=zt(),{toast:n}=tt(),[r,i]=m.useState([]),[o,l]=m.useState(!0),[c,u]=m.useState(""),[h,f]=m.useState("all"),[p,v]=m.useState("all"),[y,w]=m.useState("all"),[x,S]=m.useState([]),j=async()=>{try{l(!0);let R=te.from("access_logs").select(`
          *,
          profiles (
            id,
            first_name,
            last_name,
            email
          )
        `).order("created_at",{ascending:!1});if(h!=="all"&&(R=R.eq("action",h)),p!=="all"&&(R=R.eq("user_id",p)),y!=="all"){const W=new Date;let U;switch(y){case"today":U=new Date(W.getFullYear(),W.getMonth(),W.getDate());break;case"week":U=new Date(W.getTime()-7*24*60*60*1e3);break;case"month":U=new Date(W.getFullYear(),W.getMonth(),1);break}U&&(R=R.gte("created_at",U.toISOString()))}const{data:O,error:B}=await R.limit(1e3);if(B)throw B;i(O||[])}catch(R){console.error("Erreur lors du chargement des logs:",R),n({title:"Erreur",description:"Impossible de charger les logs d'accès.",variant:"destructive"})}finally{l(!1)}},b=async()=>{try{const{data:R,error:O}=await te.from("profiles").select("id, first_name, last_name, email").order("last_name");if(O)throw O;S(R||[])}catch(R){console.error("Erreur lors du chargement des utilisateurs:",R)}};m.useEffect(()=>{e&&(j(),b())},[e,h,p,y]);const C=r.filter(R=>{var B,W,U,K,$,k,I,F,D;if(!c)return!0;const O=c.toLowerCase();return((B=R.page)==null?void 0:B.toLowerCase().includes(O))||((W=R.user_agent)==null?void 0:W.toLowerCase().includes(O))||((U=R.ip_address)==null?void 0:U.toLowerCase().includes(O))||(($=(K=R.profiles)==null?void 0:K.first_name)==null?void 0:$.toLowerCase().includes(O))||((I=(k=R.profiles)==null?void 0:k.last_name)==null?void 0:I.toLowerCase().includes(O))||((D=(F=R.profiles)==null?void 0:F.email)==null?void 0:D.toLowerCase().includes(O))}),N=async()=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer les logs de plus de 30 jours ?"))try{const R=new Date;R.setDate(R.getDate()-30);const{error:O}=await te.from("access_logs").delete().lt("created_at",R.toISOString());if(O)throw O;n({title:"Succès",description:"Anciens logs supprimés avec succès."}),j()}catch(R){console.error("Erreur lors de la suppression:",R),n({title:"Erreur",description:"Impossible de supprimer les anciens logs.",variant:"destructive"})}},A=()=>{const R=[["Date","Utilisateur","Email","Action","Page","IP","User Agent"].join(","),...C.map(U=>{var K,$,k;return[new Date(U.created_at).toLocaleString("fr-FR"),`${((K=U.profiles)==null?void 0:K.first_name)||""} ${(($=U.profiles)==null?void 0:$.last_name)||""}`.trim()||"Utilisateur inconnu",((k=U.profiles)==null?void 0:k.email)||"",U.action,U.page||"",U.ip_address||"",`"${U.user_agent||""}"`].join(",")})].join(`
`),O=new Blob([R],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a"),W=URL.createObjectURL(O);B.setAttribute("href",W),B.setAttribute("download",`access-logs-${new Date().toISOString().split("T")[0]}.csv`),B.style.visibility="hidden",document.body.appendChild(B),B.click(),document.body.removeChild(B)},P=R=>{const O={login:"default",logout:"secondary",page_view:"outline",error:"destructive"},B={login:"Connexion",logout:"Déconnexion",page_view:"Page visitée",error:"Erreur"};return s.jsx(Pe,{variant:O[R]||"outline",children:B[R]||R})},T=R=>{switch(R){case"login":return s.jsx(wr,{className:"w-4 h-4"});case"logout":return s.jsx(wr,{className:"w-4 h-4"});case"page_view":return s.jsx(Ta,{className:"w-4 h-4"});case"error":return s.jsx(Ws,{className:"w-4 h-4"});default:return s.jsx(Ws,{className:"w-4 h-4"})}};return e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Logs d'Accès"}),s.jsx("p",{className:"text-muted-foreground",children:"Suivi des connexions et navigation des utilisateurs"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{onClick:A,variant:"outline",children:[s.jsx(of,{className:"w-4 h-4 mr-2"}),"Exporter CSV"]}),s.jsxs(X,{onClick:N,variant:"outline",children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Nettoyer anciens logs"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(fe,{children:[s.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Total logs"}),s.jsx(Ws,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(me,{children:s.jsx("div",{className:"text-2xl font-bold",children:r.length})})]}),s.jsxs(fe,{children:[s.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Connexions"}),s.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(me,{children:s.jsx("div",{className:"text-2xl font-bold",children:r.filter(R=>R.action==="login").length})})]}),s.jsxs(fe,{children:[s.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Pages vues"}),s.jsx(Ta,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(me,{children:s.jsx("div",{className:"text-2xl font-bold",children:r.filter(R=>R.action==="page_view").length})})]}),s.jsxs(fe,{children:[s.jsxs(ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(_e,{className:"text-sm font-medium",children:"Utilisateurs uniques"}),s.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(me,{children:s.jsx("div",{className:"text-2xl font-bold",children:new Set(r.map(R=>R.user_id)).size})})]})]}),s.jsx(fe,{children:s.jsx(me,{className:"pt-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx("div",{children:s.jsx(be,{placeholder:"Rechercher...",value:c,onChange:R=>u(R.target.value),className:"w-full"})}),s.jsxs(Qe,{value:h,onValueChange:f,children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Action"})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"all",children:"Toutes les actions"}),s.jsx(Ce,{value:"login",children:"Connexions"}),s.jsx(Ce,{value:"logout",children:"Déconnexions"}),s.jsx(Ce,{value:"page_view",children:"Pages vues"}),s.jsx(Ce,{value:"error",children:"Erreurs"})]})]}),s.jsxs(Qe,{value:p,onValueChange:v,children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Utilisateur"})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"all",children:"Tous les utilisateurs"}),x.map(R=>s.jsxs(Ce,{value:R.id,children:[R.first_name," ",R.last_name]},R.id))]})]}),s.jsxs(Qe,{value:y,onValueChange:w,children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Période"})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"all",children:"Toutes les dates"}),s.jsx(Ce,{value:"today",children:"Aujourd'hui"}),s.jsx(Ce,{value:"week",children:"Cette semaine"}),s.jsx(Ce,{value:"month",children:"Ce mois"})]})]}),s.jsxs(X,{onClick:j,variant:"outline",children:[s.jsx(af,{className:"w-4 h-4 mr-2"}),"Actualiser"]})]})})}),s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[s.jsx(Ws,{className:"w-5 h-5"}),"Journal d'activité (",C.length," entrées)"]})}),s.jsx(me,{children:o?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement des logs..."})]}):C.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ws,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucun log trouvé pour les critères sélectionnés."})]}):s.jsx("div",{className:"space-y-3",children:C.map(R=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"flex-shrink-0",children:T(R.action)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium",children:R.profiles?`${R.profiles.first_name} ${R.profiles.last_name}`:"Utilisateur inconnu"}),P(R.action)]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[R.page&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jN,{className:"w-3 h-3"}),s.jsx("span",{children:R.page})]}),R.ip_address&&s.jsx("div",{className:"flex items-center gap-1",children:s.jsxs("span",{children:["IP: ",R.ip_address]})}),R.user_agent&&s.jsx("div",{className:"text-xs truncate max-w-md",children:R.user_agent})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(sf,{className:"w-4 h-4"}),s.jsx("span",{children:rQ(new Date(R.created_at),{addSuffix:!0,locale:Fl})})]})]},R.id))})})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Accès réservé aux administrateurs."})})},MQ=()=>{const{id:e}=ef(),t=kn(),{toast:n}=tt(),{showMemberDetails:r}=Sr(),[i,o]=m.useState(null),[l,c]=m.useState([]),[u,h]=m.useState([]),[f,p]=m.useState([]),[v,y]=m.useState("");m.useState("");const[w,x]=m.useState(!0),[S,j]=m.useState(!1),[b,C]=m.useState([]),[N,A]=m.useState("Competiteur"),[P,T]=m.useState(!1),[R,O]=m.useState([]),[B,W]=m.useState(""),[U,K]=m.useState([]),$=["Competiteur","Coach","Arbitre","Organisateur"],k=["Homme","Femme"];m.useEffect(()=>{e&&(async()=>{x(!0);try{const{data:Z,error:q}=await te.from("competitions").select("*").eq("id",e).single();if(q)throw q;o(Z);const{data:Q,error:ie}=await te.from("competition_participants").select("*").eq("competition_id",e).order("role").order("created_at");if(ie)throw ie;let ne=[];if(Q&&Q.length>0){const Ne=Q.map(Ke=>Ke.member_id),{data:ke,error:ze}=await te.from("members").select("*").in("id",Ne);if(ze)throw ze;ne=Q.map(Ke=>({...Ke,members:(ke==null?void 0:ke.find(xn=>xn.id===Ke.member_id))||null}))}c(ne);const{data:de,error:Se}=await te.from("members").select("*").order("last_name");if(Se)throw Se;h(de||[]),p(de||[]);const je=[...new Set(de==null?void 0:de.map(Ne=>Ne.category).filter(Boolean))];K(je.sort()),O(je)}catch(Z){console.error("Error loading data:",Z),n({title:"Erreur",description:"Impossible de charger les données.",variant:"destructive"})}finally{x(!1)}})()},[e,n]),m.useEffect(()=>{let z=u;const Z=l.map(q=>q.member_id);z=z.filter(q=>!Z.includes(q.id)),v&&(z=z.filter(q=>{var Q;return`${q.first_name} ${q.last_name}`.toLowerCase().includes(v.toLowerCase())||((Q=q.category)==null?void 0:Q.toLowerCase().includes(v.toLowerCase()))})),R.length>0&&(z=z.filter(q=>R.includes(q.category))),B&&(z=z.filter(q=>q.sexe===B)),p(z)},[u,l,v,R,B]);const I=async()=>{if(b.length===0){n({title:"Attention",description:"Veuillez sélectionner au moins un membre."});return}T(!0);try{const z=b.map(Q=>({competition_id:e,member_id:Q,role:N})),{error:Z}=await te.from("competition_participants").insert(z);if(Z)throw Z;n({title:"Succès",description:`${b.length} participant(s) ajouté(s).`});const{data:q}=await te.from("competition_participants").select(`
          *,
          members (*)
        `).eq("competition_id",e).order("role").order("last_name",{foreignTable:"members"});c(q||[]),C([]),j(!1)}catch(z){console.error("Error adding participants:",z),n({title:"Erreur",description:"Impossible d'ajouter les participants.",variant:"destructive"})}finally{T(!1)}},F=async z=>{if(window.confirm("Êtes-vous sûr de vouloir retirer ce participant ?"))try{const{error:Z}=await te.from("competition_participants").delete().eq("id",z);if(Z)throw Z;c(q=>q.filter(Q=>Q.id!==z)),n({title:"Succès",description:"Participant retiré de la compétition."})}catch(Z){console.error("Error removing participant:",Z),n({title:"Erreur",description:"Impossible de retirer le participant.",variant:"destructive"})}},D=z=>{O(Z=>Z.includes(z)?Z.filter(q=>q!==z):[...Z,z])},H=()=>{R.length===U.length?O([]):O([...U])},G=z=>{C(Z=>Z.includes(z)?Z.filter(q=>q!==z):[...Z,z])};if(w)return s.jsx("div",{className:"flex justify-center items-center py-8",children:"Chargement..."});if(!i)return s.jsx("div",{className:"text-center py-8",children:"Compétition non trouvée."});const ee=l.reduce((z,Z)=>{const q=Z.role||"Autre";return z[q]||(z[q]=[]),z[q].push(Z),z},{});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(X,{variant:"ghost",onClick:()=>t("/competitions"),children:[s.jsx(us,{className:"w-4 h-4 mr-2"}),"Retour aux compétitions"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:i.name}),s.jsx("p",{className:"text-muted-foreground",children:"Gestion des participants"})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Yt,{className:"w-5 h-5"}),"Participants (",l.length,")"]}),s.jsxs(X,{onClick:()=>j(!0),children:[s.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Ajouter des participants"]})]}),s.jsxs("div",{className:"space-y-6",children:[Object.entries(ee).map(([z,Z])=>s.jsxs(fe,{children:[s.jsx(ye,{children:s.jsxs(_e,{className:"flex items-center gap-2",children:[z==="Competiteur"?s.jsx(qa,{className:"w-5 h-5"}):s.jsx(Nc,{className:"w-5 h-5"}),z," (",Z.length,")"]})}),s.jsx(me,{children:s.jsx("div",{className:"space-y-2",children:Z.map(q=>{var Q,ie,ne,de,Se;return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsx("div",{className:"flex items-center gap-3 cursor-pointer flex-1",onClick:()=>{var je;return((je=q.members)==null?void 0:je.id)&&r(q.members.id)},children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:(Q=q.members)!=null&&Q.last_name&&((ie=q.members)!=null&&ie.first_name)?`${q.members.last_name.toUpperCase()} ${q.members.first_name}`:`Membre non trouvé (ID: ${q.member_id})`}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded font-medium ${((ne=q.members)==null?void 0:ne.sexe)==="Femme"?"bg-pink-100 text-pink-700 border border-pink-200":"bg-blue-100 text-blue-700 border border-blue-200"}`,children:((de=q.members)==null?void 0:de.category)||"Catégorie inconnue"}),s.jsx("span",{children:"•"}),s.jsx("span",{children:((Se=q.members)==null?void 0:Se.sexe)||"Sexe inconnu"}),q.ranking&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsxs(Pe,{variant:"outline",className:"text-xs",children:["Classé ",q.ranking,q.nb_competitor&&`/${q.nb_competitor}`]})]})]})]})}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>F(q.id),className:"text-destructive hover:text-destructive",children:s.jsx(Wn,{className:"w-4 h-4"})})]},q.id)})})})]},z)),l.length===0&&s.jsx(fe,{children:s.jsxs(me,{className:"text-center py-8",children:[s.jsx(Yt,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Aucun participant"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Cette compétition n'a pas encore de participants."}),s.jsxs(X,{onClick:()=>j(!0),children:[s.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Ajouter le premier participant"]})]})})]}),s.jsx(Mt,{open:S,onOpenChange:j,children:s.jsxs(At,{className:"max-w-5xl max-h-[85vh] overflow-hidden flex flex-col",children:[s.jsx(qt,{children:s.jsxs(Zt,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Ajouter des participants"}),s.jsxs(Pe,{variant:"outline",children:[f.length," membre(s) disponible(s)"]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4",children:[s.jsxs("div",{className:"space-y-4 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{children:"Rechercher un membre"}),s.jsxs("div",{className:"relative",children:[s.jsx(bi,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"}),s.jsx(be,{placeholder:"Nom, prénom...",value:v,onChange:z=>y(z.target.value),className:"pl-10"})]})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Rôle à attribuer"}),s.jsxs(Qe,{value:N,onValueChange:A,children:[s.jsx(Ye,{children:s.jsx(et,{})}),s.jsx(Je,{children:$.map(z=>s.jsx(Ce,{value:z,children:z},z))})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(le,{children:"Catégories"}),s.jsx(X,{variant:"ghost",size:"sm",onClick:H,className:"text-xs",children:R.length===U.length?"Tout désélectionner":"Tout sélectionner"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:U.map(z=>s.jsx(Pe,{variant:R.includes(z)?"default":"outline",className:"cursor-pointer text-xs",onClick:()=>D(z),children:z},z))})]}),s.jsxs("div",{children:[s.jsx(le,{children:"Sexe"}),s.jsxs(Qe,{value:B,onValueChange:W,children:[s.jsx(Ye,{children:s.jsx(et,{placeholder:"Tous"})}),s.jsxs(Je,{children:[s.jsx(Ce,{value:"",children:"Tous"}),k.map(z=>s.jsx(Ce,{value:z,children:z},z))]})]})]}),b.length>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Pe,{variant:"default",className:"bg-blue-600",children:[b.length," membre(s) sélectionné(s)"]}),s.jsxs("span",{className:"text-sm text-blue-700",children:["sur ",f.length," disponible(s)"]})]}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>C([]),className:"text-blue-700 hover:text-blue-800 hover:bg-blue-100",children:[s.jsx(Er,{className:"w-3 h-3 mr-1"}),"Tout désélectionner"]})]})]}),s.jsx("div",{className:"space-y-2",children:f.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:v||R.length<U.length||B?"Aucun membre trouvé avec ces filtres.":"Tous les membres sont déjà participants."}):s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-primary text-primary-foreground",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4 p-3 font-medium",children:[s.jsx("div",{className:"col-span-1 flex items-center justify-center",children:s.jsx("input",{type:"checkbox",checked:b.length===f.length&&f.length>0,onChange:()=>{b.length===f.length?C([]):C(f.map(z=>z.id))},className:"w-4 h-4"})}),s.jsx("div",{className:"col-span-3",children:"Nom"}),s.jsx("div",{className:"col-span-3",children:"Prénom"}),s.jsx("div",{className:"col-span-2",children:"Licence"}),s.jsx("div",{className:"col-span-3",children:"Catégorie"})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:f.sort((z,Z)=>z.last_name.localeCompare(Z.last_name)).map((z,Z)=>{var q;return s.jsxs("div",{className:`grid grid-cols-12 gap-4 p-3 border-b cursor-pointer transition-colors ${b.includes(z.id)?"bg-blue-50 border-blue-200":Z%2===0?"bg-white":"bg-gray-50"} hover:bg-blue-100`,onClick:()=>G(z.id),children:[s.jsx("div",{className:"col-span-1 flex items-center justify-center",children:s.jsx("input",{type:"checkbox",checked:b.includes(z.id),onChange:()=>G(z.id),className:"w-4 h-4"})}),s.jsx("div",{className:"col-span-3 font-medium",children:((q=z.last_name)==null?void 0:q.toUpperCase())||""}),s.jsx("div",{className:"col-span-3",children:z.first_name||""}),s.jsx("div",{className:"col-span-2 text-sm text-muted-foreground",children:z.licence||"-"}),s.jsx("div",{className:"col-span-3",children:s.jsx(Pe,{variant:b.includes(z.id)?"default":"outline",className:"text-xs",children:z.category||"-"})})]},z.id)})})]})})]}),s.jsxs(cr,{className:"pt-4",children:[s.jsx(X,{variant:"outline",onClick:()=>j(!1),children:"Annuler"}),s.jsxs(X,{onClick:I,disabled:b.length===0||P,children:[P&&s.jsx(cf,{className:"w-4 h-4 mr-2 animate-spin"}),"Ajouter ",b.length>0&&`(${b.length})`]})]})]})})]})},IQ=()=>{var w;const{isDetailVisible:e,hideMemberDetails:t,selectedMember:n,loading:r,openEditFormForMember:i,showMemberDetails:o}=Sr(),{isAdmin:l}=zt(),c=kn(),u=(x,S)=>`${(x==null?void 0:x[0])||""}${(S==null?void 0:S[0])||""}`.toUpperCase(),h=()=>{n&&i(n)},f=x=>{x&&o(x)},p=()=>{n&&(t(),c(`/competitor-summary/${n.id}`))},v=[...n!=null&&n.sub_group?[n.sub_group]:[],...(n==null?void 0:n.dynamic_roles)||[]].filter(Boolean),y=(w=n==null?void 0:n.title)==null?void 0:w.startsWith("Compétition");return s.jsx(Mt,{open:e,onOpenChange:t,children:s.jsx(At,{className:"sm:max-w-md",children:s.jsx(Ot,{children:r?s.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-center items-center h-96",children:s.jsx($e,{className:"h-12 w-12 animate-spin text-primary"})},"loader"):n&&s.jsxs(ue.div,{initial:{opacity:0},animate:{opacity:1},children:[s.jsxs(qt,{className:"items-center text-center",children:[s.jsxs(gs,{className:"w-24 h-24 mb-4",children:[s.jsx(vs,{src:n.photo_url,alt:it(n.first_name,n.last_name,l)}),s.jsx(xs,{className:"text-3xl",children:u(n.first_name,n.last_name)})]}),s.jsx(Zt,{className:"text-2xl",children:it(n.first_name,n.last_name,l)})]}),s.jsxs("div",{className:"py-4 space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[v.map(x=>s.jsxs(Pe,{variant:"secondary",children:[s.jsx(HF,{className:"w-3 h-3 mr-1.5"}),x]},x)),n.passeport&&s.jsxs(Pe,{variant:"outline",children:[s.jsx(ON,{className:"w-3 h-3 mr-1.5"}),"Passeport ",n.passeport]})]}),n.sexe&&s.jsx("div",{className:"flex justify-center",children:s.jsxs("span",{className:`text-sm px-3 py-1.5 rounded-lg font-medium flex items-center gap-2 ${n.sexe==="F"?"bg-pink-100 text-pink-700 border border-pink-200":"bg-blue-100 text-blue-700 border border-blue-200"}`,children:[n.sexe==="F"?"👩":"👨",n.sexe==="F"?"Femme":"Homme"]})}),s.jsxs("div",{className:"space-y-2",children:[n.email&&s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx(NN,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("a",{href:`mailto:${n.email}`,className:"hover:underline",children:n.email})]}),n.phone&&s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx(l3,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("a",{href:`tel:${n.phone}`,className:"hover:underline",children:n.phone})]}),n.licence&&s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx(wN,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{children:["Licence FFME: ",n.licence]})]})]}),n.brevet_federaux&&n.brevet_federaux.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[s.jsx(nf,{className:"w-4 h-4"})," Brevets Fédéraux"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.brevet_federaux.map(x=>s.jsx(Pe,{variant:"default",children:x},x))})]}),(n.emergency_contact_1||n.emergency_contact_2)&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[s.jsx(lf,{className:"w-4 h-4"})," Contacts d'urgence"]}),s.jsxs("ul",{className:"text-sm list-inside space-y-1",children:[n.emergency_contact_1&&s.jsxs("li",{className:"cursor-pointer hover:underline",onClick:()=>f(n.emergency_contact_1.id),children:[it(n.emergency_contact_1.first_name,n.emergency_contact_1.last_name,l)," ",l&&n.emergency_contact_1.phone&&`(${n.emergency_contact_1.phone})`]}),n.emergency_contact_2&&s.jsxs("li",{className:"cursor-pointer hover:underline",onClick:()=>f(n.emergency_contact_2.id),children:[it(n.emergency_contact_2.first_name,n.emergency_contact_2.last_name,l)," ",l&&n.emergency_contact_2.phone&&`(${n.emergency_contact_2.phone})`]})]})]}),n.isEmergencyContactFor&&n.isEmergencyContactFor.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4"})," Contact d'urgence pour"]}),s.jsx("ul",{className:"text-sm list-inside space-y-1",children:n.isEmergencyContactFor.map(x=>s.jsx("li",{className:"cursor-pointer hover:underline",onClick:()=>f(x.id),children:it(x.first_name,x.last_name,l)},x.id))})]})]}),s.jsxs(cr,{className:"flex-col gap-2",children:[y&&s.jsxs(X,{onClick:p,variant:"outline",className:"w-full",children:[s.jsx(qa,{className:"mr-2 h-4 w-4"})," Voir le palmarès"]}),l&&s.jsxs(X,{onClick:h,className:"w-full",children:[s.jsx(Qr,{className:"mr-2 h-4 w-4"})," Modifier le membre"]})]})]},"content")})})})},DQ=()=>s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx($e,{className:"w-12 h-12 animate-spin text-primary"}),s.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"Chargement..."})]})}),$Q=()=>{const{isFormVisible:e,editingMember:t,closeEditForm:n}=Sr(),{toast:r}=tt(),[i,o]=m.useState(!1),l=async(c,u)=>{o(!0);try{let h=c.photo_url;u||c.photo_url===null&&(h=null);const{profiles:f,dynamic_roles:p,isEmergencyContactFor:v,emergency_contact_1:y,emergency_contact_2:w,...x}={...c,photo_url:h};console.log("Données à sauvegarder:",x),console.log("Sexe dans les données:",x.sexe);const{error:S}=await te.from("members").update(x).eq("id",t.id);if(S)throw S;r({title:"Succès",description:"Membre modifié avec succès"}),n(),window.location.reload()}catch(h){console.error("Erreur lors de la sauvegarde:",h),r({title:"Erreur",description:"Erreur lors de la modification du membre",variant:"destructive"})}finally{o(!1)}};return!e||!t?null:s.jsx(rm,{member:t,onSave:l,onCancel:n,isSaving:i})},FQ=()=>{const{loading:e}=zt();return e?s.jsx(DQ,{}):s.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[s.jsxs(uF,{children:[s.jsx("title",{children:"ALJ Escalade Jonage"}),s.jsx("meta",{name:"description",content:"Application web du club d'escalade ALJ Escalade Jonage - Compétitions, planning et bénévoles"})]}),s.jsx(NW,{}),s.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:s.jsxs(n$,{children:[s.jsx(Xe,{path:"/",element:s.jsx(Uj,{})}),s.jsx(Xe,{path:"/news",element:s.jsx(Uj,{})}),s.jsx(Xe,{path:"/news/:id",element:s.jsx(DG,{})}),s.jsx(Xe,{path:"/competitions",element:s.jsx(sK,{})}),s.jsx(Xe,{path:"/competitions/new",element:s.jsx(SC,{})}),s.jsx(Xe,{path:"/competitions/edit/:id",element:s.jsx(SC,{})}),s.jsx(Xe,{path:"/competitions/participants/:id",element:s.jsx(MQ,{})}),s.jsx(Xe,{path:"/competitions-summary",element:s.jsx(BJ,{})}),s.jsx(Xe,{path:"/inscriptions-summary",element:s.jsx(FJ,{})}),s.jsx(Xe,{path:"/competitors",element:s.jsx(LY,{})}),s.jsx(Xe,{path:"/volunteers",element:s.jsx(EY,{})}),s.jsx(Xe,{path:"/agenda",element:s.jsx(NY,{})}),s.jsx(Xe,{path:"/schedule",element:s.jsx(PY,{})}),s.jsx(Xe,{path:"/session-log",element:s.jsx(UY,{})}),s.jsx(Xe,{path:"/pedagogy",element:s.jsx(WY,{})}),s.jsx(Xe,{path:"/members",element:s.jsx(qY,{})}),s.jsx(Xe,{path:"/inscriptions",element:s.jsx(RJ,{})}),s.jsx(Xe,{path:"/contact",element:s.jsx(dJ,{})}),s.jsx(Xe,{path:"/site-settings",element:s.jsx(hJ,{})}),s.jsx(Xe,{path:"/annual-summary",element:s.jsx(fJ,{})}),s.jsx(Xe,{path:"/admin-management",element:s.jsx(kJ,{})}),s.jsx(Xe,{path:"/image-admin",element:s.jsx(MJ,{})}),s.jsx(Xe,{path:"/setup",element:s.jsx(IJ,{})}),s.jsx(Xe,{path:"/competitor-summary/:memberId",element:s.jsx($J,{})}),s.jsx(Xe,{path:"/connection-logs",element:s.jsx(LQ,{})}),s.jsx(Xe,{path:"/access-logs",element:s.jsx(OQ,{})})]})}),s.jsx(AW,{}),s.jsx(m5,{}),s.jsx(IQ,{}),s.jsx($Q,{})]})};function BQ(){return console.log("⚛️ Composant App monté avec succès"),console.log("🔧 React Router configuré pour GitHub Pages"),s.jsx(u$,{basename:"/ALJ_Jonage_Escalade",children:s.jsx(DV,{children:s.jsx(B7,{children:s.jsx(sq,{children:s.jsx(FQ,{})})})})})}console.log("🚀 ALJ Jonage Escalade - Application démarrée avec succès !");console.log("🔢 Version: 2.4.0 - Accordéon pour compétitions ajouté ! 🎵");console.log("� Nouveauté: Accordéon avec prochaine compétition ouverte par défaut");console.log("🎯 Interface: En-têtes compacts avec titre, date, lieu et niveau");console.log("📅 Chargement à:",new Date().toLocaleString("fr-FR"));console.log("🌐 URL actuelle:",window.location.href);console.log("📦 Mode de déploiement: GitHub Pages (gh-pages branch)");ng.createRoot(document.getElementById("root")).render(s.jsx(BQ,{}));
