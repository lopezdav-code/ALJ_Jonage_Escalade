import{Y as te,r as c,l as se,j as e,G as ae,m as k,X as ie,I,Z as ne,R as le,D as Y,J as ce,K as oe,W as de,M,N as B,O as P,Q as R,U as V,V as L,_ as K,F as ue,$ as me,a0 as he,a1 as ge,a2 as pe,a3 as fe,a4 as xe,a5 as _e,S as je,y as j,a6 as ye,a7 as ve,w as Se,x as we,z as Ne,A as be,H as Ce,E as Ee}from"./index-1760781166799.js";import{B as Ie}from"./book-marked-1760781166799.js";import{L as $e}from"./library-1760781166799.js";import{U as Fe}from"./upload-1760781166799.js";import{S as ke}from"./save-1760781166799.js";const Te=te("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Ae=te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),De=({exercise:s,index:u,total:y,onExerciseChange:v,onRemove:g,onMove:$,onImport:S})=>{const[_,m]=c.useState(null),[w,x]=c.useState(s.image_url||null),b=se();c.useEffect(()=>{x(s.image_url),s.image_url&&_&&s.image_url!==URL.createObjectURL(_)&&m(null)},[s.image_url]);const n=(o,E)=>{v(u,{...s,[o]:E})},h=o=>{const E=o.target.files[0];if(E){m(E);const O=URL.createObjectURL(E);x(O),v(u,{...s,newImageFile:E,image_url:O})}},C=()=>{s.pedagogy_sheet_id&&b(`/pedagogy#sheet-${s.pedagogy_sheet_id}`)};return e.jsxs(ae,{className:"p-4 relative bg-muted/40",children:[e.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[e.jsx(k,{type:"button",variant:"ghost",size:"icon",onClick:()=>$(u,-1),disabled:u===0,children:e.jsx(Ae,{className:"w-4 h-4"})}),e.jsx(k,{type:"button",variant:"ghost",size:"icon",onClick:()=>$(u,1),disabled:u===y-1,children:e.jsx(Te,{className:"w-4 h-4"})}),e.jsx(k,{type:"button",variant:"ghost",size:"icon",onClick:()=>g(u),children:e.jsx(ie,{className:"w-4 h-4 text-destructive"})})]}),e.jsxs("div",{className:"absolute top-2 left-2 flex items-center gap-2",children:[e.jsxs(k,{type:"button",variant:"outline",size:"sm",onClick:S,children:[e.jsx(Ie,{className:"w-4 h-4 mr-2"})," Importer"]}),s.pedagogy_sheet_id&&e.jsxs(k,{type:"button",variant:"secondary",size:"sm",onClick:C,title:"Voir la fiche pédagogique",children:[e.jsx($e,{className:"w-4 h-4 mr-2"})," Fiche"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-12",children:[e.jsx(I,{placeholder:"Objectifs opérationnels",value:s.operational_objective||"",onChange:o=>n("operational_objective",o.target.value)}),e.jsx(I,{placeholder:"Situation",value:s.situation||"",onChange:o=>n("situation",o.target.value)}),e.jsx(I,{placeholder:"Organisation Temps/volume",value:s.organisation||"",onChange:o=>n("organisation",o.target.value)}),e.jsx(I,{placeholder:"Consigne",value:s.consigne||"",onChange:o=>n("consigne",o.target.value)}),e.jsx(I,{placeholder:"Temps (ex: 10min)",value:s.time||"",onChange:o=>n("time",o.target.value)}),e.jsx(I,{placeholder:"Critère de réussite",value:s.success_criteria||"",onChange:o=>n("success_criteria",o.target.value)}),e.jsx(I,{placeholder:"Régulation",value:s.regulation||"",onChange:o=>n("regulation",o.target.value)}),e.jsx(I,{placeholder:"Lien support",value:s.support_link||"",onChange:o=>n("support_link",o.target.value)}),e.jsxs("div",{className:"md:col-span-2 flex items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 border rounded-md flex items-center justify-center bg-background",children:w?e.jsx("img",{src:w,alt:"Aperçu",className:"w-full h-full object-cover rounded-md"}):e.jsx(ne,{className:"w-8 h-8 text-muted-foreground"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("label",{htmlFor:`image-upload-${u}`,children:e.jsx(k,{type:"button",variant:"outline",size:"sm",asChild:!0,className:"cursor-pointer",children:e.jsxs("span",{children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),_?"Changer l'image":"Téléverser une image"]})})}),e.jsx(I,{id:`image-upload-${u}`,type:"file",className:"hidden",accept:"image/*",onChange:h}),s.image_url&&!_&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Image actuelle. Téléversez pour remplacer."})]})]})]})]})},Me={all:"Toutes les fiches",educational_game:"Jeu éducatif",warm_up_exercise:"Exercice d'échauffement",strength_exercise:"Exercice de renfo",review_sheet:"Fiche de révision"},Z=({title:s,options:u,selected:y,onChange:v,onToggleFilter:g,isFiltered:$,canFilter:S})=>{const _=y||[],m=u||[],w=()=>{_.length===m.length?v([]):v(m)};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsx(M,{children:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[S&&e.jsx(k,{type:"button",variant:$?"default":"outline",size:"sm",onClick:g,className:"text-xs h-7 px-2",children:$?"Tous":"Filtrer pour ce cours"}),e.jsx(k,{type:"button",variant:"link",size:"sm",onClick:w,className:"p-0 h-auto text-xs",children:_.length===m.length?"Désél.":"Tout"})]})]}),e.jsx("div",{className:"max-h-40 overflow-y-auto rounded-md border p-2 space-y-2",children:m.map((x,b)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{id:`${s}-${x}-${b}`,checked:_.includes(x),onCheckedChange:n=>{const h=n?[..._,x]:_.filter(C=>C!==x);v(h)}}),e.jsx("label",{htmlFor:`${s}-${x}-${b}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:x})]},`${s}-${x}-${b}`))})]})},Oe=({onSelect:s,onCancel:u})=>{const[y,v]=c.useState([]),[g,$]=c.useState(""),[S,_]=c.useState("all"),[m,w]=c.useState("all");c.useEffect(()=>{(async()=>{const{data:h}=await j.from("pedagogy_sheets").select("*").order("title");v(h||[])})()},[]);const x=c.useMemo(()=>{const n=y.filter(h=>h.sheet_type==="educational_game"&&h.theme).map(h=>h.theme);return["all",...Array.from(new Set(n))]},[y]),b=y.filter(n=>{const h=n.title.toLowerCase().includes(g.toLowerCase()),C=S==="all"||n.sheet_type===S,o=m==="all"||n.theme===m;return h&&C&&o});return e.jsx(ge,{open:!0,onOpenChange:u,children:e.jsxs(pe,{className:"sm:max-w-[725px]",children:[e.jsxs(fe,{children:[e.jsx(xe,{children:"Importer depuis une Fiche Pédagogique"}),e.jsx(_e,{children:"Sélectionnez une fiche pour remplir automatiquement l'exercice."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mt-4",children:[e.jsxs("div",{className:"relative md:col-span-1",children:[e.jsx(je,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(I,{placeholder:"Rechercher une fiche...",className:"pl-10",value:g,onChange:n=>$(n.target.value)})]}),e.jsxs(B,{value:S,onValueChange:_,children:[e.jsx(P,{children:e.jsx(R,{placeholder:"Filtrer par type"})}),e.jsx(V,{children:Object.entries(Me).map(([n,h])=>e.jsx(L,{value:n,children:h},n))})]}),e.jsxs(B,{value:m,onValueChange:w,disabled:x.length<=1,children:[e.jsx(P,{children:e.jsx(R,{placeholder:"Filtrer par thème"})}),e.jsx(V,{children:x.map(n=>e.jsx(L,{value:n,children:n==="all"?"Tous les thèmes":n},n))})]})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto space-y-2 mt-4 pr-2",children:b.map(n=>e.jsxs("div",{className:"p-3 border rounded-md hover:bg-accent cursor-pointer",onClick:()=>s(n),children:[e.jsx("p",{className:"font-semibold",children:n.title}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:n.description||n.game_goal})]},n.id))})]})})},Le=({session:s,onSave:u,onCancel:y,isSaving:v})=>{const[g,$]=c.useState([]),[S,_]=c.useState([]),[m,w]=c.useState([]),[x,b]=c.useState(!1),[n,h]=c.useState(null),[C,o]=c.useState(!1),E=le.useRef(null);c.useEffect(()=>{(async()=>{try{const{data:a,error:r}=await j.from("secure_members").select("id, first_name, last_name, title").order("last_name").order("first_name");if(r)throw r;$(a||[]);const{data:l,error:d}=await j.from("cycles").select("id, name, short_description").order("name");if(d)throw d;_(l||[]);const{data:F,error:A}=await j.from("schedules").select(`
            id,
            type,
            age_category,
            day,
            start_time,
            end_time,
            instructor_1:instructor_1_id(id, first_name, last_name),
            instructor_2:instructor_2_id(id, first_name, last_name),
            instructor_3:instructor_3_id(id, first_name, last_name),
            instructor_4:instructor_4_id(id, first_name, last_name)
          `).order("day, start_time");if(A){const{data:U,error:re}=await j.from("schedules").select("id, type, age_category, day, start_time, end_time").order("day, start_time");re||w(U||[])}else w(F||[])}catch(a){console.error("Error fetching data for SessionForm:",a)}})()},[]),c.useMemo(()=>g.reduce((t,a)=>(t[a.id]={fullName:`${a.first_name} ${a.last_name}`,firstName:a.first_name,lastName:a.last_name,title:a.title},t),{}),[g]);const O=g.map(t=>`${t.first_name} ${t.last_name}`),N=c.useMemo(()=>{const t=g.filter(a=>a.title==="Loisir lycée").map(a=>`${a.first_name} ${a.last_name}`);return Array.from(new Set(t))},[g]),[i,p]=c.useState(()=>s?{...s,date:s.date||"",start_time:s.start_time||"18:30",instructors:[],students:[],cycle_id:s.cycle_id||null,schedule_id:s.schedule_id||null,session_objective:s.session_objective||"",equipment:s.equipment||"",comment:s.comment||"",exercises:s.exercises||[]}:{date:"",start_time:"18:30",instructors:[],students:[],cycle_id:null,schedule_id:null,session_objective:"",equipment:"",comment:"",exercises:[]});c.useEffect(()=>{if(s&&g.length>0&&i.instructors.length===0){const t=(s.instructors||[]).map(r=>{const l=g.find(d=>d.id===r);return l?`${l.first_name} ${l.last_name}`:null}).filter(Boolean),a=(s.students||[]).map(r=>{const l=g.find(d=>d.id===r);return l?`${l.first_name} ${l.last_name}`:null}).filter(Boolean);p(r=>({...r,instructors:t,students:a}))}},[s,g,i.instructors.length]);const f=c.useMemo(()=>{if(!i.schedule_id||m.length===0)return[];const t=m.find(r=>String(r.id)===String(i.schedule_id));if(!t)return[];const a=[t.instructor_1,t.instructor_2,t.instructor_3,t.instructor_4].filter(Boolean).map(r=>`${r.first_name} ${r.last_name}`);return Array.from(new Set(a))},[i.schedule_id,m]),D=c.useMemo(()=>{if(C&&i.schedule_id&&f.length>0){const t=[...f,...i.instructors||[]];return Array.from(new Set(t))}return Array.from(new Set(O))},[O,C,i.schedule_id,f,i.instructors]);c.useEffect(()=>{s!=null&&s.schedule_id&&E.current===null&&(E.current=s.schedule_id)},[s]),c.useEffect(()=>{if(String(i.schedule_id)!==String(E.current))if(E.current=i.schedule_id,i.schedule_id){const t=m.find(a=>String(a.id)===String(i.schedule_id));t&&p(a=>({...a,instructors:f.length>0?f:a.instructors,start_time:t.start_time||a.start_time}))}else p(t=>({...t,instructors:[]}))},[i.schedule_id,f,m]);const T=t=>{const{name:a,value:r}=t.target;p(l=>({...l,[a]:r}))},H=(t,a)=>{p(r=>({...r,[t]:a}))},Q=(t,a)=>{const r=[...i.exercises];r[t]=a,p(l=>({...l,exercises:r}))},W=()=>{p(t=>({...t,exercises:[...t.exercises,{id:`new-${Date.now()}`,operational_objective:"",situation:"",organisation:"",consigne:"",time:"",success_criteria:"",regulation:"",support_link:"",image_url:"",newImageFile:null,pedagogy_sheet_id:null}]}))},X=t=>{const a=i.exercises.filter((r,l)=>l!==t);p(r=>({...r,exercises:a}))},J=(t,a)=>{const r=[...i.exercises],l=t+a;l<0||l>=r.length||([r[t],r[l]]=[r[l],r[t]],p(d=>({...d,exercises:r})))},z=t=>{h(t),b(!0)},q=t=>{const a=[...i.exercises],r=a[n];r.pedagogy_sheet_id=t.id,t.sheet_type==="educational_game"?(r.operational_objective=`Jeu: ${t.title}`,r.situation=t.starting_situation,r.consigne=`But: ${t.game_goal}. Évolution: ${t.evolution}`,r.image_url=t.url,r.support_link=""):(r.operational_objective=t.title,r.situation=t.description,r.consigne="",t.type==="image_file"?(r.image_url=t.url,r.support_link=""):(r.support_link=t.url,r.image_url=t.thumbnail_url||"")),p(l=>({...l,exercises:a})),b(!1),h(null)},G=t=>{t.preventDefault();const a=i.instructors.map(d=>{var F;return(F=g.find(A=>`${A.first_name} ${A.last_name}`===d))==null?void 0:F.id}).filter(Boolean),r=i.students.map(d=>{var F;return(F=g.find(A=>`${A.first_name} ${A.last_name}`===d))==null?void 0:F.id}).filter(Boolean),l={...i,date:i.date||null,start_time:i.start_time||null,instructors:a,students:r};u(l)};return e.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx(ae,{children:e.jsxs("form",{onSubmit:G,children:[e.jsx(ce,{children:e.jsx(oe,{children:s?"Modifier la séance":"Ajouter une nouvelle séance"})}),e.jsxs(de,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"schedule_id",children:"Emploi du temps associé"}),e.jsxs(B,{value:i.schedule_id?i.schedule_id.toString():"",onValueChange:t=>p(a=>({...a,schedule_id:t||null})),children:[e.jsx(P,{id:"schedule_id",children:e.jsx(R,{placeholder:"Sélectionner un emploi du temps (optionnel)"})}),e.jsxs(V,{children:[e.jsx(L,{value:"",children:"Aucun emploi du temps"}),m.length===0?e.jsx(L,{value:"none",disabled:!0,children:"Aucun emploi du temps disponible"}):m.map(t=>e.jsxs(L,{value:t.id.toString(),children:[t.type," / ",t.age_category," / ",t.day," / ",t.start_time]},t.id))]})]}),i.schedule_id&&(s==null?void 0:s.schedule)&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Emploi du temps actuel: ",s.schedule.type," / ",s.schedule.age_category," / ",s.schedule.day," / ",s.schedule.start_time]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"date",children:"Date du cours (optionnel)"}),e.jsx(I,{id:"date",name:"date",type:"date",value:i.date,onChange:T})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"start_time",children:"Heure de début"}),e.jsx(I,{id:"start_time",name:"start_time",type:"time",value:i.start_time,onChange:T})]}),e.jsx(Z,{title:"Encadrants",options:D,selected:i.instructors,onChange:t=>H("instructors",t),onToggleFilter:()=>o(!C),isFiltered:C,canFilter:i.schedule_id&&f.length>0}),e.jsx(Z,{title:"Élèves présents",options:N,selected:i.students,onChange:t=>H("students",t)})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"cycle_id",children:"Cycle associé"}),e.jsxs(B,{value:i.cycle_id?i.cycle_id.toString():"",onValueChange:t=>p(a=>({...a,cycle_id:t||null})),children:[e.jsx(P,{id:"cycle_id",children:e.jsx(R,{placeholder:"Sélectionner un cycle (optionnel)"})}),e.jsxs(V,{children:[e.jsx(L,{value:"",children:"Aucun cycle"}),S.map(t=>e.jsxs(L,{value:t.id.toString(),children:[t.name,t.short_description&&` - ${t.short_description}`]},t.id))]})]}),i.cycle_id&&(s==null?void 0:s.cycles)&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Cycle actuel: ",s.cycles.name]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"session_objective",children:"Objectif de séance"}),e.jsx(K,{id:"session_objective",name:"session_objective",value:i.session_objective,onChange:T})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"equipment",children:"Matériel"}),e.jsx(K,{id:"equipment",name:"equipment",value:i.equipment,onChange:T})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"comment",children:"Commentaire"}),e.jsx(K,{id:"comment",name:"comment",value:i.comment,onChange:T})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Déroulé de la séance"}),e.jsx("div",{className:"space-y-4",children:i.exercises.map((t,a)=>e.jsx(De,{exercise:t,index:a,total:i.exercises.length,onExerciseChange:Q,onRemove:X,onMove:J,onImport:()=>z(a)},t.id))}),e.jsxs(k,{type:"button",variant:"outline",className:"mt-4",onClick:W,children:[e.jsx(ue,{className:"w-4 h-4 mr-2"})," Ajouter un exercice"]})]})]}),e.jsxs(me,{className:"flex justify-end gap-2",children:[e.jsx(k,{type:"button",variant:"ghost",onClick:y,disabled:v,children:"Annuler"}),e.jsx(k,{type:"submit",disabled:v,children:v?"Sauvegarde...":e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"w-4 h-4 mr-2"})," Sauvegarder"]})})]})]})}),x&&e.jsx(Oe,{onSelect:q,onCancel:()=>b(!1)})]})},ee="exercise_images",Re=()=>{const{id:s}=ye(),u=se(),[y]=ve(),[v,g]=c.useState(null),[$,S]=c.useState(!0),[_,m]=c.useState(!1),{toast:w}=Se(),{user:x,isAdmin:b,loading:n}=we(),h=!n&&b,C=c.useCallback(async()=>{if(!s){S(!1);return}S(!0);const{data:N,error:i}=await j.from("sessions").select(`
        *,
        exercises (
          id,
          operational_objective,
          situation,
          organisation,
          consigne,
          time,
          success_criteria,
          regulation,
          support_link,
          image_url,
          pedagogy_sheet_id,
          order
        ),
        cycles (
          id,
          name,
          short_description
        )
      `).eq("id",s).single();if(i)w({title:"Erreur",description:"Impossible de charger la séance.",variant:"destructive"}),u("/session-log");else{let p=null;if(N.schedule_id)try{const{data:f,error:D}=await j.from("schedules").select("id, type, age_category, day, start_time, end_time").eq("id",N.schedule_id).single();!D&&f&&(p=f)}catch{}g({...N,schedule:p,start_time:N.start_time?N.start_time.substring(0,5):"18:30"})}S(!1)},[s,w,u]);c.useEffect(()=>{h?C():n||S(!1)},[C,h,n]);const o=async N=>{const i=N.name.split(".").pop(),f=`${`${Math.random()}.${i}`}`;let{error:D}=await j.storage.from(ee).upload(f,N);if(D)throw D;const{data:T}=j.storage.from(ee).getPublicUrl(f);return T.publicUrl},E=async N=>{if(h){m(!0);try{const{id:i,exercises:p,studentComments:f,...D}=N,T=await Promise.all(p.map(async a=>{let r=a.image_url;a.newImageFile&&(r=await o(a.newImageFile));const{newImageFile:l,...d}=a;return{...d,image_url:r}})),{cycles:H,schedule:Q,instructorNames:W,studentNames:X,...J}=D,z=Object.entries(J).reduce((a,[r,l])=>(a[r]=l===""?null:l,a),{});let q=s;if(s){const{data:a,error:r}=await j.from("sessions").update(z).eq("id",s).select().single();if(r)throw r;await j.from("exercises").delete().eq("session_id",a.id);const l=T.map((d,F)=>{const{id:A,...U}=d;return{...U,session_id:a.id,order:F}});if(l.length>0){const{error:d}=await j.from("exercises").insert(l);if(d)throw d}q=a.id}else{const{data:a,error:r}=await j.from("sessions").insert(z).select().single();if(r)throw r;const l=T.map((d,F)=>{const{id:A,...U}=d;return{...U,session_id:a.id,order:F}});if(l.length>0){const{error:d}=await j.from("exercises").insert(l);if(d)throw d}q=a.id}if(f&&Object.keys(f).length>0){await j.from("student_session_comments").delete().eq("session_id",q);const a=Object.entries(f).filter(([r,l])=>l&&l.trim()!=="").map(([r,l])=>({session_id:q,member_id:r,comment:l.trim()}));if(a.length>0){const{error:r}=await j.from("student_session_comments").insert(a)}}w({title:"Séance sauvegardée !",description:"La séance a été enregistrée avec succès."});const G=y.get("from"),t=y.get("cycleId");u(G==="cycle"&&t?`/cycles/${t}`:"/session-log")}catch(i){w({title:"Erreur de sauvegarde",description:i.message,variant:"destructive"})}finally{m(!1)}}},O=()=>{const N=y.get("from"),i=y.get("cycleId");u(N==="cycle"&&i?`/cycles/${i}`:"/session-log")};return n||$?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(Ne,{className:"w-12 h-12 animate-spin text-primary"})}):h?e.jsxs("div",{className:"space-y-8",children:[e.jsxs(Ce,{children:[e.jsxs("title",{children:[s?"Modifier la séance":"Nouvelle séance"," - ALJ Escalade Jonage"]}),e.jsx("meta",{name:"description",content:"Édition d'une séance d'escalade du club."})]}),e.jsx(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("h1",{className:"text-4xl font-bold headline flex items-center gap-3",children:[e.jsx(Ee,{className:"w-10 h-10 text-primary"}),s?"Modifier la séance":"Nouvelle séance"]})}),e.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsx(Le,{session:v,onSave:E,onCancel:O,isSaving:_})})]}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(be,{className:"w-12 h-12 mx-auto text-muted-foreground"}),e.jsx("h1",{className:"text-2xl font-bold mt-4",children:"Accès restreint"}),e.jsx("p",{className:"text-muted-foreground",children:"Vous devez être un administrateur pour modifier les séances."}),!x&&e.jsx("p",{className:"mt-4",children:"Veuillez vous connecter."})]})};export{Re as default};
