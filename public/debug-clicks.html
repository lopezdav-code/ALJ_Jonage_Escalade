<!DOCTYPE html>
<html>
<head>
    <title>Debug Click Blocker</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #1a1a1a;
            color: #00ff00;
        }
        #output {
            white-space: pre-wrap;
            background: #000;
            padding: 10px;
            border: 1px solid #00ff00;
            margin-top: 10px;
            max-height: 80vh;
            overflow-y: auto;
        }
        .highlight {
            background: yellow;
            color: black;
            padding: 2px 4px;
        }
        button {
            background: #00ff00;
            color: #000;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>üîç Click Blocker Diagnostic Tool</h1>
    <p>Instructions:</p>
    <ol>
        <li>Ouvrez la page avec le probl√®me dans un autre onglet</li>
        <li>Ouvrez la console (F12)</li>
        <li>Copiez et collez ce code dans la console:</li>
    </ol>
    
    <div id="output">
// Copiez ce code dans la console de la page avec le probl√®me:

(function() {
    console.log('üîç Starting click blocker diagnostic...');
    
    // Trouver tous les boutons de suppression
    const trashButtons = document.querySelectorAll('button[title*="Supprimer"]');
    console.log(`Found ${trashButtons.length} delete buttons`);
    
    if (trashButtons.length === 0) {
        console.log('‚ùå No delete buttons found. Looking for any buttons with Trash icon...');
        const allButtons = document.querySelectorAll('button');
        allButtons.forEach((btn, i) => {
            if (btn.innerHTML.includes('Trash') || btn.querySelector('svg')) {
                console.log(`Button ${i}:`, btn);
            }
        });
        return;
    }
    
    // Analyser le premier bouton
    const button = trashButtons[0];
    const rect = button.getBoundingClientRect();
    
    console.log('\nüìç Button position:', {
        top: rect.top,
        left: rect.left,
        width: rect.width,
        height: rect.height
    });
    
    // Trouver tous les √©l√©ments au centre du bouton
    const centerX = rect.left + rect.width / 2;
    const centerY = rect.top + rect.height / 2;
    
    console.log(`\nüéØ Checking elements at (${centerX}, ${centerY})...`);
    
    const elementsAtPoint = document.elementsFromPoint(centerX, centerY);
    
    console.log(`\nüìä Found ${elementsAtPoint.length} elements at this point:`);
    elementsAtPoint.forEach((el, i) => {
        const styles = window.getComputedStyle(el);
        console.log(`\n[${i}] ${el.tagName}.${el.className}`);
        console.log(`  - z-index: ${styles.zIndex}`);
        console.log(`  - pointer-events: ${styles.pointerEvents}`);
        console.log(`  - position: ${styles.position}`);
        console.log(`  - opacity: ${styles.opacity}`);
        console.log(`  - display: ${styles.display}`);
        
        if (el !== button && styles.pointerEvents !== 'none') {
            console.log(`  ‚ö†Ô∏è THIS ELEMENT MAY BE BLOCKING CLICKS!`);
        }
    });
    
    // V√©rifier les overlays de dialog
    const overlays = document.querySelectorAll('[data-radix-dialog-overlay], [role="dialog"]');
    if (overlays.length > 0) {
        console.log(`\nüö® Found ${overlays.length} dialog overlays:`);
        overlays.forEach((overlay, i) => {
            const styles = window.getComputedStyle(overlay);
            console.log(`\n[${i}] Dialog overlay:`);
            console.log(`  - display: ${styles.display}`);
            console.log(`  - pointer-events: ${styles.pointerEvents}`);
            console.log(`  - z-index: ${styles.zIndex}`);
            console.log(`  - opacity: ${styles.opacity}`);
        });
    }
    
    console.log('\n‚úÖ Diagnostic complete!');
    console.log('\nüí° To fix, look for elements with:');
    console.log('   - pointer-events: auto (should be none)');
    console.log('   - High z-index blocking the button');
    console.log('   - Invisible overlays (opacity: 0 but pointer-events: auto)');
})();
    </div>
    
    <button onclick="navigator.clipboard.writeText(document.getElementById('output').textContent)">
        üìã Copy to Clipboard
    </button>
</body>
</html>
